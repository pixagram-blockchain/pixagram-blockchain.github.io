/*! For license information please see chunk_10.min.js.LICENSE.txt */
"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([[10],{861:(t,e,n)=>{n(307)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},908:(t,e,n)=>{n.d(e,{A:()=>f});var r=n(215),a=n(237),i=n(228),o=n(382),s=n(235),c=n(439),l=44,u=i.forwardRef((function(t,e){var n=t.classes,s=t.className,u=t.color,f=void 0===u?"primary":u,d=t.disableShrink,p=void 0!==d&&d,h=t.size,v=void 0===h?40:h,y=t.style,m=t.thickness,g=void 0===m?3.6:m,b=t.value,w=void 0===b?0:b,_=t.variant,x=void 0===_?"indeterminate":_,k=(0,a.A)(t,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),C={},A={},S={};if("determinate"===x||"static"===x){var E=2*Math.PI*((l-g)/2);C.strokeDasharray=E.toFixed(3),S["aria-valuenow"]=Math.round(w),C.strokeDashoffset="".concat(((100-w)/100*E).toFixed(3),"px"),A.transform="rotate(-90deg)"}return i.createElement("div",(0,r.A)({className:(0,o.default)(n.root,s,"inherit"!==f&&n["color".concat((0,c.A)(f))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[x]),style:(0,r.A)({width:v,height:v},A,y),ref:e,role:"progressbar"},S,k),i.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(l," ").concat(l)},i.createElement("circle",{className:(0,o.default)(n.circle,p&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[x]),style:C,cx:l,cy:l,r:(l-g)/2,fill:"none",strokeWidth:g})))}));const f=(0,s.A)((function(t){return{root:{display:"inline-block"},static:{transition:t.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:t.transitions.create("transform")},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:t.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:t.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(u)},932:(t,e,n)=>{n.d(e,{A:()=>b});var r=n(417),a=n(416),i=n(414),o=n(418),s=n(419),c=n(420),l=n(422),u=n(421),f=n(423),d=n(424),p=n(265),h=n(425),v=n(215),y=n(381),m=n(260),g=(0,r.h)((0,a.A)(i.Ay,o.Ay,s.Ay,c.Ay,l.Ay,u.Ay,f.A,d.Ay,p.A,h.Ay));const b=(w=(0,y.A)("div"),function(t,e){return w(t,(0,v.A)({defaultTheme:m.A},e))})(g,{name:"MuiBox"});var w},1808:(t,e,n)=>{n.d(e,{default:()=>H}),n(2),n(98),n(99),n(101),n(106),n(118),n(119),n(216),n(130),n(134),n(135),n(137),n(145),n(147),n(152),n(154),n(155),n(157),n(186),n(192),n(193),n(199),n(201),n(203),n(223),n(213),n(371);var r=n(228),a=n(376),i=n(651),o=n(652),s=n(653),c=n(654),l=n(656),u=n(455),f=n(932),d=n(944),p=n(664),h=n(933),v=n(941),y=n(449),m=n(908),g=n(465),b=n(1809),w=n(1810),_=n(1811);let x;function k(t,e){return function(t,e){return E+=e,E>=S&&(A=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),A.decode(),E=e),A.decode((null!==C&&0!==C.byteLength||(C=new Uint8Array(x.memory.buffer)),C).subarray(t,t+e))}(t>>>=0,e)}n(100),n(103),n(116),n(278),n(287),n(288),n(132),n(138),n(153),n(195),n(861),n(318),n(320),n(321),n(322),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(333),n(335),n(337),n(338),n(339),n(340),n(341),n(342),n(347),n(348),n(349),n(208),n(369),n(210);let C=null,A=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});A.decode();const S=2146435072;let E=0;const R="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>x.__wbg_cameraprocessor_free(t>>>0,1)));class O{static __wrap(t){t>>>=0;const e=Object.create(O.prototype);return e.__wbg_ptr=t,R.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,R.unregister(this),t}free(){const t=this.__destroy_into_raw();x.__wbg_cameraprocessor_free(t,0)}static new(t,e){const n=x.cameraprocessor_new(t,e);return O.__wrap(n)}resize(t,e){x.cameraprocessor_resize(this.__wbg_ptr,t,e)}get_buffer_ptr(){return x.cameraprocessor_get_buffer_ptr(this.__wbg_ptr)>>>0}scan_stream(){let t,e;try{const n=x.cameraprocessor_scan_stream(this.__wbg_ptr);return t=n[0],e=n[1],k(n[0],n[1])}finally{x.__wbindgen_free(t,e,1)}}}Symbol.dispose&&(O.prototype[Symbol.dispose]=O.prototype.free);const j=new Set(["basic","cors","default"]),T=async function t(e){if(void 0!==x)return x;void 0!==e&&Object.getPrototypeOf(e)===Object.prototype&&({module_or_path:e}=e),void 0===e&&(e=new URL(n(1812),n.b));const r=function(){const t={wbg:{}};return t.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(t,e){throw new Error(k(t,e))},t.wbg.__wbindgen_init_externref_table=function(){const t=x.__wbindgen_externrefs,e=t.grow(4);t.set(0,void 0),t.set(e+0,void 0),t.set(e+1,null),t.set(e+2,!0),t.set(e+3,!1)},t}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:a,module:i}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if(!t.ok||!j.has(t.type)||"application/wasm"===t.headers.get("Content-Type"))throw e}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await e,r);return function(e,n){return x=e.exports,t.__wbindgen_wasm_module=n,C=null,x.__wbindgen_start(),x}(a,i)};function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function P(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function i(n,r,a,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return I(l,"_invoke",function(n,r,a){var i,s,c,l=0,u=a||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,s=0,c=t,d.n=n,o}};function p(n,r){for(s=n,c=r,e=0;!f&&l&&!a&&e<u.length;e++){var a,i=u[e],p=d.p,h=i[2];n>3?(a=h===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=p&&((a=n<2&&p<i[1])?(s=0,d.v=r,d.n=i[1]):p<h&&(a=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,d.n=h,s=0))}if(a||n>1)return o;throw f=!0,r}return function(a,u,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&p(u,h),s=u,c=h;(e=s<2?t:c)||!f;){i||(s?s<3?(s>1&&(d.n=-1),p(s,c)):d.n=c:d.v=c);try{if(l=2,i){if(s||(a="next"),e=i[a]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),s=1);i=t}else if((e=(f=d.n<0)?c:n.call(r,d))!==o)break}catch(e){i=t,s=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,a,i),!0),l}var o={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(I(e={},r,(function(){return this})),e),f=l.prototype=s.prototype=Object.create(u);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,I(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=l,I(f,"constructor",l),I(l,"constructor",c),c.displayName="GeneratorFunction",I(l,a,"GeneratorFunction"),I(f),I(f,a,"Generator"),I(f,r,(function(){return this})),I(f,"toString",(function(){return"[object Generator]"})),(P=function(){return{w:i,m:d}})()}function I(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}I=function(t,e,n,r){function i(e,n){I(t,e,(function(t){return this._invoke(e,n,t)}))}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},I(t,e,n,r)}function F(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function D(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){F(i,r,a,o,s,"next",t)}function s(t){F(i,r,a,o,s,"throw",t)}o(void 0)}))}}function z(t){var e=function(t){if("object"!=M(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==M(e)?e:e+""}var N=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.displayCanvas=document.getElementById(e),this.displayCtx=this.displayCanvas.getContext("2d",{alpha:!1}),this.analysisCanvas=document.createElement("canvas"),this.analysisCtx=this.analysisCanvas.getContext("2d",{willReadFrequently:!0}),this.video=document.createElement("video"),this.video.setAttribute("playsinline","true"),this.video.setAttribute("webkit-playsinline","true"),this.video.setAttribute("muted","true"),this.video.autoplay=!0,this.processor=null,this.memory=null,this.stream=null,this.isRunning=!1,this.lastScanTime=0,this.scanInterval=160,this.lastResult=null,this.lastResultTime=0,this.onResult=null},e=[{key:"init",value:(i=D(P().m((function t(){var e;return P().w((function(t){for(;;)switch(t.n){case 0:if(this.processor){t.n=2;break}return t.n=1,T();case 1:e=t.v,this.memory=e.memory,this.processor=O.new(1920,1920);case 2:return t.a(2)}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"start",value:(a=D(P().m((function t(){var e,n,r,a=this,i=arguments;return P().w((function(t){for(;;)switch(t.p=t.n){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:null,this.isRunning&&this.stop(),n={audio:!1,video:{deviceId:e?{exact:e}:void 0,facingMode:e?void 0:"environment",width:{ideal:1920},height:{ideal:1920}}},t.p=1,t.n=2,navigator.mediaDevices.getUserMedia(n);case 2:return this.stream=t.v,this.video.srcObject=this.stream,this.applyFocusMode(),t.n=3,new Promise((function(t){a.video.readyState>=1?t():a.video.onloadedmetadata=function(){return t()}}));case 3:return t.n=4,this.video.play();case 4:return this.setupResolution(),this.isRunning=!0,this.loop(),t.a(2,!0);case 5:if(t.p=5,r=t.v,e){t.n=6;break}return t.a(2,this.startBasic());case 6:throw r;case 7:return t.a(2)}}),t,this,[[1,5]])}))),function(){return a.apply(this,arguments)})},{key:"startBasic",value:(r=D(P().m((function t(){return P().w((function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});case 1:return this.stream=t.v,this.video.srcObject=this.stream,t.n=2,this.video.play();case 2:this.setupResolution(),this.isRunning=!0,this.loop(),t.n=4;break;case 3:t.p=3,t.v;case 4:return t.a(2)}}),t,this,[[0,3]])}))),function(){return r.apply(this,arguments)})},{key:"setupResolution",value:function(){var t=this.video.videoWidth,e=this.video.videoHeight;if(0!==t&&0!==e){this.displayCanvas.width=t,this.displayCanvas.height=e;var n=Math.min(1,1920/t);this.analysisCanvas.width=t*n,this.analysisCanvas.height=e*n,this.processor.resize(this.analysisCanvas.width,this.analysisCanvas.height)}}},{key:"applyFocusMode",value:(n=D(P().m((function t(){var e,n;return P().w((function(t){for(;;)switch(t.p=t.n){case 0:if(this.stream){t.n=1;break}return t.a(2);case 1:if(e=this.stream.getVideoTracks()[0],!(n=e.getCapabilities()).focusMode||!n.focusMode.includes("continuous")){t.n=5;break}return t.p=2,t.n=3,e.applyConstraints({advanced:[{focusMode:"continuous"}]});case 3:t.n=5;break;case 4:t.p=4,t.v;case 5:return t.a(2)}}),t,this,[[2,4]])}))),function(){return n.apply(this,arguments)})},{key:"stop",value:function(){this.isRunning=!1,this.stream&&(this.stream.getTracks().forEach((function(t){return t.stop()})),this.stream=null),this.video.pause(),this.video.srcObject=null}},{key:"toggleFlashlight",value:function(t){this.stream&&this.stream.getVideoTracks()[0].applyConstraints({advanced:[{torch:t}]}).catch((function(){}))}},{key:"loop",value:function(){var t=this;if(this.isRunning&&(requestAnimationFrame((function(){return t.loop()})),0!==this.video.videoWidth)){this.displayCtx.drawImage(this.video,0,0,this.displayCanvas.width,this.displayCanvas.height),this.lastResult&&performance.now()-this.lastResultTime<500&&this.drawBounds(this.lastResult);var e=performance.now();e-this.lastScanTime>this.scanInterval&&(this.lastScanTime=e,this.scanFrame())}}},{key:"scanFrame",value:function(){var t=this.analysisCanvas.width,e=this.analysisCanvas.height;this.analysisCtx.drawImage(this.video,0,0,t,e);var n=this.analysisCtx.getImageData(0,0,t,e),r=this.processor.get_buffer_ptr();new Uint8Array(this.memory.buffer,r,t*e*4).set(n.data);var a=this.processor.scan_stream(),i=JSON.parse(a);if(i.found){var o=this.displayCanvas.width/this.analysisCanvas.width,s=this.displayCanvas.height/this.analysisCanvas.height,c=i.corners.map((function(t){return{x:t.x*o,y:t.y*s}}));this.lastResult=c,this.lastResultTime=performance.now(),this.onResult&&i.content&&this.onResult(i.content)}}},{key:"drawBounds",value:function(t){if(t&&!(t.length<4)){this.displayCtx.strokeStyle="#FFFFFF",this.displayCtx.lineWidth=5,this.displayCtx.lineJoin="round",this.displayCtx.beginPath(),this.displayCtx.moveTo(t[0].x,t[0].y);for(var e=1;e<t.length;e++)this.displayCtx.lineTo(t[e].x,t[e].y);this.displayCtx.closePath(),this.displayCtx.stroke()}}}],e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,a,i}();function B(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function i(n,r,a,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return L(l,"_invoke",function(n,r,a){var i,s,c,l=0,u=a||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,s=0,c=t,d.n=n,o}};function p(n,r){for(s=n,c=r,e=0;!f&&l&&!a&&e<u.length;e++){var a,i=u[e],p=d.p,h=i[2];n>3?(a=h===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=p&&((a=n<2&&p<i[1])?(s=0,d.v=r,d.n=i[1]):p<h&&(a=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,d.n=h,s=0))}if(a||n>1)return o;throw f=!0,r}return function(a,u,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&p(u,h),s=u,c=h;(e=s<2?t:c)||!f;){i||(s?s<3?(s>1&&(d.n=-1),p(s,c)):d.n=c:d.v=c);try{if(l=2,i){if(s||(a="next"),e=i[a]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),s=1);i=t}else if((e=(f=d.n<0)?c:n.call(r,d))!==o)break}catch(e){i=t,s=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,a,i),!0),l}var o={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(L(e={},r,(function(){return this})),e),f=l.prototype=s.prototype=Object.create(u);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,L(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=l,L(f,"constructor",l),L(l,"constructor",c),c.displayName="GeneratorFunction",L(l,a,"GeneratorFunction"),L(f),L(f,a,"Generator"),L(f,r,(function(){return this})),L(f,"toString",(function(){return"[object Generator]"})),(B=function(){return{w:i,m:d}})()}function L(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}L=function(t,e,n,r){function i(e,n){L(t,e,(function(t){return this._invoke(e,n,t)}))}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},L(t,e,n,r)}function G(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function W(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){G(i,r,a,o,s,"next",t)}function s(t){G(i,r,a,o,s,"throw",t)}o(void 0)}))}}function U(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return q(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var V=(0,r.memo)((function(t){var e=t.classes,n=t.onCanvasReady,a=t.isLoading;return r.createElement("div",{className:e.canvasContainer},a&&r.createElement(y.A,{in:!0,timeout:500},r.createElement(m.A,{style:{color:"#fff",position:"absolute",zIndex:20}})),r.createElement("canvas",{id:"qr-scanner-canvas",className:e.canvas,ref:n}),!a&&r.createElement("div",{className:e.scannerLine}))}),(function(t,e){return t.isLoading===e.isLoading}));const H=(0,a.default)((function(t){return{dialog:{"& .MuiDialogContent-root":{padding:"8px 24px 0px 24px"}},canvasContainer:{width:"100%",backgroundColor:"#000",borderRadius:"21px",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #333"},canvas:{maxWidth:"100%",maxHeight:"100%",display:"block"},scannerLine:{position:"absolute",width:"100%",height:"100%",background:"radial-gradient(ellipse at center in hsl, transparent, transparent, transparent, black)",zIndex:10},controlsRow:{marginTop:t.spacing(2),marginBottom:t.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center",gap:t.spacing(2)},selectDropdown:{"& .MuiOutlinedInput-root":{borderRadius:"12px",backgroundColor:"rgba(255,255,255,0.05)",color:"#fff","&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#666"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#fff"}},"& .MuiSelect-icon":{color:"#999"},"& .MuiInputLabel-root":{color:"#999"},"& .MuiInputLabel-root.Mui-focused":{color:"#fff"}},flashBtn:{backgroundColor:"rgba(255,255,255,0.05)",color:"#fff",padding:"12px","&:hover":{backgroundColor:"rgba(255,255,255,0.15)"}}}}))((function(t){var e=t.classes,n=t.open,a=t.onClose,y=t.onScanResult,m=U((0,r.useState)(null),2),x=m[0],k=m[1],C=U((0,r.useState)([]),2),A=C[0],S=C[1],E=U((0,r.useState)(""),2),R=E[0],O=E[1],j=U((0,r.useState)(!1),2),T=j[0],M=j[1],P=U((0,r.useState)(!0),2),I=P[0],F=P[1],D=U((0,r.useState)(!1),2),z=D[0],L=D[1],G=(0,r.useRef)(null),q=(0,r.useRef)(!0);(0,r.useEffect)((function(){q.current=!0;var t=null,e=function(){var e=W(B().m((function e(){var r,a,i,o,s;return B().w((function(e){for(;;)switch(e.p=e.n){case 0:if(!n||!G.current||x){e.n=6;break}return e.p=1,F(!0),L(!1),r=new N("qr-scanner-canvas"),e.n=2,r.init();case 2:return r.onResult=function(t){navigator.vibrate&&navigator.vibrate(200),y(t),H()},e.n=3,r.start();case 3:return e.n=4,navigator.mediaDevices.enumerateDevices();case 4:a=e.v,i=a.filter((function(t){return"videoinput"===t.kind})),q.current&&(S(i),o="",(s=r.stream.getVideoTracks()).length>0&&(o=s[0].getSettings().deviceId),o?O(o):i.length>0&&O(i[i.length-1].deviceId),t=r,k(r),F(!1)),e.n=6;break;case 5:e.p=5,e.v,q.current&&(L(!0),F(!1));case 6:return e.a(2)}}),e,null,[[1,5]])})));return function(){return e.apply(this,arguments)}}(),r=setTimeout(e,200);return function(){q.current=!1,clearTimeout(r),t&&t.stop()}}),[n]);var H=function(){x&&(x.stop(),k(null)),M(!1),F(!0),a()},$=function(){var t=W(B().m((function t(e){var n;return B().w((function(t){for(;;)switch(t.n){case 0:if(n=e.target.value,O(n),!x){t.n=2;break}return F(!0),t.n=1,x.start(n);case 1:M(!1),F(!1);case 2:return t.a(2)}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=W(B().m((function t(){var e;return B().w((function(t){for(;;)switch(t.n){case 0:if(!x){t.n=2;break}return e=!T,t.n=1,x.toggleFlashlight(e);case 1:M(e);case 2:return t.a(2)}}),t)})));return function(){return t.apply(this,arguments)}}();return r.createElement(i.A,{className:e.dialog,open:n,maxWidth:!1,onClose:H,PaperProps:{style:{width:"min(calc(100% - 32px), 800px)",maxWidth:"none",backgroundColor:"#171717",borderRadius:"21px",color:"#fff"}}},r.createElement(s.A,{style:{position:"relative",overflow:"hidden"}},r.createElement(u.A,{onClick:H,style:{position:"absolute",right:8,top:8,color:"#999",zIndex:100,backgroundColor:"rgba(0,0,0,0.3)"}},r.createElement(g.A,null)),r.createElement(l.A,{style:{marginTop:8,marginBottom:16},component:"h2",variant:"h6"},"Scan QR Code"),z?r.createElement(f.A,{className:e.canvasContainer,style:{flexDirection:"column",gap:16,border:"2px dashed #555"}},r.createElement(_.A,{style:{fontSize:48,color:"#fff"}}),r.createElement(l.A,{variant:"h6"},"Camera Blocked"),r.createElement(l.A,{variant:"body2",style:{color:"#999",padding:"0 24px",textAlign:"center"}},"Please check browser permissions.")):r.createElement(V,{classes:e,isLoading:I,onCanvasReady:function(t){return G.current=t}}),r.createElement(f.A,{className:e.controlsRow},r.createElement(h.A,{variant:"outlined",className:e.selectDropdown,size:"small",style:{flexGrow:1}},r.createElement(v.A,null,"Camera"),r.createElement(d.A,{value:R,onChange:$,label:"Camera",disabled:0===A.length,MenuProps:{PaperProps:{style:{backgroundColor:"#222",color:"#fff"}}}},A.map((function(t,e){return r.createElement(p.A,{key:t.deviceId||e,value:t.deviceId},t.label||"Camera ".concat(e+1))})))),r.createElement(u.A,{className:e.flashBtn,onClick:J,disabled:I||z},T?r.createElement(b.A,{style:{color:"#fff"}}):r.createElement(w.A,{style:{color:"#999"}})))),r.createElement(o.A,{style:{backgroundColor:"#101010",padding:"16px 24px",justifyContent:"space-between"}},r.createElement(f.A,{display:"flex",alignItems:"center",style:{color:"#555"}},r.createElement(_.A,{style:{marginRight:8,fontSize:18}}),r.createElement(l.A,{variant:"caption"},"WASM Powered")),r.createElement(c.A,{onClick:H,style:{color:"#fff",borderRadius:"32px",padding:"8px 24px"}},"Cancel")))}))},1809:(t,e,n)=>{var r=n(377),a=n(459);e.A=void 0;var i=a(n(228)),o=(0,r(n(460)).default)(i.createElement("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"}),"FlashOn");e.A=o},1810:(t,e,n)=>{var r=n(377),a=n(459);e.A=void 0;var i=a(n(228)),o=(0,r(n(460)).default)(i.createElement("path",{d:"M3.27 3L2 4.27l5 5V13h3v9l3.58-6.14L17.73 20 19 18.73 3.27 3zM17 10h-4l4-8H7v2.18l8.46 8.46L17 10z"}),"FlashOff");e.A=o},1811:(t,e,n)=>{var r=n(377),a=n(459);e.A=void 0;var i=a(n(228)),o=(0,r(n(460)).default)(i.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");e.A=o},1812:(t,e,n)=>{t.exports=n.p+"aa5f4b6d1579c7368f08.wasm"}}]);