"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([[15],{875:(t,e,n)=>{n.d(e,{A:()=>u});var r=n(215),o=n(237),i=n(228),s=n(382),l=n(235);const a=(0,n(462).A)(i.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var c=i.forwardRef((function(t,e){var n,l=t.alt,c=t.children,u=t.classes,d=t.className,f=t.component,h=void 0===f?"div":f,g=t.imgProps,p=t.sizes,m=t.src,_=t.srcSet,y=t.variant,v=void 0===y?"circular":y,S=(0,o.A)(t,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),C=function(t){var e=t.src,n=t.srcSet,r=i.useState(!1),o=r[0],s=r[1];return i.useEffect((function(){if(e||n){s(!1);var t=!0,r=new Image;return r.src=e,r.srcSet=n,r.onload=function(){t&&s("loaded")},r.onerror=function(){t&&s("error")},function(){t=!1}}}),[e,n]),o}({src:m,srcSet:_}),x=m||_,b=x&&"error"!==C;return n=b?i.createElement("img",(0,r.A)({alt:l,src:m,srcSet:_,sizes:p,className:u.img},g)):null!=c?c:x&&l?l[0]:i.createElement(a,{className:u.fallback}),i.createElement(h,(0,r.A)({className:(0,s.default)(u.root,u.system,u[v],d,!b&&u.colorDefault),ref:e},S),n)}));const u=(0,l.A)((function(t){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:t.palette.background.default,backgroundColor:"light"===t.palette.type?t.palette.grey[400]:t.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:t.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(c)},940:(t,e,n)=>{n.d(e,{A:()=>d});var r=n(237),o=n(215),i=n(228),s=n(382),l=n(235),a=n(456),c=n(439),u=i.forwardRef((function(t,e){var n=t.children,l=t.classes,u=t.className,d=t.color,f=void 0===d?"default":d,h=t.component,g=void 0===h?"button":h,p=t.disabled,m=void 0!==p&&p,_=t.disableFocusRipple,y=void 0!==_&&_,v=t.focusVisibleClassName,S=t.size,C=void 0===S?"large":S,x=t.variant,b=void 0===x?"circular":x,w=(0,r.A)(t,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return i.createElement(a.A,(0,o.A)({className:(0,s.default)(l.root,u,"large"!==C&&l["size".concat((0,c.A)(C))],m&&l.disabled,"extended"===b&&l.extended,{primary:l.primary,secondary:l.secondary,inherit:l.colorInherit}[f]),component:g,disabled:m,focusRipple:!y,focusVisibleClassName:(0,s.default)(l.focusVisible,v),ref:e},w),i.createElement("span",{className:l.label},n))}));const d=(0,l.A)((function(t){return{root:(0,o.A)({},t.typography.button,{boxSizing:"border-box",minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:t.shadows[6],"&:active":{boxShadow:t.shadows[12]},color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],"&:hover":{backgroundColor:t.palette.grey.A100,"@media (hover: none)":{backgroundColor:t.palette.grey[300]},"&$disabled":{backgroundColor:t.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:t.shadows[6]},"&$disabled":{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},secondary:{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(u)},1569:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");e.A=s},1589:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M9 16.17L5.53 12.7a.9959.9959 0 00-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.9959.9959 0 00-1.41 0L9 16.17z"}),"CheckRounded");e.A=s},1593:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M18.3 5.71a.9959.9959 0 00-1.41 0L12 10.59 7.11 5.7a.9959.9959 0 00-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),"CloseRounded");e.A=s},1619:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");e.A=s},1659:(t,e,n)=>{n.d(e,{A:()=>f});var r=n(237),o=n(215),i=n(228),s=n(382),l=n(264),a=n(235),c=n(456),u=n(439),d=i.forwardRef((function(t,e){var n=t.children,l=t.classes,a=t.className,d=t.disabled,f=void 0!==d&&d,h=t.disableFocusRipple,g=void 0!==h&&h,p=t.onChange,m=t.onClick,_=t.selected,y=t.size,v=void 0===y?"medium":y,S=t.value,C=(0,r.A)(t,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]);return i.createElement(c.A,(0,o.A)({className:(0,s.default)(l.root,a,f&&l.disabled,_&&l.selected,"medium"!==v&&l["size".concat((0,u.A)(v))]),disabled:f,focusRipple:!g,ref:e,onClick:function(t){m&&(m(t,S),t.isDefaultPrevented())||p&&p(t,S)},onChange:p,value:S,"aria-pressed":_},C),i.createElement("span",{className:l.label},n))}));const f=(0,a.A)((function(t){return{root:(0,o.A)({},t.typography.button,{boxSizing:"border-box",borderRadius:t.shape.borderRadius,padding:11,border:"1px solid ".concat((0,l.X4)(t.palette.action.active,.12)),color:(0,l.X4)(t.palette.action.active,.38),"&$selected":{color:t.palette.action.active,backgroundColor:(0,l.X4)(t.palette.action.active,.12),"&:hover":{backgroundColor:(0,l.X4)(t.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:(0,l.X4)(t.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:(0,l.X4)(t.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:t.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:t.typography.pxToRem(15)}}}),{name:"MuiToggleButton"})(d)},1660:(t,e,n)=>{n.d(e,{A:()=>d});var r=n(215),o=n(237),i=n(228),s=(n(395),n(382));function l(t,e){return void 0!==e&&void 0!==t&&(Array.isArray(e)?e.indexOf(t)>=0:t===e)}var a=n(235),c=n(439),u=i.forwardRef((function(t,e){var n=t.children,a=t.classes,u=t.className,d=t.exclusive,f=void 0!==d&&d,h=t.onChange,g=t.orientation,p=void 0===g?"horizontal":g,m=t.size,_=void 0===m?"medium":m,y=t.value,v=(0,o.A)(t,["children","classes","className","exclusive","onChange","orientation","size","value"]),S=function(t,e){if(h){var n,r=y&&y.indexOf(e);y&&r>=0?(n=y.slice()).splice(r,1):n=y?y.concat(e):[e],h(t,n)}},C=function(t,e){h&&h(t,y===e?null:e)};return i.createElement("div",(0,r.A)({role:"group",className:(0,s.default)(a.root,u,"vertical"===p&&a.vertical),ref:e},v),i.Children.map(n,(function(t){return i.isValidElement(t)?i.cloneElement(t,{className:(0,s.default)(a.grouped,a["grouped".concat((0,c.A)(p))],t.props.className),onChange:f?C:S,selected:void 0===t.props.selected?l(t.props.value,y):t.props.selected,size:t.props.size||_}):null})))}));const d=(0,a.A)((function(t){return{root:{display:"inline-flex",borderRadius:t.shape.borderRadius},vertical:{flexDirection:"column"},grouped:{},groupedHorizontal:{"&:not(:first-child)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-child)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}}),{name:"MuiToggleButtonGroup"})(u)},1706:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");e.A=s},1710:(t,e,n)=>{n.d(e,{n:()=>u});var r=n(1711),o=n(1712),i=n(228),s=n(1713);const l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,a=l?i.useLayoutEffect:i.useEffect,c={tag:o.T40};function u({initialConfig:t,children:e}){const n=(0,i.useMemo)((()=>{const{theme:e,namespace:n,nodes:i,onError:s,editorState:a,html:u}=t,d=(0,r.Mx)(null,e),f=(0,o.ieJ)({editable:t.editable,html:u,namespace:n,nodes:i,onError:t=>s(t,f),theme:e});return function(t,e){if(null!==e)if(void 0===e)t.update((()=>{const e=(0,o.NiT)();if(e.isEmpty()){const n=(0,o.lJ7)();e.append(n);const r=l?document.activeElement:null;(null!==(0,o.vJq)()||null!==r&&r===t.getRootElement())&&n.select()}}),c);else if(null!==e)switch(typeof e){case"string":{const n=t.parseEditorState(e);t.setEditorState(n,c);break}case"object":t.setEditorState(e,c);break;case"function":t.update((()=>{(0,o.NiT)().isEmpty()&&e(t)}),c)}}(f,a),[f,d]}),[]);return a((()=>{const e=t.editable,[r]=n;r.setEditable(void 0===e||e)}),[]),(0,s.Y)(r.Gu.Provider,{value:n,children:e})}},1711:(t,e,n)=>{n.d(e,{DF:()=>s,Gu:()=>o,Mx:()=>i});var r=n(228);const o=(0,r.createContext)(null);function i(t,e){let n=null;return null!=t&&(n=t[1]),{getTheme:function(){return null!=e?e:null!=n?n.getTheme():null}}}function s(){const t=(0,r.useContext)(o);return null==t&&function(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),t}},1712:(t,e,n)=>{function r(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function o(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);n.search=r.toString()}n.d(e,{$7r:()=>Ke,$ey:()=>ie,A7V:()=>No,AX0:()=>ge,AcJ:()=>Fo,Ave:()=>Xs,B$P:()=>Ii,BtT:()=>Ss,Bts:()=>js,CaD:()=>dt,Chh:()=>X,Cku:()=>_r,Csq:()=>cl,Cyw:()=>yo,Ey8:()=>qn,FEN:()=>ee,GMe:()=>ro,GRK:()=>Dn,GcU:()=>Zr,Gew:()=>qi,H2A:()=>zr,HYn:()=>Le,Huu:()=>ve,I2P:()=>hr,I8X:()=>G,IlV:()=>Rs,IqF:()=>Zi,JM3:()=>fe,JjG:()=>Po,Jvg:()=>Ho,K8K:()=>os,KfJ:()=>ze,Kp7:()=>_o,LYZ:()=>Zo,LZn:()=>O,MK6:()=>lr,MZu:()=>ir,MvL:()=>qt,Ng_:()=>Fn,NiT:()=>mi,O0w:()=>pl,OBE:()=>Ar,OXk:()=>be,OpE:()=>Ms,PiT:()=>Te,Q$N:()=>Ce,RTZ:()=>pr,RTo:()=>ye,Rb_:()=>Qo,S1w:()=>Fr,SKc:()=>Re,Sr4:()=>Ee,T40:()=>Mn,TJt:()=>Us,Tc1:()=>_l,TgX:()=>Ae,U5P:()=>hs,UDz:()=>me,V30:()=>ue,VSO:()=>Pe,WKo:()=>zn,WWb:()=>Ie,WgU:()=>Lo,WuB:()=>te,XKQ:()=>ne,YW5:()=>we,Z$U:()=>qo,ZKf:()=>ce,_On:()=>is,a9V:()=>ss,bM3:()=>re,bMH:()=>An,bSg:()=>Mo,bbF:()=>_e,cmH:()=>Os,d8p:()=>Vt,da8:()=>Ro,dxY:()=>gs,e1k:()=>Pi,erb:()=>Bs,ev7:()=>sr,fD3:()=>Eo,fGB:()=>go,fUS:()=>ke,ff4:()=>po,fwY:()=>On,gCZ:()=>Se,guI:()=>jt,hVZ:()=>So,haT:()=>vo,hi0:()=>se,i0_:()=>as,ieJ:()=>zo,jG6:()=>oi,jZM:()=>Oo,k1Q:()=>hl,kBm:()=>wn,kFe:()=>rr,lJ7:()=>Ao,lSZ:()=>ll,lVE:()=>ml,mB:()=>ae,mB$:()=>ei,mWO:()=>$s,n0X:()=>kn,n1P:()=>yi,nYP:()=>es,nsf:()=>ui,oqR:()=>Zt,pGK:()=>al,pJU:()=>di,pTq:()=>Yi,pd8:()=>ps,peL:()=>ts,phO:()=>vs,rN:()=>As,rUs:()=>kr,riq:()=>Me,sTu:()=>nr,sWS:()=>Hs,sby:()=>ns,scG:()=>Yo,sik:()=>Ne,t5V:()=>De,u5G:()=>Fe,uTE:()=>Er,urt:()=>Y,uwZ:()=>Ks,v0B:()=>wo,vAA:()=>rs,vE9:()=>gl,vJq:()=>Or,viC:()=>le,w$Z:()=>xe,w3H:()=>ls,wH$:()=>Kn,waI:()=>oe,wp6:()=>Qs,xL4:()=>hi,xQ8:()=>tl,y68:()=>Tr,z8s:()=>cr});const i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,s=i&&"documentMode"in document?document.documentMode:null,l=i&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),a=i&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),c=!(!i||!("InputEvent"in window)||s)&&"getTargetRanges"in new window.InputEvent("input"),u=i&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),d=i&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,f=i&&/Android/.test(navigator.userAgent),h=i&&/^(?=.*Chrome).*/i.test(navigator.userAgent),g=i&&f&&h,p=i&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&l&&!h;function m(...t){const e=[];for(const n of t)if(n&&"string"==typeof n)for(const[t]of n.matchAll(/\S+/g))e.push(t);return e}const _=0,y=1,v=2,S=1,C=2,x=3,b=4,w=5,T=6,N=u||d||p?" ":"​",E="\n\n",k=a?" ":N,A="֑-߿יִ-﷽ﹰ-ﻼ",M="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",O=(new RegExp("^[^"+M+"]*["+A+"]"),new RegExp("^[^"+A+"]*["+M+"]"),{bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512}),F={directionless:1,unmergeable:2},P={center:2,end:6,justify:4,left:1,right:3,start:5},L={[C]:"center",[T]:"end",[b]:"justify",[S]:"left",[x]:"right",[w]:"start"},R={normal:0,segmented:2,token:1},D={[_]:"normal",[v]:"segmented",[y]:"token"},I="$config";function z(t,e,n,r,o,i){let s=t.getFirstChild();for(;null!==s;){const t=s.__key;s.__parent===e&&(po(s)&&z(s,t,n,r,o,i),n.has(t)||i.delete(t),o.push(t)),s=s.getNextSibling()}}let K=!1,B=0;function W(t){B=t.timeStamp}function J(t,e,n){const r="BR"===t.nodeName,o=e.__lexicalLineBreak;return o&&(t===o||r&&t.previousSibling===o)||r&&void 0!==fi(t,n)}function $(t,e,n){const r=ts(ji(n));let o=null,i=null;null!==r&&r.anchorNode===t&&(o=r.anchorOffset,i=r.focusOffset);const s=t.nodeValue;null!==s&&Ti(e,s,o,i,!1)}function H(t,e,n){if(hr(t)){const e=t.anchor.getNode();if(e.is(n)&&t.format!==e.getFormat())return!1}return ti(e)&&n.isAttached()}function U(t,e,n,r){for(let o=t;o&&!ms(o);o=Ji(o)){const t=fi(o,e);if(void 0!==t){const e=ui(t,n);if(e)return yo(e)||!ns(o)?void 0:[o,e]}else if(o===r)return[r,_i(n)]}}function j(t,e,n){K=!0;const r=performance.now()-B>100;try{uo(t,(()=>{const o=Or()||function(t){return t.getEditorState().read((()=>{const t=Or();return null!==t?t.clone():null}))}(t),i=new Map,s=t.getRootElement(),l=t._editorState,c=t._blockCursorElement;let u=!1,d="";for(let n=0;n<e.length;n++){const f=e[n],h=f.type,g=f.target,p=U(g,t,l,s);if(!p)continue;const[m,_]=p;if("characterData"===h)r&&rr(_)&&ti(g)&&H(o,g,_)&&$(g,_,t);else if("childList"===h){u=!0;const e=f.addedNodes;for(let n=0;n<e.length;n++){const r=e[n],o=di(r),i=r.parentNode;if(null!=i&&r!==c&&null===o&&!J(r,i,t)){if(a){const t=(ns(r)?r.innerText:null)||r.nodeValue;t&&(d+=t)}i.removeChild(r)}}const n=f.removedNodes,r=n.length;if(r>0){let e=0;for(let o=0;o<r;o++){const r=n[o];(J(r,g,t)||c===r)&&(g.appendChild(r),e++)}r!==e&&i.set(m,_)}}}if(i.size>0)for(const[e,n]of i)n.reconcileObservedMutation(e,t);const f=n.takeRecords();if(f.length>0){for(let e=0;e<f.length;e++){const n=f[e],r=n.addedNodes,o=n.target;for(let e=0;e<r.length;e++){const n=r[e],i=n.parentNode;null==i||"BR"!==n.nodeName||J(n,o,t)||i.removeChild(n)}}n.takeRecords()}null!==o&&(u&&yi(o),a&&zi(t)&&o.insertRawText(d))}))}finally{K=!1}}function q(t){const e=t._observer;null!==e&&j(t,e.takeRecords(),e)}function Z(t){!function(t){0===B&&ji(t).addEventListener("textInput",W,!0)}(t),t._observer=new MutationObserver(((e,n)=>{j(t,e,n)}))}class V{key;parse;unparse;isEqual;defaultValue;constructor(t,e){this.key=t,this.parse=e.parse.bind(e),this.unparse=(e.unparse||ot).bind(e),this.isEqual=(e.isEqual||Object.is).bind(e),this.defaultValue=this.parse(void 0)}}function Y(t,e){return new V(t,e)}function G(t,e,n="latest"){const r=("latest"===n?t.getLatest():t).__state;return r?r.getValue(e):e.defaultValue}function X(t,e,n){let r;if(Vr(),"function"==typeof n){const o=t.getLatest(),i=G(o,e);if(r=n(i),e.isEqual(i,r))return o}else r=n;const o=t.getWritable();return et(o).updateFromKnown(e,r),o}function Q(t){const e=new Map,n=new Set;for(let r="function"==typeof t?t:t.replace;r.prototype&&void 0!==r.prototype.getType;r=Object.getPrototypeOf(r)){const{ownNodeConfig:t}=ys(r);if(t&&t.stateConfigs)for(const r of t.stateConfigs){let t;"stateConfig"in r?(t=r.stateConfig,r.flat&&n.add(t.key)):t=r,e.set(t.key,t)}}return{flatKeys:n,sharedConfigMap:e}}class tt{node;knownState;unknownState;sharedNodeState;size;constructor(t,e,n=void 0,r=new Map,o=void 0){this.node=t,this.sharedNodeState=e,this.unknownState=n,this.knownState=r;const{sharedConfigMap:i}=this.sharedNodeState,s=void 0!==o?o:function(t,e,n){let r=n.size;if(e)for(const o in e){const e=t.get(o);e&&n.has(e)||r++}return r}(i,n,r);this.size=s}getValue(t){const e=this.knownState.get(t);if(void 0!==e)return e;this.sharedNodeState.sharedConfigMap.set(t.key,t);let n=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){const e=this.unknownState[t.key];void 0!==e&&(n=t.parse(e)),this.updateFromKnown(t,n)}return n}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const t={...this.unknownState},e={};for(const[e,n]of this.knownState)e.isEqual(n,e.defaultValue)?delete t[e.key]:t[e.key]=e.unparse(n);for(const n of this.sharedNodeState.flatKeys)n in t&&(e[n]=t[n],delete t[n]);return rt(t)&&(e.$=t),e}getWritable(t){if(this.node===t)return this;const{sharedNodeState:e,unknownState:n}=this,r=new Map(this.knownState);return new tt(t,e,function(t,e,n){let r;if(n)for(const[o,i]of Object.entries(n)){const n=t.get(o);n?e.has(n)||e.set(n,n.parse(i)):(r=r||{},r[o]=i)}return r}(e.sharedConfigMap,r,n),r,this.size)}updateFromKnown(t,e){const n=t.key;this.sharedNodeState.sharedConfigMap.set(n,t);const{knownState:r,unknownState:o}=this;r.has(t)||o&&n in o||(o&&(delete o[n],this.unknownState=rt(o)),this.size++),r.set(t,e)}updateFromUnknown(t,e){const n=this.sharedNodeState.sharedConfigMap.get(t);n?this.updateFromKnown(n,n.parse(e)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=e)}updateFromJSON(t){const{knownState:e}=this;for(const t of e.keys())e.set(t,t.defaultValue);if(this.size=e.size,this.unknownState=void 0,t)for(const[e,n]of Object.entries(t))this.updateFromUnknown(e,n)}}function et(t){const e=t.getWritable(),n=e.__state?e.__state.getWritable(e):new tt(e,nt(e));return e.__state=n,n}function nt(t){return t.__state?t.__state.sharedNodeState:$o(as(),t.getType()).sharedNodeState}function rt(t){if(t)for(const e in t)return t}function ot(t){return t}function it(t,e,n){for(const[r,o]of e.knownState){if(t.has(r.key))continue;t.add(r.key);const e=n?n.getValue(r):r.defaultValue;if(e!==o&&!r.isEqual(e,o))return!0}return!1}function st(t,e,n){const{unknownState:r}=e,o=n?n.unknownState:void 0;if(r)for(const[e,n]of Object.entries(r))if(!t.has(e)&&(t.add(e),n!==(o?o[e]:void 0)))return!0;return!1}function lt(t,e){const n=t.__state;return n&&n.node===t?n.getWritable(e):n}function at(t,e){const n=t.__mode,r=t.__format,o=t.__style,i=e.__mode,s=e.__format,l=e.__style,a=t.__state,c=e.__state;return(null===n||n===i)&&(null===r||r===s)&&(null===o||o===l)&&(null===t.__state||a===c||function(t,e){if(t===e)return!0;if(t&&e&&t.size!==e.size)return!1;const n=new Set;return!(t&&it(n,t,e)||e&&it(n,e,t)||t&&st(n,t,e)||e&&st(n,e,t))}(a,c))}function ct(t,e){const n=t.mergeWithSibling(e),r=Xr()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function ut(t){let e,n,r=t;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(e=r.getPreviousSibling())&&rr(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(""!==e.__text){if(at(e,r)){r=ct(e,r);break}break}e.remove()}for(;null!==(n=r.getNextSibling())&&rr(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(at(r,n)){r=ct(r,n);break}break}n.remove()}}else r.remove()}function dt(t){return ft(t.anchor),ft(t.focus),t}function ft(t){for(;"element"===t.type;){const e=t.getNode(),n=t.offset;let r,o;if(n===e.getChildrenSize()?(r=e.getChildAtIndex(n-1),o=!0):(r=e.getChildAtIndex(n),o=!1),rr(r)){t.set(r.__key,o?r.getTextContentSize():0,"text",!0);break}if(!po(r))break;t.set(r.__key,o?r.getChildrenSize():0,"element",!0)}}let ht,gt,pt,mt,_t,yt,vt,St,Ct,xt,bt="",wt=null,Tt=null,Nt="",Et=!1,kt=!1;function At(t,e){const n=vt.get(t);if(null!==e){const n=Ut(t);n.parentNode===e&&e.removeChild(n)}if(St.has(t)||gt._keyToDOMMap.delete(t),po(n)){const t=Wt(n,vt);Mt(t,0,t.length-1,null)}void 0!==n&&Ri(xt,pt,mt,n,"destroyed")}function Mt(t,e,n,r){let o=e;for(;o<=n;++o){const e=t[o];void 0!==e&&At(e,r)}}function Ot(t,e){t.setProperty("text-align",e)}const Ft="40px";function Pt(t,e){const n=ht.theme.indent;if("string"==typeof n){const r=t.classList.contains(n);e>0&&!r?t.classList.add(n):e<1&&r&&t.classList.remove(n)}const r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||Ft;t.style.setProperty("padding-inline-start",0===e?"":`calc(${e} * ${r})`)}function Lt(t,e){const n=t.style;0===e?Ot(n,""):1===e?Ot(n,"left"):2===e?Ot(n,"center"):3===e?Ot(n,"right"):4===e?Ot(n,"justify"):5===e?Ot(n,"start"):6===e&&Ot(n,"end")}function Rt(t,e){const n=function(t){const e=t.__dir;if(null!==e)return e;if(So(t))return null;const n=t.getParentOrThrow();return So(n)&&null===n.__dir?"auto":null}(e);null!==n?t.dir=n:t.removeAttribute("dir")}function Dt(t,e){const n=St.get(t);void 0===n&&r(60);const o=n.createDOM(ht,gt);if(function(t,e,n){const r=n._keyToDOMMap;(function(t,e,n){t[`__lexicalKey_${e._key}`]=n})(e,n,t),r.set(t,e)}(t,o,gt),rr(n)?o.setAttribute("data-lexical-text","true"):yo(n)&&o.setAttribute("data-lexical-decorator","true"),po(n)){const t=n.__indent,e=n.__size;if(Rt(o,n),0!==t&&Pt(o,t),0!==e){const t=e-1;It(Wt(n,St),n,0,t,n.getDOMSlot(o))}const r=n.__format;0!==r&&Lt(o,r),n.isInline()||Kt(null,n,o),Bi(n)&&(bt+=E,Nt+=E)}else{const e=n.getTextContent();if(yo(n)){const e=n.decorate(gt,ht);null!==e&&$t(t,e),o.contentEditable="false"}bt+=e,Nt+=e}return null!==e&&e.insertChild(o),Ri(xt,pt,mt,n,"created"),o}function It(t,e,n,r,o){const i=bt;bt="";let s=n;for(;s<=r;++s){Dt(t[s],o);const e=St.get(t[s]);null!==e&&rr(e)&&null===wt&&(wt=e.getFormat(),Tt=e.getStyle())}Bi(e)&&(bt+=E),o.element.__lexicalTextContent=bt,bt=i+bt}function zt(t,e){if(t){const n=t.__last;if(n){const t=e.get(n);if(t)return Kn(t)?"line-break":yo(t)&&t.isInline()?"decorator":null}return"empty"}return null}function Kt(t,e,n){const r=zt(t,vt),o=zt(e,St);r!==o&&e.getDOMSlot(n).setManagedLineBreak(o)}function Bt(t,e,n){var o;wt=null,Tt=null,function(t,e,n){const o=bt,i=t.__size,s=e.__size;bt="";const l=n.element;if(1===i&&1===s){const n=t.__first,r=e.__first;if(n===r)Jt(n,l);else{const t=Ut(n),e=Dt(r,null);try{l.replaceChild(e,t)}catch(o){if("object"==typeof o&&null!=o){const i=`${o.toString()} Parent: ${l.tagName}, new child: {tag: ${e.tagName} key: ${r}}, old child: {tag: ${t.tagName}, key: ${n}}.`;throw new Error(i)}throw o}At(n,null)}const i=St.get(r);rr(i)&&null===wt&&(wt=i.getFormat(),Tt=i.getStyle())}else{const o=Wt(t,vt),a=Wt(e,St);if(o.length!==i&&r(227),a.length!==s&&r(228),0===i)0!==s&&It(a,e,0,s-1,n);else if(0===s){if(0!==i){const t=null==n.after&&null==n.before&&null==n.element.__lexicalLineBreak;Mt(o,0,i-1,t?null:l),t&&(l.textContent="")}}else!function(t,e,n,r,o,i){const s=r-1,l=o-1;let a,c,u=i.getFirstChild(),d=0,f=0;for(;d<=s&&f<=l;){const t=e[d],r=n[f];if(t===r)u=Ht(Jt(r,i.element)),d++,f++;else{void 0===a&&(a=new Set(e)),void 0===c&&(c=new Set(n));const o=c.has(t),s=a.has(r);if(o)if(s){const t=Wi(gt,r);t===u?u=Ht(Jt(r,i.element)):(i.withBefore(u).insertChild(t),Jt(r,i.element)),d++,f++}else Dt(r,i.withBefore(u)),f++;else u=Ht(Ut(t)),At(t,i.element),d++}const o=St.get(r);null!==o&&rr(o)&&null===wt&&(wt=o.getFormat(),Tt=o.getStyle())}const h=d>s,g=f>l;if(h&&!g){const e=n[l+1],r=void 0===e?null:gt.getElementByKey(e);It(n,t,f,l,i.withBefore(r))}else g&&!h&&Mt(e,d,s,i.element)}(e,o,a,i,s,n)}Bi(e)&&(bt+=E),l.__lexicalTextContent=bt,bt=o+bt}(t,e,e.getDOMSlot(n)),o=e,null==wt||wt===o.__textFormat||kt||o.setTextFormat(wt),function(t){null==Tt||Tt===t.__textStyle||kt||t.setTextStyle(Tt)}(e)}function Wt(t,e){const n=[];let o=t.__first;for(;null!==o;){const t=e.get(o);void 0===t&&r(101),n.push(o),o=t.__next}return n}function Jt(t,e){const n=vt.get(t);let o=St.get(t);void 0!==n&&void 0!==o||r(61);const i=Et||yt.has(t)||_t.has(t),s=Wi(gt,t);if(n===o&&!i){if(po(n)){const t=s.__lexicalTextContent;void 0!==t&&(bt+=t,Nt+=t)}else{const t=n.getTextContent();Nt+=t,bt+=t}return s}if(n!==o&&i&&Ri(xt,pt,mt,o,"updated"),o.updateDOM(n,s,ht)){const n=Dt(t,null);return null===e&&r(62),e.replaceChild(n,s),At(t,null),n}if(po(n)&&po(o)){const t=o.__indent;(Et||t!==n.__indent)&&Pt(s,t);const e=o.__format;if((Et||e!==n.__format)&&Lt(s,e),i&&(Bt(n,o,s),So(o)||o.isInline()||Kt(n,o,s)),Bi(o)&&(bt+=E,Nt+=E),(Et||o.__dir!==n.__dir)&&(Rt(s,o),So(o)&&!Et))for(const t of o.getChildren())po(t)&&Rt(Wi(gt,t.getKey()),t)}else{const e=o.getTextContent();if(yo(o)){const e=o.decorate(gt,ht);null!==e&&$t(t,e)}bt+=e,Nt+=e}if(!kt&&So(o)&&o.__cachedText!==Nt){const t=o.getWritable();t.__cachedText=Nt,o=t}return s}function $t(t,e){let n=gt._pendingDecorators;const r=gt._decorators;if(null===n){if(r[t]===e)return;n=gi(gt)}n[t]=e}function Ht(t){let e=t.nextSibling;return null!==e&&e===gt._blockCursorElement&&(e=e.nextSibling),e}function Ut(t){const e=Ct.get(t);return void 0===e&&r(75,t),e}function jt(t){return{type:t}}const qt=jt("SELECTION_CHANGE_COMMAND"),Zt=jt("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),Vt=jt("CLICK_COMMAND"),Yt=jt("BEFORE_INPUT_COMMAND"),Gt=jt("INPUT_COMMAND"),Xt=jt("COMPOSITION_START_COMMAND"),Qt=jt("COMPOSITION_END_COMMAND"),te=jt("DELETE_CHARACTER_COMMAND"),ee=jt("INSERT_LINE_BREAK_COMMAND"),ne=jt("INSERT_PARAGRAPH_COMMAND"),re=jt("CONTROLLED_TEXT_INSERTION_COMMAND"),oe=jt("PASTE_COMMAND"),ie=jt("REMOVE_TEXT_COMMAND"),se=jt("DELETE_WORD_COMMAND"),le=jt("DELETE_LINE_COMMAND"),ae=jt("FORMAT_TEXT_COMMAND"),ce=jt("UNDO_COMMAND"),ue=jt("REDO_COMMAND"),de=jt("KEYDOWN_COMMAND"),fe=jt("KEY_ARROW_RIGHT_COMMAND"),he=jt("MOVE_TO_END"),ge=jt("KEY_ARROW_LEFT_COMMAND"),pe=jt("MOVE_TO_START"),me=jt("KEY_ARROW_UP_COMMAND"),_e=jt("KEY_ARROW_DOWN_COMMAND"),ye=jt("KEY_ENTER_COMMAND"),ve=jt("KEY_SPACE_COMMAND"),Se=jt("KEY_BACKSPACE_COMMAND"),Ce=jt("KEY_ESCAPE_COMMAND"),xe=jt("KEY_DELETE_COMMAND"),be=jt("KEY_TAB_COMMAND"),we=jt("INSERT_TAB_COMMAND"),Te=jt("INDENT_CONTENT_COMMAND"),Ne=jt("OUTDENT_CONTENT_COMMAND"),Ee=jt("DROP_COMMAND"),ke=jt("FORMAT_ELEMENT_COMMAND"),Ae=jt("DRAGSTART_COMMAND"),Me=jt("DRAGOVER_COMMAND"),Oe=jt("DRAGEND_COMMAND"),Fe=jt("COPY_COMMAND"),Pe=jt("CUT_COMMAND"),Le=jt("SELECT_ALL_COMMAND"),Re=jt("CLEAR_EDITOR_COMMAND"),De=jt("CLEAR_HISTORY_COMMAND"),Ie=jt("CAN_REDO_COMMAND"),ze=jt("CAN_UNDO_COMMAND"),Ke=jt("FOCUS_COMMAND"),Be=jt("BLUR_COMMAND"),We=jt("KEY_MODIFIER_COMMAND"),Je=Object.freeze({}),$e=[["keydown",function(t,e){He=t.timeStamp,Ue=t.key,e.isComposing()||Ki(e,de,t)}],["pointerdown",function(t,e){const n=t.target,r=t.pointerType;rs(n)&&"touch"!==r&&"pen"!==r&&0===t.button&&uo(e,(()=>{jo(n)||(Ge=!0)}))}],["compositionstart",function(t,e){Ki(e,Xt,t)}],["compositionend",function(t,e){a?Qe=!0:d||!u&&!p?Ki(e,Qt,t):(tn=!0,en=t.data)}],["input",function(t,e){t.stopPropagation(),uo(e,(()=>{e.dispatchCommand(Gt,t)}),{event:t}),qe=null}],["click",function(t,e){uo(e,(()=>{const n=Or(),r=ts(ji(e)),o=Fr();if(r)if(hr(n)){const e=n.anchor,i=e.getNode();if("element"===e.type&&0===e.offset&&n.isCollapsed()&&!So(i)&&1===mi().getChildrenSize()&&i.getTopLevelElementOrThrow().isEmpty()&&null!==o&&n.is(o))r.removeAllRanges(),n.dirty=!0;else if(3===t.detail&&!n.isCollapsed()&&i!==n.focus.getNode()){const t=Ss(i,(t=>po(t)&&!t.isInline()));po(t)&&t.select(0)}}else if("touch"===t.pointerType||"pen"===t.pointerType){const n=r.anchorNode;(ns(n)||ti(n))&&yi(Mr(o,r,e,t))}Ki(e,Vt,t)}))}],["cut",Je],["copy",Je],["dragstart",Je],["dragover",Je],["dragend",Je],["paste",Je],["focus",Je],["blur",Je],["drop",Je]];c&&$e.push(["beforeinput",(t,e)=>function(t,e){const n=t.inputType;"deleteCompositionText"===n||a&&zi(e)||"insertCompositionText"!==n&&Ki(e,Yt,t)}(t,e)]);let He=0,Ue=null,je=0,qe=null;const Ze=new WeakMap,Ve=new WeakMap;let Ye=!1,Ge=!1,Xe=!1,Qe=!1,tn=!1,en="",nn=null,rn=[0,"",0,"root",0];function on(t,e,n,r,o){const i=t.anchor,s=t.focus,l=i.getNode(),a=Xr(),u=ts(ji(a)),d=null!==u?u.anchorNode:null,f=i.key,h=a.getElementByKey(f),g=n.length;return f!==s.key||!rr(l)||(!o&&(!c||je<r+50)||l.isDirty()&&g<2||Si(n))&&i.offset!==s.offset&&!l.isComposing()||Qo(l)||l.isDirty()&&g>1||(o||!c)&&null!==h&&!l.isComposing()&&d!==ni(h)||null!==u&&null!==e&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||l.getFormat()!==t.format||l.getStyle()!==t.style||function(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;const n=t.anchor.offset,r=e.getParentOrThrow(),o=Xo(e);return 0===n?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||o||function(t){const e=t.getPreviousSibling();return(rr(e)||po(e)&&e.isInline())&&!e.canInsertTextAfter()}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||o)}(t,l)}function sn(t,e){return ti(t)&&null!==t.nodeValue&&0!==e&&e!==t.nodeValue.length}function ln(t,e,n){const{anchorNode:o,anchorOffset:i,focusNode:s,focusOffset:l}=t;Ye&&(Ye=!1,sn(o,i)&&sn(s,l)&&!nn)||uo(e,(()=>{if(!n)return void yi(null);if(!Zo(e,o,s))return;let a=Or();if(nn&&hr(a)&&a.isCollapsed()){const t=a.anchor,e=nn.anchor;(t.key===e.key&&t.offset===e.offset+1||1===t.offset&&e.getNode().is(t.getNode().getPreviousSibling()))&&(a=nn.clone(),yi(a))}if(nn=null,hr(a)){const n=a.anchor,o=n.getNode();if(a.isCollapsed()){"Range"===t.type&&t.anchorNode===t.focusNode&&(a.dirty=!0);const i=ji(e).event,s=i?i.timeStamp:performance.now(),[l,c,u,d,f]=rn,h=mi(),g=!1===e.isComposing()&&""===h.getTextContent();if(s<f+200&&n.offset===u&&n.key===d)an(a,l,c);else if("text"===n.type)rr(o)||r(141),cn(a,o);else if("element"===n.type&&!g){po(o)||r(259);const t=n.getNode();t.isEmpty()?function(t,e){an(t,e.getTextFormat(),e.getTextStyle())}(a,t):an(a,0,"")}}else{const t=n.key,e=a.focus.key,r=a.getNodes(),o=r.length,s=a.isBackward(),c=s?l:i,u=s?i:l,d=s?e:t,f=s?t:e;let h=2047,g=!1;for(let t=0;t<o;t++){const e=r[t],n=e.getTextContentSize();if(rr(e)&&0!==n&&!(0===t&&e.__key===d&&c===n||t===o-1&&e.__key===f&&0===u)&&(g=!0,h&=e.getFormat(),0===h))break}a.format=g?h:0}}Ki(e,qt,void 0)}))}function an(t,e,n){t.format===e&&t.style===n||(t.format=e,t.style=n,t.dirty=!0)}function cn(t,e){an(t,e.getFormat(),e.getStyle())}function un(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return 0===e.length?null:e[0]}function dn(t){const e=t.inputType,n=un(t),o=Xr(),i=Or();if("deleteContentBackward"===e){if(null===i){const t=Fr();if(!hr(t))return!0;yi(t.clone())}if(hr(i)){const e=i.anchor.key===i.focus.key;if(s=t.timeStamp,"MediaLast"===Ue&&s<He+30&&o.isComposing()&&e){if(ai(null),He=0,setTimeout((()=>{uo(o,(()=>{ai(null)}))}),30),hr(i)){const t=i.anchor.getNode();t.markDirty(),rr(t)||r(142),cn(i,t)}}else{ai(null),t.preventDefault();const n=i.anchor.getNode(),r=n.getTextContent(),s=n.canInsertTextAfter(),l=0===i.anchor.offset&&i.focus.offset===r.length;let a=g&&e&&!l&&s;if(a&&i.isCollapsed()&&(a=!yo(Ii(i.anchor,!0))),!a){Ki(o,te,!0);const t=Or();g&&hr(t)&&t.isCollapsed()&&(nn=t,setTimeout((()=>nn=null)))}}return!0}}var s;if(!hr(i))return!0;const l=t.data;null!==qe&&wi(!1,o,qe),i.dirty&&null===qe||!i.isCollapsed()||So(i.anchor.getNode())||null===n||i.applyDOMRange(n),qe=null;const a=i.anchor,c=i.focus,u=a.getNode(),f=c.getNode();if("insertText"===e||"insertTranspose"===e){if("\n"===l)t.preventDefault(),Ki(o,ee,!1);else if(l===E)t.preventDefault(),Ki(o,ne,void 0);else if(null==l&&t.dataTransfer){const e=t.dataTransfer.getData("text/plain");t.preventDefault(),i.insertRawText(e)}else null!=l&&on(i,n,l,t.timeStamp,!0)?(t.preventDefault(),Ki(o,re,l)):qe=l;return je=t.timeStamp,!0}switch(t.preventDefault(),e){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Ki(o,re,t);break;case"insertFromComposition":ai(null),Ki(o,re,t);break;case"insertLineBreak":ai(null),Ki(o,ee,!1);break;case"insertParagraph":ai(null),Xe&&!d?(Xe=!1,Ki(o,ee,!1)):Ki(o,ne,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Ki(o,oe,t);break;case"deleteByComposition":(function(t,e){return t!==e||po(t)||po(e)||!Xo(t)||!Xo(e)})(u,f)&&Ki(o,ie,t);break;case"deleteByDrag":case"deleteByCut":Ki(o,ie,t);break;case"deleteContent":Ki(o,te,!1);break;case"deleteWordBackward":Ki(o,se,!0);break;case"deleteWordForward":Ki(o,se,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Ki(o,le,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Ki(o,le,!1);break;case"formatStrikeThrough":Ki(o,ae,"strikethrough");break;case"formatBold":Ki(o,ae,"bold");break;case"formatItalic":Ki(o,ae,"italic");break;case"formatUnderline":Ki(o,ae,"underline");break;case"historyUndo":Ki(o,ce,void 0);break;case"historyRedo":Ki(o,ue,void 0)}return!0}function fn(t){if(ns(t.target)&&jo(t.target))return!0;const e=Xr(),n=Or(),r=t.data,o=un(t);if(null!=r&&hr(n)&&on(n,o,r,t.timeStamp,!1)){Qe&&(pn(e,r),Qe=!1);const o=n.anchor.getNode(),i=ts(ji(e));if(null===i)return!0;const s=n.isBackward(),l=s?n.anchor.offset:n.focus.offset,f=s?n.focus.offset:n.anchor.offset;c&&!n.isCollapsed()&&rr(o)&&null!==i.anchorNode&&o.getTextContent().slice(0,l)+r+o.getTextContent().slice(l+f)===bi(i.anchorNode)||Ki(e,re,r);const h=r.length;a&&h>1&&"insertCompositionText"===t.inputType&&!e.isComposing()&&(n.anchor.offset-=h),u||d||p||!e.isComposing()||(He=0,ai(null))}else wi(!1,e,null!==r?r:void 0),Qe&&(pn(e,r||void 0),Qe=!1);return Vr(),q(Xr()),!0}function hn(t){const e=Xr(),n=Or();if(hr(n)&&!e.isComposing()){const r=n.anchor,o=n.anchor.getNode();ai(r.key),(t.timeStamp<He+30||"element"===r.type||!n.isCollapsed()||o.getFormat()!==n.format||rr(o)&&o.getStyle()!==n.style)&&Ki(e,re,k)}return!0}function gn(t){return pn(Xr(),t.data),!0}function pn(t,e){const n=t._compositionKey;if(ai(null),null!==n&&null!=e){if(""===e){const e=ui(n),r=ni(t.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&rr(e)&&Ti(e,r.nodeValue,null,null,!0))}if("\n"===e[e.length-1]){const e=Or();if(hr(e)){const n=e.focus;return e.anchor.set(n.key,n.offset,n.type),void Ki(t,ye,null)}}}wi(!0,t,e)}function mn(t){const e=Xr();if(null==t.key)return!0;if(tn&&Oi(t))return uo(e,(()=>{pn(e,en)})),tn=!1,en="",!0;if(function(t){return ki(t,"ArrowRight",{shiftKey:"any"})}(t))Ki(e,fe,t);else if(function(t){return ki(t,"ArrowRight",Ai)}(t))Ki(e,he,t);else if(function(t){return ki(t,"ArrowLeft",{shiftKey:"any"})}(t))Ki(e,ge,t);else if(function(t){return ki(t,"ArrowLeft",Ai)}(t))Ki(e,pe,t);else if(function(t){return ki(t,"ArrowUp",{altKey:"any",shiftKey:"any"})}(t))Ki(e,me,t);else if(function(t){return ki(t,"ArrowDown",{altKey:"any",shiftKey:"any"})}(t))Ki(e,_e,t);else if(function(t){return ki(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(t))Xe=!0,Ki(e,ye,t);else if(function(t){return" "===t.key}(t))Ki(e,ve,t);else if(function(t){return l&&ki(t,"o",{ctrlKey:!0})}(t))t.preventDefault(),Xe=!0,Ki(e,ee,!0);else if(function(t){return ki(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(t))Xe=!1,Ki(e,ye,t);else if(function(t){return ki(t,"Backspace",{shiftKey:"any"})||l&&ki(t,"h",{ctrlKey:!0})}(t))Oi(t)?Ki(e,Se,t):(t.preventDefault(),Ki(e,te,!0));else if(function(t){return"Escape"===t.key}(t))Ki(e,Ce,t);else if(function(t){return ki(t,"Delete",{})||l&&ki(t,"d",{ctrlKey:!0})}(t))!function(t){return"Delete"===t.key}(t)?(t.preventDefault(),Ki(e,te,!1)):Ki(e,xe,t);else if(function(t){return ki(t,"Backspace",Mi)}(t))t.preventDefault(),Ki(e,se,!0);else if(function(t){return ki(t,"Delete",Mi)}(t))t.preventDefault(),Ki(e,se,!1);else if(function(t){return l&&ki(t,"Backspace",{metaKey:!0})}(t))t.preventDefault(),Ki(e,le,!0);else if(function(t){return l&&(ki(t,"Delete",{metaKey:!0})||ki(t,"k",{ctrlKey:!0}))}(t))t.preventDefault(),Ki(e,le,!1);else if(function(t){return ki(t,"b",Ai)}(t))t.preventDefault(),Ki(e,ae,"bold");else if(function(t){return ki(t,"u",Ai)}(t))t.preventDefault(),Ki(e,ae,"underline");else if(function(t){return ki(t,"i",Ai)}(t))t.preventDefault(),Ki(e,ae,"italic");else if(function(t){return ki(t,"Tab",{shiftKey:"any"})}(t))Ki(e,be,t);else if(function(t){return ki(t,"z",Ai)}(t))t.preventDefault(),Ki(e,ce,void 0);else if(function(t){return l?ki(t,"z",{metaKey:!0,shiftKey:!0}):ki(t,"y",{ctrlKey:!0})||ki(t,"z",{ctrlKey:!0,shiftKey:!0})}(t))t.preventDefault(),Ki(e,ue,void 0);else{const n=e._editorState._selection;null===n||hr(n)?Fi(t)&&(t.preventDefault(),Ki(e,Le,t)):function(t){return ki(t,"c",Ai)}(t)?(t.preventDefault(),Ki(e,Fe,t)):function(t){return ki(t,"x",Ai)}(t)?(t.preventDefault(),Ki(e,Pe,t)):Fi(t)&&(t.preventDefault(),Ki(e,Le,t))}return function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey}(t)&&e.dispatchCommand(We,t),!0}function _n(t){let e=t.__lexicalEventHandles;return void 0===e&&(e=[],t.__lexicalEventHandles=e),e}const yn=new Map;function vn(t){const e=function(t){const e=Ui(t);return e?e.getSelection():null}(t.target);if(null===e)return;const n=Yo(e.anchorNode);if(null===n)return;Ge&&(Ge=!1,uo(n,(()=>{const r=Fr(),o=e.anchorNode;(ns(o)||ti(o))&&yi(Mr(r,e,n,t))})));const r=Ci(n),o=r[r.length-1],i=o._key,s=yn.get(i),l=s||o;l!==n&&ln(e,l,!1),ln(e,n,!0),n!==o?yn.set(i,n):s&&yn.delete(i)}function Sn(t){t._lexicalHandled=!0}function Cn(t){return!0===t._lexicalHandled}function xn(t){const e=Ze.get(t);if(void 0===e)return;const n=Ve.get(e);if(void 0===n)return;const o=n-1;o>=0||r(164),Ze.delete(t),Ve.set(e,o),0===o&&e.removeEventListener("selectionchange",vn);const i=Go(t);Vo(i)?(function(t){if(null!==t._parentEditor){const e=Ci(t),n=e[e.length-1]._key;yn.get(n)===t&&yn.delete(n)}else yn.delete(t._key)}(i),t.__lexicalEditor=null):i&&r(198);const s=_n(t);for(let t=0;t<s.length;t++)s[t]();t.__lexicalEventHandles=[]}function bn(t,e,n){Vr();const r=t.__key,o=t.getParent();if(null===o)return;const i=function(t){const e=Or();if(!hr(e)||!po(t))return e;const{anchor:n,focus:r}=e,o=n.getNode(),i=r.getNode();return Hi(o,t)&&n.set(t.__key,0,"element"),Hi(i,t)&&r.set(t.__key,0,"element"),e}(t);let s=!1;if(hr(i)&&e){const e=i.anchor,n=i.focus;e.key===r&&(Rr(e,t,o,t.getPreviousSibling(),t.getNextSibling()),s=!0),n.key===r&&(Rr(n,t,o,t.getPreviousSibling(),t.getNextSibling()),s=!0)}else pr(i)&&e&&t.isSelected()&&t.selectPrevious();if(hr(i)&&e&&!s){const e=t.getIndexWithinParent();si(t),Pr(i,o,e,-1)}else si(t);n||Zi(o)||o.canBeEmpty()||!o.isEmpty()||bn(o,e),e&&i&&So(o)&&o.isEmpty()&&o.selectEnd()}function wn(t){return t}const Tn=Symbol.for("ephemeral");function Nn(t){return t[Tn]||!1}class En{__type;__key;__parent;__prev;__next;__state;static getType(){const{ownNodeType:t}=ys(this);return void 0===t&&r(64,this.name),t}static clone(t){r(65,this.name)}$config(){return{}}config(t,e){const n=e.extends||Object.getPrototypeOf(this.constructor);return Object.assign(e,{extends:n,type:t}),{[t]:e}}afterCloneFrom(t){this.__key===t.__key?(this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state):t.__state&&(this.__state=t.__state.getWritable(this))}static importDOM;constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),ii(this,t)}getType(){return this.__type}isInline(){r(137,this.constructor.name)}isAttached(){let t=this.__key;for(;null!==t;){if("root"===t)return!0;const e=ui(t);if(null===e)break;t=e.__parent}return!1}isSelected(t){const e=t||Or();if(null==e)return!1;const n=e.getNodes().some((t=>t.__key===this.__key));if(rr(this))return n;if(hr(e)&&"element"===e.anchor.type&&"element"===e.focus.type){if(e.isCollapsed())return!1;const t=this.getParent();if(yo(this)&&this.isInline()&&t){const n=e.isBackward()?e.focus:e.anchor;if(t.is(n.getNode())&&n.offset===t.getChildrenSize()&&this.is(t.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(null===t)return-1;let e=t.getFirstChild(),n=0;for(;null!==e;){if(this.is(e))return n;n++,e=e.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return null===t?null:ui(t)}getParentOrThrow(){const t=this.getParent();return null===t&&r(66,this.__key),t}getTopLevelElement(){let t=this;for(;null!==t;){const e=t.getParent();if(Zi(e))return po(t)||t===this&&yo(t)||r(194),t;t=e}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return null===t&&r(67,this.__key),t}getParents(){const t=[];let e=this.getParent();for(;null!==e;)t.push(e),e=e.getParent();return t}getParentKeys(){const t=[];let e=this.getParent();for(;null!==e;)t.push(e.__key),e=e.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return null===t?null:ui(t)}getPreviousSiblings(){const t=[],e=this.getParent();if(null===e)return t;let n=e.getFirstChild();for(;null!==n&&!n.is(this);)t.push(n),n=n.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return null===t?null:ui(t)}getNextSiblings(){const t=[];let e=this.getNextSibling();for(;null!==e;)t.push(e),e=e.getNextSibling();return t}getCommonAncestor(t){const e=po(this)?this:this.getParent(),n=po(t)?t:t.getParent(),r=e&&n?Gs(e,n):null;return r?r.commonAncestor:null}is(t){return null!=t&&this.__key===t.__key}isBefore(t){const e=Gs(this,t);return null!==e&&("descendant"===e.type||("branch"===e.type?-1===Zs(e):("same"!==e.type&&"ancestor"!==e.type&&r(279),!1)))}isParentOf(t){const e=Gs(this,t);return null!==e&&"ancestor"===e.type}getNodesBetween(t){const e=this.isBefore(t),n=[],o=new Set;let i=this;for(;null!==i;){const s=i.__key;if(o.has(s)||(o.add(s),n.push(i)),i===t)break;const l=po(i)?e?i.getFirstChild():i.getLastChild():null;if(null!==l){i=l;continue}const a=e?i.getNextSibling():i.getPreviousSibling();if(null!==a){i=a;continue}const c=i.getParentOrThrow();if(o.has(c.__key)||n.push(c),c===t)break;let u=null,d=c;do{if(null===d&&r(68),u=e?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),null===d)break;null!==u||o.has(d.__key)||n.push(d)}while(null===u);i=u}return e||n.reverse(),n}isDirty(){const t=Xr()._dirtyLeaves;return null!==t&&t.has(this.__key)}getLatest(){if(Nn(this))return this;const t=ui(this.__key);return null===t&&r(113),t}getWritable(){if(Nn(this))return this;Vr();const t=Gr(),e=Xr(),n=t._nodeMap,r=this.__key,o=this.getLatest(),i=e._cloneNotNeeded,s=Or();if(null!==s&&s.setCachedNodes(null),i.has(r))return li(o),o;const l=fs(o);return i.add(r),li(l),n.set(r,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,e){r(70)}updateDOM(t,e,n){r(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){const t=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...t}}static importJSON(t){r(18,this.name)}updateFromJSON(t){return function(t,e){const n=t.getWritable(),r=e.$;let o=r;for(const t of nt(n).flatKeys)t in e&&(void 0!==o&&o!==r||(o={...r}),o[t]=e[t]);return(n.__state||o)&&et(t).updateFromJSON(o),n}(this,t)}static transform(){return null}remove(t){bn(this,!0,t)}replace(t,e){Vr();let n=Or();null!==n&&(n=n.clone()),Gi(this,t);const o=this.getLatest(),i=this.__key,s=t.__key,l=t.getWritable(),a=this.getParentOrThrow().getWritable(),c=a.__size;si(l);const u=o.getPreviousSibling(),d=o.getNextSibling(),f=o.__prev,h=o.__next,g=o.__parent;if(bn(o,!1,!0),null===u?a.__first=s:u.getWritable().__next=s,l.__prev=f,null===d?a.__last=s:d.getWritable().__prev=s,l.__next=h,l.__parent=g,a.__size=c,e&&(po(this)&&po(l)||r(139),this.getChildren().forEach((t=>{l.append(t)}))),hr(n)){yi(n);const t=n.anchor,e=n.focus;t.key===i&&dr(t,l),e.key===i&&dr(e,l)}return ci()===i&&ai(s),l}insertAfter(t,e=!0){Vr(),Gi(this,t);const n=this.getWritable(),r=t.getWritable(),o=r.getParent(),i=Or();let s=!1,l=!1;if(null!==o){const e=t.getIndexWithinParent();if(si(r),hr(i)){const t=o.__key,n=i.anchor,r=i.focus;s="element"===n.type&&n.key===t&&n.offset===e+1,l="element"===r.type&&r.key===t&&r.offset===e+1}}const a=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),u=r.__key,d=n.__next;if(null===a?c.__last=u:a.getWritable().__prev=u,c.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,e&&hr(i)){const t=this.getIndexWithinParent();Pr(i,c,t+1);const e=c.__key;s&&i.anchor.set(e,t+2,"element"),l&&i.focus.set(e,t+2,"element")}return t}insertBefore(t,e=!0){Vr(),Gi(this,t);const n=this.getWritable(),r=t.getWritable(),o=r.__key;si(r);const i=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),l=n.__prev,a=this.getIndexWithinParent();null===i?s.__first=o:i.getWritable().__next=o,s.__size++,n.__prev=o,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;const c=Or();return e&&hr(c)&&Pr(c,this.getParentOrThrow(),a),t}isParentRequired(){return!1}createParentElementNode(){return Ao()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,e){Vr();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(po(n))return n.select();if(!rr(n)){const t=n.getIndexWithinParent()+1;return r.select(t,t)}return n.select(t,e)}selectNext(t,e){Vr();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(po(n))return n.select(0,0);if(!rr(n)){const t=n.getIndexWithinParent();return r.select(t,t)}return n.select(t,e)}markDirty(){this.getWritable()}reconcileObservedMutation(t,e){this.markDirty()}}const kn="historic",An="history-push",Mn="history-merge",On="paste",Fn="collaboration",Pn="skip-scroll-into-view",Ln="skip-dom-selection",Rn="skip-selection-focus";class Dn extends En{static getType(){return"linebreak"}static clone(t){return new Dn(t.__key)}constructor(t){super(t)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:t=>function(t){const e=t.parentElement;if(null!==e&&ss(e)){const n=e.firstChild;if(n===t||n.nextSibling===t&&Bn(n)){const n=e.lastChild;if(n===t||n.previousSibling===t&&Bn(n))return!0}}return!1}(t)||function(t){const e=t.parentElement;if(null!==e&&ss(e)){const n=e.firstChild;if(n===t||n.nextSibling===t&&Bn(n))return!1;const r=e.lastChild;if(r===t||r.previousSibling===t&&Bn(r))return!0}return!1}(t)?null:{conversion:In,priority:0}}}static importJSON(t){return zn().updateFromJSON(t)}}function In(t){return{node:zn()}}function zn(){return Yi(new Dn)}function Kn(t){return t instanceof Dn}function Bn(t){return ti(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function Wn(t,e){return 16&e?"code":128&e?"mark":32&e?"sub":64&e?"sup":null}function Jn(t,e){return 1&e?"strong":2&e?"em":"span"}function $n(t,e,n,r,o){const i=r.classList;let s=Li(o,"base");void 0!==s&&i.add(...s),s=Li(o,"underlineStrikethrough");let l=!1;const a=8&e&&4&e;void 0!==s&&(8&n&&4&n?(l=!0,a||i.add(...s)):a&&i.remove(...s));for(const t in O){const r=O[t];if(s=Li(o,t),void 0!==s)if(n&r){if(l&&("underline"===t||"strikethrough"===t)){e&r&&i.remove(...s);continue}(!(e&r)||a&&"underline"===t||"strikethrough"===t)&&i.add(...s)}else e&r&&i.remove(...s)}}function Hn(t,e,n){const r=e.firstChild,o=n.isComposing(),i=t+(o?N:"");if(null==r)e.textContent=i;else{const t=r.nodeValue;if(t!==i)if(o||a){const[e,n,o]=function(t,e){const n=t.length,r=e.length;let o=0,i=0;for(;o<n&&o<r&&t[o]===e[o];)o++;for(;i+o<n&&i+o<r&&t[n-i-1]===e[r-i-1];)i++;return[o,n-o-i,e.slice(o,r-i)]}(t,i);0!==n&&r.deleteData(e,n),r.insertData(e,o)}else r.nodeValue=i}}function Un(t,e,n,r,o,i){Hn(o,t,e);const s=i.theme.text;void 0!==s&&$n(0,0,r,t,s)}function jn(t,e){const n=document.createElement(e);return n.appendChild(t),n}class qn extends En{__text;__format;__style;__mode;__detail;static getType(){return"text"}static clone(t){return new qn(t.__text,t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail}constructor(t="",e){super(e),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return D[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===ci()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const e=O[t];return!!(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(t,e){return ri(this.getLatest().__format,t,e)}canHaveFormat(){return!0}isInline(){return!0}createDOM(t,e){const n=this.__format,r=Wn(0,n),o=Jn(0,n),i=null===r?o:r,s=document.createElement(i);let l=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(o),s.appendChild(l)),Un(l,this,0,n,this.__text,t);const a=this.__style;return""!==a&&(s.style.cssText=a),s}updateDOM(t,e,n){const o=this.__text,i=t.__format,s=this.__format,l=Wn(0,i),a=Wn(0,s),c=Jn(0,i),u=Jn(0,s);if((null===l?c:l)!==(null===a?u:a))return!0;if(l===a&&c!==u){const t=e.firstChild;null==t&&r(48);const i=document.createElement(u);return Un(i,this,0,s,o,n),e.replaceChild(i,t),!1}let d=e;null!==a&&null!==l&&(d=e.firstChild,null==d&&r(49)),Hn(o,d,this);const f=n.theme.text;void 0!==f&&i!==s&&$n(0,i,s,d,f);const h=t.__style,g=this.__style;return h!==g&&(e.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:Xn,priority:0}),b:()=>({conversion:Vn,priority:0}),code:()=>({conversion:er,priority:0}),em:()=>({conversion:er,priority:0}),i:()=>({conversion:er,priority:0}),mark:()=>({conversion:er,priority:0}),s:()=>({conversion:er,priority:0}),span:()=>({conversion:Zn,priority:0}),strong:()=>({conversion:er,priority:0}),sub:()=>({conversion:er,priority:0}),sup:()=>({conversion:er,priority:0}),u:()=>({conversion:er,priority:0})}}static importJSON(t){return nr().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style)}exportDOM(t){let{element:e}=super.exportDOM(t);return ns(e)||r(132),e.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?e.style.textTransform="lowercase":this.hasFormat("uppercase")?e.style.textTransform="uppercase":this.hasFormat("capitalize")&&(e.style.textTransform="capitalize"),this.hasFormat("bold")&&(e=jn(e,"b")),this.hasFormat("italic")&&(e=jn(e,"i")),this.hasFormat("strikethrough")&&(e=jn(e,"s")),this.hasFormat("underline")&&(e=jn(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(t,e){}setFormat(t){const e=this.getWritable();return e.__format="string"==typeof t?O[t]:t,e}setDetail(t){const e=this.getWritable();return e.__detail="string"==typeof t?F[t]:t,e}setStyle(t){const e=this.getWritable();return e.__style=t,e}toggleFormat(t){const e=ri(this.getFormat(),t,null);return this.setFormat(e)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const e=R[t];if(this.__mode===e)return this;const n=this.getWritable();return n.__mode=e,n}setTextContent(t){if(this.__text===t)return this;const e=this.getWritable();return e.__text=t,e}select(t,e){Vr();let n=t,r=e;const o=Or(),i=this.getTextContent(),s=this.__key;if("string"==typeof i){const t=i.length;void 0===n&&(n=t),void 0===r&&(r=t)}else n=0,r=0;if(!hr(o))return Nr(s,n,s,r,"text","text");{const t=ci();t!==o.anchor.key&&t!==o.focus.key||ai(s),o.setTextNodeRange(this,n,this,r)}return o}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,e,n,r){const o=this.getWritable(),i=o.__text,s=n.length;let l=t;l<0&&(l=s+l,l<0&&(l=0));const a=Or();if(r&&hr(a)){const e=t+s;a.setTextNodeRange(o,e,o,e)}const c=i.slice(0,l)+n+i.slice(l+e);return o.__text=c,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){Vr();const e=this.getLatest(),n=e.getTextContent();if(""===n)return[];const r=e.__key,o=ci(),i=n.length;t.sort(((t,e)=>t-e)),t.push(i);const s=[],l=t.length;for(let e=0,r=0;e<i&&r<=l;r++){const o=t[r];o>e&&(s.push(n.slice(e,o)),e=o)}const a=s.length;if(1===a)return[e];const c=s[0],u=e.getParent();let d;const f=e.getFormat(),h=e.getStyle(),g=e.__detail;let p=!1,m=null,_=null;const y=Or();if(hr(y)){const[t,e]=y.isBackward()?[y.focus,y.anchor]:[y.anchor,y.focus];"text"===t.type&&t.key===r&&(m=t),"text"===e.type&&e.key===r&&(_=e)}e.isSegmented()?(d=nr(c),d.__format=f,d.__style=h,d.__detail=g,d.__state=lt(e,d),p=!0):d=e.setTextContent(c);const v=[d];for(let t=1;t<a;t++){const n=nr(s[t]);n.__format=f,n.__style=h,n.__detail=g,n.__state=lt(e,n);const i=n.__key;o===r&&ai(i),v.push(n)}const S=m?m.offset:null,C=_?_.offset:null;let x=0;for(const t of v){if(!m&&!_)break;const e=x+t.getTextContentSize();if(null!==m&&null!==S&&S<=e&&S>=x&&(m.set(t.getKey(),S-x,"text"),S<e&&(m=null)),null!==_&&null!==C&&C<=e&&C>=x){_.set(t.getKey(),C-x,"text");break}x=e}if(null!==u){!function(t){const e=t.getPreviousSibling(),n=t.getNextSibling();null!==e&&li(e),null!==n&&li(n)}(this);const t=u.getWritable(),e=this.getIndexWithinParent();p?(t.splice(e,0,v),this.remove()):t.splice(e,1,v),hr(y)&&Pr(y,u,e,a-1)}return v}mergeWithSibling(t){const e=t===this.getPreviousSibling();e||t===this.getNextSibling()||r(50);const n=this.__key,o=t.__key,i=this.__text,s=i.length;ci()===o&&ai(n);const l=Or();if(hr(l)){const r=l.anchor,i=l.focus;null!==r&&r.key===o&&Dr(r,e,n,t,s),null!==i&&i.key===o&&Dr(i,e,n,t,s)}const a=t.__text,c=e?a+i:i+a;this.setTextContent(c);const u=this.getWritable();return t.remove(),u}isTextEntity(){return!1}}function Zn(t){return{forChild:or(t.style),node:null}}function Vn(t){const e=t,n="normal"===e.style.fontWeight;return{forChild:or(e.style,n?void 0:"bold"),node:null}}const Yn=new WeakMap;function Gn(t){if(!ns(t))return!1;if("PRE"===t.nodeName)return!0;const e=t.style.whiteSpace;return"string"==typeof e&&e.startsWith("pre")}function Xn(t){const e=t;null===t.parentElement&&r(129);let n=e.textContent||"";if(null!==function(t){let e,n=t.parentNode;const r=[t];for(;null!==n&&void 0===(e=Yn.get(n))&&!Gn(n);)r.push(n),n=n.parentNode;const o=void 0===e?n:e;for(let t=0;t<r.length;t++)Yn.set(r[t],o);return o}(e)){const t=n.split(/(\r?\n|\t)/),e=[],r=t.length;for(let n=0;n<r;n++){const r=t[n];"\n"===r||"\r\n"===r?e.push(zn()):"\t"===r?e.push(sr()):""!==r&&e.push(nr(r))}return{node:e}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let t=e,r=!0;for(;null!==t&&null!==(t=Qn(t,!1));){const e=t.textContent||"";if(e.length>0){/[ \t\n]$/.test(e)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let t=e,r=!0;for(;null!==t&&null!==(t=Qn(t,!0));)if((t.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:nr(n)}}function Qn(t,e){let n=t;for(;;){let t;for(;null===(t=e?n.nextSibling:n.previousSibling);){const t=n.parentElement;if(null===t)return null;n=t}if(n=t,ns(n)){const t=n.style.display;if(""===t&&!is(n)||""!==t&&!t.startsWith("inline"))return null}let r=n;for(;null!==(r=e?n.firstChild:n.lastChild);)n=r;if(ti(n))return n;if("BR"===n.nodeName)return null}}const tr={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function er(t){const e=tr[t.nodeName.toLowerCase()];return void 0===e?{node:null}:{forChild:or(t.style,e),node:null}}function nr(t=""){return Yi(new qn(t))}function rr(t){return t instanceof qn}function or(t,e){const n=t.fontWeight,r=t.textDecoration.split(" "),o="700"===n||"bold"===n,i=r.includes("line-through"),s="italic"===t.fontStyle,l=r.includes("underline"),a=t.verticalAlign;return t=>rr(t)?(o&&!t.hasFormat("bold")&&t.toggleFormat("bold"),i&&!t.hasFormat("strikethrough")&&t.toggleFormat("strikethrough"),s&&!t.hasFormat("italic")&&t.toggleFormat("italic"),l&&!t.hasFormat("underline")&&t.toggleFormat("underline"),"sub"!==a||t.hasFormat("subscript")||t.toggleFormat("subscript"),"super"!==a||t.hasFormat("superscript")||t.toggleFormat("superscript"),e&&!t.hasFormat(e)&&t.toggleFormat(e),t):t}class ir extends qn{static getType(){return"tab"}static clone(t){return new ir(t.__key)}constructor(t){super("\t",t),this.__detail=2}static importDOM(){return null}createDOM(t){const e=super.createDOM(t),n=Li(t.theme,"tab");return void 0!==n&&e.classList.add(...n),e}static importJSON(t){return sr().updateFromJSON(t)}setTextContent(t){return"\t"!==t&&""!==t&&o(126),super.setTextContent("\t")}spliceText(t,e,n,o){return""===n&&0===e||"\t"===n&&1===e||r(286),this}setDetail(t){return 2!==t&&r(127),this}setMode(t){return"normal"!==t&&r(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function sr(){return Yi(new ir)}function lr(t){return t instanceof ir}class ar{key;offset;type;_selection;constructor(t,e,n){this._selection=null,this.key=t,this.offset=e,this.type=n}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){return this.key===t.key?this.offset<t.offset:qs(ll(Xs(this,"next")),ll(Xs(t,"next")))<0}getNode(){const t=ui(this.key);return null===t&&r(20),t}set(t,e,n,r){const o=this._selection,i=this.key;r&&this.key===t&&this.offset===e&&this.type===n||(this.key=t,this.offset=e,this.type=n,Zr()||(ci()===i&&ai(t),null!==o&&(o.setCachedNodes(null),o.dirty=!0)))}}function cr(t,e,n){return new ar(t,e,n)}function ur(t,e){let n=e.__key,r=t.offset,o="element";if(rr(e)){o="text";const t=e.getTextContentSize();r>t&&(r=t)}else if(!po(e)){const t=e.getNextSibling();if(rr(t))n=t.__key,r=0,o="text";else{const t=e.getParent();t&&(n=t.__key,r=e.getIndexWithinParent()+1)}}t.set(n,r,o)}function dr(t,e){if(po(e)){const n=e.getLastDescendant();po(n)||rr(n)?ur(t,n):ur(t,e)}else ur(t,e)}class fr{_nodes;_cachedNodes;dirty;constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!pr(t))return!1;const e=this._nodes,n=t._nodes;return e.size===n.size&&Array.from(e).every((t=>n.has(t)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new fr(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const e=this.getNodes(),n=e.length,r=e[n-1];let o;if(rr(r))o=r.select();else{const t=r.getIndexWithinParent()+1;o=r.getParentOrThrow().select(t,t)}o.insertNodes(t);for(let t=0;t<n;t++)e[t].remove()}getNodes(){const t=this._cachedNodes;if(null!==t)return t;const e=this._nodes,n=[];for(const t of e){const e=ui(t);null!==e&&n.push(e)}return Zr()||(this._cachedNodes=n),n}getTextContent(){const t=this.getNodes();let e="";for(let n=0;n<t.length;n++)e+=t[n].getTextContent();return e}deleteNodes(){const t=this.getNodes();if((Or()||Fr())===this&&t[0]){const e=Rs(t[0],"next");tl(Us(e,e))}for(const e of t)e.remove()}}function hr(t){return t instanceof gr}class gr{format;style;anchor;focus;_cachedNodes;dirty;constructor(t,e,n,r){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!hr(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(null!==t)return t;const e=function(t){const e=[],[n,r]=t.getTextSlices();n&&e.push(n.caret.origin);const o=new Set,i=new Set;for(const n of t)if(Os(n)){const{origin:t}=n;0===e.length?o.add(t):(i.add(t),e.push(t))}else{const{origin:t}=n;po(t)&&i.has(t)||e.push(t)}if(r&&e.push(r.caret.origin),Ms(t.focus)&&po(t.focus.origin)&&null===t.focus.getNodeAtCaret())for(let n=Ks(t.focus.origin,"previous");Os(n)&&o.has(n.origin)&&!n.origin.isEmpty()&&n.origin.is(e[e.length-1]);n=Bs(n))o.delete(n.origin),e.pop();for(;e.length>1;){const t=e[e.length-1];if(!po(t)||i.has(t)||t.isEmpty()||o.has(t))break;e.pop()}if(0===e.length&&t.isCollapsed()){const n=ll(t.anchor),r=ll(t.anchor.getFlipped()),o=t=>As(t)?t.origin:t.getNodeAtCaret(),i=o(n)||o(r)||(t.anchor.getNodeAtCaret()?n.origin:r.origin);e.push(i)}return e}(ul(nl(this),"next"));return Zr()||(this._cachedNodes=e),e}setTextNodeRange(t,e,n,r){this.anchor.set(t.__key,e,"text"),this.focus.set(n.__key,r,"text")}getTextContent(){const t=this.getNodes();if(0===t.length)return"";const e=t[0],n=t[t.length-1],r=this.anchor,o=this.focus,i=r.isBefore(o),[s,l]=_r(this);let a="",c=!0;for(let u=0;u<t.length;u++){const d=t[u];if(po(d)&&!d.isInline())c||(a+="\n"),c=!d.isEmpty();else if(c=!1,rr(d)){let t=d.getTextContent();d===e?d===n?"element"===r.type&&"element"===o.type&&o.offset!==r.offset||(t=s<l?t.slice(s,l):t.slice(l,s)):t=i?t.slice(s):t.slice(l):d===n&&(t=i?t.slice(0,l):t.slice(0,s)),a+=t}else!yo(d)&&!Kn(d)||d===n&&this.isCollapsed()||(a+=d.getTextContent())}return a}applyDOMRange(t){const e=Xr(),n=e.getEditorState()._selection,r=wr(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,n);if(null===r)return;const[o,i]=r;this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(i.key,i.offset,i.type,!0),dt(this)}clone(){const t=this.anchor,e=this.focus;return new gr(cr(t.key,t.offset,t.type),cr(e.key,e.offset,e.type),this.format,this.style)}toggleFormat(t){this.format=ri(this.format,t,null),this.dirty=!0}setFormat(t){this.format=t,this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const e=O[t];return!!(this.format&e)}insertRawText(t){const e=t.split(/(\r?\n|\t)/),n=[],r=e.length;for(let t=0;t<r;t++){const r=e[t];"\n"===r||"\r\n"===r?n.push(zn()):"\t"===r?n.push(sr()):n.push(nr(r))}this.insertNodes(n)}insertText(t){const e=this.anchor,n=this.focus,o=this.format,i=this.style;let s=e,l=n;!this.isCollapsed()&&n.isBefore(e)&&(s=n,l=e),"element"===s.type&&function(t,e,n,r){const o=t.getNode(),i=o.getChildAtIndex(t.offset),s=nr();if(s.setFormat(n),s.setStyle(r),Mo(i))i.splice(0,0,[s]);else{const t=So(o)?Ao().append(s):s;null===i?o.append(t):i.insertBefore(t)}t.is(e)&&e.set(s.__key,0,"text"),t.set(s.__key,0,"text")}(s,l,o,i),"element"===l.type&&Qs(l,ll(Xs(l,"next")));const a=s.offset;let c=l.offset;const u=this.getNodes(),d=u.length;let f=u[0];rr(f)||r(26);const h=f.getTextContent().length,g=f.getParentOrThrow();let p=u[d-1];if(1===d&&"element"===l.type&&(c=h,l.set(s.key,c,"text")),this.isCollapsed()&&a===h&&(Qo(f)||!f.canInsertTextAfter()||!g.canInsertTextAfter()&&null===f.getNextSibling())){let e=f.getNextSibling();if(rr(e)&&e.canInsertTextBefore()&&!Qo(e)||(e=nr(),e.setFormat(o),e.setStyle(i),g.canInsertTextAfter()?f.insertAfter(e):g.insertAfter(e)),e.select(0,0),f=e,""!==t)return void this.insertText(t)}else if(this.isCollapsed()&&0===a&&(Qo(f)||!f.canInsertTextBefore()||!g.canInsertTextBefore()&&null===f.getPreviousSibling())){let e=f.getPreviousSibling();if(rr(e)&&!Qo(e)||(e=nr(),e.setFormat(o),g.canInsertTextBefore()?f.insertBefore(e):g.insertBefore(e)),e.select(),f=e,""!==t)return void this.insertText(t)}else if(f.isSegmented()&&a!==h){const t=nr(f.getTextContent());t.setFormat(o),f.replace(t),f=t}else if(!this.isCollapsed()&&""!==t){const e=p.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||po(e)&&(!e.canInsertTextBefore()||!e.canInsertTextAfter()))return this.insertText(""),br(this.anchor,this.focus,null),void this.insertText(t)}if(1===d){if(Xo(f)){const e=nr(t);return e.select(),void f.replace(e)}const e=f.getFormat(),n=f.getStyle();if(a!==c||e===o&&n===i){if(lr(f)){const e=nr(t);return e.setFormat(o),e.setStyle(i),e.select(),void f.replace(e)}}else{if(""!==f.getTextContent()){const e=nr(t);if(e.setFormat(o),e.setStyle(i),e.select(),0===a)f.insertBefore(e,!1);else{const[t]=f.splitText(a);t.insertAfter(e,!1)}return void(e.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=t.length))}f.setFormat(o),f.setStyle(i)}const r=c-a;f=f.spliceText(a,r,t,!0),""===f.getTextContent()?f.remove():"text"===this.anchor.type&&(f.isComposing()?this.anchor.offset-=t.length:(this.format=e,this.style=n))}else{const e=new Set([...f.getParentKeys(),...p.getParentKeys()]),n=po(f)?f:f.getParentOrThrow();let r=po(p)?p:p.getParentOrThrow(),o=p;if(!n.is(r)&&r.isInline())do{o=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===l.type&&(0!==c||""===p.getTextContent())||"element"===l.type&&p.getIndexWithinParent()<c)if(rr(p)&&!Xo(p)&&c!==p.getTextContentSize()){if(p.isSegmented()){const t=nr(p.getTextContent());p.replace(t),p=t}So(l.getNode())||"text"!==l.type||(p=p.spliceText(0,c,"")),e.add(p.__key)}else{const t=p.getParentOrThrow();t.canBeEmpty()||1!==t.getChildrenSize()?p.remove():t.remove()}else e.add(p.__key);const i=r.getChildren(),s=new Set(u),g=n.is(r),m=n.isInline()&&null===f.getNextSibling()?n:f;for(let t=i.length-1;t>=0;t--){const e=i[t];if(e.is(f)||po(e)&&e.isParentOf(f))break;e.isAttached()&&(!s.has(e)||e.is(o)?g||m.insertAfter(e,!1):e.remove())}if(!g){let t=r,n=null;for(;null!==t;){const r=t.getChildren(),o=r.length;(0===o||r[o-1].is(n))&&(e.delete(t.__key),n=t),t=t.getParent()}}if(Xo(f))if(a===h)f.select();else{const e=nr(t);e.select(),f.replace(e)}else f=f.spliceText(a,h-a,t,!0),""===f.getTextContent()?f.remove():f.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=t.length);for(let t=1;t<d;t++){const n=u[t],r=n.__key;e.has(r)||n.remove()}}}removeText(){const t=Or()===this;el(this,sl(nl(this))),t&&Or()!==this&&yi(this)}formatText(t,e=null){if(this.isCollapsed())return this.toggleFormat(t),void ai(null);const n=this.getNodes(),r=[];for(const t of n)rr(t)&&r.push(t);const o=e=>{n.forEach((n=>{if(po(n)){const r=n.getFormatFlags(t,e);n.setTextFormat(r)}}))},i=r.length;if(0===i)return this.toggleFormat(t),ai(null),void o(e);const s=this.anchor,l=this.focus,a=this.isBackward(),c=a?l:s,u=a?s:l;let d=0,f=r[0],h="element"===c.type?0:c.offset;if("text"===c.type&&h===f.getTextContentSize()&&(d=1,f=r[1],h=0),null==f)return;const g=f.getFormatFlags(t,e);o(g);const p=i-1;let m=r[p];const _="text"===u.type?u.offset:m.getTextContentSize();if(f.is(m)){if(h===_)return;if(Qo(f)||0===h&&_===f.getTextContentSize())f.setFormat(g);else{const t=f.splitText(h,_),e=0===h?t[0]:t[1];e.setFormat(g),"text"===c.type&&c.set(e.__key,0,"text"),"text"===u.type&&u.set(e.__key,_-h,"text")}return void(this.format=g)}0===h||Qo(f)||([,f]=f.splitText(h),h=0),f.setFormat(g);const y=m.getFormatFlags(t,g);_>0&&(_===m.getTextContentSize()||Qo(m)||([m]=m.splitText(_)),m.setFormat(y));for(let e=d+1;e<p;e++){const n=r[e],o=n.getFormatFlags(t,y);n.setFormat(o)}"text"===c.type&&c.set(f.__key,h,"text"),"text"===u.type&&u.set(m.__key,_,"text"),this.format=g|y}insertNodes(t){if(0===t.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();const e=Or();return hr(e)||r(134),e.insertNodes(t)}const e=(this.isBackward()?this.focus:this.anchor).getNode(),n=Ss(e,ls),o=t[t.length-1];if(po(n)&&"__language"in n){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const e=Kr(this);n.splice(e,0,t),o.selectEnd()}return}if(!t.some((t=>(po(t)||yo(t))&&!t.isInline()))){po(n)||r(211,e.constructor.name,e.getType());const i=Kr(this);return n.splice(i,0,t),void o.selectEnd()}const i=function(t){const e=Ao();let n=null;for(let r=0;r<t.length;r++){const o=t[r],i=Kn(o);if(i||yo(o)&&o.isInline()||po(o)&&o.isInline()||rr(o)||o.isParentRequired()){if(null===n&&(n=o.createParentElementNode(),e.append(n),i))continue;null!==n&&n.append(o)}else e.append(o),n=null}return e}(t),s=i.getLastDescendant(),l=i.getChildren(),a=po(n)&&n.isEmpty()?null:this.insertParagraph(),c=l[l.length-1];let u=l[0];var d;po(d=u)&&ls(d)&&!d.isEmpty()&&po(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(po(n)||r(211,e.constructor.name,e.getType()),n.append(...u.getChildren()),u=l[1]),u&&(null===n&&r(212,e.constructor.name,e.getType()),function(t,e){const n=e.getParentOrThrow().getLastChild();let o=e;const i=[e];for(;o!==n;)o.getNextSibling()||r(140),o=o.getNextSibling(),i.push(o);let s=t;for(const t of i)s=s.insertAfter(t)}(n,u));const f=Ss(s,ls);a&&po(f)&&(a.canMergeWhenEmpty()||ls(c))&&(f.append(...a.getChildren()),a.remove()),po(n)&&n.isEmpty()&&n.remove(),s.selectEnd();const h=po(n)?n.getLastChild():null;Kn(h)&&f!==n&&h.remove()}insertParagraph(){if("root"===this.anchor.key){const t=Ao();return mi().splice(this.anchor.offset,0,[t]),t.select(),t}const t=Kr(this),e=Ss(this.anchor.getNode(),ls);po(e)||r(213);const n=e.getChildAtIndex(t),o=n?[n,...n.getNextSiblings()]:[],i=e.insertNewAfter(this,!1);return i?(i.append(...o),i.selectStart(),i):null}insertLineBreak(t){const e=zn();if(this.insertNodes([e]),t){const t=e.getParentOrThrow(),n=e.getIndexWithinParent();t.select(n,n)}}extract(){const t=[...this.getNodes()],e=t.length;let n=t[0],r=t[e-1];const[o,i]=_r(this),s=this.isBackward(),[l,a]=s?[this.focus,this.anchor]:[this.anchor,this.focus],[c,u]=s?[i,o]:[o,i];if(0===e)return[];if(1===e){if(rr(n)&&!this.isCollapsed()){const t=n.splitText(c,u),e=0===c?t[0]:t[1];return e?(l.set(e.getKey(),0,"text"),a.set(e.getKey(),e.getTextContentSize(),"text"),[e]):[]}return[n]}if(rr(n)&&(c===n.getTextContentSize()?t.shift():0!==c&&([,n]=n.splitText(c),t[0]=n,l.set(n.getKey(),0,"text"))),rr(r)){const e=r.getTextContent().length;0===u?t.pop():u!==e&&([r]=r.splitText(u),t[t.length-1]=r,a.set(r.getKey(),r.getTextContentSize(),"text"))}return t}modify(t,e,n){if(Wr(this,t,e,n))return;const r="move"===t,o=Xr(),i=ts(ji(o));if(!i)return;const s=o._blockCursorElement,l=o._rootElement,a=this.focus.getNode();if(null===l||null===s||!po(a)||a.isInline()||a.canBeEmpty()||Qi(s,o,l),this.dirty){let t=Wi(o,this.anchor.key),e=Wi(o,this.focus.key);"text"===this.anchor.type&&(t=ni(t)),"text"===this.focus.type&&(e=ni(e)),t&&e&&Ir(i,t,this.anchor.offset,e,this.focus.offset)}if(function(t,e,n,r){t.modify(e,n,r)}(i,t,e?"backward":"forward",n),i.rangeCount>0){const t=i.getRangeAt(0),n=this.anchor.getNode(),o=So(n)?n:function(t){let e=t.getParentOrThrow();for(;null!==e;){if(Zi(e))return e;e=e.getParentOrThrow()}return e}(n);if(this.applyDOMRange(t),this.dirty=!0,!r){const n=this.getNodes(),r=[];let s=!1;for(let t=0;t<n.length;t++){const e=n[t];Hi(e,o)?r.push(e):s=!0}if(s&&r.length>0)if(e){const t=r[0];po(t)?t.selectStart():t.getParentOrThrow().selectStart()}else{const t=r[r.length-1];po(t)?t.selectEnd():t.getParentOrThrow().selectEnd()}i.anchorNode===t.startContainer&&i.anchorOffset===t.startOffset||function(t){const e=t.focus,n=t.anchor,r=n.key,o=n.offset,i=n.type;n.set(e.key,e.offset,e.type,!0),e.set(r,o,i,!0)}(this)}}"lineboundary"===n&&Wr(this,t,e,n,"decorators")}forwardDeletion(t,e,n){if(!n&&("element"===t.type&&po(e)&&t.offset===e.getChildrenSize()||"text"===t.type&&t.offset===e.getTextContentSize())){const t=e.getParent(),n=e.getNextSibling()||(null===t?null:t.getNextSibling());if(po(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(t){const e=this.isCollapsed();if(this.isCollapsed()){const e=this.anchor;let n=e.getNode();if(this.forwardDeletion(e,n,t))return;const r=$s(Xs(e,t?"previous":"next"));if(r.getTextSlices().every((t=>null===t||0===t.distance))){let t={type:"initial"};for(const e of r.iterNodeCarets("shadowRoot"))if(Os(e))if(e.origin.isInline());else{if(e.origin.isShadowRoot()){if("merge-block"===t.type)break;if(po(r.anchor.origin)&&r.anchor.origin.isEmpty()){const t=ll(e);el(this,Us(t,t)),r.anchor.origin.remove()}return}"merge-next-block"!==t.type&&"merge-block"!==t.type||(t={block:t.block,caret:e,type:"merge-block"})}else{if("merge-block"===t.type)break;if(Ms(e)){if(po(e.origin)){if(e.origin.isInline()){if(!e.origin.isParentOf(r.anchor.origin))break}else t={block:e.origin,type:"merge-next-block"};continue}if(yo(e.origin)){if(e.origin.isIsolated());else if("merge-next-block"===t.type&&(e.origin.isKeyboardSelectable()||!e.origin.isInline())&&po(r.anchor.origin)&&r.anchor.origin.isEmpty()){r.anchor.origin.remove();const t=kr();t.add(e.origin.getKey()),yi(t)}else e.origin.remove();return}break}}if("merge-block"===t.type){const{caret:e,block:n}=t;return el(this,Us(!e.origin.isEmpty()&&n.isEmpty()?rl(Rs(n,e.direction)):r.anchor,e)),this.removeText()}}const o=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&0===e.offset&&yr(this,e.getNode()))return}else{const r="text"===o.type?o.getNode():null;if(n="text"===e.type?e.getNode():null,null!==r&&r.isSegmented()){const e=o.offset,i=r.getTextContentSize();if(r.is(n)||t&&e!==i||!t&&0!==e)return void Sr(r,t,e)}else if(null!==n&&n.isSegmented()){const o=e.offset,i=n.getTextContentSize();if(n.is(r)||t&&0!==o||!t&&o!==i)return void Sr(n,t,o)}!function(t,e){const n=t.anchor,r=t.focus,o=n.getNode();if(o===r.getNode()&&"text"===n.type&&"text"===r.type){const t=n.offset,i=r.offset,s=t<i,l=s?t:i,a=s?i:t,c=a-1;l!==c&&function(t){return!(Si(t)||vr(t))}(o.getTextContent().slice(l,a))&&(e?r.set(r.key,c,r.type):n.set(n.key,c,n.type))}}(this,t)}}if(this.removeText(),t&&!e&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const t=this.anchor.getNode();t.isEmpty()&&So(t.getParent())&&null===t.getPreviousSibling()&&yr(this,t)}}deleteLine(t){this.isCollapsed()&&this.modify("extend",t,"lineboundary"),this.isCollapsed()?this.deleteCharacter(t):this.removeText()}deleteWord(t){if(this.isCollapsed()){const e=this.anchor,n=e.getNode();if(this.forwardDeletion(e,n,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function pr(t){return t instanceof fr}function mr(t){const e=t.offset;if("text"===t.type)return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function _r(t){const e=t.getStartEndPoints();if(null===e)return[0,0];const[n,r]=e;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[mr(n),mr(r)]}function yr(t,e){for(let n=e;n;n=n.getParent()){if(po(n)){if(n.collapseAtStart(t))return!0;if(Zi(n))break}if(n.getPreviousSibling())break}return!1}const vr=(()=>{try{const t=new RegExp("\\p{Emoji}","u"),e=t.test.bind(t);if(e("❤️")&&e("#️⃣")&&e("👍"))return e}catch(t){}return()=>!1})();function Sr(t,e,n){const r=t,o=r.getTextContent().split(/(?=\s)/g),i=o.length;let s=0,l=0;for(let t=0;t<i;t++){const r=t===i-1;if(l=s,s+=o[t].length,e&&s===n||s>n||r){o.splice(t,1),r&&(l=void 0);break}}const a=o.join("").trim();""===a?r.remove():(r.setTextContent(a),r.select(l,l))}function Cr(t,e,n,o){let i,s=e;if(ns(t)){let l=!1;const a=t.childNodes,c=a.length,u=o._blockCursorElement;s===c&&(l=!0,s=c-1);let d=a[s],f=!1;if(d===u)d=a[s+1],f=!0;else if(null!==u){const n=u.parentNode;t===n&&e>Array.prototype.indexOf.call(n.children,u)&&s--}if(i=vi(d),rr(i))s=Is(i,l?"next":"previous");else{let a=vi(t);if(null===a)return null;if(po(a)){const c=o.getElementByKey(a.getKey());null===c&&r(214);const u=a.getDOMSlot(c);[a,s]=u.resolveChildIndex(a,c,t,e),po(a)||r(215),l&&s>=a.getChildrenSize()&&(s=Math.max(0,a.getChildrenSize()-1));let d=a.getChildAtIndex(s);if(po(d)&&function(t,e,n){const r=t.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(d,0,n)){const t=l?d.getLastDescendant():d.getFirstDescendant();null===t?a=d:(d=t,a=po(d)?d:d.getParentOrThrow()),s=0}rr(d)?(i=d,a=null,s=Is(d,l?"next":"previous")):d!==a&&l&&!f&&(po(a)||r(216),s=Math.min(a.getChildrenSize(),s+1))}else{const n=a.getIndexWithinParent();s=0===e&&yo(a)&&vi(t)===a?n:n+1,a=a.getParentOrThrow()}if(po(a))return cr(a.__key,s,"element")}}else i=vi(t);return rr(i)?cr(i.__key,Is(i,s,"clamp"),"text"):null}function xr(t,e,n){const r=t.offset,o=t.getNode();if(0===r){const r=o.getPreviousSibling(),i=o.getParent();if(e){if((n||!e)&&null===r&&po(i)&&i.isInline()){const e=i.getPreviousSibling();rr(e)&&t.set(e.__key,e.getTextContent().length,"text")}}else po(r)&&!n&&r.isInline()?t.set(r.__key,r.getChildrenSize(),"element"):rr(r)&&t.set(r.__key,r.getTextContent().length,"text")}else if(r===o.getTextContent().length){const r=o.getNextSibling(),i=o.getParent();if(e&&po(r)&&r.isInline())t.set(r.__key,0,"element");else if((n||e)&&null===r&&po(i)&&i.isInline()&&!i.canInsertTextAfter()){const e=i.getNextSibling();rr(e)&&t.set(e.__key,0,"text")}}}function br(t,e,n){if("text"===t.type&&"text"===e.type){const r=t.isBefore(e),o=t.is(e);xr(t,r,o),xr(e,!r,o),o&&e.set(t.key,t.offset,t.type);const i=Xr();if(i.isComposing()&&i._compositionKey!==t.key&&hr(n)){const r=n.anchor,o=n.focus;t.set(r.key,r.offset,r.type,!0),e.set(o.key,o.offset,o.type,!0)}}}function wr(t,e,n,r,o,i){if(null===t||null===n||!Zo(o,t,n))return null;const s=Cr(t,e,hr(i)?i.anchor:null,o);if(null===s)return null;const l=Cr(n,r,hr(i)?i.focus:null,o);if(null===l)return null;if("element"===s.type&&"element"===l.type){const e=vi(t),r=vi(n);if(yo(e)&&yo(r))return null}return br(s,l,i),[s,l]}function Tr(t){return po(t)&&!t.isInline()}function Nr(t,e,n,r,o,i){const s=Gr(),l=new gr(cr(t,e,o),cr(n,r,i),0,"");return l.dirty=!0,s._selection=l,l}function Er(){const t=cr("root",0,"element"),e=cr("root",0,"element");return new gr(t,e,0,"")}function kr(){return new fr(new Set)}function Ar(t,e){return Mr(null,t,e,null)}function Mr(t,e,n,r){const o=n._window;if(null===o)return null;const i=r||o.event,s=i?i.type:void 0,l="selectionchange"===s,a=!K&&(l||"beforeinput"===s||"compositionstart"===s||"compositionend"===s||"click"===s&&i&&3===i.detail||"drop"===s||void 0===s);let c,u,d,f;if(hr(t)&&!a)return t.clone();if(null===e)return null;if(c=e.anchorNode,u=e.focusNode,d=e.anchorOffset,f=e.focusOffset,(l||void 0===s)&&hr(t)&&!Zo(n,c,u))return t.clone();const h=wr(c,d,u,f,n,t);if(null===h)return null;const[g,p]=h;return new gr(g,p,hr(t)?t.format:0,hr(t)?t.style:"")}function Or(){return Gr()._selection}function Fr(){return Xr()._editorState._selection}function Pr(t,e,n,r=1){const o=t.anchor,i=t.focus,s=o.getNode(),l=i.getNode();if(!e.is(s)&&!e.is(l))return;const a=e.__key;if(t.isCollapsed()){const e=o.offset;if(n<=e&&r>0||n<e&&r<0){const n=Math.max(0,e+r);o.set(a,n,"element"),i.set(a,n,"element"),Lr(t)}}else{const s=t.isBackward(),l=s?i:o,c=l.getNode(),u=s?o:i,d=u.getNode();if(e.is(c)){const t=l.offset;(n<=t&&r>0||n<t&&r<0)&&l.set(a,Math.max(0,t+r),"element")}if(e.is(d)){const t=u.offset;(n<=t&&r>0||n<t&&r<0)&&u.set(a,Math.max(0,t+r),"element")}}Lr(t)}function Lr(t){const e=t.anchor,n=e.offset,r=t.focus,o=r.offset,i=e.getNode(),s=r.getNode();if(t.isCollapsed()){if(!po(i))return;const t=i.getChildrenSize(),o=n>=t,s=o?i.getChildAtIndex(t-1):i.getChildAtIndex(n);if(rr(s)){let t=0;o&&(t=s.getTextContentSize()),e.set(s.__key,t,"text"),r.set(s.__key,t,"text")}}else{if(po(i)){const t=i.getChildrenSize(),r=n>=t,o=r?i.getChildAtIndex(t-1):i.getChildAtIndex(n);if(rr(o)){let t=0;r&&(t=o.getTextContentSize()),e.set(o.__key,t,"text")}}if(po(s)){const t=s.getChildrenSize(),e=o>=t,n=e?s.getChildAtIndex(t-1):s.getChildAtIndex(o);if(rr(n)){let t=0;e&&(t=n.getTextContentSize()),r.set(n.__key,t,"text")}}}}function Rr(t,e,n,r,o){let i=null,s=0,l=null;null!==r?(i=r.__key,rr(r)?(s=r.getTextContentSize(),l="text"):po(r)&&(s=r.getChildrenSize(),l="element")):null!==o&&(i=o.__key,rr(o)?l="text":po(o)&&(l="element")),null!==i&&null!==l?t.set(i,s,l):(s=e.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"))}function Dr(t,e,n,r,o){"text"===t.type?t.set(n,t.offset+(e?0:o),"text"):t.offset>r.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element")}function Ir(t,e,n,r,o){try{t.setBaseAndExtent(e,n,r,o)}catch(t){}}function zr(t){let e=Or()||Fr();null===e&&(e=mi().selectEnd()),e.insertNodes(t)}function Kr(t){let e=t;t.isCollapsed()||e.removeText();const n=Or();hr(n)&&(e=n),hr(e)||r(161);const o=e.anchor;let i=o.getNode(),s=o.offset;for(;!ls(i);){const t=i;if([i,s]=Br(i,s),t.is(i))break}return s}function Br(t,e){const n=t.getParent();if(!n){const t=Ao();return mi().append(t),t.select(),[mi(),0]}if(rr(t)){const r=t.splitText(e);if(0===r.length)return[n,t.getIndexWithinParent()];const o=0===e?0:1;return[n,r[0].getIndexWithinParent()+o]}if(!po(t)||0===e)return[n,t.getIndexWithinParent()];const r=t.getChildAtIndex(e);if(r){const n=new gr(cr(t.__key,e,"element"),cr(t.__key,e,"element"),0,""),o=t.insertNewAfter(n);o&&o.append(r,...r.getNextSiblings())}return[n,t.getIndexWithinParent()+1]}function Wr(t,e,n,r,o="decorators-and-blocks"){if("move"===e&&"character"===r&&!t.isCollapsed()){const[e,r]=n===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus];return r.set(e.key,e.offset,e.type),!0}const i=Xs(t.focus,n?"previous":"next"),s="lineboundary"===r,l="move"===e;let a=i,c="decorators-and-blocks"===o;if(!al(a)){for(const t of a){c=!1;const{origin:e}=t;if(!yo(e)||e.isIsolated()||(a=t,!s||!e.isInline()))break}if(c)for(const t of $s(i).iterNodeCarets("extend"===e?"shadowRoot":"root")){if(Os(t))t.origin.isInline()||(a=t);else{if(po(t.origin))continue;yo(t.origin)&&!t.origin.isInline()&&(a=t)}break}}if(a===i)return!1;if(l&&!s&&yo(a.origin)&&a.origin.isKeyboardSelectable()){const t=kr();return t.add(a.origin.getKey()),yi(t),!0}return a=ll(a),l&&Qs(t.anchor,a),Qs(t.focus,a),c||!s}let Jr=null,$r=null,Hr=!1,Ur=!1,jr=0;const qr={characterData:!0,childList:!0,subtree:!0};function Zr(){return Hr||null!==Jr&&Jr._readOnly}function Vr(){Hr&&r(13)}function Yr(){jr>99&&r(14)}function Gr(){return null===Jr&&r(195,Qr()),Jr}function Xr(){return null===$r&&r(196,Qr()),$r}function Qr(){let t=0;const e=new Set,n=Ko.version;if("undefined"!=typeof window)for(const r of document.querySelectorAll("[contenteditable]")){const o=Go(r);if(Vo(o))t++;else if(o){let t=String(o.constructor.version||"<0.17.1");t===n&&(t+=" (separately built, likely a bundler configuration issue)"),e.add(t)}}let r=` Detected on the page: ${t} compatible editor(s) with version ${n}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function to(t,e,n){const r=e.__type,o=$o(t,r);let i=n.get(r);void 0===i&&(i=Array.from(o.transforms),n.set(r,i));const s=i.length;for(let t=0;t<s&&(i[t](e),e.isAttached());t++);}function eo(t,e){return void 0!==t&&t.__key!==e&&t.isAttached()}function no(t,e){if(!e)return;const n=t._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const t of r)n.add(t)}function ro(t){return oo(t,Xr()._nodes)}function oo(t,e){const n=t.type,o=e.get(n);void 0===o&&r(17,n);const i=o.klass;t.type!==i.getType()&&r(18,i.name);const s=i.importJSON(t),l=t.children;if(po(s)&&Array.isArray(l))for(let t=0;t<l.length;t++){const n=oo(l[t],e);s.append(n)}return s}function io(t,e,n){const r=Jr,o=Hr,i=$r;Jr=e,Hr=!0,$r=t;try{return n()}finally{Jr=r,Hr=o,$r=i}}function so(t,e){const n=t._pendingEditorState,r=t._rootElement,o=t._headless||null===r;if(null===n)return;const i=t._editorState,s=i._selection,l=n._selection,a=0!==t._dirtyType,c=Jr,u=Hr,d=$r,f=t._updating,h=t._observer;let g=null;if(t._pendingEditorState=null,t._editorState=n,!o&&a&&null!==h){$r=t,Jr=n,Hr=!1,t._updating=!0;try{const e=t._dirtyType,r=t._dirtyElements,o=t._dirtyLeaves;h.disconnect(),g=function(t,e,n,r,o,i){bt="",Nt="",Et=2===r,gt=n,ht=n._config,pt=n._nodes,mt=gt._listeners.mutation,_t=o,yt=i,vt=t._nodeMap,St=e._nodeMap,kt=e._readOnly,Ct=new Map(n._keyToDOMMap);const s=new Map;return xt=s,Jt("root",null),gt=void 0,pt=void 0,_t=void 0,yt=void 0,vt=void 0,St=void 0,ht=void 0,Ct=void 0,xt=void 0,s}(i,n,t,e,r,o)}catch(e){if(e instanceof Error&&t._onError(e),Ur)throw e;return Do(t,null,r,n),Z(t),t._dirtyType=2,Ur=!0,so(t,i),void(Ur=!1)}finally{h.observe(r,qr),t._updating=f,Jr=c,Hr=u,$r=d}}n._readOnly||(n._readOnly=!0);const p=t._dirtyLeaves,_=t._dirtyElements,y=t._normalizedNodes,v=t._updateTags,S=t._deferred;a&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),function(t,e){const n=t._decorators;let r=t._pendingDecorators||n;const o=e._nodeMap;let i;for(i in r)o.has(i)||(r===n&&(r=gi(t)),delete r[i])}(t,n);const C=o?null:ts(ji(t));if(t._editable&&null!==C&&(a||null===l||l.dirty||!l.is(s))&&null!==r&&!v.has(Ln)){$r=t,Jr=n;try{if(null!==h&&h.disconnect(),a||null===l||l.dirty){const e=t._blockCursorElement;null!==e&&Qi(e,t,r),function(t,e,n,r,o,i){const s=r.anchorNode,l=r.focusNode,a=r.anchorOffset,c=r.focusOffset,u=document.activeElement;if(o.has(Fn)&&u!==i||null!==u&&qo(u))return;if(!hr(e))return void(null!==t&&Zo(n,s,l)&&r.removeAllRanges());const d=e.anchor,f=e.focus,h=d.key,g=f.key,p=Wi(n,h),m=Wi(n,g),_=d.offset,y=f.offset,v=e.format,S=e.style,C=e.isCollapsed();let x=p,b=m,w=!1;if("text"===d.type){x=ni(p);const t=d.getNode();w=t.getFormat()!==v||t.getStyle()!==S}else hr(t)&&"text"===t.anchor.type&&(w=!0);var T,N,E,k,A;if("text"===f.type&&(b=ni(m)),null!==x&&null!==b&&(C&&(null===t||w||hr(t)&&(t.format!==v||t.style!==S))&&(T=v,N=S,E=_,k=h,A=performance.now(),rn=[T,N,E,k,A]),a!==_||c!==y||s!==x||l!==b||"Range"===r.type&&C||(null!==u&&i.contains(u)||o.has(Rn)||i.focus({preventScroll:!0}),"element"===d.type))){if(Ir(r,x,_,b,y),!o.has(Pn)&&e.isCollapsed()&&null!==i&&i===document.activeElement){const t=hr(e)&&"element"===e.anchor.type?x.childNodes[_]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==t){let e;if(t instanceof Text){const n=document.createRange();n.selectNode(t),e=n.getBoundingClientRect()}else e=t.getBoundingClientRect();!function(t,e,n){const r=$i(n),o=Ui(r);if(null===r||null===o)return;let{top:i,bottom:s}=e,l=0,a=0,c=n;for(;null!==c;){const e=c===r.body;if(e)l=0,a=ji(t).innerHeight;else{const t=c.getBoundingClientRect();l=t.top,a=t.bottom}let n=0;if(i<l?n=-(l-i):s>a&&(n=s-a),0!==n)if(e)o.scrollBy(0,n);else{const t=c.scrollTop;c.scrollTop+=n;const e=c.scrollTop-t;i-=e,s-=e}if(e)break;c=Ji(c)}}(n,e,i)}}Ye=!0}}(s,l,t,C,v,r)}!function(t,e,n){let r=t._blockCursorElement;if(hr(n)&&n.isCollapsed()&&"element"===n.anchor.type&&e.contains(document.activeElement)){const o=n.anchor,i=o.getNode(),s=o.offset;let l=!1,a=null;if(s===i.getChildrenSize())Xi(i.getChildAtIndex(s-1))&&(l=!0);else{const e=i.getChildAtIndex(s);if(null!==e&&Xi(e)){const n=e.getPreviousSibling();(null===n||Xi(n))&&(l=!0,a=t.getElementByKey(e.__key))}}if(l){const n=t.getElementByKey(i.__key);return null===r&&(t._blockCursorElement=r=function(t){const e=t.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=e.blockCursor;if(void 0!==r){if("string"==typeof r){const t=m(r);r=e.blockCursor=t}void 0!==r&&n.classList.add(...r)}return n}(t._config)),e.style.caretColor="transparent",void(null===a?n.appendChild(r):n.insertBefore(r,a))}}null!==r&&Qi(r,t,e)}(t,r,l)}finally{null!==h&&h.observe(r,qr),$r=d,Jr=c}}null!==g&&function(t,e,n,r,o){const i=Array.from(t._listeners.mutation),s=i.length;for(let t=0;t<s;t++){const[s,l]=i[t];for(const t of l){const i=e.get(t);void 0!==i&&s(i,{dirtyLeaves:r,prevEditorState:o,updateTags:n})}}}(t,g,v,p,i),hr(l)||null===l||null!==s&&s.is(l)||t.dispatchCommand(qt,void 0);const x=t._pendingDecorators;null!==x&&(t._decorators=x,t._pendingDecorators=null,lo("decorator",t,!0,x)),function(t,e,n){const r=pi(e),o=pi(n);r!==o&&lo("textcontent",t,!0,o)}(t,e||i,n),lo("update",t,!0,{dirtyElements:_,dirtyLeaves:p,editorState:n,mutatedNodes:g,normalizedNodes:y,prevEditorState:e||i,tags:v}),function(t,e){if(t._deferred=[],0!==e.length){const n=t._updating;t._updating=!0;try{for(let t=0;t<e.length;t++)e[t]()}finally{t._updating=n}}}(t,S),function(t){const e=t._updates;if(0!==e.length){const n=e.shift();if(n){const[e,r]=n;co(t,e,r)}}}(t)}function lo(t,e,n,...r){const o=e._updating;e._updating=n;try{const n=Array.from(e._listeners[t]);for(let t=0;t<n.length;t++)n[t].apply(null,r)}finally{e._updating=o}}function ao(t,e){const n=t._updates;let o=e||!1;for(;0!==n.length;){const e=n.shift();if(e){const[n,i]=e,s=t._pendingEditorState;let l;void 0!==i&&(l=i.onUpdate,i.skipTransforms&&(o=!0),i.discrete&&(null===s&&r(191),s._flushSync=!0),l&&t._deferred.push(l),no(t,i.tag)),null==s?co(t,n,i):n()}}return o}function co(t,e,n){const o=t._updateTags;let i,s=!1,l=!1;void 0!==n&&(i=n.onUpdate,no(t,n.tag),s=n.skipTransforms||!1,l=n.discrete||!1),i&&t._deferred.push(i);const a=t._editorState;let c=t._pendingEditorState,u=!1;(null===c||c._readOnly)&&(c=t._pendingEditorState=Co(c||a),u=!0),c._flushSync=l;const d=Jr,f=Hr,h=$r,g=t._updating;Jr=c,Hr=!1,t._updating=!0,$r=t;const p=t._headless||null===t.getRootElement();Wo(null);try{u&&(p?null!==a._selection&&(c._selection=a._selection.clone()):c._selection=function(t,e){const n=t.getEditorState()._selection,r=ts(ji(t));return hr(n)||null==n?Mr(n,r,t,e):n.clone()}(t,n&&n.event||null));const o=t._compositionKey;e(),s=ao(t,s),function(t,e){const n=e.getEditorState()._selection,r=t._selection;if(hr(r)){const t=r.anchor,e=r.focus;let o;if("text"===t.type&&(o=t.getNode(),o.selectionTransform(n,r)),"text"===e.type){const t=e.getNode();o!==t&&t.selectionTransform(n,r)}}}(c,t),0!==t._dirtyType&&(s?function(t,e){const n=e._dirtyLeaves,r=t._nodeMap;for(const t of n){const e=r.get(t);rr(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&ut(e)}}(c,t):function(t,e){const n=e._dirtyLeaves,r=e._dirtyElements,o=t._nodeMap,i=ci(),s=new Map;let l=n,a=l.size,c=r,u=c.size;for(;a>0||u>0;){if(a>0){e._dirtyLeaves=new Set;for(const t of l){const r=o.get(t);rr(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&ut(r),void 0!==r&&eo(r,i)&&to(e,r,s),n.add(t)}if(l=e._dirtyLeaves,a=l.size,a>0){jr++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map,c.delete("root")&&c.set("root",!0);for(const t of c){const n=t[0],l=t[1];if(r.set(n,l),!l)continue;const a=o.get(n);void 0!==a&&eo(a,i)&&to(e,a,s)}l=e._dirtyLeaves,a=l.size,c=e._dirtyElements,u=c.size,jr++}e._dirtyLeaves=n,e._dirtyElements=r}(c,t),ao(t),function(t,e,n,r){const o=t._nodeMap,i=e._nodeMap,s=[];for(const[t]of r){const e=i.get(t);void 0!==e&&(e.isAttached()||(po(e)&&z(e,t,o,i,s,r),o.has(t)||r.delete(t),s.push(t)))}for(const t of s)i.delete(t);for(const t of n){const e=i.get(t);void 0===e||e.isAttached()||(o.has(t)||n.delete(t),i.delete(t))}}(a,c,t._dirtyLeaves,t._dirtyElements)),o!==t._compositionKey&&(c._flushSync=!0);const i=c._selection;if(hr(i)){const t=c._nodeMap,e=i.anchor.key,n=i.focus.key;void 0!==t.get(e)&&void 0!==t.get(n)||r(19)}else pr(i)&&0===i._nodes.size&&(c._selection=null)}catch(e){return e instanceof Error&&t._onError(e),t._pendingEditorState=a,t._dirtyType=2,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void so(t)}finally{Jr=d,Hr=f,$r=h,t._updating=g,jr=0}const m=0!==t._dirtyType||t._deferred.length>0||function(t,e){const n=e.getEditorState()._selection,r=t._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(c,t);m?c._flushSync?(c._flushSync=!1,so(t)):u&&Uo((()=>{so(t)})):(c._flushSync=!1,u&&(o.clear(),t._deferred=[],t._pendingEditorState=null))}function uo(t,e,n){$r===t&&void 0===n?e():co(t,e,n)}class fo{element;before;after;constructor(t,e,n){this.element=t,this.before=e||null,this.after=n||null}withBefore(t){return new fo(this.element,t,this.after)}withAfter(t){return new fo(this.element,this.before,t)}withElement(t){return this.element===t?this:new fo(t,this.before,this.after)}insertChild(t){const e=this.before||this.getManagedLineBreak();return null!==e&&e.parentElement!==this.element&&r(222),this.element.insertBefore(t,e),this}removeChild(t){return t.parentElement!==this.element&&r(223),this.element.removeChild(t),this}replaceChild(t,e){return e.parentElement!==this.element&&r(224),this.element.replaceChild(t,e),this}getFirstChild(){const t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(t){if(null===t)this.removeManagedLineBreak();else{const e="decorator"===t&&(p||d||u);this.insertManagedLineBreak(e)}}removeManagedLineBreak(){const t=this.getManagedLineBreak();if(t){const e=this.element,n="IMG"===t.nodeName?t.nextSibling:null;n&&e.removeChild(n),e.removeChild(t),e.__lexicalLineBreak=void 0}}insertManagedLineBreak(t){const e=this.getManagedLineBreak();if(e){if(t===("IMG"===e.nodeName))return;this.removeManagedLineBreak()}const n=this.element,r=this.before,o=document.createElement("br");if(n.insertBefore(o,r),t){const t=document.createElement("img");t.setAttribute("data-lexical-linebreak","true"),t.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",t.alt="",n.insertBefore(t,o),n.__lexicalLineBreak=t}else n.__lexicalLineBreak=o}getFirstChildOffset(){let t=0;for(let e=this.after;null!==e;e=e.previousSibling)t++;return t}resolveChildIndex(t,e,n,r){if(n===this.element){const e=this.getFirstChildOffset();return[t,Math.min(e+t.getChildrenSize(),Math.max(e,r))]}const o=ho(e,n);o.push(r);const i=ho(e,this.element);let s=t.getIndexWithinParent();for(let t=0;t<i.length;t++){const e=o[t],n=i[t];if(void 0===e||e<n)break;if(e>n){s+=1;break}}return[t.getParentOrThrow(),s]}}function ho(t,e){const n=[];let o=e;for(;o!==t&&null!==o;o=o.parentNode){let t=0;for(let e=o.previousSibling;null!==e;e=e.previousSibling)t++;n.push(t)}return o!==t&&r(225),n.reverse()}class go extends En{__first;__last;__size;__format;__style;__indent;__dir;__textFormat;__textStyle;constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(t){super.afterCloneFrom(t),this.__key===t.__key&&(this.__first=t.__first,this.__last=t.__last,this.__size=t.__size),this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return L[t]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let e=this.getFirstChild();for(;null!==e;)t.push(e),e=e.getNextSibling();return t}getChildrenKeys(){const t=[];let e=this.getFirstChild();for(;null!==e;)t.push(e.__key),e=e.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const t=Xr()._dirtyElements;return null!==t&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return null!==e&&e.is(t)}getAllTextNodes(){const t=[];let e=this.getFirstChild();for(;null!==e;){if(rr(e)&&t.push(e),po(e)){const n=e.getAllTextNodes();t.push(...n)}e=e.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;po(t);){const e=t.getFirstChild();if(null===e)break;t=e}return t}getLastDescendant(){let t=this.getLastChild();for(;po(t);){const e=t.getLastChild();if(null===e)break;t=e}return t}getDescendantByIndex(t){const e=this.getChildren(),n=e.length;if(t>=n){const t=e[n-1];return po(t)&&t.getLastDescendant()||t||null}const r=e[t];return po(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const t=this.getLatest().__first;return null===t?null:ui(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return null===t&&r(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return null===t?null:ui(t)}getLastChildOrThrow(){const t=this.getLastChild();return null===t&&r(96,this.__key),t}getChildAtIndex(t){const e=this.getChildrenSize();let n,r;if(t<e/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=t;){if(r===t)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=e-1;null!==n&&r>=t;){if(r===t)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let t="";const e=this.getChildren(),n=e.length;for(let r=0;r<n;r++){const o=e[r];t+=o.getTextContent(),po(o)&&r!==n-1&&!o.isInline()&&(t+=E)}return t}getTextContentSize(){let t=0;const e=this.getChildren(),n=e.length;for(let r=0;r<n;r++){const o=e[r];t+=o.getTextContentSize(),po(o)&&r!==n-1&&!o.isInline()&&(t+=2)}return t}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(t){if(""!==t){const e=P[t];return!!(this.getFormat()&e)}return!1}hasTextFormat(t){const e=O[t];return!!(this.getTextFormat()&e)}getFormatFlags(t,e){return ri(this.getLatest().__textFormat,t,e)}getTextStyle(){return this.getLatest().__textStyle}select(t,e){Vr();const n=Or();let r=t,o=e;const i=this.getChildrenSize();if(!this.canBeEmpty())if(0===t&&0===e){const t=this.getFirstChild();if(rr(t)||po(t))return t.select(0,0)}else if(!(void 0!==t&&t!==i||void 0!==e&&e!==i)){const t=this.getLastChild();if(rr(t)||po(t))return t.select()}void 0===r&&(r=i),void 0===o&&(o=i);const s=this.__key;return hr(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,o,"element"),n.dirty=!0,n):Nr(s,r,s,o,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach((t=>t.remove())),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const e=this.getWritable();return e.__dir=t,e}setFormat(t){return this.getWritable().__format=""!==t?P[t]:0,this}setStyle(t){return this.getWritable().__style=t||"",this}setTextFormat(t){const e=this.getWritable();return e.__textFormat=t,e}setTextStyle(t){const e=this.getWritable();return e.__textStyle=t,e}setIndent(t){return this.getWritable().__indent=t,this}splice(t,e,n){Nn(this)&&r(324,this.__key,this.__type);const o=this.getChildrenSize(),i=this.getWritable();t+e<=o||r(226,String(t),String(e),String(o));const s=i.__key,l=[],a=[],c=this.getChildAtIndex(t+e);let u=null,d=o-e+n.length;if(0!==t)if(t===o)u=this.getLastChild();else{const e=this.getChildAtIndex(t);null!==e&&(u=e.getPreviousSibling())}if(e>0){let t=null===u?this.getFirstChild():u.getNextSibling();for(let n=0;n<e;n++){null===t&&r(100);const e=t.getNextSibling(),n=t.__key;si(t.getWritable()),a.push(n),t=e}}let f=u;for(const t of n){null!==f&&t.is(f)&&(u=f=f.getPreviousSibling());const e=t.getWritable();e.__parent===s&&d--,si(e);const n=t.__key;if(null===f)i.__first=n,e.__prev=null;else{const t=f.getWritable();t.__next=n,e.__prev=t.__key}t.__key===s&&r(76),e.__parent=s,l.push(n),f=t}if(t+e===o)null!==f&&(f.getWritable().__next=null,i.__last=f.__key);else if(null!==c){const t=c.getWritable();if(null!==f){const e=f.getWritable();t.__prev=f.__key,e.__next=c.__key}else t.__prev=null}if(i.__size=d,a.length){const t=Or();if(hr(t)){const e=new Set(a),n=new Set(l),{anchor:r,focus:o}=t;mo(r,e,n)&&Rr(r,r.getNode(),this,u,c),mo(o,e,n)&&Rr(o,o.getNode(),this,u,c),0!==d||this.canBeEmpty()||Zi(this)||this.remove()}}return i}getDOMSlot(t){return new fo(t)}exportDOM(t){const{element:e}=super.exportDOM(t);if(ns(e)){const t=this.getIndent();t>0&&(e.style.paddingInlineStart=40*t+"px");const n=this.getDirection();n&&(e.dir=n)}return{element:e}}exportJSON(){const t={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},e=this.getTextFormat(),n=this.getTextStyle();return 0===e&&""===n||Zi(this)||this.getChildren().some(rr)||(0!==e&&(t.textFormat=e),""!==n&&(t.textStyle=n)),t}updateFromJSON(t){return super.updateFromJSON(t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"")}insertNewAfter(t,e){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,e,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(t,e){const n=this.getDOMSlot(t);let r=n.getFirstChild();for(let t=this.getFirstChild();t;t=t.getNextSibling()){const o=e.getElementByKey(t.getKey());null!==o&&(null==r?(n.insertChild(o),r=o):r!==o&&n.replaceChild(o,r),r=r.nextSibling)}}}function po(t){return t instanceof go}function mo(t,e,n){let r=t.getNode();for(;r;){const t=r.__key;if(e.has(t)&&!n.has(t))return!0;r=r.getParent()}return!1}class _o extends En{decorate(t,e){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function yo(t){return t instanceof _o}class vo extends go{__cachedText;static getType(){return"root"}static clone(){return new vo}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){r(51)}getTextContent(){const t=this.__cachedText;return!Zr()&&0!==Xr()._dirtyType||null===t?super.getTextContent():t}remove(){r(52)}replace(t){r(53)}insertBefore(t){r(54)}insertAfter(t){r(55)}updateDOM(t,e){return!1}splice(t,e,n){for(const t of n)po(t)||yo(t)||r(282);return super.splice(t,e,n)}static importJSON(t){return mi().updateFromJSON(t)}collapseAtStart(){return!0}}function So(t){return t instanceof vo}function Co(t){return new To(new Map(t._nodeMap))}function xo(){return new To(new Map([["root",new vo]]))}function bo(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&r(130,n.name),po(t)){const o=e.children;Array.isArray(o)||r(59,n.name);const i=t.getChildren();for(let t=0;t<i.length;t++){const e=bo(i[t]);o.push(e)}}return e}function wo(t){return t instanceof To}class To{_nodeMap;_selection;_flushSync;_readOnly;constructor(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(t,e){return io(e&&e.editor||null,this,t)}clone(t){const e=new To(this._nodeMap,void 0===t?this._selection:t);return e._readOnly=!0,e}toJSON(){return io(null,this,(()=>({root:bo(mi())})))}}class No extends go{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class Eo extends go{static getType(){return"paragraph"}static clone(t){return new Eo(t.__key)}createDOM(t){const e=document.createElement("p"),n=Li(t.theme,"paragraph");return void 0!==n&&e.classList.add(...n),e}updateDOM(t,e,n){return!1}static importDOM(){return{p:t=>({conversion:ko,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(ns(e)){this.isEmpty()&&e.append(document.createElement("br"));const t=this.getFormatType();t&&(e.style.textAlign=t)}return{element:e}}static importJSON(t){return Ao().updateFromJSON(t)}exportJSON(){const t=super.exportJSON();if(void 0===t.textFormat||void 0===t.textStyle){const e=this.getChildren().find(rr);e?(t.textFormat=e.getFormat(),t.textStyle=e.getStyle()):(t.textFormat=this.getTextFormat(),t.textStyle=this.getTextStyle())}return t}insertNewAfter(t,e){const n=Ao();n.setTextFormat(t.format),n.setTextStyle(t.style);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,e),n}collapseAtStart(){const t=this.getChildren();if(0===t.length||rr(t[0])&&""===t[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function ko(t){const e=Ao();return t.style&&(e.setFormat(t.style.textAlign),gs(t,e)),{node:e}}function Ao(){return Yi(new Eo)}function Mo(t){return t instanceof Eo}const Oo=0,Fo=1,Po=2,Lo=3,Ro=4;function Do(t,e,n,r){const o=t._keyToDOMMap;o.clear(),t._editorState=xo(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const i=t._observer;null!==i&&(i.disconnect(),t._observer=null),null!==e&&(e.textContent=""),null!==n&&(n.textContent="",o.set("root",n))}function Io(t){const e=new Set,n=new Set;let r=t;for(;r;){const{ownNodeConfig:t}=ys(r),o=r.transform;if(!n.has(o)){n.add(o);const t=r.transform();t&&e.add(t)}if(t){const n=t.$transform;n&&e.add(n),r=t.extends}else{const t=Object.getPrototypeOf(r);r=t.prototype instanceof En&&t!==En?t:void 0}}return e}function zo(t){const e=t||{},n=$r,r=e.theme||{},o=void 0===t?n:e.parentEditor||null,i=e.disableEvents||!1,s=xo(),l=e.namespace||(null!==o?o._config.namespace:xi()),a=e.editorState,c=[vo,qn,Dn,ir,Eo,No,...e.nodes||[]],{onError:u,html:d}=e,f=void 0===e.editable||e.editable;let h;if(void 0===t&&null!==n)h=n._nodes;else{h=new Map;for(let t=0;t<c.length;t++){let e=c[t],n=null,r=null;if("function"!=typeof e){const t=e;e=t.replace,n=t.with,r=t.withKlass||null}ys(e);const o=e.getType(),i=Io(e);h.set(o,{exportDOM:d&&d.export?d.export.get(e):void 0,klass:e,replace:n,replaceWithKlass:r,sharedNodeState:Q(c[t]),transforms:i})}}const g=new Ko(s,o,h,{disableEvents:i,namespace:l,theme:r},u||console.error,function(t,e){const n=new Map,r=new Set,o=t=>{Object.keys(t).forEach((e=>{let r=n.get(e);void 0===r&&(r=[],n.set(e,r)),r.push(t[e])}))};return t.forEach((t=>{const e=t.klass.importDOM;if(null==e||r.has(e))return;r.add(e);const n=e.call(t.klass);null!==n&&o(n)})),e&&o(e),n}(h,d?d.import:void 0),f,t);return void 0!==a&&(g._pendingEditorState=a,g._dirtyType=2),function(t){t.registerCommand(Yt,dn,Oo),t.registerCommand(Gt,fn,Oo),t.registerCommand(Xt,hn,Oo),t.registerCommand(Qt,gn,Oo),t.registerCommand(de,mn,Oo)}(g),g}class Ko{static version;_headless;_parentEditor;_rootElement;_editorState;_pendingEditorState;_compositionKey;_deferred;_keyToDOMMap;_updates;_updating;_listeners;_commands;_nodes;_decorators;_pendingDecorators;_config;_dirtyType;_cloneNotNeeded;_dirtyLeaves;_dirtyElements;_normalizedNodes;_updateTags;_observer;_key;_onError;_htmlConversions;_window;_editable;_blockCursorElement;_createEditorArgs;constructor(t,e,n,r,o,i,s,l){this._createEditorArgs=l,this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=xi(),this._onError=o,this._htmlConversions=i,this._editable=s,this._headless=null!==e&&e._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(t){const e=this._listeners.update;return e.add(t),()=>{e.delete(t)}}registerEditableListener(t){const e=this._listeners.editable;return e.add(t),()=>{e.delete(t)}}registerDecoratorListener(t){const e=this._listeners.decorator;return e.add(t),()=>{e.delete(t)}}registerTextContentListener(t){const e=this._listeners.textcontent;return e.add(t),()=>{e.delete(t)}}registerRootListener(t){const e=this._listeners.root;return t(this._rootElement,null),e.add(t),()=>{t(null,this._rootElement),e.delete(t)}}registerCommand(t,e,n){void 0===n&&r(35);const o=this._commands;o.has(t)||o.set(t,[new Set,new Set,new Set,new Set,new Set]);const i=o.get(t);void 0===i&&r(36,String(t));const s=i[n];return s.add(e),()=>{s.delete(e),i.every((t=>0===t.size))&&o.delete(t)}}registerMutationListener(t,e,n){const r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,o=this._listeners.mutation;let i=o.get(e);void 0===i&&(i=new Set,o.set(e,i)),i.add(r);const s=n&&n.skipInitialization;return void 0!==s&&s||this.initializeMutationListener(e,r),()=>{i.delete(r),0===i.size&&o.delete(e)}}getRegisteredNode(t){const e=this._nodes.get(t.getType());return void 0===e&&r(37,t.name),e}resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;)t=this.getRegisteredNode(t.replaceWithKlass);return t}initializeMutationListener(t,e){const n=this._editorState,r=ds(n).get(e.getType());if(!r)return;const o=new Map;for(const t of r.keys())o.set(t,"created");o.size>0&&t(o,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(t,e){const n=this.getRegisteredNode(t);return n.transforms.add(e),n}registerNodeTransform(t,e){const n=this.registerNodeTransformToKlass(t,e),r=[n],o=n.replaceWithKlass;if(null!=o){const t=this.registerNodeTransformToKlass(o,e);r.push(t)}return function(t,e){const n=ds(t.getEditorState()),r=[];for(const t of e){const e=n.get(t);e&&r.push(e)}0!==r.length&&t.update((()=>{for(const t of r)for(const e of t.keys()){const t=ui(e);t&&t.markDirty()}}),null===t._pendingEditorState?{tag:Mn}:void 0)}(this,r.map((t=>t.klass.getType()))),()=>{r.forEach((t=>t.transforms.delete(e)))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,e){return Ki(this,t,e)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const e=this._rootElement;if(t!==e){const n=Li(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=t,Do(this,e,t,r),null!==e&&(this._config.disableEvents||xn(e),null!=n&&e.classList.remove(...n)),null!==t){const e=Ui(t),r=t.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=e,this._dirtyType=2,Z(this),this._updateTags.add(Mn),so(this),this._config.disableEvents||function(t,e){const n=t.ownerDocument;Ze.set(t,n);const r=Ve.get(n)??0;r<1&&n.addEventListener("selectionchange",vn),Ve.set(n,r+1),t.__lexicalEditor=e;const o=_n(t);for(let n=0;n<$e.length;n++){const[r,i]=$e[n],s="function"==typeof i?t=>{Cn(t)||(Sn(t),(e.isEditable()||"click"===r)&&i(t,e))}:t=>{if(Cn(t))return;Sn(t);const n=e.isEditable();switch(r){case"cut":return n&&Ki(e,Pe,t);case"copy":return Ki(e,Fe,t);case"paste":return n&&Ki(e,oe,t);case"dragstart":return n&&Ki(e,Ae,t);case"dragover":return n&&Ki(e,Me,t);case"dragend":return n&&Ki(e,Oe,t);case"focus":return n&&Ki(e,Ke,t);case"blur":return n&&Ki(e,Be,t);case"drop":return n&&Ki(e,Ee,t)}};t.addEventListener(r,s),o.push((()=>{t.removeEventListener(r,s)}))}}(t,this),null!=n&&t.classList.add(...n)}else this._window=null,this._updateTags.add(Mn),so(this);lo("root",this,!1,t,e)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,e){t.isEmpty()&&r(38);let n=t;n._readOnly&&(n=Co(t),n._selection=t._selection?t._selection.clone():null),q(this);const o=this._pendingEditorState,i=this._updateTags,s=void 0!==e?e.tag:null;null===o||o.isEmpty()||(null!=s&&i.add(s),so(this)),this._pendingEditorState=n,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=s&&i.add(s),this._updating||so(this)}parseEditorState(t,e){return function(t,e,n){const r=xo(),o=Jr,i=Hr,s=$r,l=e._dirtyElements,a=e._dirtyLeaves,c=e._cloneNotNeeded,u=e._dirtyType;e._dirtyElements=new Map,e._dirtyLeaves=new Set,e._cloneNotNeeded=new Set,e._dirtyType=0,Jr=r,Hr=!1,$r=e,Wo(null);try{const o=e._nodes;oo(t.root,o),n&&n(),r._readOnly=!0}catch(t){t instanceof Error&&e._onError(t)}finally{e._dirtyElements=l,e._dirtyLeaves=a,e._cloneNotNeeded=c,e._dirtyType=u,Jr=o,Hr=i,$r=s}return r}("string"==typeof t?JSON.parse(t):t,this,e)}read(t){return so(this),this.getEditorState().read(t,{editor:this})}update(t,e){!function(t,e,n){t._updating?t._updates.push([e,n]):co(t,e,n)}(this,t,e)}focus(t,e={}){const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),uo(this,(()=>{const r=Or(),o=mi();null!==r?r.dirty||yi(r.clone()):0!==o.getChildrenSize()&&("rootStart"===e.defaultSelection?o.selectStart():o.selectEnd()),Vr(),Xr()._updateTags.add("focus"),function(t){Vr(),Xr()._deferred.push(t)}((()=>{n.removeAttribute("autocapitalize"),t&&t()}))})),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;null!==t&&t.blur();const e=ts(this._window);null!==e&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,lo("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}Ko.version="0.39.0+prod.esm";let Bo=null;function Wo(t){Bo=t}let Jo=1;function $o(t,e){const n=Ho(t,e);return void 0===n&&r(30,e),n}function Ho(t,e){return t._nodes.get(e)}const Uo="function"==typeof queueMicrotask?queueMicrotask:t=>{Promise.resolve().then(t)};function jo(t){return yo(hi(t))}function qo(t){const e=document.activeElement;if(!ns(e))return!1;const n=e.nodeName;return yo(hi(t))&&("INPUT"===n||"TEXTAREA"===n||"true"===e.contentEditable&&null==Go(e))}function Zo(t,e,n){const r=t.getRootElement();try{return null!==r&&r.contains(e)&&r.contains(n)&&null!==e&&!qo(e)&&Yo(e)===t}catch(t){return!1}}function Vo(t){return t instanceof Ko}function Yo(t){let e=t;for(;null!=e;){const t=Go(e);if(Vo(t))return t;e=Ji(e)}return null}function Go(t){return t?t.__lexicalEditor:null}function Xo(t){return lr(t)||t.isToken()}function Qo(t){return Xo(t)||t.isSegmented()}function ti(t){return rs(t)&&3===t.nodeType}function ei(t){return rs(t)&&9===t.nodeType}function ni(t){let e=t;for(;null!=e;){if(ti(e))return e;e=e.firstChild}return null}function ri(t,e,n){const r=O[e];if(null!==n&&(t&r)==(n&r))return t;let o=t^r;return"subscript"===e?o&=~O.superscript:"superscript"===e?o&=~O.subscript:"lowercase"===e?(o&=~O.uppercase,o&=~O.capitalize):"uppercase"===e?(o&=~O.lowercase,o&=~O.capitalize):"capitalize"===e&&(o&=~O.lowercase,o&=~O.uppercase),o}function oi(t){return rr(t)||Kn(t)||yo(t)}function ii(t,e){const n=function(){const t=Bo;return Bo=null,t}();if(null!=(e=e||n&&n.__key))return void(t.__key=e);Vr(),Yr();const r=Xr(),o=Gr(),i=""+Jo++;o._nodeMap.set(i,t),po(t)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=1,t.__key=i}function si(t){const e=t.getParent();if(null!==e){const n=t.getWritable(),r=e.getWritable(),o=t.getPreviousSibling(),i=t.getNextSibling(),s=null!==i?i.__key:null,l=null!==o?o.__key:null,a=null!==o?o.getWritable():null,c=null!==i?i.getWritable():null;null===o&&(r.__first=s),null===i&&(r.__last=l),null!==a&&(a.__next=s),null!==c&&(c.__prev=l),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function li(t){Yr(),Nn(t)&&r(323,t.__key,t.__type);const e=t.getLatest(),n=e.__parent,o=Gr(),i=Xr(),s=o._nodeMap,l=i._dirtyElements;null!==n&&function(t,e,n){let r=t;for(;null!==r;){if(n.has(r))return;const t=e.get(r);if(void 0===t)break;n.set(r,!1),r=t.__parent}}(n,s,l);const a=e.__key;i._dirtyType=1,po(t)?l.set(a,!0):i._dirtyLeaves.add(a)}function ai(t){Vr();const e=Xr(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,null!==n){const t=ui(n);null!==t&&t.getWritable()}if(null!==t){const e=ui(t);null!==e&&e.getWritable()}}}function ci(){return Zr()?null:Xr()._compositionKey}function ui(t,e){const n=(e||Gr())._nodeMap.get(t);return void 0===n?null:n}function di(t,e){const n=fi(t,Xr());return void 0!==n?ui(n,e):null}function fi(t,e){return t[`__lexicalKey_${e._key}`]}function hi(t,e){let n=t;for(;null!=n;){const t=di(n,e);if(null!==t)return t;n=Ji(n)}return null}function gi(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function pi(t){return t.read((()=>mi().getTextContent()))}function mi(){return _i(Gr())}function _i(t){return t._nodeMap.get("root")}function yi(t){Vr();const e=Gr();null!==t&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function vi(t){const e=Xr(),n=function(t,e){let n=t;for(;null!=n;){const t=fi(n,e);if(void 0!==t)return t;n=Ji(n)}return null}(t,e);return null===n?t===e.getRootElement()?ui("root"):null:ui(n)}function Si(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function Ci(t){const e=[];let n=t;for(;null!==n;)e.push(n),n=n._parentEditor;return e}function xi(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function bi(t){return ti(t)?t.nodeValue:null}function wi(t,e,n){const r=ts(ji(e));if(null===r)return;const o=r.anchorNode;let{anchorOffset:i,focusOffset:s}=r;if(null!==o){let e=bi(o);const r=hi(o);if(null!==e&&rr(r)){if(e===N&&n){const t=n.length;e=n,i=t,s=t}null!==e&&Ti(r,e,i,s,t)}}}function Ti(t,e,n,r,o){let i=t;if(i.isAttached()&&(o||!i.isDirty())){const s=i.isComposing();let l=e;(s||o)&&e[e.length-1]===N&&(l=e.slice(0,-1));const a=i.getTextContent();if(o||l!==a){if(""===l){if(ai(null),u||d||p)i.remove();else{const t=Xr();setTimeout((()=>{t.update((()=>{i.isAttached()&&i.remove()}))}),20)}return}const e=i.getParent(),o=Fr(),a=i.getTextContentSize(),c=ci(),f=i.getKey();if(i.isToken()||null!==c&&f===c&&!s||hr(o)&&(null!==e&&!e.canInsertTextBefore()&&0===o.anchor.offset||o.anchor.key===t.__key&&0===o.anchor.offset&&!i.canInsertTextBefore()&&!s||o.focus.key===t.__key&&o.focus.offset===a&&!i.canInsertTextAfter()&&!s))return void i.markDirty();const h=Or();if(!hr(h)||null===n||null===r)return void Ni(i,l,h);if(h.setTextNodeRange(i,n,i,r),i.isSegmented()){const t=nr(i.getTextContent());i.replace(t),i=t}Ni(i,l,h)}}}function Ni(t,e,n){if(t.setTextContent(e),hr(n)){const e=t.getKey();for(const r of["anchor","focus"]){const o=n[r];"text"===o.type&&o.key===e&&(o.offset=Is(t,o.offset,"clamp"))}}}function Ei(t,e,n){const r=e[n]||!1;return"any"===r||r===t[n]}function ki(t,e,n){return function(t,e){return Ei(t,e,"altKey")&&Ei(t,e,"ctrlKey")&&Ei(t,e,"shiftKey")&&Ei(t,e,"metaKey")}(t,n)&&t.key.toLowerCase()===e.toLowerCase()}const Ai={ctrlKey:!l,metaKey:l},Mi={altKey:l,ctrlKey:!l};function Oi(t){return"Backspace"===t.key}function Fi(t){return ki(t,"a",Ai)}function Pi(t){const e=mi();if(hr(t)){const e=t.anchor,n=t.focus,r=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();return e.set(r.getKey(),0,"element"),n.set(r.getKey(),r.getChildrenSize(),"element"),dt(t),t}{const t=e.select(0,e.getChildrenSize());return yi(dt(t)),t}}function Li(t,e){void 0===t.__lexicalClassNameCache&&(t.__lexicalClassNameCache={});const n=t.__lexicalClassNameCache,r=n[e];if(void 0!==r)return r;const o=t[e];if("string"==typeof o){const t=m(o);return n[e]=t,t}return o}function Ri(t,e,n,o,i){if(0===n.size)return;const s=o.__type,l=o.__key,a=e.get(s);void 0===a&&r(33,s);const c=a.klass;let u=t.get(c);void 0===u&&(u=new Map,t.set(c,u));const d=u.get(l),f="destroyed"===d&&"created"===i;(void 0===d||f)&&u.set(l,f?"updated":i)}function Di(t,e,n){const r=t.getParent();let o=n,i=t;return null!==r&&(e&&0===n?(o=i.getIndexWithinParent(),i=r):e||n!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(e?o-1:o)}function Ii(t,e){const n=t.offset;if("element"===t.type)return Di(t.getNode(),e,n);{const r=t.getNode();if(e&&0===n||!e&&n===r.getTextContentSize()){const t=e?r.getPreviousSibling():r.getNextSibling();return null===t?Di(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):t}}return null}function zi(t){const e=ji(t).event,n=e&&e.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function Ki(t,e,n){return function(t,e,n){const r=Ci(t);for(let o=4;o>=0;o--)for(let i=0;i<r.length;i++){const s=r[i],l=s._commands.get(e);if(void 0!==l){const e=l[o];if(void 0!==e){const r=Array.from(e),o=r.length;let i=!1;if(uo(s,(()=>{for(let e=0;e<o;e++)if(r[e](n,t))return void(i=!0)})),i)return i}}}return!1}(t,e,n)}function Bi(t){return!So(t)&&!t.isLastChild()&&!t.isInline()}function Wi(t,e){const n=t._keyToDOMMap.get(e);return void 0===n&&r(75,e),n}function Ji(t){const e=t.assignedSlot||t.parentElement;return os(e)?e.host:e}function $i(t){return ei(t)?t:ns(t)?t.ownerDocument:null}function Hi(t,e){let n=t.getParent();for(;null!==n;){if(n.is(e))return!0;n=n.getParent()}return!1}function Ui(t){const e=$i(t);return e?e.defaultView:null}function ji(t){const e=t._window;return null===e&&r(78),e}function qi(t){return po(t)&&t.isInline()||yo(t)&&t.isInline()}function Zi(t){return So(t)||po(t)&&t.isShadowRoot()}function Vi(t){const e=t.constructor.clone(t);return ii(e,null),e.afterCloneFrom(t),e}function Yi(t){const e=Xr(),n=t.getType(),o=Ho(e,n);void 0===o&&r(200,t.constructor.name,n);const{replace:i,replaceWithKlass:s}=o;if(null!==i){const e=i(t),o=e.constructor;return null!==s?e instanceof s||r(201,s.name,s.getType(),o.name,o.getType(),t.constructor.name,n):e instanceof t.constructor&&o!==t.constructor||r(202,o.name,o.getType(),t.constructor.name,n),e.__key===t.__key&&r(203,t.constructor.name,n,o.name,o.getType()),e}return t}function Gi(t,e){!So(t.getParent())||po(e)||yo(e)||r(99)}function Xi(t){return(yo(t)||po(t)&&!t.canBeEmpty())&&!t.isInline()}function Qi(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=t.parentElement;null!==r&&r.removeChild(t)}function ts(t){return i?(t||window).getSelection():null}function es(t){return ns(t)&&"A"===t.tagName}function ns(t){return rs(t)&&1===t.nodeType}function rs(t){return"object"==typeof t&&null!==t&&"nodeType"in t&&"number"==typeof t.nodeType}function os(t){return rs(t)&&11===t.nodeType}function is(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==t.nodeName.match(e)}function ss(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==t.nodeName.match(e)}function ls(t){if(yo(t)&&!t.isInline())return!0;if(!po(t)||Zi(t))return!1;const e=t.getFirstChild(),n=null===e||Kn(e)||rr(e)||e.isInline();return!t.isInline()&&!1!==t.canBeEmpty()&&n}function as(){return Xr()}const cs=new WeakMap,us=new Map;function ds(t){if(!t._readOnly&&t.isEmpty())return us;t._readOnly||r(192);let e=cs.get(t);return e||(e=function(t){const e=new Map;for(const[n,r]of t._nodeMap){const t=r.__type;let o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(n,r)}return e}(t),cs.set(t,e)),e}function fs(t){const e=t.constructor.clone(t);return e.afterCloneFrom(t),e}function hs(t){return(e=fs(t))[Tn]=!0,e;var e}function gs(t,e){const n=parseInt(t.style.paddingInlineStart,10)||0,r=Math.round(n/40);e.setIndent(r)}function ps(t){t.__lexicalUnmanaged=!0}function ms(t){return!0===t.__lexicalUnmanaged}function _s(t,e){return function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,e)&&t[e]!==En[e]}function ys(t){const e=I in t.prototype?t.prototype[I]():void 0,n=function(t){if(!(t===En||t.prototype instanceof En)){let e="<unknown>",n="<unknown>";try{e=t.getType()}catch(t){}try{Ko.version&&(n=JSON.parse(Ko.version))}catch(t){}r(290,t.name,e,n)}return t===_o||t===go||t===En}(t),o=!n&&_s(t,"getType")?t.getType():void 0;let i,s=o;if(e)if(o)i=e[o];else for(const[t,n]of Object.entries(e))s=t,i=n;if(!n&&s&&(_s(t,"getType")||(t.getType=()=>s),_s(t,"clone")||(t.clone=e=>(Wo(e),new t)),_s(t,"importJSON")||(t.importJSON=i&&i.$importJSON||(e=>(new t).updateFromJSON(e))),!_s(t,"importDOM")&&i)){const{importDOM:e}=i;e&&(t.importDOM=()=>e)}return{ownNodeConfig:i,ownNodeType:s}}function vs(t){const e=as();return Vr(),new(e.resolveRegisteredNodeAfterReplacements(e.getRegisteredNode(t)).klass)}const Ss=(t,e)=>{let n=t;for(;null!=n&&!So(n);){if(e(n))return n;n=n.getParent()}return null},Cs={next:"previous",previous:"next"};class xs{origin;constructor(t){this.origin=t}[Symbol.iterator](){return js({hasNext:Ms,initial:this.getAdjacentCaret(),map:t=>t,step:t=>t.getAdjacentCaret()})}getAdjacentCaret(){return Rs(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Rs(this.origin,this.direction)}remove(){const t=this.getNodeAtCaret();return t&&t.remove(),this}replaceOrInsert(t,e){const n=this.getNodeAtCaret();return t.is(this.origin)||t.is(n)||(null===n?this.insert(t):n.replace(t,e)),this}splice(t,e,n="next"){const o=n===this.direction?e:Array.from(e).reverse();let i=this;const s=this.getParentAtCaret(),l=new Map;for(let e=i.getAdjacentCaret();null!==e&&l.size<t;e=e.getAdjacentCaret()){const t=e.origin.getWritable();l.set(t.getKey(),t)}for(const t of o){if(l.size>0){const e=i.getNodeAtCaret();if(e)if(l.delete(e.getKey()),l.delete(t.getKey()),e.is(t)||i.origin.is(t));else{const n=t.getParent();n&&n.is(s)&&t.remove(),e.replace(t)}else null===e&&r(263,Array.from(l).join(" "))}else i.insert(t);i=Rs(t,this.direction)}for(const t of l.values())t.remove();return this}}class bs extends xs{type="child";getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Ks(t,this.direction)}getParentCaret(t="root"){return Rs(Ns(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=Ts(this.direction);return Rs(this.getNodeAtCaret(),t)||Ks(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof bs&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const ws={root:So,shadowRoot:Zi};function Ts(t){return Cs[t]}function Ns(t,e="root"){return ws[e](t)?null:t}class Es extends xs{type="sibling";getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Rs(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return po(this.origin)?Ks(this.origin,this.direction):null}getParentCaret(t="root"){return Rs(Ns(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=Ts(this.direction);return Rs(this.getNodeAtCaret(),t)||Ks(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof Es&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof Es||t instanceof ks)&&this.direction===t.direction&&this.origin.is(t.origin)}}class ks extends xs{type="text";offset;constructor(t,e){super(t),this.offset=e}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Ds(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return Rs(Ns(this.getParentAtCaret(),t),this.direction)}getFlipped(){return Ds(this.origin,Ts(this.direction),this.offset)}isSamePointCaret(t){return t instanceof ks&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof Es||t instanceof ks)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return Rs(this.origin,this.direction)}}function As(t){return t instanceof ks}function Ms(t){return t instanceof Es}function Os(t){return t instanceof bs}const Fs={next:class extends ks{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends ks{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},Ps={next:class extends Es{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends Es{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},Ls={next:class extends bs{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(t){return this.origin.splice(0,0,[t]),this}},previous:class extends bs{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this}}};function Rs(t,e){return t?new Ps[e](t):null}function Ds(t,e,n){return t?new Fs[e](t,Is(t,n)):null}function Is(t,e,n="error"){const r=t.getTextContentSize();let i="next"===e?r:"previous"===e?0:e;return(i<0||i>r)&&("clamp"!==n&&o(284,String(e),String(r),t.getKey()),i=i<0?0:r),i}function zs(t,e){return new Js(t,e)}function Ks(t,e){return po(t)?new Ls[e](t):null}function Bs(t){return t&&function(t){return t&&t.getChildCaret()||t}(t.getAdjacentCaret())}class Ws{type="node-caret-range";direction;anchor;focus;constructor(t,e,n){this.anchor=t,this.focus=e,this.direction=n}getLatest(){const t=this.anchor.getLatest(),e=this.focus.getLatest();return t===this.anchor&&e===this.focus?this:new Ws(t,e,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const t=t=>{const e=this[t].getLatest();return As(e)?function(t,e){const{direction:n,origin:r}=t;return zs(t,Is(r,"focus"===e?Ts(n):n)-t.offset)}(e,t):null},e=t("anchor"),n=t("focus");if(e&&n){const{caret:t}=e,{caret:r}=n;if(t.isSameNodeCaret(r))return[zs(t,r.offset-t.offset),null]}return[e,n]}iterNodeCarets(t="root"){const e=As(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=As(n),o=e=>e.isSameNodeCaret(n)?null:Bs(e)||e.getParentCaret(t);return js({hasNext:t=>null!==t&&!(r&&n.isSameNodeCaret(t)),initial:e.isSameNodeCaret(n)?null:o(e),map:t=>t,step:o})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class Js{type="slice";caret;distance;constructor(t,e){this.caret=t,this.distance=e}getSliceIndices(){const{distance:t,caret:{offset:e}}=this,n=e+t;return n<e?[n,e]:[e,n]}getTextContent(){const[t,e]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(t,e)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:t,direction:e}}=this,[n,r]=this.getSliceIndices(),o=t.getTextContent();return Ds(t.setTextContent(o.slice(0,n)+o.slice(r)),e,n)}}function $s(t){return Us(t,Rs(mi(),t.direction))}function Hs(t){return Us(t,t)}function Us(t,e){return t.direction!==e.direction&&r(265),new Ws(t,e,t.direction)}function js(t){const{initial:e,hasNext:n,step:r,map:o}=t;let i=e;return{[Symbol.iterator](){return this},next(){if(!n(i))return{done:!0,value:void 0};const t={done:!1,value:o(i)};return i=r(i),t}}}function qs(t,e){const n=Gs(t.origin,e.origin);switch(null===n&&r(275,t.origin.getKey(),e.origin.getKey()),n.type){case"same":{const n="text"===t.type,r="text"===e.type;return n&&r?function(t,e){return Math.sign(t-e)}(t.offset,e.offset):t.type===e.type?0:n?-1:r?1:"child"===t.type?-1:1}case"ancestor":return"child"===t.type?-1:1;case"descendant":return"child"===e.type?1:-1;case"branch":return Zs(n)}}function Zs(t){const{a:e,b:n}=t,r=e.__key,o=n.__key;let i=e,s=n;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===o)return-1;if(s.__key===r)return 1}return null===i?1:-1}function Vs(t,e){return e.is(t)}function Ys(t){return po(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()]}function Gs(t,e){if(t.is(e))return{commonAncestor:t,type:"same"};const n=new Map;for(let[e,r]=Ys(t);e;r=e,e=e.getParent())n.set(e,r);for(let[o,i]=Ys(e);o;i=o,o=o.getParent()){const s=n.get(o);if(void 0!==s)return null===s?(Vs(t,o)||r(276),{commonAncestor:o,type:"ancestor"}):null===i?(Vs(e,o)||r(277),{commonAncestor:o,type:"descendant"}):((po(s)||Vs(t,s))&&(po(i)||Vs(e,i))&&o.is(s.getParent())&&o.is(i.getParent())||r(278),{a:s,b:i,commonAncestor:o,type:"branch"})}return null}function Xs(t,e){const{type:n,key:o,offset:i}=t,s=function(t){const e=ui(t);return null===e&&r(63,t),e}(t.key);return"text"===n?(rr(s)||r(266,s.getType(),o),Ds(s,e,i)):(po(s)||r(267,s.getType(),o),function(t,e,n){let r=Ks(t,"next");for(let t=0;t<e;t++){const t=r.getAdjacentCaret();if(null===t)break;r=t}return cl(r,n)}(s,t.offset,e))}function Qs(t,e){const{origin:n,direction:o}=e,i="next"===o;As(e)?t.set(n.getKey(),e.offset,"text"):Ms(e)?rr(n)?t.set(n.getKey(),Is(n,o),"text"):t.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(i?1:0),"element"):(Os(e)&&po(n)||r(268),t.set(n.getKey(),i?0:n.getChildrenSize(),"element"))}function tl(t){const e=Or(),n=hr(e)?e:Er();return el(n,t),yi(n),n}function el(t,e){Qs(t.anchor,e.anchor),Qs(t.focus,e.focus)}function nl(t){const{anchor:e,focus:n}=t,r=Xs(e,"next"),o=Xs(n,"next"),i=qs(r,o)<=0?"next":"previous";return Us(cl(r,i),cl(o,i))}function rl(t){const{direction:e,origin:n}=t,r=Rs(n,Ts(e)).getNodeAtCaret();return r?Rs(r,e):Ks(n.getParentOrThrow(),e)}function ol(t,e="root"){const n=[t];for(let r=Os(t)?t.getParentCaret(e):t.getSiblingCaret();null!==r;r=r.getParentCaret(e))n.push(rl(r));return n}function il(t){return!!t&&t.origin.isAttached()}function sl(t,e="removeEmptySlices"){if(t.isCollapsed())return t;const n="root",o="next";let i=e;const s=ul(t,o),l=ol(s.anchor,n),a=ol(s.focus.getFlipped(),n),c=new Set,u=[];for(const t of s.iterNodeCarets(n))if(Os(t))c.add(t.origin.getKey());else if(Ms(t)){const{origin:e}=t;po(e)&&!c.has(e.getKey())||u.push(e)}for(const t of u)t.remove();for(const t of s.getTextSlices()){if(!t)continue;const{origin:e}=t.caret,n=e.getTextContentSize(),r=rl(Rs(e,o)),s=e.getMode();if(Math.abs(t.distance)===n&&"removeEmptySlices"===i||"token"===s&&0!==t.distance)r.remove();else if(0!==t.distance){i="removeEmptySlices";let e=t.removeTextSlice();const n=t.caret.origin;if("segmented"===s){const t=e.origin,n=nr(t.getTextContent()).setStyle(t.getStyle()).setFormat(t.getFormat());r.replaceOrInsert(n),e=Ds(n,o,e.offset)}n.is(l[0].origin)&&(l[0]=e),n.is(a[0].origin)&&(a[0]=e.getFlipped())}}let d,f;for(const t of l)if(il(t)){d=ll(t);break}for(const t of a)if(il(t)){f=ll(t);break}const h=function(t,e,n){if(!t||!e)return null;const r=t.getParentAtCaret(),o=e.getParentAtCaret();if(!r||!o)return null;const i=r.getParents().reverse();i.push(r);const s=o.getParents().reverse();s.push(o);const l=Math.min(i.length,s.length);let a;for(a=0;a<l&&i[a]===s[a];a++);const c=(t,e)=>{let n;for(let r=a;r<t.length;r++){const o=t[r];if(Zi(o))return;!n&&e(o)&&(n=o)}return n},u=c(i,ls),d=u&&c(s,(t=>n.has(t.getKey())&&ls(t)));return u&&d?[u,d]:null}(d,f,c);if(h){const[t,e]=h;Ks(t,"previous").splice(0,e.getChildren()),e.remove()}const g=[d,f,...l,...a].find(il);if(g)return Hs(cl(ll(g),t.direction));r(269,JSON.stringify(l.map((t=>t.origin.__key))))}function ll(t){const e=function(t){let e=t;for(;Os(e);){const t=Bs(e);if(!Os(t))break;e=t}return e}(t.getLatest()),{direction:n}=e;if(rr(e.origin))return As(e)?e:Ds(e.origin,n,n);const r=e.getAdjacentCaret();return Ms(r)&&rr(r.origin)?Ds(r.origin,n,Ts(n)):e}function al(t){return As(t)&&t.offset!==Is(t.origin,t.direction)}function cl(t,e){return t.direction===e?t:t.getFlipped()}function ul(t,e){return t.direction===e?t:Us(cl(t.focus,e),cl(t.anchor,e))}function dl(t){const{origin:e,offset:n,direction:o}=t;if(n===Is(e,o))return t.getSiblingCaret();if(n===Is(e,Ts(o)))return rl(t.getSiblingCaret());const[i]=e.splitText(n);return rr(i)||r(281),cl(Rs(i,"next"),o)}function fl(t,e){return!0}function hl(t,{$copyElementNode:e=Vi,$splitTextPointCaretNext:n=dl,rootMode:r="shadowRoot",$shouldSplit:o=fl}={}){if(As(t))return n(t);const i=t.getParentCaret(r);if(i){const{origin:n}=i;if(Os(t)&&(!n.canBeEmpty()||!o(n,"first")))return rl(i);const r=function(t){const e=[];for(let n=t.getAdjacentCaret();n;n=n.getAdjacentCaret())e.push(n.origin);return e}(t);(r.length>0||n.canBeEmpty()&&o(n,"last"))&&i.insert(e(n).splice(0,0,r))}return i}function gl(t){return t}function pl(...t){return t}function ml(t){return t}function _l(t,e){if(!e||t===e)return t;for(const n in e)if(t[n]!==e[n])return{...t,...e};return t}},1714:(t,e,n)=>{n.d(e,{$:()=>v});var r=n(1711),o=n(228);const i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function s(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}var l=n(1715);const a=(0,n(1712).vE9)({name:"@lexical/react/ReactProvider"});var c=n(1713),u=n(1717),d=n(1716),f=n(1718),h=n(1719);function g(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function m({editor:t,ErrorBoundary:e}){return function(t,e){const[n,r]=(0,o.useState)((()=>t.getDecorators()));return p((()=>t.registerDecoratorListener((t=>{(0,o.flushSync)((()=>{r(t)}))}))),[t]),(0,o.useEffect)((()=>{r(t.getDecorators())}),[t]),(0,o.useMemo)((()=>{const r=[],i=Object.keys(n);for(let s=0;s<i.length;s++){const l=i[s],a=(0,c.Y)(e,{onError:e=>t._onError(e),children:(0,c.Y)(o.Suspense,{fallback:null,children:n[l]})}),u=t.getElementByKey(l);null!==u&&r.push((0,o.createPortal)(a,u,l))}return r}),[e,n,t])}(t,e)}function _({editor:t,ErrorBoundary:e}){return function(t){const e=l.iZ.maybeFromEditor(t);if(e&&e.hasExtensionByName(a.name)){for(const t of["@lexical/plain-text","@lexical/rich-text"])e.hasExtensionByName(t)&&g(320,t);return!0}return!1}(t)?null:(0,c.Y)(m,{editor:t,ErrorBoundary:e})}function y(t){return t.getEditorState().read((0,u.yl)(t.isComposing()))}function v({contentEditable:t,placeholder:e=null,ErrorBoundary:n}){const[o]=(0,r.DF)();return p((()=>(0,d.Sd)((0,h.ZI)(i),(0,f.U)(i))),[i=o]),(0,c.FD)(c.FK,{children:[t,(0,c.Y)(S,{content:e}),(0,c.Y)(_,{editor:o,ErrorBoundary:n})]});var i}function S({content:t}){const[e]=(0,r.DF)(),n=function(t){const[e,n]=(0,o.useState)((()=>y(t)));return p((()=>{function e(){const e=y(t);n(e)}return e(),(0,d.Sd)(t.registerUpdateListener((()=>{e()})),t.registerEditableListener((()=>{e()})))}),[t]),e}(e),l=function(t){const[e]=(0,r.DF)(),n=(0,o.useMemo)((()=>t(e)),[e,t]),[s,l]=(0,o.useState)((()=>n.initialValueFn())),a=(0,o.useRef)(s);return i((()=>{const{initialValueFn:t,subscribe:e}=n,r=t();return a.current!==r&&(a.current=r,l(r)),e((t=>{a.current=t,l(t)}))}),[n,t]),s}(s);return n?"function"==typeof t?t(l):t:null}},1715:(t,e,n)=>{n.d(e,{Hd:()=>X,QZ:()=>T,fS:()=>V,iZ:()=>U,v:()=>N,vA:()=>l,vP:()=>m,xT:()=>j});var r=n(1712),o=n(1716);const i=Symbol.for("preact-signals");function s(){if(d>1)return void d--;let t,e=!1;for(;void 0!==c;){let n=c;for(c=void 0,f++;void 0!==n;){const r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&_(n))try{n.c()}catch(n){e||(t=n,e=!0)}n=r}}if(f=0,d--,e)throw t}function l(t){if(d>0)return t();d++;try{return t()}finally{s()}}let a,c;function u(t){const e=a;a=void 0;try{return t()}finally{a=e}}let d=0,f=0,h=0;function g(t){if(void 0===a)return;let e=t.n;return void 0===e||e.t!==a?(e={i:0,S:t,p:a.s,n:void 0,t:a,e:void 0,x:void 0,r:e},void 0!==a.s&&(a.s.n=e),a.s=e,t.n=e,32&a.f&&t.S(e),e):-1===e.i?(e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=a.s,e.n=void 0,a.s.n=e,a.s=e),e):void 0}function p(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=null==e?void 0:e.watched,this.Z=null==e?void 0:e.unwatched,this.name=null==e?void 0:e.name}function m(t,e){return new p(t,e)}function _(t){for(let e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function y(t){for(let e=t.s;void 0!==e;e=e.n){const n=e.S.n;if(void 0!==n&&(e.r=n),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function v(t){let e,n=t.s;for(;void 0!==n;){const t=n.p;-1===n.i?(n.S.U(n),void 0!==t&&(t.n=n.n),void 0!==n.n&&(n.n.p=t)):e=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=t}t.s=e}function S(t,e){p.call(this,void 0),this.x=t,this.s=void 0,this.g=h-1,this.f=4,this.W=null==e?void 0:e.watched,this.Z=null==e?void 0:e.unwatched,this.name=null==e?void 0:e.name}function C(t){const e=t.u;if(t.u=void 0,"function"==typeof e){d++;const n=a;a=void 0;try{e()}catch(e){throw t.f&=-2,t.f|=8,x(t),e}finally{a=n,s()}}}function x(t){for(let e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,C(t)}function b(t){if(a!==this)throw new Error("Out-of-order effect");v(this),a=t,this.f&=-2,8&this.f&&x(this),s()}function w(t,e){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==e?void 0:e.name}function T(t,e){const n=new w(t,e);try{n.c()}catch(t){throw n.d(),t}const r=n.d.bind(n);return r[Symbol.dispose]=r,r}function N(t,e={}){const n={};for(const r in t){const o=e[r],i=m(void 0===o?t[r]:o);n[r]=i}return n}function E(){const t=(0,r.NiT)(),e=(0,r.vJq)(),n=(0,r.lJ7)();t.clear(),t.append(n),null!==e&&n.select(),(0,r.I2P)(e)&&(e.format=0)}function k(t){return("function"==typeof t.nodes?t.nodes():t.nodes)||[]}function A(t,e){let n;return m(t(),{unwatched(){n&&(n(),n=void 0)},watched(){this.value=t(),n=e(this)}})}p.prototype.brand=i,p.prototype.h=function(){return!0},p.prototype.S=function(t){const e=this.t;e!==t&&void 0===t.e&&(t.x=e,this.t=t,void 0!==e?e.e=t:u((()=>{var t;null==(t=this.W)||t.call(this)})))},p.prototype.U=function(t){if(void 0!==this.t){const e=t.e,n=t.x;void 0!==e&&(e.x=n,t.e=void 0),void 0!==n&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n,void 0===n&&u((()=>{var t;null==(t=this.Z)||t.call(this)})))}},p.prototype.subscribe=function(t){return T((()=>{const e=this.value,n=a;a=void 0;try{t(e)}finally{a=n}}),{name:"sub"})},p.prototype.valueOf=function(){return this.value},p.prototype.toString=function(){return this.value+""},p.prototype.toJSON=function(){return this.value},p.prototype.peek=function(){const t=a;a=void 0;try{return this.value}finally{a=t}},Object.defineProperty(p.prototype,"value",{get(){const t=g(this);return void 0!==t&&(t.i=this.i),this.v},set(t){if(t!==this.v){if(f>100)throw new Error("Cycle detected");this.v=t,this.i++,h++,d++;try{for(let t=this.t;void 0!==t;t=t.x)t.t.N()}finally{s()}}}}),S.prototype=new p,S.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===h)return!0;if(this.g=h,this.f|=1,this.i>0&&!_(this))return this.f&=-2,!0;const t=a;try{y(this),a=this;const t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return a=t,v(this),this.f&=-2,!0},S.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(let t=this.s;void 0!==t;t=t.n)t.S.S(t)}p.prototype.S.call(this,t)},S.prototype.U=function(t){if(void 0!==this.t&&(p.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(let t=this.s;void 0!==t;t=t.n)t.S.U(t)}},S.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let t=this.t;void 0!==t;t=t.x)t.t.N()}},Object.defineProperty(S.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const t=g(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),w.prototype.c=function(){const t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;const t=this.x();"function"==typeof t&&(this.u=t)}finally{t()}},w.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,C(this),y(this),d++;const t=a;return a=this,b.bind(this,t)},w.prototype.N=function(){2&this.f||(this.f|=2,this.o=c,c=this)},w.prototype.d=function(){this.f|=8,1&this.f||x(this)},w.prototype.dispose=function(){this.d()},(0,r.vE9)({build:(t,e,n)=>N(e),config:(0,r.lVE)({defaultSelection:"rootEnd",disabled:!1}),name:"@lexical/extension/AutoFocus",register(t,e,n){const r=n.getOutput();return T((()=>r.disabled.value?void 0:t.registerRootListener((e=>{t.focus((()=>{const t=document.activeElement;null===e||null!==t&&e.contains(t)||e.focus({preventScroll:!0})}),{defaultSelection:r.defaultSelection.peek()})}))))}}),(0,r.vE9)({build:(t,e,n)=>N(e),config:(0,r.lVE)({$onClear:E}),name:"@lexical/extension/ClearEditor",register(t,e,n){const{$onClear:o}=n.getOutput();return T((()=>function(t,e=E){return t.registerCommand(r.SKc,(n=>(t.update(e),!0)),r.jZM)}(t,o.value)))}});const M=(0,r.vE9)({build:t=>A((()=>t.getEditorState()),(e=>t.registerUpdateListener((t=>{e.value=t.editorState})))),name:"@lexical/extension/EditorState"});function O(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function F(t,e){if(t&&e&&!Array.isArray(e)&&"object"==typeof t&&"object"==typeof e){const n=t,r=e;for(const t in r)n[t]=F(n[t],r[t]);return t}return e}function P(t){return 0===t.id}function L(t){return 2===t.id}const R=new Set;class D{builder;configs;_dependency;_peerNameSet;extension;state;_signal;constructor(t,e){this.builder=t,this.extension=e,this.configs=new Set,this.state={id:0}}mergeConfigs(){let t=this.extension.config||{};const e=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):r.Tc1;for(const n of this.configs)t=e(t,n);return t}init(t){const e=this.state;L(e)||O(306,String(e.id));const n={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},r={...n,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},o=function(t,e,n){return Object.assign(t,{config:e,id:3,registerState:n})}(e,this.mergeConfigs(),n);let i;this.state=o,this.extension.init&&(i=this.extension.init(t,o.config,n)),this.state=function(t,e,n){return Object.assign(t,{id:4,initResult:e,registerState:n})}(o,i,r)}build(t){const e=this.state;let n;4!==e.id&&O(307,String(e.id),String(5)),this.extension.build&&(n=this.extension.build(t,e.config,e.registerState));const r={...e.registerState,getOutput:()=>n,getSignal:this.getSignal.bind(this)};this.state=function(t,e,n){return Object.assign(t,{id:5,output:e,registerState:n})}(e,n,r)}register(t,e){this._signal=e;const n=this.state;5!==n.id&&O(308,String(n.id),String(5));const r=this.extension.register&&this.extension.register(t,n.config,n.registerState);return this.state=function(t){return Object.assign(t,{id:6})}(n),()=>{const t=this.state;7!==t.id&&O(309,String(n.id),String(7)),this.state=function(t){return Object.assign(t,{id:5})}(t),r&&r()}}afterRegistration(t){const e=this.state;let n;return 6!==e.id&&O(310,String(e.id),String(6)),this.extension.afterRegistration&&(n=this.extension.afterRegistration(t,e.config,e.registerState)),this.state=function(t){return Object.assign(t,{id:7})}(e),n}getSignal(){return void 0===this._signal&&O(311),this._signal}getInitResult(){void 0===this.extension.init&&O(312,this.extension.name);const t=this.state;return function(t){return t.id>=4}(t)||O(313,String(t.id),String(4)),t.initResult}getInitPeer(t){const e=this.builder.extensionNameMap.get(t);return e?e.getExtensionInitDependency():void 0}getExtensionInitDependency(){const t=this.state;return function(t){return t.id>=3}(t)||O(314,String(t.id),String(3)),{config:t.config}}getPeer(t){const e=this.builder.extensionNameMap.get(t);return e?e.getExtensionDependency():void 0}getInitDependency(t){const e=this.builder.getExtensionRep(t);return void 0===e&&O(315,this.extension.name,t.name),e.getExtensionInitDependency()}getDependency(t){const e=this.builder.getExtensionRep(t);return void 0===e&&O(315,this.extension.name,t.name),e.getExtensionDependency()}getState(){const t=this.state;return function(t){return t.id>=7}(t)||O(316,String(t.id),String(7)),t}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||R}getPeerNameSet(){let t=this._peerNameSet;return t||(t=new Set((this.extension.peerDependencies||[]).map((([t])=>t))),this._peerNameSet=t),t}getExtensionDependency(){if(!this._dependency){const t=this.state;(function(t){return t.id>=5})(t)||O(317,this.extension.name),this._dependency={config:t.config,init:t.initResult,output:t.output}}return this._dependency}}const I={tag:r.T40};function z(){const t=(0,r.NiT)();t.isEmpty()&&t.append((0,r.lJ7)())}const K=(0,r.vE9)({config:(0,r.lVE)({setOptions:I,updateOptions:I}),init:({$initialEditorState:t=z})=>({$initialEditorState:t,initialized:!1}),afterRegistration(t,{updateOptions:e,setOptions:n},o){const i=o.getInitResult();if(!i.initialized){i.initialized=!0;const{$initialEditorState:o}=i;if((0,r.v0B)(o))t.setEditorState(o,n);else if("function"==typeof o)t.update((()=>{o(t)}),e);else if(o&&("string"==typeof o||"object"==typeof o)){const e=t.parseEditorState(o);t.setEditorState(e,n)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[r.haT,r.Ey8,r.GRK,r.MZu,r.fD3]}),B=Symbol.for("@lexical/extension/LexicalBuilder");function W(){}function J(t){throw t}function $(t){return Array.isArray(t)?t:[t]}const H="0.39.0+prod.esm";class U{roots;extensionNameMap;outgoingConfigEdges;incomingEdges;conflicts;_sortedExtensionReps;PACKAGE_VERSION;constructor(t){this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=H,this.roots=t;for(const e of t)this.addExtension(e)}static fromExtensions(t){const e=[$(K)];for(const n of t)e.push($(n));return new U(e)}static maybeFromEditor(t){const e=t[B];return e&&(e.PACKAGE_VERSION!==H&&O(292,e.PACKAGE_VERSION,H),e instanceof U||O(293)),e}static fromEditor(t){const e=U.maybeFromEditor(t);return void 0===e&&O(294),e}constructEditor(){const{$initialEditorState:t,onError:e,...n}=this.buildCreateEditorArgs(),o=Object.assign((0,r.ieJ)({...n,...e?{onError:t=>{e(t,o)}}:{}}),{[B]:this});for(const t of this.sortedExtensionReps())t.build(o);return o}buildEditor(){let t=W;function e(){try{t()}finally{t=W}}const n=Object.assign(this.constructEditor(),{dispose:e,[Symbol.dispose]:e});return t=(0,o.Sd)(this.registerEditor(n),(()=>n.setRootElement(null))),n}hasExtensionByName(t){return this.extensionNameMap.has(t)}getExtensionRep(t){const e=this.extensionNameMap.get(t.name);if(e)return e.extension!==t&&O(295,t.name),e}addEdge(t,e,n){const r=this.outgoingConfigEdges.get(t);r?r.set(e,n):this.outgoingConfigEdges.set(t,new Map([[e,n]]));const o=this.incomingEdges.get(e);o?o.add(t):this.incomingEdges.set(e,new Set([t]))}addExtension(t){void 0!==this._sortedExtensionReps&&O(296);const e=$(t),[n]=e;"string"!=typeof n.name&&O(297,typeof n.name);let r=this.extensionNameMap.get(n.name);if(void 0!==r&&r.extension!==n&&O(298,n.name),!r){r=new D(this,n),this.extensionNameMap.set(n.name,r);const t=this.conflicts.get(n.name);"string"==typeof t&&O(299,n.name,t);for(const t of n.conflictsWith||[])this.extensionNameMap.has(t)&&O(299,n.name,t),this.conflicts.set(t,n.name);for(const t of n.dependencies||[]){const e=$(t);this.addEdge(n.name,e[0].name,e.slice(1)),this.addExtension(e)}for(const[t,e]of n.peerDependencies||[])this.addEdge(n.name,t,e?[e]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;const t=[],e=(n,r)=>{let o=n.state;if(L(o))return;const i=n.extension.name;var s;P(o)||O(300,i,r||"[unknown]"),P(s=o)||O(304,String(s.id),String(0)),o=Object.assign(s,{id:1}),n.state=o;const l=this.outgoingConfigEdges.get(i);if(l)for(const t of l.keys()){const n=this.extensionNameMap.get(t);n&&e(n,i)}o=function(t){return function(t){return 1===t.id}(t)||O(305,String(t.id),String(1)),Object.assign(t,{id:2})}(o),n.state=o,t.push(n)};for(const t of this.extensionNameMap.values())P(t.state)&&e(t);for(const e of t)for(const[t,n]of this.outgoingConfigEdges.get(e.extension.name)||[])if(n.length>0){const e=this.extensionNameMap.get(t);if(e)for(const t of n)e.configs.add(t)}for(const[t,...e]of this.roots)if(e.length>0){const n=this.extensionNameMap.get(t.name);void 0===n&&O(301,t.name);for(const t of e)n.configs.add(t)}return this._sortedExtensionReps=t,this._sortedExtensionReps}registerEditor(t){const e=this.sortedExtensionReps(),n=new AbortController,r=[()=>n.abort()],i=n.signal;for(const n of e){const e=n.register(t,i);e&&r.push(e)}for(const n of e){const e=n.afterRegistration(t);e&&r.push(e)}return(0,o.Sd)(...r)}buildCreateEditorArgs(){const t={},e=new Set,n=new Map,r=new Map,o={},i={},s=this.sortedExtensionReps();for(const l of s){const{extension:s}=l;if(void 0!==s.onError&&(t.onError=s.onError),void 0!==s.disableEvents&&(t.disableEvents=s.disableEvents),void 0!==s.parentEditor&&(t.parentEditor=s.parentEditor),void 0!==s.editable&&(t.editable=s.editable),void 0!==s.namespace&&(t.namespace=s.namespace),void 0!==s.$initialEditorState&&(t.$initialEditorState=s.$initialEditorState),s.nodes)for(const t of k(s)){if("function"!=typeof t){const e=n.get(t.replace);e&&O(302,s.name,t.replace.name,e.extension.name),n.set(t.replace,l)}e.add(t)}if(s.html){if(s.html.export)for(const[t,e]of s.html.export.entries())r.set(t,e);s.html.import&&Object.assign(o,s.html.import)}s.theme&&F(i,s.theme)}Object.keys(i).length>0&&(t.theme=i),e.size&&(t.nodes=[...e]);const l=Object.keys(o).length>0,a=r.size>0;(l||a)&&(t.html={},l&&(t.html.import=o),a&&(t.html.export=r));for(const e of s)e.init(t);return t.onError||(t.onError=J),t}}function j(t,e){const n=U.fromEditor(t).extensionNameMap.get(e);return n?n.getExtensionDependency():void 0}const q=new Set,Z=(0,r.vE9)({build(t,e,n){const o=n.getDependency(M).output,i=m({watchedNodeKeys:new Map}),s=A((()=>{}),(()=>T((()=>{const t=s.peek(),{watchedNodeKeys:e}=i.value;let n,l=!1;o.value.read((()=>{if((0,r.vJq)())for(const[o,i]of e.entries()){if(0===i.size){e.delete(o);continue}const s=(0,r.nsf)(o),a=s&&s.isSelected()||!1;l=l||a!==(!!t&&t.has(o)),a&&(n=n||new Set,n.add(o))}})),!l&&n&&t&&n.size===t.size||(s.value=n)}))));return{watchNodeKey:function(t){const e=function(t){return new S(t,void 0)}((()=>(s.value||q).has(t))),{watchedNodeKeys:n}=i.peek();let r=n.get(t);const o=void 0!==r;return r=r||new Set,r.add(e),o||(n.set(t,r),i.value={watchedNodeKeys:n}),e}}},dependencies:[M],name:"@lexical/extension/NodeSelection"});(0,r.guI)("INSERT_HORIZONTAL_RULE_COMMAND");class V extends r.Kp7{static getType(){return"horizontalrule"}static clone(t){return new V(t.__key)}static importJSON(t){return G().updateFromJSON(t)}static importDOM(){return{hr:()=>({conversion:Y,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(t){const e=document.createElement("hr");return(0,o.ZB)(e,t.theme.hr),e}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}}function Y(){return{node:G()}}function G(){return(0,r.phO)(V)}function X(t){return t instanceof V}(0,r.vE9)({dependencies:[M,Z],name:"@lexical/extension/HorizontalRule",nodes:()=>[V],register(t,e,n){const{watchNodeKey:i}=n.getDependency(Z).output,s=m({nodeSelections:new Map}),a=t._config.theme.hrSelected??"selected";return(0,o.Sd)(t.registerCommand(r.d8p,(t=>{if((0,r.vAA)(t.target)){const e=(0,r.pJU)(t.target);if(X(e))return function(t,e=!1){const n=(0,r.vJq)(),o=t.isSelected(),i=t.getKey();let s;e&&(0,r.RTZ)(n)?s=n:(s=(0,r.rUs)(),(0,r.n1P)(s)),o?s.delete(i):s.add(i)}(e,t.shiftKey),!0}return!1}),r.AcJ),t.registerMutationListener(V,((e,n)=>{l((()=>{let n=!1;const{nodeSelections:r}=s.peek();for(const[o,s]of e.entries())if("destroyed"===s)r.delete(o),n=!0;else{const e=r.get(o),s=t.getElementByKey(o);e?e.domNode.value=s:(n=!0,r.set(o,{domNode:m(s),selectedSignal:i(o)}))}n&&(s.value={nodeSelections:r})}))})),T((()=>{const t=[];for(const{domNode:e,selectedSignal:n}of s.value.nodeSelections.values())t.push(T((()=>{const t=e.value;t&&(n.value?(0,o.ZB)(t,a):(0,o.HE)(t,a))})));return(0,o.Sd)(...t)})))}}),(0,r.vE9)({build:(t,e,n)=>N(e),config:(0,r.lVE)({disabled:!1,maxIndent:null}),name:"@lexical/extension/TabIndentation",register(t,e,n){const{disabled:i,maxIndent:s}=n.getOutput();return T((()=>{if(!i.value)return function(t,e){return(0,o.Sd)(t.registerCommand(r.OXk,(e=>{const n=(0,r.vJq)();if(!(0,r.I2P)(n))return!1;e.preventDefault();const i=function(t){const e=t.getNodes();if((0,o.zD)(e,(t=>(0,r.y68)(t)&&t.canIndent()?t:null)).length>0)return!0;const n=t.anchor,i=t.focus,s=i.isBefore(n)?i:n,l=s.getNode(),a=(0,o.mB)(l);if(a.canIndent()){const t=a.getKey();let e=(0,r.uTE)();if(e.anchor.set(t,0,"element"),e.focus.set(t,0,"element"),e=(0,r.CaD)(e),e.anchor.is(s))return!0}return!1}(n)?e.shiftKey?r.sik:r.PiT:r.YW5;return t.dispatchCommand(i,void 0)}),r.jZM),t.registerCommand(r.PiT,(()=>{const t="number"==typeof e?e:e?e.peek():null;if(null==t)return!1;const n=(0,r.vJq)();if(!(0,r.I2P)(n))return!1;const i=n.getNodes().map((t=>(0,o.mB)(t).getIndent()));return Math.max(...i)+1>=t}),r.da8))}(t,s)}))}})},1716:(t,e,n)=>{n.d(e,{HE:()=>d,K2:()=>y,OV:()=>S,Pe:()=>p,Sd:()=>c,ZB:()=>u,_X:()=>f,cE:()=>b,eu:()=>h,mB:()=>g,vF:()=>C,xj:()=>m,zD:()=>_});var r=n(1712);function o(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,s=i&&"documentMode"in document?document.documentMode:null,l=(i&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),i&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent));function a(...t){const e=[];for(const n of t)if(n&&"string"==typeof n)for(const[t]of n.matchAll(/\S+/g))e.push(t);return e}function c(...t){return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}function u(t,...e){const n=a(...e);n.length>0&&t.classList.add(...n)}function d(t,...e){const n=a(...e);n.length>0&&t.classList.remove(...n)}function f(t){return t?t.getAdjacentCaret():null}function h(t,e){let n=t;for(;null!=n;){if(n instanceof e)return n;n=n.getParent()}return null}function g(t){const e=(0,r.BtT)(t,(t=>(0,r.ff4)(t)&&!t.isInline()));return(0,r.ff4)(e)||o(4,t.__key),e}function p(t){const e=(0,r.vJq)()||(0,r.S1w)();let n;if((0,r.I2P)(e))n=(0,r.Ave)(e.focus,"next");else{if(null!=e){const t=e.getNodes(),o=t[t.length-1];o&&(n=(0,r.IlV)(o,"next"))}n=n||(0,r.uwZ)((0,r.NiT)(),"previous").getFlipped().insert((0,r.lJ7)())}const i=function(t,e){let n=(0,r.Csq)(e,"next");for(let t=n;t;t=(0,r.k1Q)(t,void 0))n=t;return(0,r.rN)(n)&&o(283),n.insert(t.isInline()?(0,r.lJ7)().append(t):t),(0,r.Csq)((0,r.IlV)(t.getLatest(),"next"),e.direction)}(t,n),s=(0,r.erb)(i),l=(0,r.cmH)(s)?(0,r.lSZ)(s):i;return(0,r.xQ8)((0,r.sWS)(l)),t.getLatest()}function m(t,e){return null!==t&&Object.getPrototypeOf(t).constructor.name===e.name}function _(t,e){const n=[];for(let r=0;r<t.length;r++){const o=e(t[r]);null!==o&&n.push(o)}return n}function y(t,e){(0,r.uwZ)(t,"next").insert(e)}!(!i||!("InputEvent"in window)||s)&&new window.InputEvent("input"),i&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),i&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,i&&/Android/.test(navigator.userAgent),i&&/^(?=.*Chrome).*/i.test(navigator.userAgent),i&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);let v=!(l||!i)&&void 0;function S(t){let e=1;if(function(){if(void 0===v){const t=document.createElement("div");t.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(t);const e=t.getBoundingClientRect();t.style.setProperty("zoom","2"),v=t.getBoundingClientRect().width===e.width,document.body.removeChild(t)}return v}())for(;t;)e*=Number(window.getComputedStyle(t).getPropertyValue("zoom")),t=t.parentElement;return e}function C(t,e){return x(t,e,null)}function x(t,e,n){let o=!1;for(const i of w(t))e(i)?null!==n&&n(i):(o=!0,(0,r.ff4)(i)&&x(i,e,n||(t=>i.insertAfter(t))),i.remove());return o}function b(t,e){const n=[],o=Array.from(t).reverse();for(let t=o.pop();void 0!==t;t=o.pop())if(e(t))n.push(t);else if((0,r.ff4)(t))for(const e of w(t))o.push(e);return n}function w(t){return function(t){return(0,r.Bts)({hasNext:r.OpE,initial:t.getAdjacentCaret(),map:t=>t.origin.getLatest(),step:t=>t.getAdjacentCaret()})}((0,r.uwZ)(t,"previous"))}},1717:(t,e,n)=>{n.d(e,{yl:()=>o});var r=n(1712);function o(t){return()=>function(t){if(!function(t,e=!0){if(t)return!1;let n=(0,r.NiT)().getTextContent();return e&&(n=n.trim()),""===n}(t,!1))return!1;const e=(0,r.NiT)().getChildren(),n=e.length;if(n>1)return!1;for(let t=0;t<n;t++){const n=e[t];if((0,r.Cyw)(n))return!1;if((0,r.ff4)(n)){if(!(0,r.bSg)(n))return!1;if(0!==n.__indent)return!1;const e=n.getChildren(),o=e.length;for(let n=0;n<o;n++){const n=e[t];if(!(0,r.kFe)(n))return!1}}}return!0}(t)}},1718:(t,e,n)=>{n.d(e,{P:()=>s,U:()=>i});var r=n(1715),o=n(1712);function i(t){const e=window.location.origin,n=n=>{if(n.origin!==e)return;const r=t.getRootElement();if(document.activeElement!==r)return;const i=n.data;if("string"==typeof i){let e;try{e=JSON.parse(i)}catch(t){return}if(e&&"nuanria_messaging"===e.protocol&&"request"===e.type){const r=e.payload;if(r&&"makeChanges"===r.functionId){const e=r.args;if(e){const[r,i,s,l,a]=e;t.update((()=>{const t=(0,o.vJq)();if((0,o.I2P)(t)){const e=t.anchor;let c=e.getNode(),u=0,d=0;if((0,o.kFe)(c)&&r>=0&&i>=0&&(u=r,d=r+i,t.setTextNodeRange(c,u,c,d)),u===d&&""===s||(t.insertRawText(s),c=e.getNode()),(0,o.kFe)(c)){u=l,d=l+a;const e=c.getTextContentSize();u=u>e?e:u,d=d>e?e:d,t.setTextNodeRange(c,u,c,d)}n.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}const s=(0,o.vE9)({build:(t,e,n)=>(0,r.v)(e),config:(0,o.lVE)({disabled:"undefined"==typeof window}),name:"@lexical/dragon",register:(t,e,n)=>(0,r.QZ)((()=>n.getOutput().disabled.value?void 0:i(t)))})},1719:(t,e,n)=>{n.d(e,{Pi:()=>N,ZI:()=>O,dJ:()=>y,fi:()=>T,jL:()=>C,jd:()=>S,xi:()=>v});var r=n(1720),o=n(1718),i=n(1721),s=n(1716),l=n(1712);function a(t,e){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(t,e);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(t,e);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}const c="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,u=c&&"documentMode"in document?document.documentMode:null,d=c&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),f=!(!c||!("InputEvent"in window)||u)&&"getTargetRanges"in new window.InputEvent("input"),h=c&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),g=c&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,p=c&&/^(?=.*Chrome).*/i.test(navigator.userAgent),m=c&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&d&&!p,_=(0,l.guI)("DRAG_DROP_PASTE_FILE");class y extends l.fGB{static getType(){return"quote"}static clone(t){return new y(t.__key)}createDOM(t){const e=document.createElement("blockquote");return(0,s.ZB)(e,t.theme.quote),e}updateDOM(t,e){return!1}static importDOM(){return{blockquote:t=>({conversion:w,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if((0,l.sby)(e)){this.isEmpty()&&e.append(document.createElement("br"));const t=this.getFormatType();t&&(e.style.textAlign=t);const n=this.getDirection();n&&(e.dir=n)}return{element:e}}static importJSON(t){return v().updateFromJSON(t)}insertNewAfter(t,e){const n=(0,l.lJ7)(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,e),n}collapseAtStart(){const t=(0,l.lJ7)();return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}canMergeWhenEmpty(){return!0}}function v(){return(0,l.pTq)(new y)}function S(t){return t instanceof y}class C extends l.fGB{__tag;static getType(){return"heading"}static clone(t){return new C(t.__tag,t.__key)}constructor(t,e){super(e),this.__tag=t}getTag(){return this.__tag}setTag(t){const e=this.getWritable();return this.__tag=t,e}createDOM(t){const e=this.__tag,n=document.createElement(e),r=t.theme.heading;if(void 0!==r){const t=r[e];(0,s.ZB)(n,t)}return n}updateDOM(t,e,n){return t.__tag!==this.__tag}static importDOM(){return{h1:t=>({conversion:b,priority:0}),h2:t=>({conversion:b,priority:0}),h3:t=>({conversion:b,priority:0}),h4:t=>({conversion:b,priority:0}),h5:t=>({conversion:b,priority:0}),h6:t=>({conversion:b,priority:0}),p:t=>{const e=t.firstChild;return null!==e&&x(e)?{conversion:()=>({node:null}),priority:3}:null},span:t=>x(t)?{conversion:t=>({node:T("h1")}),priority:3}:null}}exportDOM(t){const{element:e}=super.exportDOM(t);if((0,l.sby)(e)){this.isEmpty()&&e.append(document.createElement("br"));const t=this.getFormatType();t&&(e.style.textAlign=t);const n=this.getDirection();n&&(e.dir=n)}return{element:e}}static importJSON(t){return T(t.tag).updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTag(t.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(t,e=!0){const n=t?t.anchor.offset:0,r=this.getLastDescendant(),o=!r||t&&t.anchor.key===r.getKey()&&n===r.getTextContentSize()||!t?(0,l.lJ7)():T(this.getTag()),i=this.getDirection();if(o.setDirection(i),this.insertAfter(o,e),0===n&&!this.isEmpty()&&t){const t=(0,l.lJ7)();t.select(),this.replace(t,!0)}return o}collapseAtStart(){const t=this.isEmpty()?(0,l.lJ7)():T(this.getTag());return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}extractWithChild(){return!0}}function x(t){return"span"===t.nodeName.toLowerCase()&&"26pt"===t.style.fontSize}function b(t){const e=t.nodeName.toLowerCase();let n=null;return"h1"!==e&&"h2"!==e&&"h3"!==e&&"h4"!==e&&"h5"!==e&&"h6"!==e||(n=T(e),null!==t.style&&((0,l.dxY)(t,n),n.setFormat(t.style.textAlign))),{node:n}}function w(t){const e=v();return null!==t.style&&(e.setFormat(t.style.textAlign),(0,l.dxY)(t,e)),{node:e}}function T(t="h1"){return(0,l.pTq)(new C(t))}function N(t){return t instanceof C}function E(t){let e=null;if((0,s.xj)(t,DragEvent)?e=t.dataTransfer:(0,s.xj)(t,ClipboardEvent)&&(e=t.clipboardData),null===e)return[!1,[],!1];const n=e.types,r=n.includes("Files"),o=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(e.files),o]}function k(t){const e=(0,l.vJq)();if(!(0,l.I2P)(e))return!1;const n=new Set,r=e.getNodes();for(let e=0;e<r.length;e++){const o=r[e],i=o.getKey();if(n.has(i))continue;const s=(0,l.BtT)(o,(t=>(0,l.ff4)(t)&&!t.isInline()));if(null===s)continue;const a=s.getKey();s.canIndent()&&!n.has(a)&&(n.add(a),t(s))}return n.size>0}function A(t){const e=(0,l.xL4)(t);return(0,l.Cyw)(e)}function M(t){for(const e of["lowercase","uppercase","capitalize"])t.hasFormat(e)&&t.toggleFormat(e)}function O(t){return(0,s.Sd)(t.registerCommand(l.d8p,(t=>{const e=(0,l.vJq)();return!!(0,l.RTZ)(e)&&(e.clear(),!0)}),l.jZM),t.registerCommand(l.WuB,(t=>{const e=(0,l.vJq)();return(0,l.I2P)(e)?(e.deleteCharacter(t),!0):!!(0,l.RTZ)(e)&&(e.deleteNodes(),!0)}),l.jZM),t.registerCommand(l.hi0,(t=>{const e=(0,l.vJq)();return!!(0,l.I2P)(e)&&(e.deleteWord(t),!0)}),l.jZM),t.registerCommand(l.viC,(t=>{const e=(0,l.vJq)();return!!(0,l.I2P)(e)&&(e.deleteLine(t),!0)}),l.jZM),t.registerCommand(l.bM3,(e=>{const n=(0,l.vJq)();if("string"==typeof e)null!==n&&n.insertText(e);else{if(null===n)return!1;const o=e.dataTransfer;if(null!=o)(0,r.Bi)(o,n,t);else if((0,l.I2P)(n)){const t=e.data;return t&&n.insertText(t),!0}}return!0}),l.jZM),t.registerCommand(l.$ey,(()=>{const t=(0,l.vJq)();return!!(0,l.I2P)(t)&&(t.removeText(),!0)}),l.jZM),t.registerCommand(l.mB,(t=>{const e=(0,l.vJq)();return!!(0,l.I2P)(e)&&(e.formatText(t),!0)}),l.jZM),t.registerCommand(l.fUS,(t=>{const e=(0,l.vJq)();if(!(0,l.I2P)(e)&&!(0,l.RTZ)(e))return!1;const n=e.getNodes();for(const e of n){const n=(0,l.BtT)(e,(t=>(0,l.ff4)(t)&&!t.isInline()));null!==n&&n.setFormat(t)}return!0}),l.jZM),t.registerCommand(l.FEN,(t=>{const e=(0,l.vJq)();return!!(0,l.I2P)(e)&&(e.insertLineBreak(t),!0)}),l.jZM),t.registerCommand(l.XKQ,(()=>{const t=(0,l.vJq)();return!!(0,l.I2P)(t)&&(t.insertParagraph(),!0)}),l.jZM),t.registerCommand(l.YW5,(()=>((0,l.H2A)([(0,l.ev7)()]),!0)),l.jZM),t.registerCommand(l.PiT,(()=>k((t=>{const e=t.getIndent();t.setIndent(e+1)}))),l.jZM),t.registerCommand(l.sik,(()=>k((t=>{const e=t.getIndent();e>0&&t.setIndent(Math.max(0,e-1))}))),l.jZM),t.registerCommand(l.UDz,(t=>{const e=(0,l.vJq)();if((0,l.RTZ)(e)){const n=e.getNodes();if(n.length>0)return t.preventDefault(),n[0].selectPrevious(),!0}else if((0,l.I2P)(e)){const n=(0,l.B$P)(e.focus,!0);if(!t.shiftKey&&(0,l.Cyw)(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),t.preventDefault(),!0}return!1}),l.jZM),t.registerCommand(l.bbF,(t=>{const e=(0,l.vJq)();if((0,l.RTZ)(e)){const n=e.getNodes();if(n.length>0)return t.preventDefault(),n[0].selectNext(0,0),!0}else if((0,l.I2P)(e)){if(function(t){const e=t.focus;return"root"===e.key&&e.offset===(0,l.NiT)().getChildrenSize()}(e))return t.preventDefault(),!0;const n=(0,l.B$P)(e.focus,!1);if(!t.shiftKey&&(0,l.Cyw)(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),t.preventDefault(),!0}return!1}),l.jZM),t.registerCommand(l.AX0,(t=>{const e=(0,l.vJq)();if((0,l.RTZ)(e)){const n=e.getNodes();if(n.length>0)return t.preventDefault(),(0,i.dt)(n[0])?n[0].selectNext(0,0):n[0].selectPrevious(),!0}if(!(0,l.I2P)(e))return!1;if((0,i.Cb)(e,!0)){const n=t.shiftKey;return t.preventDefault(),(0,i.Rk)(e,n,!0),!0}return!1}),l.jZM),t.registerCommand(l.JM3,(t=>{const e=(0,l.vJq)();if((0,l.RTZ)(e)){const n=e.getNodes();if(n.length>0)return t.preventDefault(),(0,i.dt)(n[0])?n[0].selectPrevious():n[0].selectNext(0,0),!0}if(!(0,l.I2P)(e))return!1;const n=t.shiftKey;return!!(0,i.Cb)(e,!1)&&(t.preventDefault(),(0,i.Rk)(e,n,!1),!0)}),l.jZM),t.registerCommand(l.gCZ,(e=>{if(A(e.target))return!1;const n=(0,l.vJq)();if((0,l.I2P)(n)){if(function(t){if(!t.isCollapsed())return!1;const{anchor:e}=t;if(0!==e.offset)return!1;const n=e.getNode();if((0,l.hVZ)(n))return!1;const r=(0,s.mB)(n);return r.getIndent()>0&&(r.is(n)||n.is(r.getFirstDescendant()))}(n))return e.preventDefault(),t.dispatchCommand(l.sik,void 0);if(g&&"ko-KR"===navigator.language)return!1}else if(!(0,l.RTZ)(n))return!1;return e.preventDefault(),t.dispatchCommand(l.WuB,!0)}),l.jZM),t.registerCommand(l.w$Z,(e=>{if(A(e.target))return!1;const n=(0,l.vJq)();return!(!(0,l.I2P)(n)&&!(0,l.RTZ)(n))&&(e.preventDefault(),t.dispatchCommand(l.WuB,!1))}),l.jZM),t.registerCommand(l.RTo,(e=>{const n=(0,l.vJq)();if(!(0,l.I2P)(n))return!1;if(M(n),null!==e){if((g||h||m)&&f)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(l.FEN,!1)}return t.dispatchCommand(l.XKQ,void 0)}),l.jZM),t.registerCommand(l.Q$N,(()=>{const e=(0,l.vJq)();return!!(0,l.I2P)(e)&&(t.blur(),!0)}),l.jZM),t.registerCommand(l.Sr4,(e=>{const[,n]=E(e);if(n.length>0){const r=a(e.clientX,e.clientY);if(null!==r){const{offset:e,node:o}=r,i=(0,l.xL4)(o);if(null!==i){const t=(0,l.uTE)();if((0,l.kFe)(i))t.anchor.set(i.getKey(),e,"text"),t.focus.set(i.getKey(),e,"text");else{const e=i.getParentOrThrow().getKey(),n=i.getIndexWithinParent()+1;t.anchor.set(e,n,"element"),t.focus.set(e,n,"element")}const n=(0,l.CaD)(t);(0,l.n1P)(n)}t.dispatchCommand(_,n)}return e.preventDefault(),!0}const r=(0,l.vJq)();return!!(0,l.I2P)(r)}),l.jZM),t.registerCommand(l.TgX,(t=>{const[e]=E(t),n=(0,l.vJq)();return!(e&&!(0,l.I2P)(n))}),l.jZM),t.registerCommand(l.riq,(t=>{const[e]=E(t),n=(0,l.vJq)();if(e&&!(0,l.I2P)(n))return!1;const r=a(t.clientX,t.clientY);if(null!==r){const e=(0,l.xL4)(r.node);(0,l.Cyw)(e)&&t.preventDefault()}return!0}),l.jZM),t.registerCommand(l.HYn,(()=>((0,l.e1k)(),!0)),l.jZM),t.registerCommand(l.u5G,(e=>((0,r.lW)(t,(0,s.xj)(e,ClipboardEvent)?e:null),!0)),l.jZM),t.registerCommand(l.VSO,(e=>(async function(t,e){await(0,r.lW)(e,(0,s.xj)(t,ClipboardEvent)?t:null),e.update((()=>{const t=(0,l.vJq)();(0,l.I2P)(t)?t.removeText():(0,l.RTZ)(t)&&t.getNodes().forEach((t=>t.remove()))}))}(e,t),!0)),l.jZM),t.registerCommand(l.waI,(e=>{const[,n,o]=E(e);return n.length>0&&!o?(t.dispatchCommand(_,n),!0):!((0,l.vAA)(e.target)&&(0,l.Z$U)(e.target)||null===(0,l.vJq)()||(function(t,e){t.preventDefault(),e.update((()=>{const n=(0,l.vJq)(),o=(0,s.xj)(t,InputEvent)||(0,s.xj)(t,KeyboardEvent)?null:t.clipboardData;null!=o&&null!==n&&(0,r.Bi)(o,n,e)}),{tag:l.fwY})}(e,t),0))}),l.jZM),t.registerCommand(l.Huu,(t=>{const e=(0,l.vJq)();return(0,l.I2P)(e)&&M(e),!1}),l.jZM),t.registerCommand(l.OXk,(t=>{const e=(0,l.vJq)();return(0,l.I2P)(e)&&M(e),!1}),l.jZM))}(0,l.vE9)({conflictsWith:["@lexical/plain-text"],dependencies:[o.P],name:"@lexical/rich-text",nodes:()=>[C,y],register:O})},1720:(t,e,n)=>{n.d(e,{xg:()=>_,Bi:()=>u,lW:()=>g});var r=n(1721),o=n(1712);function i(t,e,n,s=null){let l=null===s||e.isSelected(s);const a=(0,o.ff4)(e)&&e.excludeFromCopy("html");let c=e;null!==s&&(0,o.kFe)(e)&&(c=(0,r.SD)(s,e,"clone"));const u=(0,o.ff4)(c)?c.getChildren():[],d=(0,o.Jvg)(t,c.getType());let f;f=d&&void 0!==d.exportDOM?d.exportDOM(t,c):c.exportDOM(t);const{element:h,after:g}=f;if(!h)return!1;const p=document.createDocumentFragment();for(let n=0;n<u.length;n++){const r=u[n],a=i(t,r,p,s);!l&&(0,o.ff4)(e)&&a&&e.extractWithChild(r,s,"html")&&(l=!0)}if(l&&!a){if(((0,o.sby)(h)||(0,o.K8K)(h))&&h.append(p),n.append(h),g){const t=g.call(c,h);t&&((0,o.K8K)(h)?h.replaceChildren(t):h.replaceWith(t))}}else n.append(p);return l}const s=new Set(["STYLE","SCRIPT"]);function l(t,e,n,r,i=new Map,a){let c=[];if(s.has(t.nodeName))return c;let u=null;const d=function(t,e){const{nodeName:n}=t,r=e._htmlConversions.get(n.toLowerCase());let o=null;if(void 0!==r)for(const e of r){const n=e(t);null!==n&&(null===o||(o.priority||0)<=(n.priority||0))&&(o=n)}return null!==o?o.conversion:null}(t,e),f=d?d(t):null;let h=null;if(null!==f){h=f.after;const e=f.node;if(u=Array.isArray(e)?e[e.length-1]:e,null!==u){for(const[,t]of i)if(u=t(u,a),!u)break;u&&c.push(...Array.isArray(e)?e:[u])}null!=f.forChild&&i.set(t.nodeName,f.forChild)}const g=t.childNodes;let p=[];const m=(null==u||!(0,o.IqF)(u))&&(null!=u&&(0,o.y68)(u)||r);for(let t=0;t<g.length;t++)p.push(...l(g[t],e,n,m,new Map(i),u));return null!=h&&(p=h(p)),(0,o.a9V)(t)&&(p=function(t,e,n){const r=t.style.textAlign,i=[];let s=[];for(let t=0;t<e.length;t++){const l=e[t];if((0,o.y68)(l))r&&!l.getFormat()&&l.setFormat(r),i.push(l);else if(s.push(l),t===e.length-1||t<e.length-1&&(0,o.y68)(e[t+1])){const t=n();t.setFormat(r),t.append(...s),i.push(t),s=[]}}return i}(t,p,m?()=>{const t=new o.A7V;return n.push(t),t}:o.lJ7)),null==u?p.length>0?c=c.concat(p):(0,o.a9V)(t)&&function(t){return null!=t.nextSibling&&null!=t.previousSibling&&(0,o._On)(t.nextSibling)&&(0,o._On)(t.previousSibling)}(t)&&(c=c.concat((0,o.WKo)())):(0,o.ff4)(u)&&u.append(...p),c}var a=n(1716);function c(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function u(t,e,n){const i=t.getData("application/x-lexical-editor");if(i)try{const t=JSON.parse(i);if(t.namespace===n._config.namespace&&Array.isArray(t.nodes))return d(n,function(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n],s=(0,o.GMe)(i);(0,o.kFe)(s)&&(0,r.Xg)(s),e.push(s)}return e}(t.nodes),e)}catch(t){}const a=t.getData("text/html"),c=t.getData("text/plain");if(a&&c!==a)try{return d(n,function(t,e){const n=(0,o.mB$)(e)?e.body.childNodes:e.childNodes;let r=[];const i=[];for(const e of n)if(!s.has(e.nodeName)){const n=l(e,t,i,!1);null!==n&&(r=r.concat(n))}return function(t){for(const e of t)e.getNextSibling()instanceof o.A7V&&e.insertAfter((0,o.WKo)());for(const e of t){const t=e.getChildren();for(const n of t)e.insertBefore(n);e.remove()}}(i),r}(n,(new DOMParser).parseFromString(function(t){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:t=>t}).createHTML(t):t}(a),"text/html")),e)}catch(t){}const u=c||t.getData("text/uri-list");if(null!=u)if((0,o.I2P)(e)){const t=u.split(/(\r?\n|\t)/);""===t[t.length-1]&&t.pop();for(let e=0;e<t.length;e++){const n=(0,o.vJq)();if((0,o.I2P)(n)){const r=t[e];"\n"===r||"\r\n"===r?n.insertParagraph():"\t"===r?n.insertNodes([(0,o.ev7)()]):n.insertText(r)}}}else e.insertRawText(u)}function d(t,e,n){t.dispatchCommand(o.oqR,{nodes:e,selection:n})||(n.insertNodes(e),function(t){if((0,o.I2P)(t)&&t.isCollapsed()){const e=t.anchor;let n=null;const r=(0,o.Ave)(e,"previous");if(r)if((0,o.rN)(r))n=r.origin;else{const t=(0,o.TJt)(r,(0,o.uwZ)((0,o.NiT)(),"next").getFlipped());for(const e of t){if((0,o.kFe)(e.origin)){n=e.origin;break}if((0,o.ff4)(e.origin)&&!e.origin.isInline())break}}if(n&&(0,o.kFe)(n)){const e=n.getFormat(),r=n.getStyle();t.format===e&&t.style===r||(t.format=e,t.style=r,t.dirty=!0)}}}(n))}function f(t,e,n,i=[]){let s=null===e||n.isSelected(e);const l=(0,o.ff4)(n)&&n.excludeFromCopy("html");let a=n;null!==e&&(0,o.kFe)(a)&&(a=(0,r.SD)(e,a,"clone"));const u=(0,o.ff4)(a)?a.getChildren():[],d=function(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&c(58,n.name),(0,o.ff4)(t)){const t=e.children;Array.isArray(t)||c(59,n.name)}return e}(a);(0,o.kFe)(a)&&0===a.getTextContentSize()&&(s=!1);for(let r=0;r<u.length;r++){const i=u[r],l=f(t,e,i,d.children);!s&&(0,o.ff4)(n)&&l&&n.extractWithChild(i,e,"clone")&&(s=!0)}if(s&&!l)i.push(d);else if(Array.isArray(d.children))for(let t=0;t<d.children.length;t++){const e=d.children[t];i.push(e)}return s}let h=null;async function g(t,e,n){if(null!==h)return!1;if(null!==e)return new Promise(((r,o)=>{t.update((()=>{r(p(t,e,n))}))}));const r=t.getRootElement(),i=t._window||window,s=i.document,l=(0,o.peL)(i);if(null===r||null===l)return!1;const c=s.createElement("span");c.style.cssText="position: fixed; top: -1000px;",c.append(s.createTextNode("#")),r.append(c);const u=new Range;return u.setStart(c,0),u.setEnd(c,1),l.removeAllRanges(),l.addRange(u),new Promise(((e,r)=>{const l=t.registerCommand(o.u5G,(r=>((0,a.xj)(r,ClipboardEvent)&&(l(),null!==h&&(i.clearTimeout(h),h=null),e(p(t,r,n))),!0)),o.da8);h=i.setTimeout((()=>{l(),h=null,e(!1)}),50),s.execCommand("copy"),c.remove()}))}function p(t,e,n){if(void 0===n){const e=(0,o.peL)(t._window),r=(0,o.vJq)();if(!r||r.isCollapsed())return!1;if(!e)return!1;const i=e.anchorNode,s=e.focusNode;if(null!==i&&null!==s&&!(0,o.LYZ)(t,i,s))return!1;n=_(r)}e.preventDefault();const r=e.clipboardData;return null!==r&&(function(t,e){for(const[n]of m)void 0===e[n]&&t.setData(n,"");for(const n in e){const r=e[n];void 0!==r&&t.setData(n,r)}}(r,n),!0)}const m=[["text/html",function(t,e=(0,o.vJq)()){return null==e&&c(166),(0,o.I2P)(e)&&e.isCollapsed()||0===e.getNodes().length?"":function(t,e){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=(0,o.NiT)().getChildren();for(let o=0;o<r.length;o++)i(t,r[o],n,e);return n.innerHTML}(t,e)}],["application/x-lexical-editor",function(t,e=(0,o.vJq)()){return null==e&&c(166),(0,o.I2P)(e)&&e.isCollapsed()||0===e.getNodes().length?null:JSON.stringify(function(t,e){const n=[],r=(0,o.NiT)().getChildren();for(let o=0;o<r.length;o++)f(t,e,r[o],n);return{namespace:t._config.namespace,nodes:n}}(t,e))}]];function _(t=(0,o.vJq)()){const e={"text/plain":t?t.getTextContent():""};if(t){const n=(0,o.i0_)();for(const[r,o]of m){const i=o(n,t);null!==i&&(e[r]=i)}}return e}},1721:(t,e,n)=>{n.d(e,{Cb:()=>m,Rk:()=>y,SD:()=>u,Wh:()=>s,Xg:()=>d,dt:()=>c,zI:()=>h});var r=n(1712);const o=new Map;function i(t){const e={};if(!t)return e;const n=t.split(";");for(const t of n)if(""!==t){const[n,r]=t.split(/:([^]+)/);n&&r&&(e[n.trim()]=r.trim())}return e}function s(t){let e=o.get(t);return void 0===e&&(e=i(t),o.set(t,e)),e}function l(t){const e=(0,r.i0_)().getElementByKey(t.getKey());if(null===e)return null;const n=e.ownerDocument.defaultView;return null===n?null:n.getComputedStyle(e)}function a(t){return l((0,r.hVZ)(t)?t:t.getParentOrThrow())}function c(t){const e=a(t);return null!==e&&"rtl"===e.direction}function u(t,e,n="self"){const o=t.getStartEndPoints();if(e.isSelected(t)&&!(0,r.Rb_)(e)&&null!==o){const[i,s]=o,l=t.isBackward(),a=i.getNode(),c=s.getNode(),u=e.is(a),d=e.is(c);if(u||d){const[o,i]=(0,r.Cku)(t),s=a.is(c),u=e.is(l?c:a),d=e.is(l?a:c);let f,h=0;s?(h=o>i?i:o,f=o>i?o:i):u?(h=l?i:o,f=void 0):d&&(h=0,f=l?o:i);const g=e.__text.slice(h,f);g!==e.__text&&("clone"===n&&(e=(0,r.U5P)(e)),e.__text=g)}}return e}function d(t){const e=t.getStyle(),n=i(e);o.set(e,n)}function f(t,e){const n=t.getFormatType(),r=t.getIndent();n!==e.getFormatType()&&e.setFormat(n),r!==e.getIndent()&&e.setIndent(r)}function h(t,e,n=f){if(null===t)return;const o=t.getStartEndPoints(),i=new Map;let s=null;if(o){const[t,e]=o;s=(0,r.uTE)(),s.anchor.set(t.key,t.offset,t.type),s.focus.set(e.key,e.offset,e.type);const n=(0,r.BtT)(t.getNode(),r.w3H),l=(0,r.BtT)(e.getNode(),r.w3H);(0,r.ff4)(n)&&i.set(n.getKey(),n),(0,r.ff4)(l)&&i.set(l.getKey(),l)}for(const e of t.getNodes())if((0,r.ff4)(e)&&(0,r.w3H)(e))i.set(e.getKey(),e);else if(null===o){const t=(0,r.BtT)(e,r.w3H);(0,r.ff4)(t)&&i.set(t.getKey(),t)}for(const[t,r]of i){const o=e();n(r,o),r.replace(o,!0),s&&(t===s.anchor.key&&s.anchor.set(o.getKey(),s.anchor.offset,s.anchor.type),t===s.focus.key&&s.focus.set(o.getKey(),s.focus.offset,s.focus.type))}s&&t.is((0,r.vJq)())&&(0,r.n1P)(s)}function g(t){const e=p(t);return null!==e&&"vertical-rl"===e.writingMode}function p(t){const e=t.anchor.getNode();return(0,r.ff4)(e)?l(e):a(e)}function m(t,e){let n=g(t)?!e:e;_(t)&&(n=!n);const o=(0,r.Ave)(t.focus,n?"previous":"next");if((0,r.pGK)(o))return!1;for(const t of(0,r.mWO)(o)){if((0,r.cmH)(t))return!t.origin.isInline();if(!(0,r.ff4)(t.origin)){if((0,r.Cyw)(t.origin))return!0;break}}return!1}function _(t){const e=p(t);return null!==e&&"rtl"===e.direction}function y(t,e,n){const r=_(t);let o;o=g(t)||r?!n:n,function(t,e,n){t.modify(e?"extend":"move",n,"character")}(t,e,o)}},1722:(t,e,n)=>{n.d(e,{a:()=>d});var r=n(1711),o=n(228),i=n(1713),s=n(1717),l=n(1716);const a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect,c=(0,o.forwardRef)((function({editor:t,ariaActiveDescendant:e,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:s,ariaErrorMessage:l,ariaExpanded:c,ariaInvalid:u,ariaLabel:d,ariaLabelledBy:f,ariaMultiline:h,ariaOwns:g,ariaRequired:p,autoCapitalize:m,className:_,id:y,role:v="textbox",spellCheck:S=!0,style:C,tabIndex:x,"data-testid":b,...w},T){const[N,E]=(0,o.useState)(t.isEditable()),k=(0,o.useCallback)((e=>{e&&e.ownerDocument&&e.ownerDocument.defaultView?t.setRootElement(e):t.setRootElement(null)}),[t]),A=(0,o.useMemo)((()=>function(...t){return e=>{for(const n of t)"function"==typeof n?n(e):null!=n&&(n.current=e)}}(T,k)),[k,T]);return a((()=>(E(t.isEditable()),t.registerEditableListener((t=>{E(t)})))),[t]),(0,i.Y)("div",{"aria-activedescendant":N?e:void 0,"aria-autocomplete":N?n:"none","aria-controls":N?r:void 0,"aria-describedby":s,...null!=l?{"aria-errormessage":l}:{},"aria-expanded":N&&"combobox"===v?!!c:void 0,...null!=u?{"aria-invalid":u}:{},"aria-label":d,"aria-labelledby":f,"aria-multiline":h,"aria-owns":N?g:void 0,"aria-readonly":!N||void 0,"aria-required":p,autoCapitalize:m,className:_,contentEditable:N,"data-testid":b,id:y,ref:A,role:v,spellCheck:S,style:C,tabIndex:x,...w})}));function u(t){return t.getEditorState().read((0,s.yl)(t.isComposing()))}const d=(0,o.forwardRef)((function(t,e){const{placeholder:n,...o}=t,[s]=(0,r.DF)();return(0,i.FD)(i.FK,{children:[(0,i.Y)(c,{editor:s,...o,ref:e}),null!=n&&(0,i.Y)(f,{editor:s,content:n})]})}));function f({content:t,editor:e}){const n=function(t){const[e,n]=(0,o.useState)((()=>u(t)));return a((()=>{function e(){const e=u(t);n(e)}return e(),(0,l.Sd)(t.registerUpdateListener((()=>{e()})),t.registerEditableListener((()=>{e()})))}),[t]),e}(e),[r,s]=(0,o.useState)(e.isEditable());if((0,o.useLayoutEffect)((()=>(s(e.isEditable()),e.registerEditableListener((t=>{s(t)})))),[e]),!n)return null;let c=null;return"function"==typeof t?c=t(r):null!==t&&(c=t),null===c?null:(0,i.Y)("div",{"aria-hidden":!0,children:c})}},1723:(t,e,n)=>{n.d(e,{G:()=>d});var r=n(1711),o=n(1715),i=n(1716),s=n(1712);function l(t){t.undoStack=[],t.redoStack=[],t.current=null}function a(t,e,n){const r=function(t,e){let n=Date.now(),r=0;return(o,i,l,a,c,u)=>{const d=Date.now();if(u.has(s.n0X))return r=0,n=d,2;const f=function(t,e,n,r,o){if(null===t||0===n.size&&0===r.size&&!o)return 0;const i=e._selection,l=t._selection;if(o)return 1;if(!((0,s.I2P)(i)&&(0,s.I2P)(l)&&l.isCollapsed()&&i.isCollapsed()))return 0;const a=function(t,e,n){const r=t._nodeMap,o=[];for(const t of e){const e=r.get(t);void 0!==e&&o.push(e)}for(const[t,e]of n){if(!e)continue;const n=r.get(t);void 0===n||(0,s.hVZ)(n)||o.push(n)}return o}(e,n,r);if(0===a.length)return 0;if(a.length>1){const n=e._nodeMap,r=n.get(i.anchor.key),o=n.get(l.anchor.key);return r&&o&&!t._nodeMap.has(r.__key)&&(0,s.kFe)(r)&&1===r.__text.length&&1===i.anchor.offset?2:0}const c=a[0],u=t._nodeMap.get(c.__key);if(!(0,s.kFe)(u)||!(0,s.kFe)(c)||u.__mode!==c.__mode)return 0;const d=u.__text,f=c.__text;if(d===f)return 0;const h=i.anchor,g=l.anchor;if(h.key!==g.key||"text"!==h.type)return 0;const p=h.offset,m=g.offset,_=f.length-d.length;return 1===_&&m===p-1?2:-1===_&&m===p+1?3:-1===_&&m===p?4:0}(o,i,a,c,t.isComposing()),h=(()=>{const h=null===l||l.editor===t,g=u.has(s.bMH);if(!g&&h&&u.has(s.T40))return 0;if(null===o)return 1;const p=i._selection;if(!(a.size>0||c.size>0))return null!==p?0:2;const m="number"==typeof e?e:e.peek();return!1===g&&0!==f&&f===r&&d<n+m&&h||1===a.size&&function(t,e,n){const r=e._nodeMap.get(t),o=n._nodeMap.get(t),i=e._selection,l=n._selection;return!((0,s.I2P)(i)&&(0,s.I2P)(l)&&"element"===i.anchor.type&&"element"===i.focus.type&&"text"===l.anchor.type&&"text"===l.focus.type||!(0,s.kFe)(r)||!(0,s.kFe)(o)||r.__parent!==o.__parent)&&JSON.stringify(e.read((()=>r.exportJSON())))===JSON.stringify(n.read((()=>o.exportJSON())))}(Array.from(a)[0],o,i)?0:1})();return n=d,r=f,h}}(t,n),o=(0,i.Sd)(t.registerCommand(s.ZKf,(()=>(function(t,e){const n=e.redoStack,r=e.undoStack;if(0!==r.length){const o=e.current,i=r.pop();null!==o&&(n.push(o),t.dispatchCommand(s.WWb,!0)),0===r.length&&t.dispatchCommand(s.KfJ,!1),e.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:s.n0X})}}(t,e),!0)),s.jZM),t.registerCommand(s.V30,(()=>(function(t,e){const n=e.redoStack,r=e.undoStack;if(0!==n.length){const o=e.current;null!==o&&(r.push(o),t.dispatchCommand(s.KfJ,!0));const i=n.pop();0===n.length&&t.dispatchCommand(s.WWb,!1),e.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:s.n0X})}}(t,e),!0)),s.jZM),t.registerCommand(s.SKc,(()=>(l(e),!1)),s.jZM),t.registerCommand(s.t5V,(()=>(l(e),t.dispatchCommand(s.WWb,!1),t.dispatchCommand(s.KfJ,!1),!0)),s.jZM),t.registerUpdateListener((({editorState:n,prevEditorState:o,dirtyLeaves:i,dirtyElements:l,tags:a})=>{const c=e.current,u=e.redoStack,d=e.undoStack,f=null===c?null:c.editorState;if(null!==c&&n===f)return;const h=r(o,n,c,i,l,a);if(1===h)0!==u.length&&(e.redoStack=[],t.dispatchCommand(s.WWb,!1)),null!==c&&(d.push({...c}),t.dispatchCommand(s.KfJ,!0));else if(2===h)return;e.current={editor:t,editorState:n}})));return o}const c=(0,s.vE9)({build:(t,{delay:e,createInitialHistoryState:n,disabled:r})=>(0,o.v)({delay:e,disabled:r,historyState:n(t)}),config:(0,s.lVE)({createInitialHistoryState:function(){return{current:null,redoStack:[],undoStack:[]}},delay:300,disabled:"undefined"==typeof window}),name:"@lexical/history/History",register:(t,e,n)=>{const r=n.getOutput();return(0,o.QZ)((()=>r.disabled.value?void 0:a(t,r.historyState.value,r.delay)))}});(0,s.vE9)({dependencies:[(0,s.O0w)(c,{createInitialHistoryState:()=>{throw new Error("SharedHistory did not inherit parent history")},disabled:!0})],name:"@lexical/history/SharedHistory",register(t,e,n){const{output:r}=n.getDependency(c),i=function(t){return t?(0,o.xT)(t,c.name):null}(t._parentEditor);if(!i)return()=>{};const s=i.output;return(0,o.QZ)((()=>(0,o.vA)((()=>{r.delay.value=s.delay.value,r.historyState.value=s.historyState.value,r.disabled.value=s.disabled.value}))))}});var u=n(228);function d({delay:t,externalHistoryState:e}){const[n]=(0,r.DF)();return function(t,e,n=1e3){const r=(0,u.useMemo)((()=>e||{current:null,redoStack:[],undoStack:[]}),[e]);(0,u.useEffect)((()=>a(t,r,n)),[n,t,r])}(n,e,t),null}},1724:(t,e,n)=>{n.d(e,{D:()=>l});var r=n(1711),o=n(1712),i=n(228);const s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function l({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:e=!1,onChange:n}){const[i]=(0,r.DF)();return s((()=>{if(n)return i.registerUpdateListener((({editorState:r,dirtyElements:s,dirtyLeaves:l,prevEditorState:a,tags:c})=>{e&&0===s.size&&0===l.size||t&&c.has(o.T40)||a.isEmpty()||n(r,i,c)}))}),[i,t,e,n]),null}},1725:(t,e,n)=>{n.d(e,{R:()=>i});var r=n(1726),o=n(1713);function i({children:t,onError:e}){return(0,o.Y)(r.tH,{fallback:(0,o.Y)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:t})}},1727:(t,e,n)=>{n.d(e,{Q:()=>s});var r=n(1728),o=n(1711),i=n(228);function s({hasStrictIndent:t=!1}){const[e]=(0,o.DF)();return(0,i.useEffect)((()=>{if(!e.hasNodes([r.v5,r.YW]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[e]),(0,i.useEffect)((()=>{if(t)return(0,r.Js)(e)}),[e,t]),n=e,(0,i.useEffect)((()=>(0,r.cz)(n)),[n]),null;var n}},1728:(t,e,n)=>{n.d(e,{DE:()=>F,HY:()=>P,Js:()=>U,Mz:()=>N,YW:()=>x,cz:()=>H,i:()=>T,q7:()=>W,v5:()=>E,x:()=>J});var r=n(1715),o=n(1716),i=n(1712),s=n(1721);function l(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function a(t){let e=1,n=t.getParent();for(;null!=n;){if(N(n)){const t=n.getParent();if(P(t)){e++,n=t.getParent();continue}l(40)}return e}return e}function c(t){let e=t.getParent();P(e)||l(40);let n=e;for(;null!==n;)n=n.getParent(),P(n)&&(e=n);return e}function u(t){let e=[];const n=t.getChildren().filter(N);for(let t=0;t<n.length;t++){const r=n[t],o=r.getFirstChild();P(o)?e=e.concat(u(o)):e.push(r)}return e}function d(t){return N(t)&&P(t.getFirstChild())}function f(t){return T().append(t)}function h(t,e){return N(t)&&(0===e.length||1===e.length&&t.is(e[0])&&0===t.getChildrenSize())}function g(t){const e=(0,i.vJq)();if(null!==e){let n=e.getNodes();if((0,i.I2P)(e)){const r=e.getStartEndPoints();null===r&&l(143);const[o]=r,s=o.getNode(),a=s.getParent();if((0,i.IqF)(s)){const t=s.getFirstChild();if(t)n=t.selectStart().getNodes();else{const t=(0,i.lJ7)();s.append(t),n=t.select().getNodes()}}else if(h(s,n)){const e=F(t);if((0,i.IqF)(a)){s.replace(e);const t=T();(0,i.ff4)(s)&&(t.setFormat(s.getFormatType()),t.setIndent(s.getIndent())),e.append(t)}else if(N(s)){const t=s.getParentOrThrow();p(e,t.getChildren()),t.replace(e)}return}}const r=new Set;for(let e=0;e<n.length;e++){const o=n[e];if((0,i.ff4)(o)&&o.isEmpty()&&!N(o)&&!r.has(o.getKey())){m(o,t);continue}let s=(0,i.jG6)(o)?o.getParent():N(o)&&o.isEmpty()?o:null;for(;null!=s;){const e=s.getKey();if(P(s)){if(!r.has(e)){const n=F(t);p(n,s.getChildren()),s.replace(n),r.add(e)}break}{const n=s.getParent();if((0,i.IqF)(n)&&!r.has(e)){r.add(e),m(s,t);break}s=n}}}}}function p(t,e){t.splice(t.getChildrenSize(),0,e)}function m(t,e){if(P(t))return t;const n=t.getPreviousSibling(),r=t.getNextSibling(),o=T();let i;if(p(o,t.getChildren()),P(n)&&e===n.getListType())n.append(o),P(r)&&e===r.getListType()&&(p(n,r.getChildren()),r.remove()),i=n;else if(P(r)&&e===r.getListType())r.getFirstChildOrThrow().insertBefore(o),i=r;else{const n=F(e);n.append(o),t.replace(n),i=n}return o.setFormat(t.getFormatType()),o.setIndent(t.getIndent()),t.remove(),i}function _(t,e){const n=t.getLastChild(),r=e.getFirstChild();n&&r&&d(n)&&d(r)&&(_(n.getFirstChild(),r.getFirstChild()),r.remove());const o=e.getChildren();o.length>0&&t.append(...o),e.remove()}function y(t){const e="check"!==t.getListType();let n=t.getStart();for(const r of t.getChildren())N(r)&&(r.getValue()!==n&&r.setValue(n),e&&null!=r.getLatest().__checked&&r.setChecked(void 0),P(r.getFirstChild())||n++)}function v(t){const e=new Set;if(d(t)||e.has(t.getKey()))return;const n=t.getParent(),r=t.getNextSibling(),o=t.getPreviousSibling();if(d(r)&&d(o)){const n=o.getFirstChild();if(P(n)){n.append(t);const o=r.getFirstChild();P(o)&&(p(n,o.getChildren()),r.remove(),e.add(r.getKey()))}}else if(d(r)){const e=r.getFirstChild();if(P(e)){const n=e.getFirstChild();null!==n&&n.insertBefore(t)}}else if(d(o)){const e=o.getFirstChild();P(e)&&e.append(t)}else if(P(n)){const e=T().setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle()),i=F(n.getListType()).setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle());e.append(i),i.append(t),o?o.insertAfter(e):r?r.insertBefore(e):n.append(e)}}function S(t){if(d(t))return;const e=t.getParent(),n=e?e.getParent():void 0;if(P(n?n.getParent():void 0)&&N(n)&&P(e)){const r=e?e.getFirstChild():void 0,o=e?e.getLastChild():void 0;if(t.is(r))n.insertBefore(t),e.isEmpty()&&n.remove();else if(t.is(o))n.insertAfter(t),e.isEmpty()&&n.remove();else{const r=e.getListType(),o=T(),i=F(r);o.append(i),t.getPreviousSiblings().forEach((t=>i.append(t)));const s=T(),l=F(r);s.append(l),p(l,t.getNextSiblings()),n.insertBefore(o),n.insertAfter(s),n.replace(t)}}}function C(...t){const e=[];for(const n of t)if(n&&"string"==typeof n)for(const[t]of n.matchAll(/\S+/g))e.push(t);return e}class x extends i.fGB{__value;__checked;$config(){return this.config("listitem",{$transform:t=>{if(null==t.__checked)return;const e=t.getParent();P(e)&&"check"!==e.getListType()&&null!=t.getChecked()&&t.setChecked(void 0)},extends:i.fGB,importDOM:(0,i.kBm)({li:()=>({conversion:b,priority:0})})})}constructor(t=1,e=void 0,n){super(n),this.__value=void 0===t?1:t,this.__checked=e}afterCloneFrom(t){super.afterCloneFrom(t),this.__value=t.__value,this.__checked=t.__checked}createDOM(t){const e=document.createElement("li");return this.updateListItemDOM(null,e,t),e}updateListItemDOM(t,e,n){!function(t,e,n){const r=e.getParent();!P(r)||"check"!==r.getListType()||P(e.getFirstChild())?(t.removeAttribute("role"),t.removeAttribute("tabIndex"),t.removeAttribute("aria-checked")):(t.setAttribute("role","checkbox"),t.setAttribute("tabIndex","-1"),n&&e.__checked===n.__checked||t.setAttribute("aria-checked",e.getChecked()?"true":"false"))}(e,this,t),e.value=this.__value,function(t,e,n){const r=[],i=[],s=e.list,l=s?s.listitem:void 0;let a;if(s&&s.nested&&(a=s.nested.listitem),void 0!==l&&r.push(...C(l)),s){const t=n.getParent(),e=P(t)&&"check"===t.getListType(),o=n.getChecked();e&&!o||i.push(s.listitemUnchecked),e&&o||i.push(s.listitemChecked),e&&r.push(o?s.listitemChecked:s.listitemUnchecked)}if(void 0!==a){const t=C(a);n.getChildren().some((t=>P(t)))?r.push(...t):i.push(...t)}i.length>0&&(0,o.HE)(t,...i),r.length>0&&(0,o.ZB)(t,...r)}(e,n.theme,this);const r=t?t.__style:"",i=this.__style;r!==i&&(""===i?e.removeAttribute("style"):e.style.cssText=i),function(t,e,n){const r=(0,s.Wh)(e.__textStyle);for(const e in r)t.style.setProperty(`--listitem-marker-${e}`,r[e]);if(n)for(const e in(0,s.Wh)(n.__textStyle))e in r||t.style.removeProperty(`--listitem-marker-${e}`)}(e,this,t)}updateDOM(t,e,n){const r=e;return this.updateListItemDOM(t,r,n),!1}updateFromJSON(t){return super.updateFromJSON(t).setValue(t.value).setChecked(t.checked)}exportDOM(t){const e=this.createDOM(t._config),n=this.getFormatType();n&&(e.style.textAlign=n);const r=this.getDirection();return r&&(e.dir=r),{element:e}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...t){for(let e=0;e<t.length;e++){const n=t[e];if((0,i.ff4)(n)&&this.canMergeWith(n)){const t=n.getChildren();this.append(...t),n.remove()}else super.append(n)}return this}replace(t,e){if(N(t))return super.replace(t);this.setIndent(0);const n=this.getParentOrThrow();if(!P(n))return t;if(n.__first===this.getKey())n.insertBefore(t);else if(n.__last===this.getKey())n.insertAfter(t);else{const e=F(n.getListType());let r=this.getNextSibling();for(;r;){const t=r;r=r.getNextSibling(),e.append(t)}n.insertAfter(t),t.insertAfter(e)}return e&&((0,i.ff4)(t)||l(139),this.getChildren().forEach((e=>{t.append(e)}))),this.remove(),0===n.getChildrenSize()&&n.remove(),t}insertAfter(t,e=!0){const n=this.getParentOrThrow();if(P(n)||l(39),N(t))return super.insertAfter(t,e);const r=this.getNextSiblings();if(n.insertAfter(t,e),0!==r.length){const o=F(n.getListType());r.forEach((t=>o.append(t))),t.insertAfter(o,e)}return t}remove(t){const e=this.getPreviousSibling(),n=this.getNextSibling();super.remove(t),e&&n&&d(e)&&d(n)&&(_(e.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(t,e=!0){const n=T().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(n,e),n}collapseAtStart(t){const e=(0,i.lJ7)();this.getChildren().forEach((t=>e.append(t)));const n=this.getParentOrThrow(),r=n.getParentOrThrow(),o=N(r);if(1===n.getChildrenSize())if(o)n.remove(),r.select();else{n.insertBefore(e),n.remove();const r=t.anchor,o=t.focus,i=e.getKey();"element"===r.type&&r.getNode().is(this)&&r.set(i,r.offset,"element"),"element"===o.type&&o.getNode().is(this)&&o.set(i,o.offset,"element")}else n.insertBefore(e),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(t){const e=this.getWritable();return e.__value=t,e}getChecked(){const t=this.getLatest();let e;const n=this.getParent();return P(n)&&(e=n.getListType()),"check"===e?Boolean(t.__checked):void 0}setChecked(t){const e=this.getWritable();return e.__checked=t,e}toggleChecked(){const t=this.getWritable();return t.setChecked(!t.__checked)}getIndent(){const t=this.getParent();if(null===t||!this.isAttached())return this.getLatest().__indent;let e=t.getParentOrThrow(),n=0;for(;N(e);)e=e.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(t){"number"!=typeof t&&l(117),(t=Math.floor(t))>=0||l(199);let e=this.getIndent();for(;e!==t;)e<t?(v(this),e++):(S(this),e--);return this}canInsertAfter(t){return N(t)}canReplaceWith(t){return N(t)}canMergeWith(t){return N(t)||(0,i.bSg)(t)}extractWithChild(t,e){if(!(0,i.I2P)(e))return!1;const n=e.anchor.getNode(),r=e.focus.getNode();return this.isParentOf(n)&&this.isParentOf(r)&&this.getTextContent().length===e.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return F("bullet")}canMergeWhenEmpty(){return!0}}function b(t){if(t.classList.contains("task-list-item"))for(const e of t.children)if("INPUT"===e.tagName)return w(e);if(t.classList.contains("joplin-checkbox"))for(const e of t.children)if(e.classList.contains("checkbox-wrapper")&&e.children.length>0&&"INPUT"===e.children[0].tagName)return w(e.children[0]);const e=t.getAttribute("aria-checked");return{node:T("true"===e||"false"!==e&&void 0)}}function w(t){return"checkbox"!==t.getAttribute("type")?{node:null}:{node:T(t.hasAttribute("checked"))}}function T(t){return(0,i.pTq)(new x(void 0,t))}function N(t){return t instanceof x}class E extends i.fGB{__tag;__start;__listType;$config(){return this.config("list",{$transform:t=>{!function(t){const e=t.getNextSibling();P(e)&&t.getListType()===e.getListType()&&_(t,e)}(t),y(t)},extends:i.fGB,importDOM:(0,i.kBm)({ol:()=>({conversion:M,priority:0}),ul:()=>({conversion:M,priority:0})})})}constructor(t="number",e=1,n){super(n);const r=O[t]||t;this.__listType=r,this.__tag="number"===r?"ol":"ul",this.__start=e}afterCloneFrom(t){super.afterCloneFrom(t),this.__listType=t.__listType,this.__tag=t.__tag,this.__start=t.__start}getTag(){return this.getLatest().__tag}setListType(t){const e=this.getWritable();return e.__listType=t,e.__tag="number"===t?"ol":"ul",e}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(t){const e=this.getWritable();return e.__start=t,e}createDOM(t,e){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,k(r,t.theme,this),r}updateDOM(t,e,n){return t.__tag!==this.__tag||t.__listType!==this.__listType||(k(e,n.theme,this),!1)}updateFromJSON(t){return super.updateFromJSON(t).setListType(t.listType).setStart(t.start)}exportDOM(t){const e=this.createDOM(t._config,t);return(0,i.sby)(e)&&(1!==this.__start&&e.setAttribute("start",String(this.__start)),"check"===this.__listType&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(t,e,n){let r=n;for(let t=0;t<n.length;t++){const e=n[t];N(e)||(r===n&&(r=[...n]),r[t]=T().append(!(0,i.ff4)(e)||P(e)||e.isInline()?e:(0,i.sTu)(e.getTextContent())))}return super.splice(t,e,r)}extractWithChild(t){return N(t)}}function k(t,e,n){const r=[],i=[],s=e.list;if(void 0!==s){const t=s[`${n.__tag}Depth`]||[],e=a(n)-1,o=e%t.length,l=t[o],c=s[n.__tag];let u;const d=s.nested,f=s.checklist;if(void 0!==d&&d.list&&(u=d.list),void 0!==c&&r.push(c),void 0!==f&&"check"===n.__listType&&r.push(f),void 0!==l){r.push(...C(l));for(let e=0;e<t.length;e++)e!==o&&i.push(n.__tag+e)}if(void 0!==u){const t=C(u);e>1?r.push(...t):i.push(...t)}}i.length>0&&(0,o.HE)(t,...i),r.length>0&&(0,o.ZB)(t,...r)}function A(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];if(N(r)){e.push(r);const t=r.getChildren();t.length>1&&t.forEach((t=>{P(t)&&e.push(f(t))}))}else e.push(f(r))}return e}function M(t){const e=t.nodeName.toLowerCase();let n=null;return"ol"===e?n=F("number",t.start):"ul"===e&&(n=function(t){if("check"===t.getAttribute("__lexicallisttype")||t.classList.contains("contains-task-list")||"1"===t.getAttribute("data-is-checklist"))return!0;for(const e of t.childNodes)if((0,i.sby)(e)&&e.hasAttribute("aria-checked"))return!0;return!1}(t)?F("check"):F("bullet")),{after:A,node:n}}const O={ol:"number",ul:"bullet"};function F(t="number",e=1){return(0,i.pTq)(new E(t,e))}function P(t){return t instanceof E}const L=(0,i.guI)("INSERT_CHECK_LIST_COMMAND");function R(t,e){const n=t.target;if(!(0,i.sby)(n))return;const r=n.firstChild;if((0,i.sby)(r)&&("UL"===r.tagName||"OL"===r.tagName))return;const s=n.parentNode;if(!s||"check"!==s.__lexicalListType)return;const l=n.getBoundingClientRect(),a=(0,o.OV)(n),c=t.clientX/a,u=window.getComputedStyle?window.getComputedStyle(n,"::before"):{width:"0px"},d=parseFloat(u.width),f="touch"===t.pointerType?32:0;("rtl"===n.dir?c<l.right+f&&c>l.right-d-f:c>l.left-f&&c<l.left+d+f)&&e()}function D(t){R(t,(()=>{if((0,i.sby)(t.target)){const e=t.target,n=(0,i.scG)(e);null!=n&&n.isEditable()&&n.update((()=>{const t=(0,i.xL4)(e);N(t)&&(e.focus(),t.toggleChecked())}))}}))}function I(t){R(t,(()=>{t.preventDefault()}))}function z(){const t=document.activeElement;return(0,i.sby)(t)&&"LI"===t.tagName&&null!=t.parentNode&&"check"===t.parentNode.__lexicalListType?t:null}function K(t,e,n){const r=z();return null!=r&&e.update((()=>{const o=(0,i.xL4)(r);if(!N(o))return;const s=function(t,e){let n=e?t.getPreviousSibling():t.getNextSibling(),r=t;for(;null==n&&N(r);)r=r.getParentOrThrow().getParent(),null!=r&&(n=e?r.getPreviousSibling():r.getNextSibling());for(;N(n);){const t=e?n.getLastChild():n.getFirstChild();if(!P(t))return n;n=e?t.getLastChild():t.getFirstChild()}return null}(o,n);if(null!=s){s.selectStart();const n=e.getElementByKey(s.__key);null!=n&&(t.preventDefault(),setTimeout((()=>{n.focus()}),0))}})),!1}const B=(0,i.guI)("UPDATE_LIST_START_COMMAND"),W=(0,i.guI)("INSERT_UNORDERED_LIST_COMMAND"),J=(0,i.guI)("INSERT_ORDERED_LIST_COMMAND"),$=(0,i.guI)("REMOVE_LIST_COMMAND");function H(t){return(0,o.Sd)(t.registerCommand(J,(()=>(g("number"),!0)),i.AcJ),t.registerCommand(B,(t=>{const{listNodeKey:e,newStart:n}=t,r=(0,i.nsf)(e);return!!P(r)&&("number"===r.getListType()&&(r.setStart(n),y(r)),!0)}),i.AcJ),t.registerCommand(W,(()=>(g("bullet"),!0)),i.AcJ),t.registerCommand($,(()=>(function(){const t=(0,i.vJq)();if((0,i.I2P)(t)){const e=new Set,n=t.getNodes(),r=t.anchor.getNode();if(h(r,n))e.add(c(r));else for(let t=0;t<n.length;t++){const r=n[t];if((0,i.jG6)(r)){const t=(0,o.eu)(r,x);null!=t&&e.add(c(t))}}for(const n of e){let e=n;const r=u(n);for(const n of r){const r=(0,i.lJ7)().setTextStyle(t.style).setTextFormat(t.format);p(r,n.getChildren()),e.insertAfter(r),e=r,n.__key===t.anchor.key&&(0,i.wp6)(t.anchor,(0,i.lSZ)((0,i.uwZ)(r,"next"))),n.__key===t.focus.key&&(0,i.wp6)(t.focus,(0,i.lSZ)((0,i.uwZ)(r,"next"))),n.remove()}n.remove()}}}(),!0)),i.AcJ),t.registerCommand(i.XKQ,(()=>function(){const t=(0,i.vJq)();if(!(0,i.I2P)(t)||!t.isCollapsed())return!1;const e=t.anchor.getNode();if(!N(e)||0!==e.getChildrenSize())return!1;const n=c(e),r=e.getParent();P(r)||l(40);const o=r.getParent();let s;if((0,i.IqF)(o))s=(0,i.lJ7)(),n.insertAfter(s);else{if(!N(o))return!1;s=T(),o.insertAfter(s)}s.setTextStyle(t.style).setTextFormat(t.format).select();const a=e.getNextSiblings();if(a.length>0){const t=F(r.getListType());if(N(s)){const e=T();e.append(t),s.insertAfter(e)}else s.insertAfter(t);t.append(...a)}return function(t){let e=t;for(;null==e.getNextSibling()&&null==e.getPreviousSibling();){const t=e.getParent();if(null==t||!N(t)&&!P(t))break;e=t}e.remove()}(e),!0}()),i.AcJ),t.registerNodeTransform(x,(t=>{const e=t.getFirstChild();if(e){if((0,i.kFe)(e)){const n=e.getStyle(),r=e.getFormat();t.getTextStyle()!==n&&t.setTextStyle(n),t.getTextFormat()!==r&&t.setTextFormat(r)}}else{const e=(0,i.vJq)();(0,i.I2P)(e)&&(e.style!==t.getTextStyle()||e.format!==t.getTextFormat())&&e.isCollapsed()&&t.is(e.anchor.getNode())&&t.setTextStyle(e.style).setTextFormat(e.format)}})),t.registerNodeTransform(i.Ey8,(t=>{const e=t.getParent();if(N(e)&&t.is(e.getFirstChild())){const n=t.getStyle(),r=t.getFormat();n===e.getTextStyle()&&r===e.getTextFormat()||e.setTextStyle(n).setTextFormat(r)}})))}function U(t){const e=t=>{const e=t.getParent();if(P(t.getFirstChild())||!P(e))return;const n=(0,i.BtT)(t,(t=>N(t)&&P(t.getParent())&&N(t.getPreviousSibling())));if(null===n&&t.getIndent()>0)t.setIndent(0);else if(N(n)){const r=n.getPreviousSibling();if(N(r)){const n=function(t){let e=t,n=e.getFirstChild();for(;P(n);){const t=n.getLastChild();if(!N(t))break;e=t,n=e.getFirstChild()}return e}(r),o=n.getParent();if(P(o)){const n=a(o);n+1<a(e)&&t.setIndent(n)}}}};return t.registerNodeTransform(E,(t=>{const n=[t];for(;n.length>0;){const t=n.shift();if(P(t))for(const r of t.getChildren())if(N(r)){e(r);const t=r.getFirstChild();P(t)&&n.push(t)}}}))}const j=(0,i.vE9)({build:(t,e,n)=>(0,r.v)(e),config:(0,i.lVE)({hasStrictIndent:!1}),name:"@lexical/list/List",nodes:()=>[E,x],register(t,e,n){const i=n.getOutput();return(0,o.Sd)(H(t),(0,r.QZ)((()=>i.hasStrictIndent.value?U(t):void 0)))}});(0,i.vE9)({dependencies:[j],name:"@lexical/list/CheckList",register:function(t){return(0,o.Sd)(t.registerCommand(L,(()=>(g("check"),!0)),i.AcJ),t.registerCommand(i.bbF,(e=>K(e,t,!1)),i.AcJ),t.registerCommand(i.UDz,(e=>K(e,t,!0)),i.AcJ),t.registerCommand(i.Q$N,(()=>{if(null!=z()){const e=t.getRootElement();return null!=e&&e.focus(),!0}return!1}),i.AcJ),t.registerCommand(i.Huu,(e=>{const n=z();return!(null==n||!t.isEditable()||(t.update((()=>{const t=(0,i.xL4)(n);N(t)&&(e.preventDefault(),t.toggleChecked())})),0))}),i.AcJ),t.registerCommand(i.AX0,(e=>t.getEditorState().read((()=>{const n=(0,i.vJq)();if((0,i.I2P)(n)&&n.isCollapsed()){const{anchor:r}=n,o="element"===r.type;if(o||0===r.offset){const n=r.getNode(),s=(0,i.BtT)(n,(t=>(0,i.ff4)(t)&&!t.isInline()));if(N(s)){const r=s.getParent();if(P(r)&&"check"===r.getListType()&&(o||s.getFirstDescendant()===n)){const n=t.getElementByKey(s.__key);if(null!=n&&document.activeElement!==n)return n.focus(),e.preventDefault(),!0}}}}return!1}))),i.AcJ),t.registerRootListener(((t,e)=>{null!==t&&(t.addEventListener("click",D),t.addEventListener("pointerdown",I)),null!==e&&(e.removeEventListener("click",D),e.removeEventListener("pointerdown",I))})))}})},1729:(t,e,n)=>{n.d(e,{W:()=>l});var r=n(1715),o=n(1730),i=n(1711),s=n(228);function l({validateUrl:t,attributes:e}){const[n]=(0,i.DF)();return(0,s.useEffect)((()=>{if(!n.hasNodes([o.Db]))throw new Error("LinkPlugin: LinkNode not registered on editor")})),(0,s.useEffect)((()=>(0,o.Ou)(n,(0,r.v)({attributes:e,validateUrl:t}))),[n,t,e]),null}},1730:(t,e,n)=>{n.d(e,{Db:()=>l,FJ:()=>u,Ou:()=>v,iK:()=>h,k_:()=>d,yW:()=>g,zA:()=>c});var r=n(1716),o=n(1712),i=n(1715);const s=new Set(["http:","https:","mailto:","sms:","tel:"]);class l extends o.fGB{__url;__target;__rel;__title;static getType(){return"link"}static clone(t){return new l(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(t="",e={},n){super(n);const{target:r=null,rel:o=null,title:i=null}=e;this.__url=t,this.__target=r,this.__rel=o,this.__title=i}createDOM(t){const e=document.createElement("a");return this.updateLinkDOM(null,e,t),(0,r.ZB)(e,t.theme.link),e}updateLinkDOM(t,e,n){if((0,o.nYP)(e)){t&&t.__url===this.__url||(e.href=this.sanitizeUrl(this.__url));for(const n of["target","rel","title"]){const r=`__${n}`,o=this[r];t&&t[r]===o||(o?e[n]=o:e.removeAttribute(n))}}}updateDOM(t,e,n){return this.updateLinkDOM(t,e,n),!1}static importDOM(){return{a:t=>({conversion:a,priority:1})}}static importJSON(t){return c().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setURL(t.url).setRel(t.rel||null).setTarget(t.target||null).setTitle(t.title||null)}sanitizeUrl(t){t=y(t);try{const e=new URL(y(t));if(!s.has(e.protocol))return"about:blank"}catch(e){return t}return t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(t){const e=this.getWritable();return e.__url=t,e}getTarget(){return this.getLatest().__target}setTarget(t){const e=this.getWritable();return e.__target=t,e}getRel(){return this.getLatest().__rel}setRel(t){const e=this.getWritable();return e.__rel=t,e}getTitle(){return this.getLatest().__title}setTitle(t){const e=this.getWritable();return e.__title=t,e}insertNewAfter(t,e=!0){const n=c(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,e),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,e,n){if(!(0,o.I2P)(e))return!1;const r=e.anchor.getNode(),i=e.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&e.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}}function a(t){let e=null;if((0,o.nYP)(t)){const n=t.textContent;(null!==n&&""!==n||t.children.length>0)&&(e=c(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target"),title:t.getAttribute("title")}))}return{node:e}}function c(t="",e){return(0,o.pTq)(new l(t,e))}function u(t){return t instanceof l}class d extends l{__isUnlinked;constructor(t="",e={},n){super(t,e,n),this.__isUnlinked=void 0!==e.isUnlinked&&null!==e.isUnlinked&&e.isUnlinked}static getType(){return"autolink"}static clone(t){return new d(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(t){const e=this.getWritable();return e.__isUnlinked=t,e}createDOM(t){return this.__isUnlinked?document.createElement("span"):super.createDOM(t)}updateDOM(t,e,n){return super.updateDOM(t,e,n)||t.__isUnlinked!==this.__isUnlinked}static importJSON(t){return f().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setIsUnlinked(t.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(t,e=!0){const n=this.getParentOrThrow().insertNewAfter(t,e);if((0,o.ff4)(n)){const t=f(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return n.append(t),t}return null}}function f(t="",e){return(0,o.pTq)(new d(t,e))}function h(t){return t instanceof d}const g=(0,o.guI)("TOGGLE_LINK_COMMAND");function p(t,e){if("element"===t.type){const n=t.getNode();return(0,o.ff4)(n)||function(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),n.getChildren()[t.offset+e]||null}return null}function m(t,e={}){let n;if(t&&"object"==typeof t){const{url:r,...o}=t;n=r,e={...o,...e}}else n=t;const{target:r,title:i}=e,s=void 0===e.rel?"noreferrer":e.rel,l=(0,o.vJq)();if(null===l||!(0,o.I2P)(l)&&!(0,o.RTZ)(l))return;if((0,o.RTZ)(l)){const t=l.getNodes();if(0===t.length)return;return void t.forEach((t=>{if(null===n){const e=(0,o.BtT)(t,(t=>!h(t)&&u(t)));e&&(e.insertBefore(t),0===e.getChildren().length&&e.remove())}else{const e=(0,o.BtT)(t,(t=>!h(t)&&u(t)));if(e)e.setURL(n),void 0!==r&&e.setTarget(r),void 0!==s&&e.setRel(s);else{const e=c(n,{rel:s,target:r});t.insertBefore(e),e.append(t)}}}))}const a=l.extract();if(null===n){const t=new Set;return void a.forEach((e=>{const n=e.getParent();if(u(n)&&!h(n)){const e=n.getKey();if(t.has(e))return;!function(t,e){const n=new Set(e.filter((e=>t.isParentOf(e))).map((t=>t.getKey()))),r=t.getChildren(),o=r.filter((t=>n.has(t.getKey())));if(o.length===r.length)return r.forEach((e=>t.insertBefore(e))),void t.remove();const i=r.findIndex((t=>n.has(t.getKey()))),s=r.findLastIndex((t=>n.has(t.getKey()))),l=0===i,a=s===r.length-1;if(l)o.forEach((e=>t.insertBefore(e)));else if(a)for(let e=o.length-1;e>=0;e--)t.insertAfter(o[e]);else{for(let e=o.length-1;e>=0;e--)t.insertAfter(o[e]);const e=r.slice(s+1);if(e.length>0){const n=c(t.getURL(),{rel:t.getRel(),target:t.getTarget(),title:t.getTitle()});o[o.length-1].insertAfter(n),e.forEach((t=>n.append(t)))}}}(n,a),t.add(e)}}))}const d=new Set,f=t=>{d.has(t.getKey())||(d.add(t.getKey()),t.setURL(n),void 0!==r&&t.setTarget(r),void 0!==s&&t.setRel(s),void 0!==i&&t.setTitle(i))};if(1===a.length){const t=a[0],e=(0,o.BtT)(t,u);if(null!==e)return f(e)}!function(t){const e=(0,o.vJq)();if(!(0,o.I2P)(e))return t();const n=(0,o.CaD)(e),r=n.isBackward(),i=p(n.anchor,r?-1:0),s=p(n.focus,r?0:-1);if(t(),i||s){const t=(0,o.vJq)();if((0,o.I2P)(t)){const e=t.clone();if(i){const t=i.getParent();t&&e.anchor.set(t.getKey(),i.getIndexWithinParent()+(r?1:0),"element")}if(s){const t=s.getParent();t&&e.focus.set(t.getKey(),s.getIndexWithinParent()+(r?0:1),"element")}(0,o.n1P)((0,o.CaD)(e))}}}((()=>{let t=null;for(const e of a){if(!e.isAttached())continue;const l=(0,o.BtT)(e,u);if(l){f(l);continue}if((0,o.ff4)(e)){if(!e.isInline())continue;if(u(e)){if(!(h(e)||null!==t&&t.getParentOrThrow().isParentOf(e))){f(e),t=e;continue}for(const t of e.getChildren())e.insertBefore(t);e.remove();continue}}const a=e.getPreviousSibling();u(a)&&a.is(t)?a.append(e):(t=c(n,{rel:s,target:r,title:i}),e.insertAfter(t),t.append(e))}}))}const _=/^\+?[0-9\s()-]{5,}$/;function y(t){return t.match(/^[a-z][a-z0-9+.-]*:/i)||t.match(/^[/#.]/)?t:t.includes("@")?`mailto:${t}`:_.test(t)?`tel:${t}`:`https://${t}`}function v(t,e){return(0,r.Sd)((0,i.QZ)((()=>t.registerCommand(g,(t=>{const n=e.validateUrl.peek(),r=e.attributes.peek();if(null===t)return m(null),!0;if("string"==typeof t)return!(void 0!==n&&!n(t)||(m(t,r),0));{const{url:e,target:n,rel:o,title:i}=t;return m(e,{...r,rel:o,target:n,title:i}),!0}}),o.AcJ))),(0,i.QZ)((()=>{const n=e.validateUrl.value;if(!n)return;const i=e.attributes.value;return t.registerCommand(o.waI,(e=>{const s=(0,o.vJq)();if(!(0,o.I2P)(s)||s.isCollapsed()||!(0,r.xj)(e,ClipboardEvent))return!1;if(null===e.clipboardData)return!1;const l=e.clipboardData.getData("text");return!!n(l)&&!s.getNodes().some((t=>(0,o.ff4)(t)))&&(t.dispatchCommand(g,{...i,url:l}),e.preventDefault(),!0)}),o.AcJ)})))}const S=(0,o.vE9)({build:(t,e,n)=>(0,i.v)(e),config:{attributes:void 0,validateUrl:void 0},mergeConfig(t,e){const n=(0,o.Tc1)(t,e);return t.attributes&&(n.attributes=(0,o.Tc1)(t.attributes,n.attributes)),n},name:"@lexical/link/Link",nodes:()=>[l],register:(t,e,n)=>v(t,n.getOutput())});function C(t,e){for(let n=0;n<e.length;n++){const r=e[n](t);if(r)return r}return null}(0,o.vE9)({build:(t,e,n)=>(0,i.v)(e),config:(0,o.lVE)({disabled:!1,newTab:!1}),dependencies:[S],name:"@lexical/link/ClickableLink",register:(t,e,n)=>function(t,e,n={}){const r=n=>{const r=n.target;if(!(0,o.vAA)(r))return;const i=(0,o.scG)(r);if(null===i)return;let s=null,l=null;if(i.update((()=>{const t=(0,o.xL4)(r);if(null!==t){const n=(0,o.BtT)(t,o.ff4);if(!e.disabled.peek())if(u(n))s=n.sanitizeUrl(n.getURL()),l=n.getTarget();else{const t=function(t,e){let n=t;for(;null!=n;){if(e(n))return n;n=n.parentNode}return null}(r,o.nYP);null!==t&&(s=t.href,l=t.target)}}})),null===s||""===s)return;const a=t.getEditorState().read(o.vJq);if((0,o.I2P)(a)&&!a.isCollapsed())return void n.preventDefault();const c="auxclick"===n.type&&1===n.button;window.open(s,e.newTab.peek()||c||n.metaKey||n.ctrlKey||"_blank"===l?"_blank":"_self"),n.preventDefault()},i=t=>{1===t.button&&r(t)};return t.registerRootListener(((t,e)=>{null!==e&&(e.removeEventListener("click",r),e.removeEventListener("mouseup",i)),null!==t&&(t.addEventListener("click",r,n),t.addEventListener("mouseup",i,n))}))}(t,n.getOutput())});const x=/[.,;\s]/;function b(t){return x.test(t)}function w(t){return b(t[t.length-1])}function T(t){return b(t[0])}function N(t){let e=t.getPreviousSibling();return(0,o.ff4)(e)&&(e=e.getLastDescendant()),null===e||(0,o.wH$)(e)||(0,o.kFe)(e)&&w(e.getTextContent())}function E(t){let e=t.getNextSibling();return(0,o.ff4)(e)&&(e=e.getFirstDescendant()),null===e||(0,o.wH$)(e)||(0,o.kFe)(e)&&T(e.getTextContent())}function k(t,e,n,r){return!!(t>0?b(n[t-1]):N(r[0]))&&(e<n.length?b(n[e]):E(r[r.length-1]))}function A(t,e,n){const r=[],o=[],i=[];let s=0,l=0;const a=[...t];for(;a.length>0;){const t=a[0],c=t.getTextContent().length,u=l;l+c<=e?(r.push(t),s+=c):u>=n?i.push(t):o.push(t),l+=c,a.shift()}return[s,r,o,i]}function M(t,e,n,r){const i=f(r.url,r.attributes);if(1===t.length){let s,l=t[0];0===e?[s,l]=l.splitText(n):[,s,l]=l.splitText(e,n);const a=(0,o.sTu)(r.text);return a.setFormat(s.getFormat()),a.setDetail(s.getDetail()),a.setStyle(s.getStyle()),i.append(a),s.replace(i),l}if(t.length>1){const r=t[0];let s,l=r.getTextContent().length;0===e?s=r:[,s]=r.splitText(e);const a=[];let c;for(let e=1;e<t.length;e++){const r=t[e],o=r.getTextContent().length,i=l;if(i<n)if(l+o<=n)a.push(r);else{const[t,e]=r.splitText(n-i);a.push(t),c=e}l+=o}const u=(0,o.vJq)(),d=u?u.getNodes().find(o.kFe):void 0,f=(0,o.sTu)(s.getTextContent());return f.setFormat(s.getFormat()),f.setDetail(s.getDetail()),f.setStyle(s.getStyle()),i.append(f,...a),d&&d===s&&((0,o.I2P)(u)?f.select(u.anchor.offset,u.focus.offset):(0,o.RTZ)(u)&&f.select(0,f.getTextContent().length)),s.replace(i),c}}function O(t,e,n){const r=t.getChildren(),i=r.length;for(let e=0;e<i;e++){const i=r[e];if(!(0,o.kFe)(i)||!i.isSimpleText())return F(t),void n(null,t.getURL())}const s=t.getTextContent(),l=C(s,e);if(null===l||l.text!==s)return F(t),void n(null,t.getURL());if(!N(t)||!E(t))return F(t),void n(null,t.getURL());const a=t.getURL();if(a!==l.url&&(t.setURL(l.url),n(l.url,a)),l.attributes){const e=t.getRel();e!==l.attributes.rel&&(t.setRel(l.attributes.rel||null),n(l.attributes.rel||null,e));const r=t.getTarget();r!==l.attributes.target&&(t.setTarget(l.attributes.target||null),n(l.attributes.target||null,r))}}function F(t){const e=t.getChildren();for(let n=e.length-1;n>=0;n--)t.insertAfter(e[n]);return t.remove(),e.map((t=>t.getLatest()))}const P={changeHandlers:[],matchers:[]};(0,o.vE9)({config:P,dependencies:[S],mergeConfig(t,e){const n=(0,o.Tc1)(t,e);for(const r of["matchers","changeHandlers"]){const o=e[r];Array.isArray(o)&&(n[r]=[...t[r],...o])}return n},name:"@lexical/link/AutoLink",register:function(t,e=P){const{matchers:n,changeHandlers:i}=e,s=(t,e)=>{for(const n of i)n(t,e)};return(0,r.Sd)(t.registerNodeTransform(o.Ey8,(t=>{const e=t.getParentOrThrow(),r=t.getPreviousSibling();if(h(e)&&!e.getIsUnlinked())O(e,n,s);else if(!u(e)){if(t.isSimpleText()&&(T(t.getTextContent())||!h(r))){const e=function(t){const e=[t];let n=t.getNextSibling();for(;null!==n&&(0,o.kFe)(n)&&n.isSimpleText()&&(e.push(n),!/[\s]/.test(n.getTextContent()));)n=n.getNextSibling();return e}(t);!function(t,e,n){let r=[...t];const o=r.map((t=>t.getTextContent())).join("");let i,s=o,l=0;for(;(i=C(s,e))&&null!==i;){const t=i.index,e=t+i.length;if(k(l+t,l+e,o,r)){const[o,,s,a]=A(r,l+t,l+e),c=M(s,l+t-o,l+e-o,i);r=c?[c,...a]:a,n(i.url,null),l=0}else l+=e;s=s.substring(e)}}(e,n,s)}!function(t,e,n){const r=t.getPreviousSibling(),o=t.getNextSibling(),i=t.getTextContent();var s;!h(r)||r.getIsUnlinked()||T(i)&&(s=i,!(r.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(s):/^\.[a-zA-Z0-9]{1,}/.test(s)))||(r.append(t),O(r,e,n),n(null,r.getURL())),!h(o)||o.getIsUnlinked()||w(i)||(F(o),O(o,e,n),n(null,o.getURL()))}(t,n,s)}})),t.registerCommand(g,(t=>{const e=(0,o.vJq)();return!(null!==t||!(0,o.I2P)(e)||(e.extract().forEach((t=>{const e=t.getParent();h(e)&&(e.setIsUnlinked(!e.getIsUnlinked()),e.markDirty())})),1))}),o.AcJ))}})},1731:(t,e,n)=>{n.d(e,{A:()=>l});var r=n(1715),o=n(1711),i=n(1732),s=n(228);function l({hasCellMerge:t=!0,hasCellBackgroundColor:e=!0,hasTabHandler:n=!0,hasHorizontalScroll:l=!1,hasNestedTables:a=!1}){const[c]=(0,o.DF)();(0,s.useEffect)((()=>{(0,i.FY)(c)!==l&&((0,i.hi)(c,l),c.registerNodeTransform(i.HA,(()=>{}))())}),[c,l]);const u=(0,s.useMemo)((()=>(0,r.vP)(!1)),[]);return u.peek()!==a&&(u.value=a),(0,s.useEffect)((()=>(0,i.xT)(c,{hasNestedTables:u})),[c,u]),(0,s.useEffect)((()=>(0,i.Ej)(c,n)),[c,n]),(0,s.useEffect)((()=>{if(!t)return(0,i.nq)(c)}),[c,t]),(0,s.useEffect)((()=>{if(!e)return c.registerNodeTransform(i.B9,(t=>{null!==t.getBackgroundColor()&&t.setBackgroundColor(null)}))}),[c,e,t]),null}},1732:(t,e,n)=>{n.d(e,{B9:()=>c,Ej:()=>Ft,FY:()=>Ct,HA:()=>bt,hi:()=>xt,hx:()=>y,np:()=>f,nq:()=>Ot,pK:()=>Tt,py:()=>m,xT:()=>Pt});var r=n(1716),o=n(1712),i=n(1715),s=n(1720);const l=/^(\d+(?:\.\d+)?)px$/,a={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class c extends o.fGB{__colSpan;__rowSpan;__headerState;__width;__backgroundColor;__verticalAlign;static getType(){return"tablecell"}static clone(t){return new c(t.__headerState,t.__colSpan,t.__width,t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__rowSpan=t.__rowSpan,this.__backgroundColor=t.__backgroundColor,this.__verticalAlign=t.__verticalAlign}static importDOM(){return{td:t=>({conversion:d,priority:0}),th:t=>({conversion:d,priority:0})}}static importJSON(t){return f().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setHeaderStyles(t.headerState).setColSpan(t.colSpan||1).setRowSpan(t.rowSpan||1).setWidth(t.width||void 0).setBackgroundColor(t.backgroundColor||null).setVerticalAlign(t.verticalAlign||void 0)}constructor(t=a.NO_STATUS,e=1,n,r){super(r),this.__colSpan=e,this.__rowSpan=1,this.__headerState=t,this.__width=n,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(t){const e=document.createElement(this.getTag());return this.__width&&(e.style.width=`${this.__width}px`),this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(e.style.backgroundColor=this.__backgroundColor),u(this.__verticalAlign)&&(e.style.verticalAlign=this.__verticalAlign),(0,r.ZB)(e,t.theme.tableCell,this.hasHeader()&&t.theme.tableCellHeader),e}exportDOM(t){const e=super.exportDOM(t);if((0,o.sby)(e.element)){const t=e.element;t.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),t.style.border="1px solid black",this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),t.style.width=`${this.getWidth()||75}px`,t.style.verticalAlign=this.getVerticalAlign()||"top",t.style.textAlign="start",null===this.__backgroundColor&&this.hasHeader()&&(t.style.backgroundColor="#f2f3f5")}return e}exportJSON(){return{...super.exportJSON(),...u(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(t){const e=this.getWritable();return e.__colSpan=t,e}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(t){const e=this.getWritable();return e.__rowSpan=t,e}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(t,e=a.BOTH){const n=this.getWritable();return n.__headerState=t&e|n.__headerState&~e,n}getHeaderStyles(){return this.getLatest().__headerState}setWidth(t){const e=this.getWritable();return e.__width=t,e}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(t){const e=this.getWritable();return e.__backgroundColor=t,e}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(t){const e=this.getWritable();return e.__verticalAlign=t||void 0,e}toggleHeaderStyle(t){const e=this.getWritable();return(e.__headerState&t)===t?e.__headerState-=t:e.__headerState+=t,e}hasHeaderState(t){return(this.getHeaderStyles()&t)===t}hasHeader(){return this.getLatest().__headerState!==a.NO_STATUS}updateDOM(t){return t.__headerState!==this.__headerState||t.__width!==this.__width||t.__colSpan!==this.__colSpan||t.__rowSpan!==this.__rowSpan||t.__backgroundColor!==this.__backgroundColor||t.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function u(t){return"middle"===t||"bottom"===t}function d(t){const e=t,n=t.nodeName.toLowerCase();let r;l.test(e.style.width)&&(r=parseFloat(e.style.width));const i=f("th"===n?a.ROW:a.NO_STATUS,e.colSpan,r);i.__rowSpan=e.rowSpan;const s=e.style.backgroundColor;""!==s&&(i.__backgroundColor=s);const c=e.style.verticalAlign;u(c)&&(i.__verticalAlign=c);const d=e.style,h=(d&&d.textDecoration||"").split(" "),g="700"===d.fontWeight||"bold"===d.fontWeight,p=h.includes("line-through"),m="italic"===d.fontStyle,_=h.includes("underline");return{after:t=>{const e=[];let n=null;const r=()=>{if(n){const t=n.getFirstChild();(0,o.wH$)(t)&&1===n.getChildrenSize()&&t.remove()}};for(const i of t)(0,o.Gew)(i)||(0,o.kFe)(i)||(0,o.wH$)(i)?((0,o.kFe)(i)&&(g&&i.toggleFormat("bold"),p&&i.toggleFormat("strikethrough"),m&&i.toggleFormat("italic"),_&&i.toggleFormat("underline")),n?n.append(i):(n=(0,o.lJ7)().append(i),e.push(n))):(e.push(i),r(),n=null);return r(),0===e.length&&e.push((0,o.lJ7)()),e},node:i}}function f(t=a.NO_STATUS,e=1,n){return(0,o.pTq)(new c(t,e,n))}function h(t){return t instanceof c}const g=(0,o.guI)("INSERT_TABLE_COMMAND");function p(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class m extends o.fGB{__height;static getType(){return"tablerow"}static clone(t){return new m(t.__height,t.__key)}static importDOM(){return{tr:t=>({conversion:_,priority:0})}}static importJSON(t){return y().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setHeight(t.height)}constructor(t,e){super(e),this.__height=t}exportJSON(){const t=this.getHeight();return{...super.exportJSON(),...void 0===t?void 0:{height:t}}}createDOM(t){const e=document.createElement("tr");return this.__height&&(e.style.height=`${this.__height}px`),(0,r.ZB)(e,t.theme.tableRow),e}extractWithChild(t,e,n){return"html"===n}isShadowRoot(){return!0}setHeight(t){const e=this.getWritable();return e.__height=t,e}getHeight(){return this.getLatest().__height}updateDOM(t){return t.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function _(t){const e=t;let n;return l.test(e.style.height)&&(n=parseFloat(e.style.height)),{after:t=>(0,r.cE)(t,h),node:y(n)}}function y(t){return(0,o.pTq)(new m(t))}function v(t){return t instanceof m}const S="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,C=S&&"documentMode"in document?document.documentMode:null,x=S&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);S&&"InputEvent"in window&&!C&&new window.InputEvent("input");const b=(t,e)=>t===a.BOTH||t===e?e:a.NO_STATUS;function w(t,e=!0){const[,,n]=F(t),[r,i]=M(n,t,t),s=r[0].length,{startRow:l}=i;let c=null;if(e){const e=l+t.__rowSpan-1,i=r[e],u=y();for(let t=0;t<s;t++){const{cell:n,startRow:r}=i[t];if(r+n.__rowSpan-1<=e){const e=i[t].cell.__headerState,n=b(e,a.COLUMN);u.append(f(n).append((0,o.lJ7)()))}else n.setRowSpan(n.__rowSpan+1)}const d=n.getChildAtIndex(e);v(d)||p(256),d.insertAfter(u),c=u}else{const t=l,e=r[t],i=y();for(let n=0;n<s;n++){const{cell:r,startRow:s}=e[n];if(s===t){const t=e[n].cell.__headerState,r=b(t,a.COLUMN);i.append(f(r).append((0,o.lJ7)()))}else r.setRowSpan(r.__rowSpan+1)}const u=n.getChildAtIndex(t);v(u)||p(257),u.insertBefore(i),c=i}return c}function T(t,e=!0,n=!0){const[,,r]=F(t),[i,s]=M(r,t,t),l=i.length,{startColumn:c}=s,u=e?c+t.__colSpan-1:c-1,d=r.getFirstChild();v(d)||p(120);let h=null;function g(t=a.NO_STATUS){const e=f(t).append((0,o.lJ7)());return null===h&&(h=e),e}let m=d;t:for(let t=0;t<l;t++){if(0!==t){const t=m.getNextSibling();v(t)||p(121),m=t}const e=i[t],n=e[u<0?0:u].cell.__headerState,r=b(n,a.ROW);if(u<0){N(m,g(r));continue}const{cell:o,startColumn:s,startRow:l}=e[u];if(s+o.__colSpan-1<=u){let n=o,i=l,s=u;for(;i!==t&&n.__rowSpan>1;){if(s-=o.__colSpan,!(s>=0)){m.append(g(r));continue t}{const{cell:t,startRow:r}=e[s];n=t,i=r}}n.insertAfter(g(r))}else o.setColSpan(o.__colSpan+1)}null!==h&&n&&function(t){const e=t.getFirstDescendant();null==e?t.selectStart():e.getParentOrThrow().selectStart()}(h);const _=r.getColWidths();if(_){const t=[..._],e=u<0?0:u,n=t[e];t.splice(e,0,n),r.setColWidths(t)}return h}function N(t,e){const n=t.getFirstChild();null!==n?n.insertBefore(e):t.append(e)}function E(t){if(0===t.length)return null;const e=function(t){const e=(0,o.BtT)(t,(t=>Nt(t)));if(Nt(e))return e;throw new Error("Expected table cell to be inside of table.")}(t[0]),[n]=O(e,null,null);let r=1/0,i=-1/0,s=1/0,l=-1/0;const a=new Set;for(const e of n)for(const n of e){if(!n||!n.cell)continue;const e=n.cell.getKey();if(!a.has(e)&&t.some((t=>t.is(n.cell)))){a.add(e);const t=n.startRow,o=n.startColumn,c=n.cell.__rowSpan||1,u=n.cell.__colSpan||1;r=Math.min(r,t),i=Math.max(i,t+c-1),s=Math.min(s,o),l=Math.max(l,o+u-1)}}if(r===1/0||s===1/0)return null;const c=i-r+1,u=l-s+1,d=n[r][s];if(!d.cell)return null;const f=d.cell;f.setColSpan(u),f.setRowSpan(c);const h=new Set([f.getKey()]);for(let t=r;t<=i;t++)for(let e=s;e<=l;e++){const r=n[t][e];if(!r.cell)continue;const o=r.cell,i=o.getKey();h.has(i)||(h.add(i),k(o)||f.append(...o.getChildren()),o.remove())}return 0===f.getChildrenSize()&&f.append((0,o.lJ7)()),f}function k(t){if(1!==t.getChildrenSize())return!1;const e=t.getFirstChildOrThrow();return!(!(0,o.bSg)(e)||!e.isEmpty())}function A(t){const[e,n,r]=F(t),i=e.__colSpan,s=e.__rowSpan;if(1===i&&1===s)return;const[l,c]=M(r,e,e),{startColumn:u,startRow:d}=c,h=e.__headerState&a.COLUMN,g=Array.from({length:i},((t,e)=>{let n=h;for(let t=0;0!==n&&t<l.length;t++)n&=l[t][e+u].cell.__headerState;return n})),m=e.__headerState&a.ROW,_=Array.from({length:s},((t,e)=>{let n=m;for(let t=0;0!==n&&t<l[0].length;t++)n&=l[e+d][t].cell.__headerState;return n}));if(i>1){for(let t=1;t<i;t++)e.insertAfter(f(g[t]|_[0]).append((0,o.lJ7)()));e.setColSpan(1)}if(s>1){let t;for(let e=1;e<s;e++){const r=d+e,s=l[r];t=(t||n).getNextSibling(),v(t)||p(125);let a=null;for(let t=0;t<u;t++){const e=s[t],n=e.cell;e.startRow===r&&(a=n),n.__colSpan>1&&(t+=n.__colSpan-1)}if(null===a)for(let n=i-1;n>=0;n--)N(t,f(g[n]|_[e]).append((0,o.lJ7)()));else for(let t=i-1;t>=0;t--)a.insertAfter(f(g[t]|_[e]).append((0,o.lJ7)()))}e.setRowSpan(1)}}function M(t,e,n){const[r,o,i]=O(t,e,n);return null===o&&p(207),null===i&&p(208),[r,o,i]}function O(t,e,n){const r=[];let o=null,i=null;function s(t){let e=r[t];return void 0===e&&(r[t]=e=[]),e}const l=t.getChildren();for(let t=0;t<l.length;t++){const r=l[t];v(r)||p(209);const a=s(t);for(let c=r.getFirstChild(),u=0;null!=c;c=c.getNextSibling()){for(h(c)||p(147);void 0!==a[u];)u++;const r={cell:c,startColumn:u,startRow:t},{__rowSpan:d,__colSpan:f}=c;for(let e=0;e<d&&!(t+e>=l.length);e++){const n=s(t+e);for(let t=0;t<f;t++)n[u+t]=r}null!==e&&null===o&&e.is(c)&&(o=r),null!==n&&null===i&&n.is(c)&&(i=r)}}return[r,o,i]}function F(t){let e;if(t instanceof c)e=t;else if("__type"in t){const n=(0,o.BtT)(t,h);h(n)||p(148),e=n}else{const n=(0,o.BtT)(t.getNode(),h);h(n)||p(148),e=n}const n=e.getParent();v(n)||p(149);const r=n.getParent();return Nt(r)||p(210),[e,n,r]}function P(t,e,n){let r,o=Math.min(e.startColumn,n.startColumn),i=Math.min(e.startRow,n.startRow),s=Math.max(e.startColumn+e.cell.__colSpan-1,n.startColumn+n.cell.__colSpan-1),l=Math.max(e.startRow+e.cell.__rowSpan-1,n.startRow+n.cell.__rowSpan-1);do{r=!1;for(let e=0;e<t.length;e++)for(let n=0;n<t[0].length;n++){const a=t[e][n];if(!a)continue;const c=a.startColumn+a.cell.__colSpan-1,u=a.startRow+a.cell.__rowSpan-1,d=a.startColumn<=s&&c>=o,f=a.startRow<=l&&u>=i;if(d&&f){const t=Math.min(o,a.startColumn),e=Math.max(s,c),n=Math.min(i,a.startRow),d=Math.max(l,u);t===o&&e===s&&n===i&&d===l||(o=t,s=e,i=n,l=d,r=!0)}}}while(r);return{maxColumn:s,maxRow:l,minColumn:o,minRow:i}}function L(t){const[e,,n]=F(t),r=n.getChildren(),o=r.length,i=r[0].getChildren().length,s=new Array(o);for(let t=0;t<o;t++)s[t]=new Array(i);for(let t=0;t<o;t++){const n=r[t].getChildren();let o=0;for(let r=0;r<n.length;r++){for(;s[t][o];)o++;const i=n[r],l=i.__rowSpan||1,a=i.__colSpan||1;for(let e=0;e<l;e++)for(let n=0;n<a;n++)s[t+e][o+n]=i;if(e===i)return{colSpan:a,columnIndex:o,rowIndex:t,rowSpan:l};o+=a}}return null}function R(t){const[[e,n,r,i],[s,l,a,c]]=["anchor","focus"].map((e=>{const n=t[e].getNode(),r=(0,o.BtT)(n,h);h(r)||p(238,e,n.getKey(),n.getType());const i=r.getParent();v(i)||p(239,e);const s=i.getParent();return Nt(s)||p(240,e),[n,r,i,s]}));return i.is(c)||p(241),{anchorCell:n,anchorNode:e,anchorRow:r,anchorTable:i,focusCell:l,focusNode:s,focusRow:a,focusTable:c}}class D{tableKey;anchor;focus;_cachedNodes;dirty;constructor(t,e,n){this.anchor=e,this.focus=n,e._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=t}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){if("root"===this.tableKey||"root"===this.anchor.key||"element"!==this.anchor.type||"root"===this.focus.key||"element"!==this.focus.type)return!1;const t=(0,o.nsf)(this.tableKey),e=(0,o.nsf)(this.anchor.key),n=(0,o.nsf)(this.focus.key);return null!==t&&null!==e&&null!==n}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return I(t)&&this.tableKey===t.tableKey&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)}set(t,e,n){this.dirty=this.dirty||t!==this.tableKey||e!==this.anchor.key||n!==this.focus.key,this.tableKey=t,this.anchor.key=e,this.focus.key=n,this._cachedNodes=null}clone(){return new D(this.tableKey,(0,o.z8s)(this.anchor.key,this.anchor.offset,this.anchor.type),(0,o.z8s)(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(t){}insertText(){}hasFormat(t){let e=0;this.getNodes().filter(h).forEach((t=>{const n=t.getFirstChild();(0,o.bSg)(n)&&(e|=n.getTextFormat())}));const n=o.LZn[t];return!!(e&n)}insertNodes(t){const e=this.focus.getNode();(0,o.ff4)(e)||p(151),(0,o.CaD)(e.select(0,e.getChildrenSize())).insertNodes(t)}getShape(){const{anchorCell:t,focusCell:e}=R(this),n=L(t);null===n&&p(153);const r=L(e);null===r&&p(155);const o=Math.min(n.columnIndex,r.columnIndex),i=Math.max(n.columnIndex+n.colSpan-1,r.columnIndex+r.colSpan-1),s=Math.min(n.rowIndex,r.rowIndex),l=Math.max(n.rowIndex+n.rowSpan-1,r.rowIndex+r.rowSpan-1);return{fromX:Math.min(o,i),fromY:Math.min(s,l),toX:Math.max(o,i),toY:Math.max(s,l)}}getNodes(){if(!this.isValid())return[];const t=this._cachedNodes;if(null!==t)return t;const{anchorTable:e,anchorCell:n,focusCell:r}=R(this),i=r.getParents()[1];if(i!==e){if(e.isParentOf(r)){const t=i.getParent();null==t&&p(159),this.set(this.tableKey,r.getKey(),t.getKey())}else{const t=e.getParent();null==t&&p(158),this.set(this.tableKey,t.getKey(),r.getKey())}return this.getNodes()}const[s,l,a]=M(e,n,r),{minColumn:c,maxColumn:u,minRow:d,maxRow:f}=P(s,l,a),h=new Map([[e.getKey(),e]]);let g=null;for(let t=d;t<=f;t++)for(let e=c;e<=u;e++){const{cell:n}=s[t][e],r=n.getParent();v(r)||p(160),r!==g&&(h.set(r.getKey(),r),g=r),h.has(n.getKey())||K(n,(t=>{h.set(t.getKey(),t)}))}const m=Array.from(h.values());return(0,o.GcU)()||(this._cachedNodes=m),m}getTextContent(){const t=this.getNodes().filter((t=>h(t)));let e="";for(let n=0;n<t.length;n++){const r=t[n],o=r.__parent,i=(t[n+1]||{}).__parent;e+=r.getTextContent()+(i!==o?"\n":"\t")}return e}}function I(t){return t instanceof D}function z(){const t=(0,o.z8s)("root",0,"element"),e=(0,o.z8s)("root",0,"element");return new D("root",t,e)}function K(t,e){const n=[[t]];for(let t=n.at(-1);void 0!==t&&n.length>0;t=n.at(-1)){const r=t.pop();void 0===r?n.pop():!1!==e(r)&&(0,o.ff4)(r)&&n.push(r.getChildren())}}function B(t,e=(0,o.i0_)()){const n=(0,o.nsf)(t);Nt(n)||p(231,t);const r=H(n,e.getElementByKey(t));return null===r&&p(232,t),{tableElement:r,tableNode:n}}class W{focusX;focusY;listenersToRemove;table;isHighlightingCells;anchorX;anchorY;tableNodeKey;anchorCell;focusCell;anchorCellNodeKey;focusCellNodeKey;editor;tableSelection;hasHijackedSelectionStyles;isSelecting;pointerType;shouldCheckSelection;abortController;listenerOptions;nextFocus;constructor(t,e){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=e,this.editor=t,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach((t=>t())),this.listenersToRemove.clear()}$lookup(){return B(this.tableNodeKey,this.editor)}trackTable(){const t=new MutationObserver((t=>{this.editor.getEditorState().read((()=>{let e=!1;for(let n=0;n<t.length;n++){const r=t[n].target.nodeName;if("TABLE"===r||"TBODY"===r||"THEAD"===r||"TR"===r){e=!0;break}}if(!e)return;const{tableNode:n,tableElement:r}=this.$lookup();this.table=Q(n,r)}),{editor:this.editor})}));this.editor.getEditorState().read((()=>{const{tableNode:e,tableElement:n}=this.$lookup();this.table=Q(e,n),t.observe(n,{attributes:!0,childList:!0,subtree:!0})}),{editor:this.editor})}$clearHighlight(){const t=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:e,tableElement:n}=this.$lookup();tt(t,Q(e,n),null),null!==(0,o.vJq)()&&((0,o.n1P)(null),t.dispatchCommand(o.MvL,void 0))}$enableHighlightStyle(){const t=this.editor,{tableElement:e}=this.$lookup();(0,r.HE)(e,t._config.theme.tableSelection),e.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:t}=this.$lookup();(0,r.ZB)(t,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(t){if(null!==t){t.tableKey!==this.tableNodeKey&&p(233,t.tableKey,this.tableNodeKey);const e=this.editor;this.tableSelection=t,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),tt(e,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(t){this.nextFocus=t}getAndClearNextFocus(){const{nextFocus:t}=this;return null!==t&&(this.nextFocus=null),t}updateDOMSelection(){if(null!==this.anchorCell&&null!==this.focusCell){const t=(0,o.peL)(this.editor._window);t&&t.rangeCount>0&&t.removeAllRanges()}}$setFocusCellForSelection(t,e=!1){const n=this.editor,{tableNode:r}=this.$lookup(),i=t.x,s=t.y;if(this.focusCell=t,this.isHighlightingCells||this.anchorX===i&&this.anchorY===s&&!e){if(i===this.focusX&&s===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=i,this.focusY=s,this.isHighlightingCells){const e=yt(r,t.elem);if(null!=this.tableSelection&&null!=this.anchorCellNodeKey&&null!==e)return this.focusCellNodeKey=e.getKey(),this.tableSelection=function(t,e,n){t.getKey(),e.getKey(),n.getKey();const r=(0,o.vJq)(),i=I(r)?r.clone():z();return i.set(t.getKey(),e.getKey(),n.getKey()),i}(r,this.$getAnchorTableCellOrThrow(),e),(0,o.n1P)(this.tableSelection),n.dispatchCommand(o.MvL,void 0),tt(n,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?(0,o.nsf)(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const t=this.$getAnchorTableCell();return null===t&&p(234),t}$getFocusTableCell(){return this.focusCellNodeKey?(0,o.nsf)(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const t=this.$getFocusTableCell();return null===t&&p(235),t}$setAnchorCellForSelection(t){this.isHighlightingCells=!1,this.anchorCell=t,this.anchorX=t.x,this.anchorY=t.y;const{tableNode:e}=this.$lookup(),n=yt(e,t.elem);if(null!==n){const t=n.getKey();this.tableSelection=null!=this.tableSelection?this.tableSelection.clone():z(),this.anchorCellNodeKey=t}}$formatCells(t){const e=(0,o.vJq)();I(e)||p(236);const n=(0,o.uTE)(),r=n.anchor,i=n.focus,s=e.getNodes().filter(h);s.length>0||p(237);const l=s[0].getFirstChild(),a=(0,o.bSg)(l)?l.getFormatFlags(t,null):null;s.forEach((e=>{r.set(e.getKey(),0,"element"),i.set(e.getKey(),e.getChildrenSize(),"element"),n.formatText(t,a)})),(0,o.n1P)(e),this.editor.dispatchCommand(o.MvL,void 0)}$clearText(){const{editor:t}=this,e=(0,o.nsf)(this.tableNodeKey);if(!Nt(e))throw new Error("Expected TableNode.");const n=(0,o.vJq)();I(n)||p(253);const r=n.getNodes().filter(h),i=e.getFirstChild(),s=e.getLastChild();if(r.length>0&&null!==i&&null!==s&&v(i)&&v(s)&&r[0]===i.getFirstChild()&&r[r.length-1]===s.getLastChild()){e.selectPrevious();const n=e.getParent();return e.remove(),void((0,o.hVZ)(n)&&n.isEmpty()&&t.dispatchCommand(o.XKQ,void 0))}r.forEach((t=>{if((0,o.ff4)(t)){const e=(0,o.lJ7)(),n=(0,o.sTu)();e.append(n),t.append(e),t.getChildren().forEach((t=>{t!==e&&t.remove()}))}})),tt(t,this.table,null),(0,o.n1P)(null),t.dispatchCommand(o.MvL,void 0)}}const J="__lexicalTableSelection";function $(t){return(0,o.sby)(t)&&"TABLE"===t.nodeName}function H(t,e){if(!e)return e;const n=$(e)?e:t.getDOMSlot(e).element;return"TABLE"!==n.nodeName&&p(245,e.nodeName),n}function U(t){return t._window}function j(t,e){for(let n=e,r=null;null!==n;n=n.getParent()){if(t.is(n))return r;h(n)&&(r=n)}return null}const q=[[o.bbF,"down"],[o.UDz,"up"],[o.AX0,"backward"],[o.JM3,"forward"]],Z=[o.hi0,o.viC,o.WuB],V=[o.gCZ,o.w$Z];function Y(t){return t[J]||null}function G(t){let e=t;for(;null!=e;){const t=e.nodeName;if("TD"===t||"TH"===t){const t=e._cell;return void 0===t?null:t}e=e.parentNode}return null}function X(t,e){if(!t.contains(e))return null;let n=null;for(let r=e;null!=r;r=r.parentNode){if(r===t)return n;const e=r.nodeName;"TD"!==e&&"TH"!==e||(n=r._cell||null)}return null}function Q(t,e){const n=[],r={columns:0,domRows:n,rows:0};let o=H(t,e).querySelector("tr"),i=0,s=0;for(n.length=0;null!=o;){const t=o.nodeName;if("TD"===t||"TH"===t){const t={elem:o,hasBackgroundColor:""!==o.style.backgroundColor,highlighted:!1,x:i,y:s};o._cell=t;let e=n[s];void 0===e&&(e=n[s]=[]),e[i]=t}else{const t=o.firstChild;if(null!=t){o=t;continue}}const e=o.nextSibling;if(null!=e){i++,o=e;continue}const r=o.parentNode;if(null!=r){const t=r.nextSibling;if(null==t)break;s++,i=0,o=t}}return r.columns=i+1,r.rows=s+1,r}function tt(t,e,n){const r=new Set(n?n.getNodes():[]);et(e,((e,n)=>{const o=e.elem;r.has(n)?(e.highlighted=!0,ct(t,e)):(e.highlighted=!1,ut(t,e),o.getAttribute("style")||o.removeAttribute("style"))}))}function et(t,e){const{domRows:n}=t;for(let t=0;t<n.length;t++){const r=n[t];if(r)for(let n=0;n<r.length;n++){const i=r[n];if(!i)continue;const s=(0,o.xL4)(i.elem);null!==s&&e(i,s,{x:n,y:t})}}}function nt(t,e){e.$disableHighlightStyle(),et(e.table,(e=>{e.highlighted=!0,ct(t,e)}))}const rt=(t,e,n,r,o)=>{const i="forward"===o;switch(o){case"backward":case"forward":return n!==(i?t.table.columns-1:0)?at(e.getCellNodeFromCordsOrThrow(n+(i?1:-1),r,t.table),i):r!==(i?t.table.rows-1:0)?at(e.getCellNodeFromCordsOrThrow(i?0:t.table.columns-1,r+(i?1:-1),t.table),i):i?e.selectNext():e.selectPrevious(),!0;case"up":return 0!==r?at(e.getCellNodeFromCordsOrThrow(n,r-1,t.table),!1):e.selectPrevious(),!0;case"down":return r!==t.table.rows-1?at(e.getCellNodeFromCordsOrThrow(n,r+1,t.table),!0):e.selectNext(),!0;default:return!1}};function ot(t,e){let n,r;if(e.startColumn===t.minColumn)n="minColumn";else{if(e.startColumn+e.cell.__colSpan-1!==t.maxColumn)return null;n="maxColumn"}if(e.startRow===t.minRow)r="minRow";else{if(e.startRow+e.cell.__rowSpan-1!==t.maxRow)return null;r="maxRow"}return[n,r]}function it([t,e]){return["minColumn"===t?"maxColumn":"minColumn","minRow"===e?"maxRow":"minRow"]}function st(t,e,[n,r]){const o=e[r],i=t[o];void 0===i&&p(250,r,String(o));const s=e[n],l=i[s];return void 0===l&&p(250,n,String(s)),l}function lt(t,e){if((0,o.I2P)(t)||I(t)){const n=e.isParentOf(t.anchor.getNode()),r=e.isParentOf(t.focus.getNode());return n&&r}return!1}function at(t,e){e?t.selectStart():t.selectEnd()}function ct(t,e){const n=e.elem,i=t._config.theme;h((0,o.xL4)(n))||p(131),(0,r.ZB)(n,i.tableCellSelected)}function ut(t,e){const n=e.elem;h((0,o.xL4)(n))||p(131);const i=t._config.theme;(0,r.HE)(n,i.tableCellSelected)}function dt(t){const e=(0,o.BtT)(t,h);return h(e)?e:null}function ft(t){const e=(0,o.BtT)(t,Nt);return Nt(e)?e:null}function ht(t,e,n,r,i){if(("up"===n||"down"===n)&&function(t){const e=t.getRootElement();return!!e&&e.hasAttribute("aria-controls")&&"typeahead-menu"===e.getAttribute("aria-controls")}(t))return!1;const s=(0,o.vJq)();if(!lt(s,r)){if((0,o.I2P)(s)){if("backward"===n){if(s.focus.offset>0)return!1;const t=function(t){for(let e=t,n=t;null!==n;e=n,n=n.getParent())if((0,o.ff4)(n)){if(n!==e&&n.getFirstChild()!==e)return null;if(!n.isInline())return n}return null}(s.focus.getNode());if(!t)return!1;const n=t.getPreviousSibling();return!!Nt(n)&&(gt(e),e.shiftKey?s.focus.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent(),"element"):n.selectEnd(),!0)}if(e.shiftKey&&("up"===n||"down"===n)){const t=s.focus.getNode();if(!s.isCollapsed()&&("up"===n&&!s.isBackward()||"down"===n&&s.isBackward())){let i=(0,o.BtT)(t,(t=>Nt(t)));if(h(i)&&(i=(0,o.BtT)(i,Nt)),i!==r)return!1;if(!i)return!1;const l="down"===n?i.getNextSibling():i.getPreviousSibling();if(!l)return!1;let a=0;"up"===n&&(0,o.ff4)(l)&&(a=l.getChildrenSize());let c=l;"up"===n&&(0,o.ff4)(l)&&(c=l.getLastChild()||l,a=(0,o.kFe)(c)?c.getTextContentSize():0);const u=s.clone();return u.focus.set(c.getKey(),a,(0,o.kFe)(c)?"text":"element"),(0,o.n1P)(u),gt(e),!0}if((0,o.IqF)(t)){const t="up"===n?s.getNodes()[s.getNodes().length-1]:s.getNodes()[0];if(t&&null!==j(r,t)){const t=r.getFirstDescendant(),e=r.getLastDescendant();if(!t||!e)return!1;const[n]=F(t),[o]=F(e),s=r.getCordsFromCellNode(n,i.table),l=r.getCordsFromCellNode(o,i.table),a=r.getDOMCellFromCordsOrThrow(s.x,s.y,i.table),c=r.getDOMCellFromCordsOrThrow(l.x,l.y,i.table);return i.$setAnchorCellForSelection(a),i.$setFocusCellForSelection(c,!0),!0}return!1}{let r=(0,o.BtT)(t,(t=>(0,o.ff4)(t)&&!t.isInline()));if(h(r)&&(r=(0,o.BtT)(r,Nt)),!r)return!1;const l="down"===n?r.getNextSibling():r.getPreviousSibling();if(Nt(l)&&i.tableNodeKey===l.getKey()){const t=l.getFirstDescendant(),r=l.getLastDescendant();if(!t||!r)return!1;const[i]=F(t),[a]=F(r),c=s.clone();return c.focus.set(("up"===n?i:a).getKey(),"up"===n?0:a.getChildrenSize(),"element"),gt(e),(0,o.n1P)(c),!0}}}}return"down"===n&&Ct(t)&&i.setShouldCheckSelection(),!1}if((0,o.I2P)(s)){if("backward"===n||"forward"===n)return function(t,e,n,r,i,s,l){const a=(0,o.Ave)(n.focus,i?"previous":"next");if((0,o.pGK)(a))return!1;let c=a;for(const t of(0,o.mWO)(a).iterNodeCarets("shadowRoot")){if(!(0,o.OpE)(t)||!(0,o.ff4)(t.origin))return!1;c=t}const u=c.getParentAtCaret();if(!h(u))return!1;const d=u,f=function(t){for(const e of(0,o.mWO)(t).iterNodeCarets("root")){const{origin:n}=e;if(h(n)){if((0,o.cmH)(e))return(0,o.uwZ)(n,t.direction)}else if(!v(n))break}return null}((0,o.IlV)(d,c.direction)),g=(0,o.BtT)(d,Nt);if(!g||!g.is(s))return!1;const m=t.getElementByKey(d.getKey()),_=G(m);if(!m||!_)return!1;const y=function(t,e){const n=t.getElementByKey(e.getKey());return null===n&&p(230),Q(e,n)}(t,g);if(l.table=y,f)if("extend"===r){const e=G(t.getElementByKey(f.origin.getKey()));if(!e)return!1;l.$setAnchorCellForSelection(_),l.$setFocusCellForSelection(e,!0)}else{const t=(0,o.lSZ)(f);(0,o.wp6)(n.anchor,t),(0,o.wp6)(n.focus,t)}else if("extend"===r)l.$setAnchorCellForSelection(_),l.$setFocusCellForSelection(_,!0);else{const t=function(t){const e=(0,o.erb)(t);return(0,o.cmH)(e)?(0,o.lSZ)(e):t}((0,o.IlV)(g,a.direction));(0,o.wp6)(n.anchor,t),(0,o.wp6)(n.focus,t)}return gt(e),!0}(t,e,s,e.shiftKey?"extend":"move","backward"===n,r,i);if(s.isCollapsed()){const{anchor:l,focus:a}=s,c=(0,o.BtT)(l.getNode(),h),u=(0,o.BtT)(a.getNode(),h);if(!h(c)||!c.is(u))return!1;const d=ft(c);if(d!==r&&null!=d){const r=H(d,t.getElementByKey(d.getKey()));if(null!=r)return i.table=Q(d,r),ht(t,e,n,d,i)}const f=t.getElementByKey(c.__key),g=t.getElementByKey(l.key);if(null==g||null==f)return!1;let p;if("element"===l.type)p=g.getBoundingClientRect();else{const e=(0,o.peL)(U(t));if(null===e||0===e.rangeCount)return!1;p=e.getRangeAt(0).getBoundingClientRect()}const m="up"===n?c.getFirstChild():c.getLastChild();if(null==m)return!1;const _=t.getElementByKey(m.__key);if(null==_)return!1;const y=_.getBoundingClientRect();if("up"===n?y.top>p.top-p.height:p.bottom+p.height>y.bottom){gt(e);const t=r.getCordsFromCellNode(c,i.table);if(!e.shiftKey)return rt(i,r,t.x,t.y,n);{const e=r.getDOMCellFromCordsOrThrow(t.x,t.y,i.table);i.$setAnchorCellForSelection(e),i.$setFocusCellForSelection(e,!0)}return!0}}}else if(I(s)){const{anchor:l,focus:a}=s,c=(0,o.BtT)(l.getNode(),h),u=(0,o.BtT)(a.getNode(),h),[d]=s.getNodes();Nt(d)||p(251);const f=H(d,t.getElementByKey(d.getKey()));if(!h(c)||!h(u)||!Nt(d)||null==f)return!1;i.$updateTableTableSelection(s);const g=Q(d,f),m=r.getCordsFromCellNode(c,g),_=r.getDOMCellFromCordsOrThrow(m.x,m.y,g);if(i.$setAnchorCellForSelection(_),gt(e),e.shiftKey){const[t,e,o]=M(r,c,u);return function(t,e,n,r,o){const i=P(e,n,r),s=function(t,e){const{minColumn:n,maxColumn:r,minRow:o,maxRow:i}=e;let s=1,l=1,a=1,c=1;const u=t[o],d=t[i];for(let t=n;t<=r;t++)s=Math.max(s,u[t].cell.__rowSpan),c=Math.max(c,d[t].cell.__rowSpan);for(let e=o;e<=i;e++)l=Math.max(l,t[e][n].cell.__colSpan),a=Math.max(a,t[e][r].cell.__colSpan);return{bottomSpan:c,leftSpan:l,rightSpan:a,topSpan:s}}(e,i),{topSpan:l,leftSpan:a,bottomSpan:c,rightSpan:u}=s,d=function(t,e){const n=ot(t,e);return null===n&&p(249,e.cell.getKey()),n}(i,n),[f,h]=it(d);let g=i[f],m=i[h];"forward"===o?g+="maxColumn"===f?1:a:"backward"===o?g-="minColumn"===f?1:u:"down"===o?m+="maxRow"===h?1:l:"up"===o&&(m-="minRow"===h?1:c);const _=e[m];if(void 0===_)return!1;const y=_[g];if(void 0===y)return!1;const[v,S]=function(t,e,n){const r=P(t,e,n),o=ot(r,e);if(o)return[st(t,r,o),st(t,r,it(o))];const i=ot(r,n);if(i)return[st(t,r,it(i)),st(t,r,i)];const s=["minColumn","minRow"];return[st(t,r,s),st(t,r,it(s))]}(e,n,y),C=_t(t,v.cell),x=_t(t,S.cell);return t.$setAnchorCellForSelection(C),t.$setFocusCellForSelection(x,!0),!0}(i,t,e,o,n)}return u.selectEnd(),!0}return!1}function gt(t){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation()}function pt(t,e,n){const r=(0,o.lJ7)();"first"===t?e.insertBefore(r):e.insertAfter(r),r.append(...n||[]),r.selectEnd()}function mt(t,e,n){const r=n.getParent();if(!r)return;const i=(0,o.peL)(U(t));if(!i)return;const s=i.anchorNode,l=t.getElementByKey(r.getKey()),a=H(n,t.getElementByKey(n.getKey()));if(!s||!l||!a||!l.contains(s)||a.contains(s))return;const c=(0,o.BtT)(e.anchor.getNode(),(t=>h(t)));if(!c)return;const u=(0,o.BtT)(c,(t=>Nt(t)));if(!Nt(u)||!u.is(n))return;const[d,f]=M(n,c,c),g=d[0][0],p=d[d.length-1][d[0].length-1],{startRow:m,startColumn:_}=f,y=m===g.startRow&&_===g.startColumn,v=m===p.startRow&&_===p.startColumn;return y?"first":v?"last":void 0}function _t(t,e){const{tableNode:n}=t.$lookup(),r=n.getCordsFromCellNode(e,t.table);return n.getDOMCellFromCordsOrThrow(r.x,r.y,t.table)}function yt(t,e,n){return j(t,(0,o.xL4)(e,n))}function vt(t,e,n){if(!e.theme.tableAlignment)return;const o=[],i=[];for(const t of["center","right"]){const r=e.theme.tableAlignment[t];r&&(t===n?i:o).push(r)}(0,r.HE)(t,...o),(0,r.ZB)(t,...i)}const St=new WeakSet;function Ct(t=(0,o.i0_)()){return St.has(t)}function xt(t,e){e?St.add(t):St.delete(t)}class bt extends o.fGB{__rowStriping;__frozenColumnCount;__frozenRowCount;__colWidths;static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(t){const e=this.getWritable();return e.__colWidths=t,e}static clone(t){return new bt(t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__colWidths=t.__colWidths,this.__rowStriping=t.__rowStriping,this.__frozenColumnCount=t.__frozenColumnCount,this.__frozenRowCount=t.__frozenRowCount}static importDOM(){return{table:t=>({conversion:wt,priority:1})}}static importJSON(t){return Tt().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setRowStriping(t.rowStriping||!1).setFrozenColumns(t.frozenColumnCount||0).setFrozenRows(t.frozenRowCount||0).setColWidths(t.colWidths)}constructor(t){super(t),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0,this.__colWidths=void 0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(t,e,n){return"html"===n}getDOMSlot(t){const e=$(t)?t:t.querySelector("table");return $(e)||p(229),super.getDOMSlot(t).withElement(e).withAfter(e.querySelector("colgroup"))}createDOM(t,e){const n=document.createElement("table");this.__style&&(n.style.cssText=this.__style);const i=document.createElement("colgroup");if(n.appendChild(i),(0,o.pd8)(i),(0,r.ZB)(n,t.theme.table),this.updateTableElement(null,n,t),Ct(e)){const e=document.createElement("div"),o=t.theme.tableScrollableWrapper;return o?(0,r.ZB)(e,o):e.style.cssText="overflow-x: auto;",e.appendChild(n),this.updateTableWrapper(null,e,n,t),e}return n}updateTableWrapper(t,e,n,o){this.__frozenColumnCount!==(t?t.__frozenColumnCount:0)&&function(t,e,n,o){o>0?((0,r.ZB)(t,n.theme.tableFrozenColumn),e.setAttribute("data-lexical-frozen-column","true")):((0,r.HE)(t,n.theme.tableFrozenColumn),e.removeAttribute("data-lexical-frozen-column"))}(e,n,o,this.__frozenColumnCount),this.__frozenRowCount!==(t?t.__frozenRowCount:0)&&function(t,e,n,o){o>0?((0,r.ZB)(t,n.theme.tableFrozenRow),e.setAttribute("data-lexical-frozen-row","true")):((0,r.HE)(t,n.theme.tableFrozenRow),e.removeAttribute("data-lexical-frozen-row"))}(e,n,o,this.__frozenRowCount)}updateTableElement(t,e,n){this.__style!==(t?t.__style:"")&&(e.style.cssText=this.__style),this.__rowStriping!==(!!t&&t.__rowStriping)&&function(t,e,n){n?((0,r.ZB)(t,e.theme.tableRowStriping),t.setAttribute("data-lexical-row-striping","true")):((0,r.HE)(t,e.theme.tableRowStriping),t.removeAttribute("data-lexical-row-striping"))}(e,n,this.__rowStriping),function(t,e,n,r){const o=t.querySelector("colgroup");if(!o)return;const i=[];for(let t=0;t<n;t++){const e=document.createElement("col"),n=r&&r[t];n&&(e.style.width=`${n}px`),i.push(e)}o.replaceChildren(...i)}(e,0,this.getColumnCount(),this.getColWidths()),vt(e,n,this.getFormatType())}updateDOM(t,e,n){const r=this.getDOMSlot(e).element;return e===r===Ct()||((0,o.sby)(i=e)&&"DIV"===i.nodeName&&this.updateTableWrapper(t,e,r,n),this.updateTableElement(t,r,n),!1);var i}exportDOM(t){const e=super.exportDOM(t),{element:n}=e;return{after:n=>{if(e.after&&(n=e.after(n)),!$(n)&&(0,o.sby)(n)&&(n=n.querySelector("table")),!$(n))return null;vt(n,t._config,this.getFormatType());const[r]=O(this,null,null),i=new Map;for(const t of r)for(const e of t){const t=e.cell.getKey();i.has(t)||i.set(t,{colSpan:e.cell.getColSpan(),startColumn:e.startColumn})}const s=new Set;for(const t of n.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const e=t.getAttribute("data-temporary-table-cell-lexical-key");if(e){const n=i.get(e);if(t.removeAttribute("data-temporary-table-cell-lexical-key"),n){i.delete(e);for(let t=0;t<n.colSpan;t++)s.add(t+n.startColumn)}}}const l=n.querySelector(":scope > colgroup");if(l){const t=Array.from(n.querySelectorAll(":scope > colgroup > col")).filter(((t,e)=>s.has(e)));l.replaceChildren(...t)}const a=n.querySelectorAll(":scope > tr");if(a.length>0){const t=document.createElement("tbody");for(const e of a)t.appendChild(e);n.append(t)}return n},element:!$(n)&&(0,o.sby)(n)?n.querySelector("table"):n}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(t,e){const{rows:n,domRows:r}=e;for(let e=0;e<n;e++){const n=r[e];if(null!=n)for(let r=0;r<n.length;r++){const o=n[r];if(null==o)continue;const{elem:i}=o,s=yt(this,i);if(null!==s&&t.is(s))return{x:r,y:e}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(t,e,n){const{domRows:r}=n,o=r[e];if(null==o)return null;const i=o[t<o.length?t:o.length-1];return null==i?null:i}getDOMCellFromCordsOrThrow(t,e,n){const r=this.getDOMCellFromCords(t,e,n);if(!r)throw new Error("Cell not found at cords.");return r}getCellNodeFromCords(t,e,n){const r=this.getDOMCellFromCords(t,e,n);if(null==r)return null;const i=(0,o.xL4)(r.elem);return h(i)?i:null}getCellNodeFromCordsOrThrow(t,e,n){const r=this.getCellNodeFromCords(t,e,n);if(!r)throw new Error("Node at cords not TableCellNode.");return r}getRowStriping(){return Boolean(this.getLatest().__rowStriping)}setRowStriping(t){const e=this.getWritable();return e.__rowStriping=t,e}setFrozenColumns(t){const e=this.getWritable();return e.__frozenColumnCount=t,e}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(t){const e=this.getWritable();return e.__frozenRowCount=t,e}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const t=this.getFirstChild();if(!t)return 0;let e=0;return t.getChildren().forEach((t=>{h(t)&&(e+=t.getColSpan())})),e}}function wt(t){const e=Tt();t.hasAttribute("data-lexical-row-striping")&&e.setRowStriping(!0),t.hasAttribute("data-lexical-frozen-column")&&e.setFrozenColumns(1),t.hasAttribute("data-lexical-frozen-row")&&e.setFrozenRows(1);const n=t.querySelector(":scope > colgroup");if(n){let t=[];for(const e of n.querySelectorAll(":scope > col")){let n=e.style.width||"";if(!l.test(n)&&(n=e.getAttribute("width")||"",!/^\d+$/.test(n))){t=void 0;break}t.push(parseFloat(n))}t&&e.setColWidths(t)}return{after:t=>(0,r.cE)(t,v),node:e}}function Tt(){return(0,o.pTq)(new bt)}function Nt(t){return t instanceof bt}function Et(t){v(t.getParent())?t.isEmpty()&&t.append((0,o.lJ7)()):t.remove()}function kt(t){Nt(t.getParent())?(0,r.vF)(t,h):t.remove()}function At(t){(0,r.vF)(t,v);const[e]=O(t,null,null),n=e.reduce(((t,e)=>Math.max(t,e.length)),0),i=t.getChildren();for(let t=0;t<e.length;++t){const r=i[t];if(!r)continue;v(r)||p(254,r.constructor.name,r.getType());const s=e[t].reduce(((t,e)=>e?1+t:t),0);if(s!==n)for(let t=s;t<n;++t){const t=f();t.append((0,o.lJ7)()),r.append(t)}}const s=t.getColWidths(),l=t.getColumnCount();if(s&&s.length!==l){let e;if(l<s.length)e=s.slice(0,l);else if(s.length>0){const t=s[s.length-1];e=[...s,...Array(l-s.length).fill(t)]}t.setColWidths(e)}}function Mt(t){if(t.detail<3||!(0,o.vAA)(t.target))return!1;const e=(0,o.xL4)(t.target);if(null===e)return!1;const n=(0,o.BtT)(e,(t=>(0,o.ff4)(t)&&!t.isInline()));return null!==n&&!!h(n.getParent())&&(n.select(0),!0)}function Ot(t){return t.registerNodeTransform(c,(t=>{if(t.getColSpan()>1||t.getRowSpan()>1){const[,,e]=F(t),[n]=M(e,t,t),o=n.length,i=n[0].length;let s=e.getFirstChild();v(s)||p(175);const l=[];for(let t=0;t<o;t++){0!==t&&(s=s.getNextSibling(),v(s)||p(175));let e=null;for(let o=0;o<i;o++){const i=n[t][o],a=i.cell;if(i.startRow===t&&i.startColumn===o)e=a,l.push(a);else if(a.getColSpan()>1||a.getRowSpan()>1){h(a)||p(176);const t=f(a.__headerState);null!==e?e.insertAfter(t):(0,r.K2)(s,t)}}}for(const t of l)t.setColSpan(1),t.setRowSpan(1)}}))}function Ft(t,e=!0){const n=new Map,i=(i,l,a)=>{const c=H(i,a),u=function(t,e,n,i){const l=n.getRootElement(),a=U(n);null!==l&&null!==a||p(246);const c=new W(n,t.getKey()),u=H(t,e);!function(t,e){null!==Y(t)&&p(205),t[J]=e}(u,c),c.listenersToRemove.add((()=>function(t,e){Y(t)===e&&delete t[J]}(u,c)));const d=e=>{if(c.pointerType=e.pointerType,0!==e.button||!(0,o.vAA)(e.target)||!a)return;const r=G(e.target);null!==r&&n.update((()=>{const n=(0,o.S1w)();if(x&&e.shiftKey&&lt(n,t)&&((0,o.I2P)(n)||I(n))){const o=n.anchor.getNode(),i=j(t,n.anchor.getNode());i?(c.$setAnchorCellForSelection(_t(c,i)),c.$setFocusCellForSelection(r),gt(e)):(t.isBefore(o)?t.selectStart():t.selectEnd()).anchor.set(n.anchor.key,n.anchor.offset,n.anchor.type)}else"touch"!==e.pointerType&&c.$setAnchorCellForSelection(r)})),(()=>{if(c.isSelecting)return;const t=()=>{c.isSelecting=!1,a.removeEventListener("pointerup",t),a.removeEventListener("pointermove",e)},e=r=>{if(1&~r.buttons&&c.isSelecting)return c.isSelecting=!1,a.removeEventListener("pointerup",t),void a.removeEventListener("pointermove",e);if(!(0,o.vAA)(r.target))return;let i=null;const s=!(x||u.contains(r.target));if(s)i=X(u,r.target);else for(const t of document.elementsFromPoint(r.clientX,r.clientY))if(i=X(u,t),i)break;!i||null!==c.focusCell&&i.elem===c.focusCell.elem||(c.setNextFocus({focusCell:i,override:s}),n.dispatchCommand(o.MvL,void 0))};c.isSelecting=!0,a.addEventListener("pointerup",t,c.listenerOptions),a.addEventListener("pointermove",e,c.listenerOptions)})()};u.addEventListener("pointerdown",d,c.listenerOptions),c.listenersToRemove.add((()=>{u.removeEventListener("pointerdown",d)}));const f=t=>{t.detail>=3&&(0,o.vAA)(t.target)&&null!==G(t.target)&&t.preventDefault()};u.addEventListener("mousedown",f,c.listenerOptions),c.listenersToRemove.add((()=>{u.removeEventListener("mousedown",f)}));const g=t=>{const e=t.target;0===t.button&&(0,o.vAA)(e)&&n.update((()=>{const t=(0,o.vJq)();I(t)&&t.tableKey===c.tableNodeKey&&l.contains(e)&&c.$clearHighlight()}))};a.addEventListener("pointerdown",g,c.listenerOptions),c.listenersToRemove.add((()=>{a.removeEventListener("pointerdown",g)}));for(const[e,r]of q)c.listenersToRemove.add(n.registerCommand(e,(e=>ht(n,e,r,t,c)),o.WgU));c.listenersToRemove.add(n.registerCommand(o.Q$N,(e=>{const n=(0,o.vJq)();if(I(n)){const r=j(t,n.focus.getNode());if(null!==r)return gt(e),r.selectEnd(),!0}return!1}),o.WgU));const m=e=>()=>{const n=(0,o.vJq)();if(!lt(n,t))return!1;if(I(n))return c.$clearText(),!0;if((0,o.I2P)(n)){if(!h(j(t,n.anchor.getNode())))return!1;const r=n.anchor.getNode(),i=n.focus.getNode(),s=t.isParentOf(r),l=t.isParentOf(i);if(s&&!l||l&&!s)return c.$clearText(),!0;const a=(0,o.BtT)(n.anchor.getNode(),(t=>(0,o.ff4)(t))),u=a&&(0,o.BtT)(a,(t=>(0,o.ff4)(t)&&h(t.getParent())));if(!(0,o.ff4)(u)||!(0,o.ff4)(a))return!1;if(e===o.viC&&null===u.getPreviousSibling())return!0}return!1};for(const t of Z)c.listenersToRemove.add(n.registerCommand(t,m(t),o.WgU));const _=e=>{const n=(0,o.vJq)();if(!I(n)&&!(0,o.I2P)(n))return!1;const r=t.isParentOf(n.anchor.getNode());if(r!==t.isParentOf(n.focus.getNode())){const e=r?"anchor":"focus",o=r?"focus":"anchor",{key:i,offset:s,type:l}=n[o];return t[n[e].isBefore(n[o])?"selectPrevious":"selectNext"]()[o].set(i,s,l),!1}return!!lt(n,t)&&!!I(n)&&(e&&(e.preventDefault(),e.stopPropagation()),c.$clearText(),!0)};for(const t of V)c.listenersToRemove.add(n.registerCommand(t,_,o.WgU));return c.listenersToRemove.add(n.registerCommand(o.VSO,(t=>{const e=(0,o.vJq)();if(e){if(!I(e)&&!(0,o.I2P)(e))return!1;(0,s.lW)(n,(0,r.xj)(t,ClipboardEvent)?t:null,(0,s.xg)(e));const i=_(t);return(0,o.I2P)(e)?(e.removeText(),!0):i}return!1}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.mB,(e=>{const n=(0,o.vJq)();if(!lt(n,t))return!1;if(I(n))return c.$formatCells(e),!0;if((0,o.I2P)(n)){const t=(0,o.BtT)(n.anchor.getNode(),(t=>h(t)));if(!h(t))return!1}return!1}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.fUS,(e=>{const n=(0,o.vJq)();if(!I(n)||!lt(n,t))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();if(!h(r)||!h(i))return!1;if(function(t,e){if(I(t)){const n=t.anchor.getNode(),r=t.focus.getNode();if(e&&n&&r){const[t]=M(e,n,r);return n.getKey()===t[0][0].cell.getKey()&&r.getKey()===t[t.length-1].at(-1).cell.getKey()}}return!1}(n,t))return t.setFormat(e),!0;const[s,l,a]=M(t,r,i),c=Math.max(l.startRow+l.cell.__rowSpan-1,a.startRow+a.cell.__rowSpan-1),u=Math.max(l.startColumn+l.cell.__colSpan-1,a.startColumn+a.cell.__colSpan-1),d=Math.min(l.startRow,a.startRow),f=Math.min(l.startColumn,a.startColumn),g=new Set;for(let t=d;t<=c;t++)for(let n=f;n<=u;n++){const r=s[t][n].cell;if(g.has(r))continue;g.add(r),r.setFormat(e);const i=r.getChildren();for(let t=0;t<i.length;t++){const n=i[t];(0,o.ff4)(n)&&!n.isInline()&&n.setFormat(e)}}return!0}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.bM3,(e=>{const r=(0,o.vJq)();if(!lt(r,t))return!1;if(I(r))return c.$clearHighlight(),!1;if((0,o.I2P)(r)){const i=(0,o.BtT)(r.anchor.getNode(),(t=>h(t)));if(!h(i))return!1;if("string"==typeof e){const i=mt(n,r,t);if(i)return pt(i,t,[(0,o.sTu)(e)]),!0}}return!1}),o.WgU)),i&&c.listenersToRemove.add(n.registerCommand(o.OXk,(e=>{const n=(0,o.vJq)();if(!(0,o.I2P)(n)||!n.isCollapsed()||!lt(n,t))return!1;const r=dt(n.anchor.getNode());return!(null===r||!t.is(ft(r))||(gt(e),function(t,e){const n="next"===e?"getNextSibling":"getPreviousSibling",r="next"===e?"getFirstChild":"getLastChild",i=t[n]();if((0,o.ff4)(i))return i.selectEnd();const s=(0,o.BtT)(t,v);null===s&&p(247);for(let t=s[n]();v(t);t=t[n]()){const e=t[r]();if((0,o.ff4)(e))return e.selectEnd()}const l=(0,o.BtT)(s,Nt);null===l&&p(248),"next"===e?l.selectNext():l.selectPrevious()}(r,e.shiftKey?"previous":"next"),0))}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.$7r,(e=>t.isSelected()),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.oqR,((t,e)=>{if(n!==e)return!1;const{nodes:r,selection:i}=t,s=i.getStartEndPoints(),l=I(i),a=(0,o.I2P)(i)&&null!==(0,o.BtT)(i.anchor.getNode(),(t=>h(t)))&&null!==(0,o.BtT)(i.focus.getNode(),(t=>h(t)))||l;if(1!==r.length||!Nt(r[0])||!a||null===s)return!1;const[c,u]=s,[d,f,g]=F(c),p=(0,o.BtT)(u.getNode(),(t=>h(t)));if(!(h(d)&&h(p)&&v(f)&&Nt(g)))return!1;const m=r[0],[_,y,S]=M(g,d,p),[C]=O(m,null,null),x=_.length,b=x>0?_[0].length:0;let N=y.startRow,k=y.startColumn,L=C.length,R=L>0?C[0].length:0;if(l){const t=P(_,y,S),e=t.maxRow-t.minRow+1,n=t.maxColumn-t.minColumn+1;N=t.minRow,k=t.minColumn,L=Math.min(L,e),R=Math.min(R,n)}let D=!1;const z=Math.min(x,N+L)-1,K=Math.min(b,k+R)-1,B=new Set;for(let t=N;t<=z;t++)for(let e=k;e<=K;e++){const n=_[t][e];B.has(n.cell.getKey())||1===n.cell.__rowSpan&&1===n.cell.__colSpan||(A(n.cell),B.add(n.cell.getKey()),D=!0)}let[W]=O(g.getWritable(),null,null);const J=L-x+N;for(let t=0;t<J;t++)w(W[x-1][0].cell);const $=R-b+k;for(let t=0;t<$;t++)T(W[0][b-1].cell,!0,!1);[W]=O(g.getWritable(),null,null);for(let t=N;t<N+L;t++)for(let e=k;e<k+R;e++){const n=t-N,r=e-k,i=C[n][r];if(i.startRow!==n||i.startColumn!==r)continue;const s=i.cell;if(1!==s.__rowSpan||1!==s.__colSpan){const n=[],r=Math.min(t+s.__rowSpan,N+L)-1,o=Math.min(e+s.__colSpan,k+R)-1;for(let i=t;i<=r;i++)for(let t=e;t<=o;t++){const e=W[i][t];n.push(e.cell)}E(n),D=!0}const{cell:l}=W[t][e],a=l.getChildren();s.getChildren().forEach((t=>{(0,o.kFe)(t)?((0,o.lJ7)().append(t),l.append(t)):l.append(t)})),a.forEach((t=>t.remove()))}if(l&&D){const[t]=O(g.getWritable(),null,null);t[y.startRow][y.startColumn].cell.selectEnd()}return!0}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.MvL,(()=>{const e=(0,o.vJq)(),r=(0,o.S1w)(),i=c.getAndClearNextFocus();if(null!==i){const{focusCell:n}=i;if(I(e)&&e.tableKey===c.tableNodeKey)return(n.x!==c.focusX||n.y!==c.focusY)&&(c.$setFocusCellForSelection(n),!0);if(n!==c.anchorCell&&lt(e,t))return c.$setFocusCellForSelection(n),!0}if(c.getAndClearShouldCheckSelection()&&(0,o.I2P)(r)&&(0,o.I2P)(e)&&e.isCollapsed()){const n=e.anchor.getNode(),r=t.getFirstChild(),i=dt(n);if(null!==i&&v(r)){const e=r.getFirstChild();if(h(e)&&t.is((0,o.BtT)(i,(n=>n.is(t)||n.is(e)))))return e.selectStart(),!0}}if((0,o.I2P)(e)){const{anchor:i,focus:s}=e,l=i.getNode(),a=s.getNode(),u=dt(l),d=dt(a),f=!(!u||!t.is(ft(u))),h=!(!d||!t.is(ft(d))),g=f!==h,p=f&&h,m=e.isBackward();if(g){const r=e.clone();if(h){const[e]=M(t,d,d),n=e[0][0].cell,o=e[e.length-1].at(-1).cell;r.focus.set(m?n.getKey():o.getKey(),m?0:o.getChildrenSize(),"element")}else if(f){const[e]=M(t,u,u),n=e[0][0].cell,o=e[e.length-1].at(-1).cell;r.anchor.set(m?o.getKey():n.getKey(),m?o.getChildrenSize():0,"element")}(0,o.n1P)(r),nt(n,c)}else if(p&&(u.is(d)||(c.$setAnchorCellForSelection(_t(c,u)),c.$setFocusCellForSelection(_t(c,d),!0)),"touch"===c.pointerType&&c.isSelecting&&e.isCollapsed()&&(0,o.I2P)(r)&&r.isCollapsed())){const t=dt(r.anchor.getNode());t&&!t.is(d)&&(c.$setAnchorCellForSelection(_t(c,t)),c.$setFocusCellForSelection(_t(c,d),!0),c.pointerType=null)}}else if(e&&I(e)&&e.is(r)&&e.tableKey===t.getKey()){const r=(0,o.peL)(a);if(r&&r.anchorNode&&r.focusNode){const i=(0,o.xL4)(r.focusNode),s=i&&!t.isParentOf(i),l=(0,o.xL4)(r.anchorNode),a=l&&t.isParentOf(l);if(s&&a&&r.rangeCount>0){const i=(0,o.OBE)(r,n);i&&(i.anchor.set(t.getKey(),e.isBackward()?t.getChildrenSize():0,"element"),r.removeAllRanges(),(0,o.n1P)(i))}}}return e&&!e.is(r)&&(I(e)||I(r))&&c.tableSelection&&!c.tableSelection.is(r)?(I(e)&&e.tableKey===c.tableNodeKey?c.$updateTableTableSelection(e):!I(e)&&I(r)&&r.tableKey===c.tableNodeKey&&c.$updateTableTableSelection(null),!1):(c.hasHijackedSelectionStyles&&!t.isSelected()?function(t,e){e.$enableHighlightStyle(),et(e.table,(e=>{const n=e.elem;e.highlighted=!1,ut(t,e),n.getAttribute("style")||n.removeAttribute("style")}))}(n,c):!c.hasHijackedSelectionStyles&&t.isSelected()&&nt(n,c),!1)}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.XKQ,(()=>{const e=(0,o.vJq)();if(!(0,o.I2P)(e)||!e.isCollapsed()||!lt(e,t))return!1;const r=mt(n,e,t);return!!r&&(pt(r,t),!0)}),o.WgU)),c}(i,c,t,e);n.set(l,[u,c])},l=t.registerMutationListener(bt,(e=>{t.getEditorState().read((()=>{for(const[t,r]of e){const e=n.get(t);if("created"===r||"updated"===r){const{tableNode:r,tableElement:o}=B(t);void 0===e?i(r,t,o):o!==e[1]&&(e[0].removeListeners(),n.delete(t),i(r,t,o))}else"destroyed"===r&&void 0!==e&&(e[0].removeListeners(),n.delete(t))}}),{editor:t})}),{skipInitialization:!1});return()=>{l();for(const[,[t]]of n)t.removeListeners()}}function Pt(t,e){t.hasNodes([bt])||p(255);const{hasNestedTables:n=(0,i.vP)(!1)}=e??{};return(0,r.Sd)(t.registerCommand(g,(t=>function({rows:t,columns:e,includeHeaders:n},i){const s=(0,o.vJq)()||(0,o.S1w)();if(!s||!(0,o.I2P)(s))return!1;if(!i&&ft(s.anchor.getNode()))return!1;const l=function(t,e,n=!0){const r=Tt();for(let i=0;i<t;i++){const t=y();for(let r=0;r<e;r++){let e=a.NO_STATUS;"object"==typeof n?(0===i&&n.rows&&(e|=a.ROW),0===r&&n.columns&&(e|=a.COLUMN)):n&&(0===i&&(e|=a.ROW),0===r&&(e|=a.COLUMN));const s=f(e),l=(0,o.lJ7)();l.append((0,o.sTu)()),s.append(l),t.append(s)}r.append(t)}return r}(Number(t),Number(e),n);(0,r.Pe)(l);const c=l.getFirstDescendant();return(0,o.kFe)(c)&&c.select(),!0}(t,n.peek())),o.jZM),t.registerCommand(o.oqR,(({nodes:e,selection:r},i)=>!(n.peek()||t!==i||!(0,o.I2P)(r))&&null!==ft(r.anchor.getNode())&&e.some(Nt)),o.jZM),t.registerCommand(o.d8p,Mt,o.jZM),t.registerNodeTransform(bt,At),t.registerNodeTransform(m,kt),t.registerNodeTransform(c,Et))}(0,o.vE9)({build:(t,e,n)=>(0,i.v)(e),config:(0,o.lVE)({hasCellBackgroundColor:!0,hasCellMerge:!0,hasHorizontalScroll:!0,hasNestedTables:!1,hasTabHandler:!0}),name:"@lexical/table/Table",nodes:()=>[bt,m,c],register(t,e,n){const o=n.getOutput(),{hasNestedTables:s}=o;return(0,r.Sd)((0,i.QZ)((()=>{const e=o.hasHorizontalScroll.value;Ct(t)!==e&&(xt(t,e),t.registerNodeTransform(bt,(()=>{}))())})),Pt(t,{hasNestedTables:s}),(0,i.QZ)((()=>Ft(t,o.hasTabHandler.value))),(0,i.QZ)((()=>o.hasCellMerge.value?void 0:Ot(t))),(0,i.QZ)((()=>o.hasCellBackgroundColor.value?void 0:t.registerNodeTransform(c,(t=>{null!==t.getBackgroundColor()&&t.setBackgroundColor(null)})))))}})},1733:(t,e,n)=>{n.d(e,{E:()=>c});var r=n(1734),o=n(1711),i=n(1752),s=n(1715),l=n(228);const a=[{dependencies:[i.fS],export:t=>(0,s.Hd)(t)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(t,e,n,r)=>{const o=(0,i.PL)();r||null!=t.getNextSibling()?t.replace(o):t.insertBefore(o),o.selectNext()},type:"element"},...r.Rm];function c({transformers:t=a}){const[e]=(0,o.DF)();return(0,l.useEffect)((()=>(0,r.iM)(e,t)),[e,t]),null}},1734:(t,e,n)=>{n.d(e,{Rm:()=>H,Wn:()=>Z,bk:()=>V,iM:()=>q});var r=n(1712),o=n(1728),i=n(1719),s=n(1735),l=n(1730);function a(t,e){const n={};for(const r of t){const t=e(r);t&&(n[t]?n[t].push(r):n[t]=[r])}return n}function c(t){const e=a(t,(t=>t.type));return{element:e.element||[],multilineElement:e["multiline-element"]||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}const u=/[!-/:-@[-`{-~\s]/,d=/^\s{0,3}$/;function f(t){if(!(0,r.bSg)(t))return!1;const e=t.getFirstChild();return null==e||1===t.getChildrenSize()&&(0,r.kFe)(e)&&d.test(e.getTextContent())}function h(t,e,n,o){for(const r of e){if(!r.export)continue;const e=r.export(t,(t=>g(t,n,o)));if(null!=e)return e}return(0,r.ff4)(t)?g(t,n,o):(0,r.Cyw)(t)?t.getTextContent():null}function g(t,e,n,o,i){const s=[],l=t.getChildren();o||(o=[]),i||(i=[]);t:for(const t of l){for(const r of n){if(!r.export)continue;const l=r.export(t,(t=>g(t,e,n,o,[...i,...o])),((t,n)=>p(t,n,e,o,i)));if(null!=l){s.push(l);continue t}}(0,r.wH$)(t)?s.push("\n"):(0,r.kFe)(t)?s.push(p(t,t.getTextContent(),e,o,i)):(0,r.ff4)(t)?s.push(g(t,e,n,o,i)):(0,r.Cyw)(t)&&s.push(t.getTextContent())}return s.join("")}function p(t,e,n,r,o){let i=0===t.getFormat()?e:function(t){return t.replace(/^\s+|\s+$/g,(t=>[...t].map((t=>"&#"+t.codePointAt(0)+";")).join("")))}(e);t.hasFormat("code")||(i=i.replace(/([*_`~\\])/g,"\\$1"));let s="",l="",a="";const c=m(t,!0),u=m(t,!1),d=new Set;for(const e of n){const n=e.format[0],o=e.tag;_(t,n)&&!d.has(n)&&(d.add(n),_(c,n)&&r.find((t=>t.tag===o))||(r.push({format:n,tag:o}),s+=o))}for(let e=0;e<r.length;e++){const n=_(t,r[e].format),i=_(u,r[e].format);if(n&&i)continue;const s=[...r];for(;s.length>e;){const t=s.pop();o&&t&&o.find((e=>e.tag===t.tag))||(t&&"string"==typeof t.tag&&(n?i||(a+=t.tag):l+=t.tag),r.pop())}break}return i=s+i+a,l+i}function m(t,e){let n=e?t.getPreviousSibling():t.getNextSibling();if(!n){const r=t.getParentOrThrow();r.isInline()&&(n=e?r.getPreviousSibling():r.getNextSibling())}for(;n;){if((0,r.ff4)(n)){if(!n.isInline())break;const t=e?n.getLastDescendant():n.getFirstDescendant();if((0,r.kFe)(t))return t;n=e?n.getPreviousSibling():n.getNextSibling()}if((0,r.kFe)(n))return n;if(!(0,r.ff4)(n))return null}return null}function _(t,e){return(0,r.kFe)(t)&&t.hasFormat(e)}function y(t){return(0,r.kFe)(t)&&!t.hasFormat("code")}function v(t,e,n){let r=function(t,e){const n=function(t,e){const n=t.match(e.openTagsRegExp);if(null==n)return null;for(const r of n){const n=r.replace(/^\s/,""),o=e.fullMatchRegExpByTag[n];if(null==o)continue;const i=t.match(o),s=e.transformersByTag[n];if(null!=i&&null!=s){if(!1!==s.intraword)return i;const{index:e=0}=i,n=t[e-1],r=t[e+i[0].length];if((!n||u.test(n))&&(!r||u.test(r)))return i}}return null}(t.getTextContent(),e);if(!n)return null;const r=n.index||0;return{endIndex:r+n[0].length,match:n,startIndex:r,transformer:e.transformersByTag[n[1]]}}(t,e),o=function(t,e){const n=t;let r,o,i,s;for(const t of e){if(!t.replace||!t.importRegExp)continue;const e=n.getTextContent().match(t.importRegExp);if(!e)continue;const l=e.index||0,a=t.getEndIndex?t.getEndIndex(n,e):l+e[0].length;!1!==a&&(void 0===r||void 0===o||l<r&&(a>o||a<=r))&&(r=l,o=a,i=t,s=e)}return void 0===r||void 0===o||void 0===i||void 0===s?null:{endIndex:o,match:s,startIndex:r,transformer:i}}(t,n);if(r&&o&&(r.startIndex<=o.startIndex&&r.endIndex>=o.endIndex||o.startIndex>r.endIndex?o=null:r=null),r){const o=function(t,e,n,r,o){const i=t.getTextContent();let s,l,a;if(o[0]===i?s=t:0===e?[s,l]=t.splitText(n):[a,s,l]=t.splitText(e,n),s.setTextContent(o[2]),r)for(const t of r.format)s.hasFormat(t)||s.toggleFormat(t);return{nodeAfter:l,nodeBefore:a,transformedNode:s}}(t,r.startIndex,r.endIndex,r.transformer,r.match);y(o.nodeAfter)&&v(o.nodeAfter,e,n),y(o.nodeBefore)&&v(o.nodeBefore,e,n),y(o.transformedNode)&&v(o.transformedNode,e,n)}else if(o){const r=function(t,e,n,r,o){let i,s,l;return 0===e?[i,s]=t.splitText(n):[l,i,s]=t.splitText(e,n),r.replace?{nodeAfter:s,nodeBefore:l,transformedNode:r.replace(i,o)||void 0}:null}(t,o.startIndex,o.endIndex,o.transformer,o.match);if(!r)return;y(r.nodeAfter)&&v(r.nodeAfter,e,n),y(r.nodeBefore)&&v(r.nodeBefore,e,n),y(r.transformedNode)&&v(r.transformedNode,e,n)}const i=t.getTextContent().replace(/\\([*_`~\\])/g,"$1").replace(/&#(\d+);/g,((t,e)=>String.fromCodePoint(e)));t.setTextContent(i)}function S(t,e,n,r){for(const o of n){const{handleImportAfterStartMatch:n,regExpEnd:i,regExpStart:s,replace:l}=o,a=t[e].match(s);if(!a)continue;if(n){const i=n({lines:t,rootNode:r,startLineIndex:e,startMatch:a,transformer:o});if(null===i)continue;if(i)return i}const c="object"==typeof i&&"regExp"in i?i.regExp:i,u=i&&"object"==typeof i&&"optional"in i?i.optional:!i;let d=e;const f=t.length;for(;d<f;){const n=c?t[d].match(c):null;if(!n&&(!u||u&&d<f-1)){d++;continue}if(n&&e===d&&n.index===a.index){d++;continue}const o=[];if(n&&e===d)o.push(t[e].slice(a[0].length,-n[0].length));else for(let r=e;r<=d;r++)if(r===e){const e=t[r].slice(a[0].length);o.push(e)}else if(r===d&&n){const e=t[r].slice(0,-n[0].length);o.push(e)}else o.push(t[r]);if(!1!==l(r,null,a,n,o,!0))return[!0,d];break}}return[!1,e]}function C(t,e,n,s,l,a){const c=(0,r.sTu)(t),u=(0,r.lJ7)();u.append(c),e.append(u);for(const{regExp:e,replace:r}of n){const n=t.match(e);if(n&&(c.setTextContent(t.slice(n[0].length)),!1!==r(u,[c],n,!0)))break}if(v(c,s,l),u.isAttached()&&t.length>0){const t=u.getPreviousSibling();if(!a&&((0,r.bSg)(t)||(0,i.jd)(t)||(0,o.HY)(t))){let e=t;if((0,o.HY)(t)){const n=t.getLastDescendant();e=null==n?null:(0,r.BtT)(n,o.Mz)}null!=e&&e.getTextContentSize()>0&&(e.splice(e.getChildrenSize(),0,[(0,r.WKo)(),...u.getChildren()]),u.remove())}}}function x(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const t of e)r.append("v",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const b=/^(\s*)(\d{1,})\.\s/,w=/^(\s*)[-*+]\s/,T=/^(\s*)(?:[-*+]\s)?\s?(\[(\s|x)?\])\s/i,N=/^(#{1,6})\s/,E=/^>\s/,k=/^[ \t]*```([\w-]+)?/,A=/[ \t]*```$/,M=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,O=/^(?:\|)(.+)(?:\|)\s?$/,F=/^(\| ?:?-*:? ?)+\|\s?$/,P=/^<[a-z_][\w-]*(?:\s[^<>]*)?\/?>/i,L=/^<\/[a-z_][\w-]*\s*>/i,R=t=>new RegExp(`(?:${t.source})$`,t.flags),D=(0,r.urt)("mdListMarker",{parse:t=>"string"==typeof t&&/^[-*+]$/.test(t)?t:"-"}),I=t=>(e,n,r,o)=>{const i=t(r);i.append(...n),e.replace(i),o||i.select(0,0)},z=t=>(e,n,i,s)=>{const l=e.getPreviousSibling(),a=e.getNextSibling(),c=(0,o.i)("check"===t?"x"===i[3]:void 0),u=i[0].trim()[0],d="bullet"!==t&&"check"!==t||u!==D.parse(u)?void 0:u;if((0,o.HY)(a)&&a.getListType()===t){d&&(0,r.Chh)(a,D,d);const t=a.getFirstChild();null!==t?t.insertBefore(c):a.append(c),e.remove()}else if((0,o.HY)(l)&&l.getListType()===t)d&&(0,r.Chh)(l,D,d),l.append(c),e.remove();else{const n=(0,o.DE)(t,"number"===t?Number(i[2]):void 0);d&&(0,r.Chh)(n,D,d),n.append(c),e.replace(n)}c.append(...n),s||c.select(0,0);const f=function(t){const e=t.match(/\t/g),n=t.match(/ /g);let r=0;return e&&(r+=e.length),n&&(r+=Math.floor(n.length/4)),r}(i[1]);f&&c.setIndent(f)},K=(t,e,n)=>{const i=[],s=t.getChildren();let l=0;for(const a of s)if((0,o.Mz)(a)){if(1===a.getChildrenSize()){const t=a.getFirstChild();if((0,o.HY)(t)){i.push(K(t,e,n+1));continue}}const s=" ".repeat(4*n),c=t.getListType(),u=(0,r.I8X)(t,D),d="number"===c?`${t.getStart()+l}. `:"check"===c?`${u} [${a.getChecked()?"x":" "}] `:u+" ";i.push(s+d+e(a)),l++}return i.join("\n")},B={dependencies:[i.jL],export:(t,e)=>{if(!(0,i.Pi)(t))return null;const n=Number(t.getTag().slice(1));return"#".repeat(n)+" "+e(t)},regExp:N,replace:I((t=>{const e="h"+t[1].length;return(0,i.fi)(e)})),type:"element"},W={dependencies:[i.dJ],export:(t,e)=>{if(!(0,i.jd)(t))return null;const n=e(t).split("\n"),r=[];for(const t of n)r.push("> "+t);return r.join("\n")},regExp:E,replace:(t,e,n,o)=>{if(o){const n=t.getPreviousSibling();if((0,i.jd)(n))return n.splice(n.getChildrenSize(),0,[(0,r.WKo)(),...e]),void t.remove()}const s=(0,i.xi)();s.append(...e),t.replace(s),o||s.select(0,0)},type:"element"},J={dependencies:[s.iK],export:t=>{if(!(0,s.a5)(t))return null;const e=t.getTextContent();return"```"+(t.getLanguage()||"")+(e?"\n"+e:"")+"\n```"},regExpEnd:{optional:!0,regExp:A},regExpStart:k,replace:(t,e,n,o,i,l)=>{let a,c;if(!e&&i){if(1===i.length)o?(a=(0,s.QC)(),c=n[1]+i[0]):(a=(0,s.QC)(n[1]),c=i[0].startsWith(" ")?i[0].slice(1):i[0]);else{if(a=(0,s.QC)(n[1]),0===i[0].trim().length)for(;i.length>0&&!i[0].length;)i.shift();else i[0]=i[0].startsWith(" ")?i[0].slice(1):i[0];for(;i.length>0&&!i[i.length-1].length;)i.pop();c=i.join("\n")}const e=(0,r.sTu)(c);a.append(e),t.append(a)}else e&&I((t=>(0,s.QC)(t?t[1]:void 0)))(t,e,n,l)},type:"multiline-element"},$={dependencies:[o.v5,o.YW],export:(t,e)=>(0,o.HY)(t)?K(t,e,0):null,regExp:w,replace:z("bullet"),type:"element"},H=(o.v5,o.YW,z("check"),[B,W,$,{dependencies:[o.v5,o.YW],export:(t,e)=>(0,o.HY)(t)?K(t,e,0):null,regExp:b,replace:z("number"),type:"element"},J,{format:["code"],tag:"`",type:"text-format"},{format:["bold","italic"],tag:"***",type:"text-format"},{format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},{format:["bold"],tag:"**",type:"text-format"},{format:["bold"],intraword:!1,tag:"__",type:"text-format"},{format:["highlight"],tag:"==",type:"text-format"},{format:["italic"],tag:"*",type:"text-format"},{format:["italic"],intraword:!1,tag:"_",type:"text-format"},{format:["strikethrough"],tag:"~~",type:"text-format"},{dependencies:[l.Db],export:(t,e,n)=>{if(!(0,l.FJ)(t)||(0,l.iK)(t))return null;const r=t.getTitle(),o=e(t);return r?`[${o}](${t.getURL()} "${r}")`:`[${o}](${t.getURL()})`},importRegExp:/(?:\[(.+?)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[(.+?)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(t,e)=>{const[,n,o,i]=e,s=(0,l.zA)(o,{title:i}),a=n.split("[").length-1,c=n.split("]").length-1;let u=n,d="";if(a<c)return;if(a>c){const t=n.split("[");d="["+t[0],u=t.slice(1).join("[")}const f=(0,r.sTu)(u);return f.setFormat(t.getFormat()),s.append(f),t.replace(s),d&&s.insertBefore((0,r.sTu)(d)),f},trigger:")",type:"text-match"}]);function U(t,e,n){const r=n.length;for(let o=e;o>=r;o--){const e=o-r;if(j(t,e,n,0,r)&&" "!==t[e+r])return e}return-1}function j(t,e,n,r,o){for(let i=0;i<o;i++)if(t[e+i]!==n[r+i])return!1;return!0}function q(t,e=H){const n=c(e),o=a(n.textFormat,(({tag:t})=>t[t.length-1])),i=a(n.textMatch,(({trigger:t})=>t));for(const n of e){const e=n.type;if("element"===e||"text-match"===e||"multiline-element"===e){const e=n.dependencies;for(const n of e)t.hasNode(n)||x(173,n.getType())}}const l=(t,e,s)=>{(function(t,e,n,o){const i=t.getParent();if(!(0,r.IqF)(i)||t.getFirstChild()!==e)return!1;const s=e.getTextContent();if(" "!==s[n-1])return!1;for(const{regExp:r,replace:i}of o){const o=s.match(r);if(o&&o[0].length===(o[0].endsWith(" ")?n:n-1)){const r=e.getNextSiblings(),[s,l]=e.splitText(n);if(!1!==i(t,l?[l,...r]:r,o,!1))return s.remove(),!0}}return!1})(t,e,s,n.element)||function(t,e,n,o){const i=t.getParent();if(!(0,r.IqF)(i)||t.getFirstChild()!==e)return!1;const s=e.getTextContent();if(" "!==s[n-1])return!1;for(const{regExpStart:r,replace:i,regExpEnd:l}of o){if(l&&!("optional"in l)||l&&"optional"in l&&!l.optional)continue;const o=s.match(r);if(o&&o[0].length===(o[0].endsWith(" ")?n:n-1)){const r=e.getNextSiblings(),[s,l]=e.splitText(n);if(!1!==i(t,l?[l,...r]:r,o,null,null,!1))return s.remove(),!0}}return!1}(t,e,s,n.multilineElement)||function(t,e,n){let r=t.getTextContent();const o=n[r[e-1]];if(null==o)return!1;e<r.length&&(r=r.slice(0,e));for(const e of o){if(!e.replace||!e.regExp)continue;const n=r.match(e.regExp);if(null===n)continue;const o=n.index||0,i=o+n[0].length;let s;return 0===o?[s]=t.splitText(i):[,s]=t.splitText(o,i),s.selectNext(0,0),e.replace(s,n),!0}return!1}(e,s,i)||function(t,e,n){const o=t.getTextContent(),i=e-1,s=o[i],l=n[s];if(!l)return!1;for(const e of l){const{tag:n}=e,l=n.length,a=i-l+1;if(l>1&&!j(o,a,n,0,l))continue;if(" "===o[a-1])continue;const c=o[i+1];if(!1===e.intraword&&c&&!u.test(c))continue;const d=t;let f=d,h=U(o,a,n),g=f;for(;h<0&&(g=g.getPreviousSibling())&&!(0,r.wH$)(g);)if((0,r.kFe)(g)){if(g.hasFormat("code"))continue;const t=g.getTextContent();f=g,h=U(t,t.length,n)}if(h<0)continue;if(f===d&&h+l===a)continue;const p=f.getTextContent();if(h>0&&p[h-1]===s)continue;const m=p[h-1];if(!1===e.intraword&&m&&!u.test(m))continue;const _=d.getTextContent(),y=_.slice(0,a)+_.slice(i+1);d.setTextContent(y);const v=f===d?y:p;f.setTextContent(v.slice(0,h)+v.slice(h+l));const S=(0,r.vJq)(),C=(0,r.uTE)();(0,r.n1P)(C);const x=i-l*(f===d?2:1)+1;C.anchor.set(f.__key,h,"text"),C.focus.set(d.__key,x,"text");for(const t of e.format)C.hasFormat(t)||C.formatText(t);C.anchor.set(C.focus.key,C.focus.offset,C.focus.type);for(const t of e.format)C.hasFormat(t)&&C.toggleFormat(t);return(0,r.I2P)(S)&&(C.format=S.format),!0}}(e,s,o)};return t.registerUpdateListener((({tags:e,dirtyLeaves:n,editorState:o,prevEditorState:i})=>{if(e.has(r.Ng_)||e.has(r.n0X))return;if(t.isComposing())return;const a=o.read(r.vJq),c=i.read(r.vJq);if(!(0,r.I2P)(c)||!(0,r.I2P)(a)||!a.isCollapsed()||a.is(c))return;const u=a.anchor.key,d=a.anchor.offset,f=o._nodeMap.get(u);!(0,r.kFe)(f)||!n.has(u)||1!==d&&d>c.anchor.offset+1||t.update((()=>{if(!y(f))return;const t=f.getParent();null===t||(0,s.a5)(t)||l(t,f,a.anchor.offset)}))}))}function Z(t,e=H,n,o=!1,i=!1){const s=o?t:function(t,e=!1){const n=t.split("\n");let r=!1;const o=[];for(let t=0;t<n.length;t++){const i=n[t].trimEnd(),s=o[o.length-1];M.test(i)?o.push(i):k.test(i)||A.test(i)?(r=!r,o.push(i)):r||""===i||""===s||!s||N.test(s)||N.test(i)||E.test(i)||b.test(i)||w.test(i)||T.test(i)||O.test(i)||F.test(i)||!e||P.test(i)||L.test(i)||R(L).test(s)||R(P).test(s)||A.test(s)?o.push(i):o[o.length-1]=s+" "+i.trimStart()}return o.join("\n")}(t,i);return function(t,e=!1){const n=c(t),o=function(t){const e={},n={},r=[];for(const o of t){const{tag:t}=o;e[t]=o;const i=t.replace(/(\*|\^|\+)/g,"\\$1");r.push(i),1===t.length?n[t]="`"===t?new RegExp("(?<![\\\\`])(`)((?:\\\\`|[^`])+?)(`)(?!`)"):new RegExp(`(?<![\\\\${i}])(${i})((\\\\${i})?.*?[^${i}\\s](\\\\${i})?)((?<!\\\\)|(?<=\\\\\\\\))(${i})(?![\\\\${i}])`):n[t]=new RegExp(`(?<!\\\\)(${i})((\\\\${i})?.*?[^\\s](\\\\${i})?)((?<!\\\\)|(?<=\\\\\\\\))(${i})(?!\\\\)`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp(`(?<![\\\\])(${r.join("|")})`,"g"),transformersByTag:e}}(n.textFormat);return(t,i)=>{const s=t.split("\n"),l=s.length,a=i||(0,r.NiT)();a.clear();for(let t=0;t<l;t++){const r=s[t],[i,l]=S(s,t,n.multilineElement,a);i?t=l:C(r,a,n.element,o,n.textMatch,e)}const c=a.getChildren();for(const t of c)!e&&f(t)&&a.getChildrenSize()>1&&t.remove();null!==(0,r.vJq)()&&a.selectStart()}}(e,o)(s,n)}function V(t=H,e,n=!1){const o=function(t,e=!1){const n=c(t),o=[...n.multilineElement,...n.element],i=!e,s=n.textFormat.filter((t=>1===t.format.length)).sort(((t,e)=>Number(t.format.includes("code"))-Number(e.format.includes("code"))));return t=>{const e=[],l=(t||(0,r.NiT)()).getChildren();for(let t=0;t<l.length;t++){const r=l[t],a=h(r,o,s,n.textMatch);null!=a&&e.push(i&&t>0&&!f(r)&&!f(l[t-1])?"\n".concat(a):a)}return e.join("\n")}}(t,n);return o(e)}},1735:(t,e,n)=>{n.d(e,{QC:()=>u,a5:()=>d,iK:()=>c,yy:()=>y});var r=n(1712),o=n(1716);function i(t,e){for(const n of t.childNodes){if((0,r.sby)(n)&&n.tagName===e)return!0;i(n,e)}return!1}n(1736),n(1737),n(1738),n(1739),n(1740),n(1741),n(1742),n(1743),n(1744),n(1745),n(1746),n(1747),n(1748),n(1749),n(1750),n(1751);const s="data-language",l="data-highlight-language",a="data-theme";class c extends r.fGB{__language;__theme;__isSyntaxHighlightSupported;static getType(){return"code"}static clone(t){return new c(t.__language,t.__key)}constructor(t,e){super(e),this.__language=t||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}afterCloneFrom(t){super.afterCloneFrom(t),this.__language=t.__language,this.__theme=t.__theme,this.__isSyntaxHighlightSupported=t.__isSyntaxHighlightSupported}createDOM(t){const e=document.createElement("code");(0,o.ZB)(e,t.theme.code),e.setAttribute("spellcheck","false");const n=this.getLanguage();n&&(e.setAttribute(s,n),this.getIsSyntaxHighlightSupported()&&e.setAttribute(l,n));const r=this.getTheme();r&&e.setAttribute(a,r);const i=this.getStyle();return i&&e.setAttribute("style",i),e}updateDOM(t,e,n){const r=this.__language,o=t.__language;r?r!==o&&e.setAttribute(s,r):o&&e.removeAttribute(s);const i=this.__isSyntaxHighlightSupported;t.__isSyntaxHighlightSupported&&o?i&&r?r!==o&&e.setAttribute(l,r):e.removeAttribute(l):i&&r&&e.setAttribute(l,r);const c=this.__theme,u=t.__theme;c?c!==u&&e.setAttribute(a,c):u&&e.removeAttribute(a);const d=this.__style,f=t.__style;return d?d!==f&&e.setAttribute("style",d):f&&e.removeAttribute("style"),!1}exportDOM(t){const e=document.createElement("pre");(0,o.ZB)(e,t._config.theme.code),e.setAttribute("spellcheck","false");const n=this.getLanguage();n&&(e.setAttribute(s,n),this.getIsSyntaxHighlightSupported()&&e.setAttribute(l,n));const r=this.getTheme();r&&e.setAttribute(a,r);const i=this.getStyle();return i&&e.setAttribute("style",i),{element:e}}static importDOM(){return{code:t=>null!=t.textContent&&(/\r?\n/.test(t.textContent)||i(t,"BR"))?{conversion:f,priority:1}:null,div:()=>({conversion:h,priority:1}),pre:()=>({conversion:f,priority:0}),table:t=>_(t)?{conversion:g,priority:3}:null,td:t=>{const e=t,n=e.closest("table");return e.classList.contains("js-file-line")||n&&_(n)?{conversion:p,priority:3}:null},tr:t=>{const e=t.closest("table");return e&&_(e)?{conversion:p,priority:3}:null}}}static importJSON(t){return u().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setLanguage(t.language).setTheme(t.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(t,e=!0){const n=this.getChildren(),i=n.length;if(i>=2&&"\n"===n[i-1].getTextContent()&&"\n"===n[i-2].getTextContent()&&t.isCollapsed()&&t.anchor.key===this.__key&&t.anchor.offset===i){n[i-1].remove(),n[i-2].remove();const t=(0,r.lJ7)();return this.insertAfter(t,e),t}const{anchor:s,focus:l}=t,a=(s.isBefore(l)?s:l).getNode();if((0,r.kFe)(a)){let t=function(t){return function(t){let e=t;for(let n=(0,r.IlV)(t,"previous");n&&(C(n.origin)||(0,r.MK6)(n.origin));n=(0,o._X)(n))e=n.origin;return e}(t)}(a);const e=[];for(;;)if((0,r.MK6)(t))e.push((0,r.ev7)()),t=t.getNextSibling();else{if(!C(t))break;{let n=0;const r=t.getTextContent(),o=t.getTextContentSize();for(;n<o&&" "===r[n];)n++;if(0!==n&&e.push(S(" ".repeat(n))),n!==o)break;t=t.getNextSibling()}}const n=a.splitText(s.offset)[0],i=0===s.offset?0:1,l=n.getIndexWithinParent()+i,c=a.getParentOrThrow(),u=[(0,r.WKo)(),...e];c.splice(l,0,u);const d=e[e.length-1];d?d.select():0===s.offset?n.selectPrevious():n.getNextSibling().selectNext(0,0)}if(d(a)){const{offset:e}=t.anchor;a.splice(e,0,[(0,r.WKo)()]),a.select(e+1,e+1)}return null}canIndent(){return!1}collapseAtStart(){const t=(0,r.lJ7)();return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}setLanguage(t){const e=this.getWritable();return e.__language=t||void 0,e}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(t){const e=this.getWritable();return e.__isSyntaxHighlightSupported=t,e}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(t){const e=this.getWritable();return e.__theme=t||void 0,e}getTheme(){return this.getLatest().__theme}}function u(t,e){return(0,r.phO)(c).setLanguage(t).setTheme(e)}function d(t){return t instanceof c}function f(t){return{node:u(t.getAttribute(s))}}function h(t){const e=t,n=m(e);return n||function(t){let e=t.parentElement;for(;null!==e;){if(m(e))return!0;e=e.parentElement}return!1}(e)?{node:n?u():null}:{node:null}}function g(){return{node:u()}}function p(){return{node:null}}function m(t){return null!==t.style.fontFamily.match("monospace")}function _(t){return t.classList.contains("js-file-line-container")}class y extends r.Ey8{__highlightType;constructor(t="",e,n){super(t,n),this.__highlightType=e}static getType(){return"code-highlight"}static clone(t){return new y(t.__text,t.__highlightType||void 0,t.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(t){const e=this.getWritable();return e.__highlightType=t||void 0,e}canHaveFormat(){return!1}createDOM(t){const e=super.createDOM(t),n=v(t.theme,this.__highlightType);return(0,o.ZB)(e,n),e}updateDOM(t,e,n){const r=super.updateDOM(t,e,n),i=v(n.theme,t.__highlightType),s=v(n.theme,this.__highlightType);return i!==s&&(i&&(0,o.HE)(e,i),s&&(0,o.ZB)(e,s)),r}static importJSON(t){return S().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setHighlightType(t.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(t){return this}isParentRequired(){return!0}createParentElementNode(){return u()}}function v(t,e){return e&&t&&t.codeHighlight&&t.codeHighlight[e]}function S(t="",e){return(0,r.pTq)(new y(t,e))}function C(t){return t instanceof y}(0,r.vE9)({name:"@lexical/code",nodes:()=>[c,y]}),function(t){t.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var e={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(e).forEach((function(n){var r=e[n],o=[];/^\w+$/.test(n)||o.push(/\w+/.exec(n)[0]),"diff"===n&&o.push("bold"),t.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:o,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(t.languages.diff,"PREFIXES",{value:e})}(Prism),globalThis.Prism||window.Prism,new Set},1752:(t,e,n)=>{n.d(e,{PL:()=>h,fS:()=>d});var r=n(1715),o=n(1711),i=n(1712),s=n(228);function l(t,e){return t.getEditorState().read((()=>{const t=(0,i.nsf)(e);return null!==t&&t.isSelected()}))}var a=n(1716),c=n(1713);function u({nodeKey:t}){const[e]=(0,o.DF)(),[n,r,c]=function(t){const[e]=(0,o.DF)(),[n,r]=(0,s.useState)((()=>l(e,t)));return(0,s.useEffect)((()=>{let n=!0;const o=e.registerUpdateListener((()=>{n&&r(l(e,t))}));return()=>{n=!1,o()}}),[e,t]),[n,(0,s.useCallback)((n=>{e.update((()=>{let e=(0,i.vJq)();(0,i.RTZ)(e)||(e=(0,i.rUs)(),(0,i.n1P)(e)),(0,i.RTZ)(e)&&(n?e.add(t):e.delete(t))}))}),[e,t]),(0,s.useCallback)((()=>{e.update((()=>{const t=(0,i.vJq)();(0,i.RTZ)(t)&&t.clear()}))}),[e])]}(t);return(0,s.useEffect)((()=>(0,a.Sd)(e.registerCommand(i.d8p,(o=>{const i=e.getElementByKey(t);return o.target===i&&(o.shiftKey||c(),r(!n),!0)}),i.AcJ))),[c,e,n,t,r]),(0,s.useEffect)((()=>{const r=e.getElementByKey(t),o=e._config.theme.hrSelected??"selected";null!==r&&(n?(0,a.ZB)(r,o):(0,a.HE)(r,o))}),[e,n,t]),null}class d extends r.fS{static getType(){return"horizontalrule"}static clone(t){return new d(t.__key)}static importJSON(t){return h().updateFromJSON(t)}static importDOM(){return{hr:()=>({conversion:f,priority:0})}}decorate(){return(0,c.Y)(u,{nodeKey:this.__key})}}function f(){return{node:h()}}function h(){return(0,i.pTq)(new d)}},1754:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"}),"Shuffle");e.A=s},1755:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M13 5v6h1.17L12 13.17 9.83 11H11V5h2m2-2H9v6H5l7 7 7-7h-4V3zm4 15H5v2h14v-2z"}),"GetAppOutlined");e.A=s},2029:(t,e,n)=>{n.d(e,{A:()=>d});var r=n(215),o=n(237),i=n(228),s=n(382),l=n(235),a=n(439),c=n(442),u=i.forwardRef((function(t,e){var n=t.classes,l=t.className,u=t.color,d=void 0===u?"primary":u,f=t.position,h=void 0===f?"fixed":f,g=(0,o.A)(t,["classes","className","color","position"]);return i.createElement(c.A,(0,r.A)({square:!0,component:"header",elevation:4,className:(0,s.default)(n.root,n["position".concat((0,a.A)(h))],n["color".concat((0,a.A)(d))],l,"fixed"===h&&"mui-fixed"),ref:e},g))}));const d=(0,l.A)((function(t){var e="light"===t.palette.type?t.palette.grey[100]:t.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:t.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:e,color:t.palette.getContrastText(e)},colorPrimary:{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText},colorSecondary:{backgroundColor:t.palette.secondary.main,color:t.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(u)},2030:(t,e,n)=>{n.d(e,{A:()=>u});var r=n(215),o=n(237),i=n(262),s=n(228),l=n(382),a=n(235),c=s.forwardRef((function(t,e){var n=t.classes,i=t.className,a=t.component,c=void 0===a?"div":a,u=t.disableGutters,d=void 0!==u&&u,f=t.variant,h=void 0===f?"regular":f,g=(0,o.A)(t,["classes","className","component","disableGutters","variant"]);return s.createElement(c,(0,r.A)({className:(0,l.default)(n.root,n[h],i,!d&&n.gutters),ref:e},g))}));const u=(0,a.A)((function(t){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:(0,i.A)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),regular:t.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(c)},2031:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");e.A=s},2032:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}),"FormatBold");e.A=s},2033:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic");e.A=s},2034:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}),"FormatUnderlined");e.A=s},2035:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),"FormatQuote");e.A=s},2036:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),"FormatListBulleted");e.A=s},2037:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),"FormatListNumbered");e.A=s},2038:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M5 4v3h5.5v12h3V7H19V4z"}),"Title");e.A=s},2039:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"Undo");e.A=s},2040:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"Redo");e.A=s},2041:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");e.A=s},2042:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}),"AddPhotoAlternate");e.A=s},2043:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"}),"FormatStrikethrough");e.A=s},2044:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z"}),"TextFormat");e.A=s},2045:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"}),"Drafts");e.A=s},2046:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement(i.Fragment,null,i.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),i.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"AccessTime");e.A=s},2047:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");e.A=s},2048:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement(i.Fragment,null,i.createElement("path",{d:"M3 8c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1H5V2c0-.55-.45-1-1-1s-1 .45-1 1v2H1c-.55 0-1 .45-1 1s.45 1 1 1h2v2z"}),i.createElement("circle",{cx:"13",cy:"14",r:"3"}),i.createElement("path",{d:"M21 6h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65h-6.4c.17.3.28.63.28 1 0 1.1-.9 2-2 2H6v1c0 1.1-.9 2-2 2-.37 0-.7-.11-1-.28V20c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"AddAPhotoRounded");e.A=s},2049:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M8 23h8v-2H8v2zm8-21.99L8 1c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM16 15H8V5h8v10z"}),"DockOutlined");e.A=s},2050:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");e.A=s},2051:(t,e,n)=>{var r=n(377),o=n(459);e.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"}),"Security");e.A=s}}]);