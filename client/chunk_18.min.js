"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([[18],{952:(e,t,n)=>{n.d(t,{A:()=>r});const r={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0}y ago",future:"in {0}y"},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:"{0}q ago",future:"in {0}q"},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0}mo ago",future:"in {0}mo"},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0}w ago",future:"in {0}w"},day:{previous:"yesterday",current:"today",next:"tomorrow",past:"{0}d ago",future:"in {0}d"},hour:{current:"this hour",past:"{0}h ago",future:"in {0}h"},minute:{current:"this minute",past:"{0}m ago",future:"in {0}m"},second:{current:"now",past:"{0}s ago",future:"in {0}s"}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}}},971:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(237),o=n(215),i=n(228),s=n(382),l=n(235),a=n(456),c=n(439),u=i.forwardRef((function(e,t){var n=e.children,l=e.classes,u=e.className,d=e.color,f=void 0===d?"default":d,h=e.component,g=void 0===h?"button":h,p=e.disabled,m=void 0!==p&&p,_=e.disableFocusRipple,y=void 0!==_&&_,v=e.focusVisibleClassName,x=e.size,S=void 0===x?"large":x,C=e.variant,b=void 0===C?"circular":C,w=(0,r.A)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return i.createElement(a.A,(0,o.A)({className:(0,s.default)(l.root,u,"large"!==S&&l["size".concat((0,c.A)(S))],m&&l.disabled,"extended"===b&&l.extended,{primary:l.primary,secondary:l.secondary,inherit:l.colorInherit}[f]),component:g,disabled:m,focusRipple:!y,focusVisibleClassName:(0,s.default)(l.focusVisible,v),ref:t},w),i.createElement("span",{className:l.label},n))}));const d=(0,l.A)((function(e){return{root:(0,o.A)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(u)},992:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(237),o=n(215),i=n(228),s=n(382),l=n(978),a=n(984),c=n(235),u=i.forwardRef((function(e,t){var n=e.children,c=e.classes,u=e.className,d=e.component,f=void 0===d?"p":d,h=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,r.A)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),g=(0,a.A)(),p=(0,l.A)({props:e,muiFormControl:g,states:["variant","margin","disabled","error","filled","focused","required"]});return i.createElement(f,(0,o.A)({className:(0,s.default)(c.root,("filled"===p.variant||"outlined"===p.variant)&&c.contained,u,p.disabled&&c.disabled,p.error&&c.error,p.filled&&c.filled,p.focused&&c.focused,p.required&&c.required,"dense"===p.margin&&c.marginDense),ref:t},h)," "===n?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)}));const d=(0,c.A)((function(e){return{root:(0,o.A)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(u)},994:(e,t,n)=>{n.d(t,{A:()=>M});var r=n(254),o=n(266),i=n(237),s=n(215),l=n(228),a=n(382),c=n(235),u=n(434),d=n(264),f=n(453),h=n(437),g=n(438),p=n(432),m=n(439),_=n(454);const y=(0,c.A)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:(0,s.A)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,r=e.className,o=e.open,i=e.value,s=e.valueLabelDisplay;return"off"===s?t:l.cloneElement(t,{className:(0,a.default)(t.props.className,(o||"on"===s)&&n.open,n.thumb)},l.createElement("span",{className:(0,a.default)(n.offset,r)},l.createElement("span",{className:n.circle},l.createElement("span",{className:n.label},i))))}));function v(e,t){return e-t}function x(e,t,n){return Math.min(Math.max(t,e),n)}function S(e,t){return e.reduce((function(e,n,r){var o=Math.abs(t-n);return null===e||o<e.distance||o===e.distance?{distance:o,index:r}:e}),null).index}function C(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function b(e,t,n){return 100*(e-t)/(n-t)}function w(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function T(e){var t=e.values,n=e.source,r=e.newValue,o=e.index;if(t[o]===r)return n;var i=t.slice();return i[o]=r,i}function N(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var k={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},E=function(e){return e},A=l.forwardRef((function(e,t){var n=e["aria-label"],c=e["aria-labelledby"],d=e["aria-valuetext"],A=e.classes,M=e.className,O=e.color,F=void 0===O?"primary":O,L=e.component,P=void 0===L?"span":L,R=e.defaultValue,D=e.disabled,I=void 0!==D&&D,B=e.getAriaLabel,z=e.getAriaValueText,K=e.marks,W=void 0!==K&&K,J=e.max,$=void 0===J?100:J,H=e.min,q=void 0===H?0:H,U=e.name,V=e.onChange,j=e.onChangeCommitted,Z=e.onMouseDown,Y=e.orientation,X=void 0===Y?"horizontal":Y,G=e.scale,Q=void 0===G?E:G,ee=e.step,te=void 0===ee?1:ee,ne=e.ThumbComponent,re=void 0===ne?"span":ne,oe=e.track,ie=void 0===oe?"normal":oe,se=e.value,le=e.ValueLabelComponent,ae=void 0===le?y:le,ce=e.valueLabelDisplay,ue=void 0===ce?"off":ce,de=e.valueLabelFormat,fe=void 0===de?E:de,he=(0,i.A)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),ge=(0,u.A)(),pe=l.useRef(),me=l.useState(-1),_e=me[0],ye=me[1],ve=l.useState(-1),xe=ve[0],Se=ve[1],Ce=(0,_.A)({controlled:se,default:R,name:"Slider"}),be=(0,o.A)(Ce,2),we=be[0],Te=be[1],Ne=Array.isArray(we),ke=Ne?we.slice().sort(v):[we];ke=ke.map((function(e){return x(e,q,$)}));var Ee=!0===W&&null!==te?(0,r.A)(Array(Math.floor(($-q)/te)+1)).map((function(e,t){return{value:q+te*t}})):W||[],Ae=(0,f.A)(),Me=Ae.isFocusVisible,Oe=Ae.onBlurVisible,Fe=Ae.ref,Le=l.useState(-1),Pe=Le[0],Re=Le[1],De=l.useRef(),Ie=(0,p.A)(Fe,De),Be=(0,p.A)(t,Ie),ze=(0,g.A)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));Me(e)&&Re(t),Se(t)})),Ke=(0,g.A)((function(){-1!==Pe&&(Re(-1),Oe()),Se(-1)})),We=(0,g.A)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));Se(t)})),Je=(0,g.A)((function(){Se(-1)})),$e="rtl"===ge.direction,He=(0,g.A)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=ke[n],o=($-q)/10,i=Ee.map((function(e){return e.value})),s=i.indexOf(r),l=$e?"ArrowLeft":"ArrowRight",a=$e?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=q;break;case"End":t=$;break;case"PageUp":te&&(t=r+o);break;case"PageDown":te&&(t=r-o);break;case l:case"ArrowUp":t=te?r+te:i[s+1]||i[i.length-1];break;case a:case"ArrowDown":t=te?r-te:i[s-1]||i[0];break;default:return}if(e.preventDefault(),te&&(t=w(t,te,q)),t=x(t,q,$),Ne){var c=t;t=T({values:ke,source:we,newValue:t,index:n}).sort(v),N({sliderRef:De,activeIndex:t.indexOf(c)})}Te(t),Re(n),V&&V(e,t),j&&j(e,t)})),qe=l.useRef(),Ue=X;$e&&"vertical"!==X&&(Ue+="-reverse");var Ve=function(e){var t,n,r=e.finger,o=e.move,i=void 0!==o&&o,s=e.values,l=e.source,a=De.current.getBoundingClientRect(),c=a.width,u=a.height,d=a.bottom,f=a.left;if(t=0===Ue.indexOf("vertical")?(d-r.y)/u:(r.x-f)/c,-1!==Ue.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,q,$),te)n=w(n,te,q);else{var h=Ee.map((function(e){return e.value}));n=h[S(h,n)]}n=x(n,q,$);var g=0;if(Ne){var p=n;g=(n=T({values:s,source:l,newValue:n,index:g=i?qe.current:S(s,n)}).sort(v)).indexOf(p),qe.current=g}return{newValue:n,activeIndex:g}},je=(0,g.A)((function(e){var t=C(e,pe);if(t){var n=Ve({finger:t,move:!0,values:ke,source:we}),r=n.newValue,o=n.activeIndex;N({sliderRef:De,activeIndex:o,setActive:ye}),Te(r),V&&V(e,r)}})),Ze=(0,g.A)((function(e){var t=C(e,pe);if(t){var n=Ve({finger:t,values:ke,source:we}).newValue;ye(-1),"touchend"===e.type&&Se(-1),j&&j(e,n),pe.current=void 0;var r=(0,h.A)(De.current);r.removeEventListener("mousemove",je),r.removeEventListener("mouseup",Ze),r.removeEventListener("touchmove",je),r.removeEventListener("touchend",Ze)}})),Ye=(0,g.A)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(pe.current=t.identifier);var n=C(e,pe),r=Ve({finger:n,values:ke,source:we}),o=r.newValue,i=r.activeIndex;N({sliderRef:De,activeIndex:i,setActive:ye}),Te(o),V&&V(e,o);var s=(0,h.A)(De.current);s.addEventListener("touchmove",je),s.addEventListener("touchend",Ze)}));l.useEffect((function(){var e=De.current;e.addEventListener("touchstart",Ye);var t=(0,h.A)(e);return function(){e.removeEventListener("touchstart",Ye),t.removeEventListener("mousemove",je),t.removeEventListener("mouseup",Ze),t.removeEventListener("touchmove",je),t.removeEventListener("touchend",Ze)}}),[Ze,je,Ye]);var Xe=(0,g.A)((function(e){Z&&Z(e),e.preventDefault();var t=C(e,pe),n=Ve({finger:t,values:ke,source:we}),r=n.newValue,o=n.activeIndex;N({sliderRef:De,activeIndex:o,setActive:ye}),Te(r),V&&V(e,r);var i=(0,h.A)(De.current);i.addEventListener("mousemove",je),i.addEventListener("mouseup",Ze)})),Ge=b(Ne?ke[0]:q,q,$),Qe=b(ke[ke.length-1],q,$)-Ge,et=(0,s.A)({},k[Ue].offset(Ge),k[Ue].leap(Qe));return l.createElement(P,(0,s.A)({ref:Be,className:(0,a.default)(A.root,A["color".concat((0,m.A)(F))],M,I&&A.disabled,Ee.length>0&&Ee.some((function(e){return e.label}))&&A.marked,!1===ie&&A.trackFalse,"vertical"===X&&A.vertical,"inverted"===ie&&A.trackInverted),onMouseDown:Xe},he),l.createElement("span",{className:A.rail}),l.createElement("span",{className:A.track,style:et}),l.createElement("input",{value:ke.join(","),name:U,type:"hidden"}),Ee.map((function(e,t){var n,r=b(e.value,q,$),o=k[Ue].offset(r);return n=!1===ie?-1!==ke.indexOf(e.value):"normal"===ie&&(Ne?e.value>=ke[0]&&e.value<=ke[ke.length-1]:e.value<=ke[0])||"inverted"===ie&&(Ne?e.value<=ke[0]||e.value>=ke[ke.length-1]:e.value>=ke[0]),l.createElement(l.Fragment,{key:e.value},l.createElement("span",{style:o,"data-index":t,className:(0,a.default)(A.mark,n&&A.markActive)}),null!=e.label?l.createElement("span",{"aria-hidden":!0,"data-index":t,style:o,className:(0,a.default)(A.markLabel,n&&A.markLabelActive)},e.label):null)})),ke.map((function(e,t){var r=b(e,q,$),o=k[Ue].offset(r);return l.createElement(ae,{key:t,valueLabelFormat:fe,valueLabelDisplay:ue,className:A.valueLabel,value:"function"==typeof fe?fe(Q(e),t):fe,index:t,open:xe===t||_e===t||"on"===ue,disabled:I},l.createElement(re,{className:(0,a.default)(A.thumb,A["thumbColor".concat((0,m.A)(F))],_e===t&&A.active,I&&A.disabled,Pe===t&&A.focusVisible),tabIndex:I?null:0,role:"slider",style:o,"data-index":t,"aria-label":B?B(t):n,"aria-labelledby":c,"aria-orientation":X,"aria-valuemax":Q($),"aria-valuemin":Q(q),"aria-valuenow":Q(e),"aria-valuetext":z?z(Q(e),t):d,onKeyDown:He,onFocus:ze,onBlur:Ke,onMouseOver:We,onMouseLeave:Je}))})))}));const M=(0,c.A)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?(0,d.a)(e.palette.primary.main,.62):(0,d.e$)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,d.X4)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,d.X4)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,d.X4)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,d.X4)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:(0,s.A)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(A)},996:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(215),o=n(237),i=n(228),s=n(382),l=n(665),a=n(235),c=n(979),u=i.forwardRef((function(e,t){var n=e.children,a=e.classes,u=e.className,d=e.component,f=void 0===d?"div":d,h=e.disablePointerEvents,g=void 0!==h&&h,p=e.disableTypography,m=void 0!==p&&p,_=e.position,y=e.variant,v=(0,o.A)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),x=(0,c.t)()||{},S=y;return y&&x.variant,x&&!S&&(S=x.variant),i.createElement(c.A.Provider,{value:null},i.createElement(f,(0,r.A)({className:(0,s.default)(a.root,u,"end"===_?a.positionEnd:a.positionStart,g&&a.disablePointerEvents,x.hiddenLabel&&a.hiddenLabel,"filled"===S&&a.filled,"dense"===x.margin&&a.marginDense),ref:t},v),"string"!=typeof n||m?n:i.createElement(l.A,{color:"textSecondary"},n)))}));const d=(0,a.A)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(u)},1013:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(215),o=n(1014),i=n(266),s=n(237),l=n(228),a=(n(395),n(382)),c=n(673),u=n(442),d=n(235),f=n(1015),h=n(454),g=l.forwardRef((function(e,t){var n=e.children,d=e.classes,g=e.className,p=e.defaultExpanded,m=void 0!==p&&p,_=e.disabled,y=void 0!==_&&_,v=e.expanded,x=e.onChange,S=e.square,C=void 0!==S&&S,b=e.TransitionComponent,w=void 0===b?c.A:b,T=e.TransitionProps,N=(0,s.A)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),k=(0,h.A)({controlled:v,default:m,name:"Accordion",state:"expanded"}),E=(0,i.A)(k,2),A=E[0],M=E[1],O=l.useCallback((function(e){M(!A),x&&x(e,!A)}),[A,x,M]),F=l.Children.toArray(n),L=(0,o.A)(F),P=L[0],R=L.slice(1),D=l.useMemo((function(){return{expanded:A,disabled:y,toggle:O}}),[A,y,O]);return l.createElement(u.A,(0,r.A)({className:(0,a.default)(d.root,g,A&&d.expanded,y&&d.disabled,!C&&d.rounded),ref:t,square:C},N),l.createElement(f.A.Provider,{value:D},P),l.createElement(w,(0,r.A)({in:A,timeout:"auto"},T),l.createElement("div",{"aria-labelledby":P.props.id,id:P.props["aria-controls"],role:"region"},R)))}));const p=(0,d.A)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(g)},1015:(e,t,n)=>{n.d(t,{A:()=>r});const r=n(228).createContext({})},1016:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(215),o=n(237),i=n(228),s=n(382),l=n(456),a=n(455),c=n(235),u=n(1015),d=i.forwardRef((function(e,t){var n=e.children,c=e.classes,d=e.className,f=e.expandIcon,h=e.focusVisibleClassName,g=e.IconButtonProps,p=void 0===g?{}:g,m=e.onClick,_=(0,o.A)(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),y=i.useContext(u.A),v=y.disabled,x=void 0!==v&&v,S=y.expanded,C=y.toggle;return i.createElement(l.A,(0,r.A)({focusRipple:!1,disableRipple:!0,disabled:x,component:"div","aria-expanded":S,className:(0,s.default)(c.root,d,x&&c.disabled,S&&c.expanded),focusVisibleClassName:(0,s.default)(c.focusVisible,c.focused,h),onClick:function(e){C&&C(e),m&&m(e)},ref:t},_),i.createElement("div",{className:(0,s.default)(c.content,S&&c.expanded)},n),f&&i.createElement(a.A,(0,r.A)({className:(0,s.default)(c.expandIcon,S&&c.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},p),f))}));const f=(0,c.A)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})(d)},1017:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(215),o=n(237),i=n(228),s=n(382),l=n(235),a=i.forwardRef((function(e,t){var n=e.classes,l=e.className,a=(0,o.A)(e,["classes","className"]);return i.createElement("div",(0,r.A)({className:(0,s.default)(n.root,l),ref:t},a))}));const c=(0,l.A)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(a)},1018:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.A=s},1020:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");t.A=s},1027:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}),"AddPhotoAlternate");t.A=s},1575:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.A=s},1595:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M9 16.17L5.53 12.7a.9959.9959 0 00-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.9959.9959 0 00-1.41 0L9 16.17z"}),"CheckRounded");t.A=s},1599:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M18.3 5.71a.9959.9959 0 00-1.41 0L12 10.59 7.11 5.7a.9959.9959 0 00-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),"CloseRounded");t.A=s},1622:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.A=s},1633:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.A=s},1658:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(237),o=n(215),i=n(228),s=n(382),l=n(264),a=n(235),c=n(456),u=n(439),d=i.forwardRef((function(e,t){var n=e.children,l=e.classes,a=e.className,d=e.disabled,f=void 0!==d&&d,h=e.disableFocusRipple,g=void 0!==h&&h,p=e.onChange,m=e.onClick,_=e.selected,y=e.size,v=void 0===y?"medium":y,x=e.value,S=(0,r.A)(e,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]);return i.createElement(c.A,(0,o.A)({className:(0,s.default)(l.root,a,f&&l.disabled,_&&l.selected,"medium"!==v&&l["size".concat((0,u.A)(v))]),disabled:f,focusRipple:!g,ref:t,onClick:function(e){m&&(m(e,x),e.isDefaultPrevented())||p&&p(e,x)},onChange:p,value:x,"aria-pressed":_},S),i.createElement("span",{className:l.label},n))}));const f=(0,a.A)((function(e){return{root:(0,o.A)({},e.typography.button,{boxSizing:"border-box",borderRadius:e.shape.borderRadius,padding:11,border:"1px solid ".concat((0,l.X4)(e.palette.action.active,.12)),color:(0,l.X4)(e.palette.action.active,.38),"&$selected":{color:e.palette.action.active,backgroundColor:(0,l.X4)(e.palette.action.active,.12),"&:hover":{backgroundColor:(0,l.X4)(e.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:(0,l.X4)(e.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:(0,l.X4)(e.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:e.typography.pxToRem(15)}}}),{name:"MuiToggleButton"})(d)},1659:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(215),o=n(237),i=n(228),s=(n(395),n(382));function l(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}var a=n(235),c=n(439),u=i.forwardRef((function(e,t){var n=e.children,a=e.classes,u=e.className,d=e.exclusive,f=void 0!==d&&d,h=e.onChange,g=e.orientation,p=void 0===g?"horizontal":g,m=e.size,_=void 0===m?"medium":m,y=e.value,v=(0,o.A)(e,["children","classes","className","exclusive","onChange","orientation","size","value"]),x=function(e,t){if(h){var n,r=y&&y.indexOf(t);y&&r>=0?(n=y.slice()).splice(r,1):n=y?y.concat(t):[t],h(e,n)}},S=function(e,t){h&&h(e,y===t?null:t)};return i.createElement("div",(0,r.A)({role:"group",className:(0,s.default)(a.root,u,"vertical"===p&&a.vertical),ref:t},v),i.Children.map(n,(function(e){return i.isValidElement(e)?i.cloneElement(e,{className:(0,s.default)(a.grouped,a["grouped".concat((0,c.A)(p))],e.props.className),onChange:f?S:x,selected:void 0===e.props.selected?l(e.props.value,y):e.props.selected,size:e.props.size||_}):null})))}));const d=(0,a.A)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},vertical:{flexDirection:"column"},grouped:{},groupedHorizontal:{"&:not(:first-child)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-child)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}}),{name:"MuiToggleButtonGroup"})(u)},1709:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");t.A=s},1713:(e,t,n)=>{n.d(t,{n:()=>u});var r=n(1714),o=n(1715),i=n(228),s=n(1716);const l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,a=l?i.useLayoutEffect:i.useEffect,c={tag:o.T40};function u({initialConfig:e,children:t}){const n=(0,i.useMemo)((()=>{const{theme:t,namespace:n,nodes:i,onError:s,editorState:a,html:u}=e,d=(0,r.Mx)(null,t),f=(0,o.ieJ)({editable:e.editable,html:u,namespace:n,nodes:i,onError:e=>s(e,f),theme:t});return function(e,t){if(null!==t)if(void 0===t)e.update((()=>{const t=(0,o.NiT)();if(t.isEmpty()){const n=(0,o.lJ7)();t.append(n);const r=l?document.activeElement:null;(null!==(0,o.vJq)()||null!==r&&r===e.getRootElement())&&n.select()}}),c);else if(null!==t)switch(typeof t){case"string":{const n=e.parseEditorState(t);e.setEditorState(n,c);break}case"object":e.setEditorState(t,c);break;case"function":e.update((()=>{(0,o.NiT)().isEmpty()&&t(e)}),c)}}(f,a),[f,d]}),[]);return a((()=>{const t=e.editable,[r]=n;r.setEditable(void 0===t||t)}),[]),(0,s.Y)(r.Gu.Provider,{value:n,children:t})}},1714:(e,t,n)=>{n.d(t,{DF:()=>s,Gu:()=>o,Mx:()=>i});var r=n(228);const o=(0,r.createContext)(null);function i(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}}function s(){const e=(0,r.useContext)(o);return null==e&&function(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),e}},1715:(e,t,n)=>{function r(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function o(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);n.search=r.toString()}n.d(t,{$7r:()=>zt,$ey:()=>it,A7V:()=>No,AX0:()=>gt,AcJ:()=>Fo,Ave:()=>Gs,B$P:()=>Ii,BtT:()=>xs,Bts:()=>Us,CaD:()=>de,Chh:()=>G,Cku:()=>_r,Csq:()=>cl,Cyw:()=>yo,Ey8:()=>Vn,FEN:()=>tt,GMe:()=>ro,GRK:()=>Dn,GcU:()=>jr,Gew:()=>Vi,H2A:()=>Br,HYn:()=>Pt,Huu:()=>vt,I2P:()=>hr,I8X:()=>X,IlV:()=>Rs,IqF:()=>ji,JM3:()=>ft,JjG:()=>Lo,Jvg:()=>Ho,K8K:()=>os,KfJ:()=>Bt,Kp7:()=>_o,LYZ:()=>jo,LZn:()=>O,MK6:()=>lr,MZu:()=>ir,MvL:()=>Ve,Ng_:()=>Fn,NiT:()=>mi,O0w:()=>pl,OBE:()=>Ar,OXk:()=>bt,OpE:()=>Ms,PiT:()=>Tt,Q$N:()=>St,RTZ:()=>pr,RTo:()=>yt,Rb_:()=>Qo,S1w:()=>Fr,SKc:()=>Rt,Sr4:()=>kt,T40:()=>Mn,TJt:()=>qs,Tc1:()=>_l,TgX:()=>At,U5P:()=>hs,UDz:()=>mt,V30:()=>ut,VSO:()=>Lt,WKo:()=>Bn,WWb:()=>It,WgU:()=>Po,WuB:()=>et,XKQ:()=>nt,YW5:()=>wt,Z$U:()=>Vo,ZKf:()=>ct,_On:()=>is,a9V:()=>ss,bM3:()=>rt,bMH:()=>An,bSg:()=>Mo,bbF:()=>_t,cmH:()=>Os,d8p:()=>Ze,da8:()=>Ro,dxY:()=>gs,e1k:()=>Li,erb:()=>Ks,ev7:()=>sr,fD3:()=>ko,fGB:()=>go,fUS:()=>Et,ff4:()=>po,fwY:()=>On,gCZ:()=>xt,guI:()=>Ue,hVZ:()=>xo,haT:()=>vo,hi0:()=>st,i0_:()=>as,ieJ:()=>Bo,jG6:()=>oi,jZM:()=>Oo,k1Q:()=>hl,kBm:()=>wn,kFe:()=>rr,lJ7:()=>Ao,lSZ:()=>ll,lVE:()=>ml,mB:()=>at,mB$:()=>ti,mWO:()=>$s,n0X:()=>En,n1P:()=>yi,nYP:()=>ts,nsf:()=>ui,oqR:()=>je,pGK:()=>al,pJU:()=>di,pTq:()=>Yi,pd8:()=>ps,peL:()=>es,phO:()=>vs,rN:()=>As,rUs:()=>Er,riq:()=>Mt,sTu:()=>nr,sWS:()=>Hs,sby:()=>ns,scG:()=>Yo,sik:()=>Nt,t5V:()=>Dt,u5G:()=>Ft,uTE:()=>kr,urt:()=>Y,uwZ:()=>zs,v0B:()=>wo,vAA:()=>rs,vE9:()=>gl,vJq:()=>Or,viC:()=>lt,w$Z:()=>Ct,w3H:()=>ls,wH$:()=>zn,waI:()=>ot,wp6:()=>Qs,xL4:()=>hi,xQ8:()=>el,y68:()=>Tr,z8s:()=>cr});const i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,s=i&&"documentMode"in document?document.documentMode:null,l=i&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),a=i&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),c=!(!i||!("InputEvent"in window)||s)&&"getTargetRanges"in new window.InputEvent("input"),u=i&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),d=i&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,f=i&&/Android/.test(navigator.userAgent),h=i&&/^(?=.*Chrome).*/i.test(navigator.userAgent),g=i&&f&&h,p=i&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&l&&!h;function m(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}const _=0,y=1,v=2,x=1,S=2,C=3,b=4,w=5,T=6,N=u||d||p?" ":"​",k="\n\n",E=a?" ":N,A="֑-߿יִ-﷽ﹰ-ﻼ",M="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",O=(new RegExp("^[^"+M+"]*["+A+"]"),new RegExp("^[^"+A+"]*["+M+"]"),{bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512}),F={directionless:1,unmergeable:2},L={center:2,end:6,justify:4,left:1,right:3,start:5},P={[S]:"center",[T]:"end",[b]:"justify",[x]:"left",[C]:"right",[w]:"start"},R={normal:0,segmented:2,token:1},D={[_]:"normal",[v]:"segmented",[y]:"token"},I="$config";function B(e,t,n,r,o,i){let s=e.getFirstChild();for(;null!==s;){const e=s.__key;s.__parent===t&&(po(s)&&B(s,e,n,r,o,i),n.has(e)||i.delete(e),o.push(e)),s=s.getNextSibling()}}let z=!1,K=0;function W(e){K=e.timeStamp}function J(e,t,n){const r="BR"===e.nodeName,o=t.__lexicalLineBreak;return o&&(e===o||r&&e.previousSibling===o)||r&&void 0!==fi(e,n)}function $(e,t,n){const r=es(Ui(n));let o=null,i=null;null!==r&&r.anchorNode===e&&(o=r.anchorOffset,i=r.focusOffset);const s=e.nodeValue;null!==s&&Ti(t,s,o,i,!1)}function H(e,t,n){if(hr(e)){const t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return ei(t)&&n.isAttached()}function q(e,t,n,r){for(let o=e;o&&!ms(o);o=Ji(o)){const e=fi(o,t);if(void 0!==e){const t=ui(e,n);if(t)return yo(t)||!ns(o)?void 0:[o,t]}else if(o===r)return[r,_i(n)]}}function U(e,t,n){z=!0;const r=performance.now()-K>100;try{uo(e,(()=>{const o=Or()||function(e){return e.getEditorState().read((()=>{const e=Or();return null!==e?e.clone():null}))}(e),i=new Map,s=e.getRootElement(),l=e._editorState,c=e._blockCursorElement;let u=!1,d="";for(let n=0;n<t.length;n++){const f=t[n],h=f.type,g=f.target,p=q(g,e,l,s);if(!p)continue;const[m,_]=p;if("characterData"===h)r&&rr(_)&&ei(g)&&H(o,g,_)&&$(g,_,e);else if("childList"===h){u=!0;const t=f.addedNodes;for(let n=0;n<t.length;n++){const r=t[n],o=di(r),i=r.parentNode;if(null!=i&&r!==c&&null===o&&!J(r,i,e)){if(a){const e=(ns(r)?r.innerText:null)||r.nodeValue;e&&(d+=e)}i.removeChild(r)}}const n=f.removedNodes,r=n.length;if(r>0){let t=0;for(let o=0;o<r;o++){const r=n[o];(J(r,g,e)||c===r)&&(g.appendChild(r),t++)}r!==t&&i.set(m,_)}}}if(i.size>0)for(const[t,n]of i)n.reconcileObservedMutation(t,e);const f=n.takeRecords();if(f.length>0){for(let t=0;t<f.length;t++){const n=f[t],r=n.addedNodes,o=n.target;for(let t=0;t<r.length;t++){const n=r[t],i=n.parentNode;null==i||"BR"!==n.nodeName||J(n,o,e)||i.removeChild(n)}}n.takeRecords()}null!==o&&(u&&yi(o),a&&Bi(e)&&o.insertRawText(d))}))}finally{z=!1}}function V(e){const t=e._observer;null!==t&&U(e,t.takeRecords(),t)}function j(e){!function(e){0===K&&Ui(e).addEventListener("textInput",W,!0)}(e),e._observer=new MutationObserver(((t,n)=>{U(e,t,n)}))}class Z{key;parse;unparse;isEqual;defaultValue;constructor(e,t){this.key=e,this.parse=t.parse.bind(t),this.unparse=(t.unparse||oe).bind(t),this.isEqual=(t.isEqual||Object.is).bind(t),this.defaultValue=this.parse(void 0)}}function Y(e,t){return new Z(e,t)}function X(e,t,n="latest"){const r=("latest"===n?e.getLatest():e).__state;return r?r.getValue(t):t.defaultValue}function G(e,t,n){let r;if(Zr(),"function"==typeof n){const o=e.getLatest(),i=X(o,t);if(r=n(i),t.isEqual(i,r))return o}else r=n;const o=e.getWritable();return te(o).updateFromKnown(t,r),o}function Q(e){const t=new Map,n=new Set;for(let r="function"==typeof e?e:e.replace;r.prototype&&void 0!==r.prototype.getType;r=Object.getPrototypeOf(r)){const{ownNodeConfig:e}=ys(r);if(e&&e.stateConfigs)for(const r of e.stateConfigs){let e;"stateConfig"in r?(e=r.stateConfig,r.flat&&n.add(e.key)):e=r,t.set(e.key,e)}}return{flatKeys:n,sharedConfigMap:t}}class ee{node;knownState;unknownState;sharedNodeState;size;constructor(e,t,n=void 0,r=new Map,o=void 0){this.node=e,this.sharedNodeState=t,this.unknownState=n,this.knownState=r;const{sharedConfigMap:i}=this.sharedNodeState,s=void 0!==o?o:function(e,t,n){let r=n.size;if(t)for(const o in t){const t=e.get(o);t&&n.has(t)||r++}return r}(i,n,r);this.size=s}getValue(e){const t=this.knownState.get(e);if(void 0!==t)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let n=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const t=this.unknownState[e.key];void 0!==t&&(n=e.parse(t)),this.updateFromKnown(e,n)}return n}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},t={};for(const[t,n]of this.knownState)t.isEqual(n,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(n);for(const n of this.sharedNodeState.flatKeys)n in e&&(t[n]=e[n],delete e[n]);return re(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;const{sharedNodeState:t,unknownState:n}=this,r=new Map(this.knownState);return new ee(e,t,function(e,t,n){let r;if(n)for(const[o,i]of Object.entries(n)){const n=e.get(o);n?t.has(n)||t.set(n,n.parse(i)):(r=r||{},r[o]=i)}return r}(t.sharedConfigMap,r,n),r,this.size)}updateFromKnown(e,t){const n=e.key;this.sharedNodeState.sharedConfigMap.set(n,e);const{knownState:r,unknownState:o}=this;r.has(e)||o&&n in o||(o&&(delete o[n],this.unknownState=re(o)),this.size++),r.set(e,t)}updateFromUnknown(e,t){const n=this.sharedNodeState.sharedConfigMap.get(e);n?this.updateFromKnown(n,n.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const e of t.keys())t.set(e,e.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(const[t,n]of Object.entries(e))this.updateFromUnknown(t,n)}}function te(e){const t=e.getWritable(),n=t.__state?t.__state.getWritable(t):new ee(t,ne(t));return t.__state=n,n}function ne(e){return e.__state?e.__state.sharedNodeState:$o(as(),e.getType()).sharedNodeState}function re(e){if(e)for(const t in e)return e}function oe(e){return e}function ie(e,t,n){for(const[r,o]of t.knownState){if(e.has(r.key))continue;e.add(r.key);const t=n?n.getValue(r):r.defaultValue;if(t!==o&&!r.isEqual(t,o))return!0}return!1}function se(e,t,n){const{unknownState:r}=t,o=n?n.unknownState:void 0;if(r)for(const[t,n]of Object.entries(r))if(!e.has(t)&&(e.add(t),n!==(o?o[t]:void 0)))return!0;return!1}function le(e,t){const n=e.__state;return n&&n.node===e?n.getWritable(t):n}function ae(e,t){const n=e.__mode,r=e.__format,o=e.__style,i=t.__mode,s=t.__format,l=t.__style,a=e.__state,c=t.__state;return(null===n||n===i)&&(null===r||r===s)&&(null===o||o===l)&&(null===e.__state||a===c||function(e,t){if(e===t)return!0;if(e&&t&&e.size!==t.size)return!1;const n=new Set;return!(e&&ie(n,e,t)||t&&ie(n,t,e)||e&&se(n,e,t)||t&&se(n,t,e))}(a,c))}function ce(e,t){const n=e.mergeWithSibling(t),r=Gr()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function ue(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&rr(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(ae(t,r)){r=ce(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&rr(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(ae(r,n)){r=ce(r,n);break}break}n.remove()}}else r.remove()}function de(e){return fe(e.anchor),fe(e.focus),e}function fe(e){for(;"element"===e.type;){const t=e.getNode(),n=e.offset;let r,o;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),o=!0):(r=t.getChildAtIndex(n),o=!1),rr(r)){e.set(r.__key,o?r.getTextContentSize():0,"text",!0);break}if(!po(r))break;e.set(r.__key,o?r.getChildrenSize():0,"element",!0)}}let he,ge,pe,me,_e,ye,ve,xe,Se,Ce,be="",we=null,Te=null,Ne="",ke=!1,Ee=!1;function Ae(e,t){const n=ve.get(e);if(null!==t){const n=qe(e);n.parentNode===t&&t.removeChild(n)}if(xe.has(e)||ge._keyToDOMMap.delete(e),po(n)){const e=We(n,ve);Me(e,0,e.length-1,null)}void 0!==n&&Ri(Ce,pe,me,n,"destroyed")}function Me(e,t,n,r){let o=t;for(;o<=n;++o){const t=e[o];void 0!==t&&Ae(t,r)}}function Oe(e,t){e.setProperty("text-align",t)}const Fe="40px";function Le(e,t){const n=he.theme.indent;if("string"==typeof n){const r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||Fe;e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function Pe(e,t){const n=e.style;0===t?Oe(n,""):1===t?Oe(n,"left"):2===t?Oe(n,"center"):3===t?Oe(n,"right"):4===t?Oe(n,"justify"):5===t?Oe(n,"start"):6===t&&Oe(n,"end")}function Re(e,t){const n=function(e){const t=e.__dir;if(null!==t)return t;if(xo(e))return null;const n=e.getParentOrThrow();return xo(n)&&null===n.__dir?"auto":null}(t);null!==n?e.dir=n:e.removeAttribute("dir")}function De(e,t){const n=xe.get(e);void 0===n&&r(60);const o=n.createDOM(he,ge);if(function(e,t,n){const r=n._keyToDOMMap;(function(e,t,n){e[`__lexicalKey_${t._key}`]=n})(t,n,e),r.set(e,t)}(e,o,ge),rr(n)?o.setAttribute("data-lexical-text","true"):yo(n)&&o.setAttribute("data-lexical-decorator","true"),po(n)){const e=n.__indent,t=n.__size;if(Re(o,n),0!==e&&Le(o,e),0!==t){const e=t-1;Ie(We(n,xe),n,0,e,n.getDOMSlot(o))}const r=n.__format;0!==r&&Pe(o,r),n.isInline()||ze(null,n,o),Ki(n)&&(be+=k,Ne+=k)}else{const t=n.getTextContent();if(yo(n)){const t=n.decorate(ge,he);null!==t&&$e(e,t),o.contentEditable="false"}be+=t,Ne+=t}return null!==t&&t.insertChild(o),Ri(Ce,pe,me,n,"created"),o}function Ie(e,t,n,r,o){const i=be;be="";let s=n;for(;s<=r;++s){De(e[s],o);const t=xe.get(e[s]);null!==t&&rr(t)&&null===we&&(we=t.getFormat(),Te=t.getStyle())}Ki(t)&&(be+=k),o.element.__lexicalTextContent=be,be=i+be}function Be(e,t){if(e){const n=e.__last;if(n){const e=t.get(n);if(e)return zn(e)?"line-break":yo(e)&&e.isInline()?"decorator":null}return"empty"}return null}function ze(e,t,n){const r=Be(e,ve),o=Be(t,xe);r!==o&&t.getDOMSlot(n).setManagedLineBreak(o)}function Ke(e,t,n){var o;we=null,Te=null,function(e,t,n){const o=be,i=e.__size,s=t.__size;be="";const l=n.element;if(1===i&&1===s){const n=e.__first,r=t.__first;if(n===r)Je(n,l);else{const e=qe(n),t=De(r,null);try{l.replaceChild(t,e)}catch(o){if("object"==typeof o&&null!=o){const i=`${o.toString()} Parent: ${l.tagName}, new child: {tag: ${t.tagName} key: ${r}}, old child: {tag: ${e.tagName}, key: ${n}}.`;throw new Error(i)}throw o}Ae(n,null)}const i=xe.get(r);rr(i)&&null===we&&(we=i.getFormat(),Te=i.getStyle())}else{const o=We(e,ve),a=We(t,xe);if(o.length!==i&&r(227),a.length!==s&&r(228),0===i)0!==s&&Ie(a,t,0,s-1,n);else if(0===s){if(0!==i){const e=null==n.after&&null==n.before&&null==n.element.__lexicalLineBreak;Me(o,0,i-1,e?null:l),e&&(l.textContent="")}}else!function(e,t,n,r,o,i){const s=r-1,l=o-1;let a,c,u=i.getFirstChild(),d=0,f=0;for(;d<=s&&f<=l;){const e=t[d],r=n[f];if(e===r)u=He(Je(r,i.element)),d++,f++;else{void 0===a&&(a=new Set(t)),void 0===c&&(c=new Set(n));const o=c.has(e),s=a.has(r);if(o)if(s){const e=Wi(ge,r);e===u?u=He(Je(r,i.element)):(i.withBefore(u).insertChild(e),Je(r,i.element)),d++,f++}else De(r,i.withBefore(u)),f++;else u=He(qe(e)),Ae(e,i.element),d++}const o=xe.get(r);null!==o&&rr(o)&&null===we&&(we=o.getFormat(),Te=o.getStyle())}const h=d>s,g=f>l;if(h&&!g){const t=n[l+1],r=void 0===t?null:ge.getElementByKey(t);Ie(n,e,f,l,i.withBefore(r))}else g&&!h&&Me(t,d,s,i.element)}(t,o,a,i,s,n)}Ki(t)&&(be+=k),l.__lexicalTextContent=be,be=o+be}(e,t,t.getDOMSlot(n)),o=t,null==we||we===o.__textFormat||Ee||o.setTextFormat(we),function(e){null==Te||Te===e.__textStyle||Ee||e.setTextStyle(Te)}(t)}function We(e,t){const n=[];let o=e.__first;for(;null!==o;){const e=t.get(o);void 0===e&&r(101),n.push(o),o=e.__next}return n}function Je(e,t){const n=ve.get(e);let o=xe.get(e);void 0!==n&&void 0!==o||r(61);const i=ke||ye.has(e)||_e.has(e),s=Wi(ge,e);if(n===o&&!i){if(po(n)){const e=s.__lexicalTextContent;void 0!==e&&(be+=e,Ne+=e)}else{const e=n.getTextContent();Ne+=e,be+=e}return s}if(n!==o&&i&&Ri(Ce,pe,me,o,"updated"),o.updateDOM(n,s,he)){const n=De(e,null);return null===t&&r(62),t.replaceChild(n,s),Ae(e,null),n}if(po(n)&&po(o)){const e=o.__indent;(ke||e!==n.__indent)&&Le(s,e);const t=o.__format;if((ke||t!==n.__format)&&Pe(s,t),i&&(Ke(n,o,s),xo(o)||o.isInline()||ze(n,o,s)),Ki(o)&&(be+=k,Ne+=k),(ke||o.__dir!==n.__dir)&&(Re(s,o),xo(o)&&!ke))for(const e of o.getChildren())po(e)&&Re(Wi(ge,e.getKey()),e)}else{const t=o.getTextContent();if(yo(o)){const t=o.decorate(ge,he);null!==t&&$e(e,t)}be+=t,Ne+=t}if(!Ee&&xo(o)&&o.__cachedText!==Ne){const e=o.getWritable();e.__cachedText=Ne,o=e}return s}function $e(e,t){let n=ge._pendingDecorators;const r=ge._decorators;if(null===n){if(r[e]===t)return;n=gi(ge)}n[e]=t}function He(e){let t=e.nextSibling;return null!==t&&t===ge._blockCursorElement&&(t=t.nextSibling),t}function qe(e){const t=Se.get(e);return void 0===t&&r(75,e),t}function Ue(e){return{type:e}}const Ve=Ue("SELECTION_CHANGE_COMMAND"),je=Ue("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),Ze=Ue("CLICK_COMMAND"),Ye=Ue("BEFORE_INPUT_COMMAND"),Xe=Ue("INPUT_COMMAND"),Ge=Ue("COMPOSITION_START_COMMAND"),Qe=Ue("COMPOSITION_END_COMMAND"),et=Ue("DELETE_CHARACTER_COMMAND"),tt=Ue("INSERT_LINE_BREAK_COMMAND"),nt=Ue("INSERT_PARAGRAPH_COMMAND"),rt=Ue("CONTROLLED_TEXT_INSERTION_COMMAND"),ot=Ue("PASTE_COMMAND"),it=Ue("REMOVE_TEXT_COMMAND"),st=Ue("DELETE_WORD_COMMAND"),lt=Ue("DELETE_LINE_COMMAND"),at=Ue("FORMAT_TEXT_COMMAND"),ct=Ue("UNDO_COMMAND"),ut=Ue("REDO_COMMAND"),dt=Ue("KEYDOWN_COMMAND"),ft=Ue("KEY_ARROW_RIGHT_COMMAND"),ht=Ue("MOVE_TO_END"),gt=Ue("KEY_ARROW_LEFT_COMMAND"),pt=Ue("MOVE_TO_START"),mt=Ue("KEY_ARROW_UP_COMMAND"),_t=Ue("KEY_ARROW_DOWN_COMMAND"),yt=Ue("KEY_ENTER_COMMAND"),vt=Ue("KEY_SPACE_COMMAND"),xt=Ue("KEY_BACKSPACE_COMMAND"),St=Ue("KEY_ESCAPE_COMMAND"),Ct=Ue("KEY_DELETE_COMMAND"),bt=Ue("KEY_TAB_COMMAND"),wt=Ue("INSERT_TAB_COMMAND"),Tt=Ue("INDENT_CONTENT_COMMAND"),Nt=Ue("OUTDENT_CONTENT_COMMAND"),kt=Ue("DROP_COMMAND"),Et=Ue("FORMAT_ELEMENT_COMMAND"),At=Ue("DRAGSTART_COMMAND"),Mt=Ue("DRAGOVER_COMMAND"),Ot=Ue("DRAGEND_COMMAND"),Ft=Ue("COPY_COMMAND"),Lt=Ue("CUT_COMMAND"),Pt=Ue("SELECT_ALL_COMMAND"),Rt=Ue("CLEAR_EDITOR_COMMAND"),Dt=Ue("CLEAR_HISTORY_COMMAND"),It=Ue("CAN_REDO_COMMAND"),Bt=Ue("CAN_UNDO_COMMAND"),zt=Ue("FOCUS_COMMAND"),Kt=Ue("BLUR_COMMAND"),Wt=Ue("KEY_MODIFIER_COMMAND"),Jt=Object.freeze({}),$t=[["keydown",function(e,t){Ht=e.timeStamp,qt=e.key,t.isComposing()||zi(t,dt,e)}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;rs(n)&&"touch"!==r&&"pen"!==r&&0===e.button&&uo(t,(()=>{Uo(n)||(Xt=!0)}))}],["compositionstart",function(e,t){zi(t,Ge,e)}],["compositionend",function(e,t){a?Qt=!0:d||!u&&!p?zi(t,Qe,e):(en=!0,tn=e.data)}],["input",function(e,t){e.stopPropagation(),uo(t,(()=>{t.dispatchCommand(Xe,e)}),{event:e}),Vt=null}],["click",function(e,t){uo(t,(()=>{const n=Or(),r=es(Ui(t)),o=Fr();if(r)if(hr(n)){const t=n.anchor,i=t.getNode();if("element"===t.type&&0===t.offset&&n.isCollapsed()&&!xo(i)&&1===mi().getChildrenSize()&&i.getTopLevelElementOrThrow().isEmpty()&&null!==o&&n.is(o))r.removeAllRanges(),n.dirty=!0;else if(3===e.detail&&!n.isCollapsed()&&i!==n.focus.getNode()){const e=xs(i,(e=>po(e)&&!e.isInline()));po(e)&&e.select(0)}}else if("touch"===e.pointerType||"pen"===e.pointerType){const n=r.anchorNode;(ns(n)||ei(n))&&yi(Mr(o,r,t,e))}zi(t,Ze,e)}))}],["cut",Jt],["copy",Jt],["dragstart",Jt],["dragover",Jt],["dragend",Jt],["paste",Jt],["focus",Jt],["blur",Jt],["drop",Jt]];c&&$t.push(["beforeinput",(e,t)=>function(e,t){const n=e.inputType;"deleteCompositionText"===n||a&&Bi(t)||"insertCompositionText"!==n&&zi(t,Ye,e)}(e,t)]);let Ht=0,qt=null,Ut=0,Vt=null;const jt=new WeakMap,Zt=new WeakMap;let Yt=!1,Xt=!1,Gt=!1,Qt=!1,en=!1,tn="",nn=null,rn=[0,"",0,"root",0];function on(e,t,n,r,o){const i=e.anchor,s=e.focus,l=i.getNode(),a=Gr(),u=es(Ui(a)),d=null!==u?u.anchorNode:null,f=i.key,h=a.getElementByKey(f),g=n.length;return f!==s.key||!rr(l)||(!o&&(!c||Ut<r+50)||l.isDirty()&&g<2||xi(n))&&i.offset!==s.offset&&!l.isComposing()||Qo(l)||l.isDirty()&&g>1||(o||!c)&&null!==h&&!l.isComposing()&&d!==ni(h)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||l.getFormat()!==e.format||l.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,r=t.getParentOrThrow(),o=Go(t);return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||o||function(e){const t=e.getPreviousSibling();return(rr(t)||po(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||o)}(e,l)}function sn(e,t){return ei(e)&&null!==e.nodeValue&&0!==t&&t!==e.nodeValue.length}function ln(e,t,n){const{anchorNode:o,anchorOffset:i,focusNode:s,focusOffset:l}=e;Yt&&(Yt=!1,sn(o,i)&&sn(s,l)&&!nn)||uo(t,(()=>{if(!n)return void yi(null);if(!jo(t,o,s))return;let a=Or();if(nn&&hr(a)&&a.isCollapsed()){const e=a.anchor,t=nn.anchor;(e.key===t.key&&e.offset===t.offset+1||1===e.offset&&t.getNode().is(e.getNode().getPreviousSibling()))&&(a=nn.clone(),yi(a))}if(nn=null,hr(a)){const n=a.anchor,o=n.getNode();if(a.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(a.dirty=!0);const i=Ui(t).event,s=i?i.timeStamp:performance.now(),[l,c,u,d,f]=rn,h=mi(),g=!1===t.isComposing()&&""===h.getTextContent();if(s<f+200&&n.offset===u&&n.key===d)an(a,l,c);else if("text"===n.type)rr(o)||r(141),cn(a,o);else if("element"===n.type&&!g){po(o)||r(259);const e=n.getNode();e.isEmpty()?function(e,t){an(e,t.getTextFormat(),t.getTextStyle())}(a,e):an(a,0,"")}}else{const e=n.key,t=a.focus.key,r=a.getNodes(),o=r.length,s=a.isBackward(),c=s?l:i,u=s?i:l,d=s?t:e,f=s?e:t;let h=2047,g=!1;for(let e=0;e<o;e++){const t=r[e],n=t.getTextContentSize();if(rr(t)&&0!==n&&!(0===e&&t.__key===d&&c===n||e===o-1&&t.__key===f&&0===u)&&(g=!0,h&=t.getFormat(),0===h))break}a.format=g?h:0}}zi(t,Ve,void 0)}))}function an(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function cn(e,t){an(e,t.getFormat(),t.getStyle())}function un(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return 0===t.length?null:t[0]}function dn(e){const t=e.inputType,n=un(e),o=Gr(),i=Or();if("deleteContentBackward"===t){if(null===i){const e=Fr();if(!hr(e))return!0;yi(e.clone())}if(hr(i)){const t=i.anchor.key===i.focus.key;if(s=e.timeStamp,"MediaLast"===qt&&s<Ht+30&&o.isComposing()&&t){if(ai(null),Ht=0,setTimeout((()=>{uo(o,(()=>{ai(null)}))}),30),hr(i)){const e=i.anchor.getNode();e.markDirty(),rr(e)||r(142),cn(i,e)}}else{ai(null),e.preventDefault();const n=i.anchor.getNode(),r=n.getTextContent(),s=n.canInsertTextAfter(),l=0===i.anchor.offset&&i.focus.offset===r.length;let a=g&&t&&!l&&s;if(a&&i.isCollapsed()&&(a=!yo(Ii(i.anchor,!0))),!a){zi(o,et,!0);const e=Or();g&&hr(e)&&e.isCollapsed()&&(nn=e,setTimeout((()=>nn=null)))}}return!0}}var s;if(!hr(i))return!0;const l=e.data;null!==Vt&&wi(!1,o,Vt),i.dirty&&null===Vt||!i.isCollapsed()||xo(i.anchor.getNode())||null===n||i.applyDOMRange(n),Vt=null;const a=i.anchor,c=i.focus,u=a.getNode(),f=c.getNode();if("insertText"===t||"insertTranspose"===t){if("\n"===l)e.preventDefault(),zi(o,tt,!1);else if(l===k)e.preventDefault(),zi(o,nt,void 0);else if(null==l&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),i.insertRawText(t)}else null!=l&&on(i,n,l,e.timeStamp,!0)?(e.preventDefault(),zi(o,rt,l)):Vt=l;return Ut=e.timeStamp,!0}switch(e.preventDefault(),t){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":zi(o,rt,e);break;case"insertFromComposition":ai(null),zi(o,rt,e);break;case"insertLineBreak":ai(null),zi(o,tt,!1);break;case"insertParagraph":ai(null),Gt&&!d?(Gt=!1,zi(o,tt,!1)):zi(o,nt,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":zi(o,ot,e);break;case"deleteByComposition":(function(e,t){return e!==t||po(e)||po(t)||!Go(e)||!Go(t)})(u,f)&&zi(o,it,e);break;case"deleteByDrag":case"deleteByCut":zi(o,it,e);break;case"deleteContent":zi(o,et,!1);break;case"deleteWordBackward":zi(o,st,!0);break;case"deleteWordForward":zi(o,st,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":zi(o,lt,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":zi(o,lt,!1);break;case"formatStrikeThrough":zi(o,at,"strikethrough");break;case"formatBold":zi(o,at,"bold");break;case"formatItalic":zi(o,at,"italic");break;case"formatUnderline":zi(o,at,"underline");break;case"historyUndo":zi(o,ct,void 0);break;case"historyRedo":zi(o,ut,void 0)}return!0}function fn(e){if(ns(e.target)&&Uo(e.target))return!0;const t=Gr(),n=Or(),r=e.data,o=un(e);if(null!=r&&hr(n)&&on(n,o,r,e.timeStamp,!1)){Qt&&(pn(t,r),Qt=!1);const o=n.anchor.getNode(),i=es(Ui(t));if(null===i)return!0;const s=n.isBackward(),l=s?n.anchor.offset:n.focus.offset,f=s?n.focus.offset:n.anchor.offset;c&&!n.isCollapsed()&&rr(o)&&null!==i.anchorNode&&o.getTextContent().slice(0,l)+r+o.getTextContent().slice(l+f)===bi(i.anchorNode)||zi(t,rt,r);const h=r.length;a&&h>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=h),u||d||p||!t.isComposing()||(Ht=0,ai(null))}else wi(!1,t,null!==r?r:void 0),Qt&&(pn(t,r||void 0),Qt=!1);return Zr(),V(Gr()),!0}function hn(e){const t=Gr(),n=Or();if(hr(n)&&!t.isComposing()){const r=n.anchor,o=n.anchor.getNode();ai(r.key),(e.timeStamp<Ht+30||"element"===r.type||!n.isCollapsed()||o.getFormat()!==n.format||rr(o)&&o.getStyle()!==n.style)&&zi(t,rt,E)}return!0}function gn(e){return pn(Gr(),e.data),!0}function pn(e,t){const n=e._compositionKey;if(ai(null),null!==n&&null!=t){if(""===t){const t=ui(n),r=ni(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&rr(t)&&Ti(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){const t=Or();if(hr(t)){const n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void zi(e,yt,null)}}}wi(!0,e,t)}function mn(e){const t=Gr();if(null==e.key)return!0;if(en&&Oi(e))return uo(t,(()=>{pn(t,tn)})),en=!1,tn="",!0;if(function(e){return Ei(e,"ArrowRight",{shiftKey:"any"})}(e))zi(t,ft,e);else if(function(e){return Ei(e,"ArrowRight",Ai)}(e))zi(t,ht,e);else if(function(e){return Ei(e,"ArrowLeft",{shiftKey:"any"})}(e))zi(t,gt,e);else if(function(e){return Ei(e,"ArrowLeft",Ai)}(e))zi(t,pt,e);else if(function(e){return Ei(e,"ArrowUp",{altKey:"any",shiftKey:"any"})}(e))zi(t,mt,e);else if(function(e){return Ei(e,"ArrowDown",{altKey:"any",shiftKey:"any"})}(e))zi(t,_t,e);else if(function(e){return Ei(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(e))Gt=!0,zi(t,yt,e);else if(function(e){return" "===e.key}(e))zi(t,vt,e);else if(function(e){return l&&Ei(e,"o",{ctrlKey:!0})}(e))e.preventDefault(),Gt=!0,zi(t,tt,!0);else if(function(e){return Ei(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(e))Gt=!1,zi(t,yt,e);else if(function(e){return Ei(e,"Backspace",{shiftKey:"any"})||l&&Ei(e,"h",{ctrlKey:!0})}(e))Oi(e)?zi(t,xt,e):(e.preventDefault(),zi(t,et,!0));else if(function(e){return"Escape"===e.key}(e))zi(t,St,e);else if(function(e){return Ei(e,"Delete",{})||l&&Ei(e,"d",{ctrlKey:!0})}(e))!function(e){return"Delete"===e.key}(e)?(e.preventDefault(),zi(t,et,!1)):zi(t,Ct,e);else if(function(e){return Ei(e,"Backspace",Mi)}(e))e.preventDefault(),zi(t,st,!0);else if(function(e){return Ei(e,"Delete",Mi)}(e))e.preventDefault(),zi(t,st,!1);else if(function(e){return l&&Ei(e,"Backspace",{metaKey:!0})}(e))e.preventDefault(),zi(t,lt,!0);else if(function(e){return l&&(Ei(e,"Delete",{metaKey:!0})||Ei(e,"k",{ctrlKey:!0}))}(e))e.preventDefault(),zi(t,lt,!1);else if(function(e){return Ei(e,"b",Ai)}(e))e.preventDefault(),zi(t,at,"bold");else if(function(e){return Ei(e,"u",Ai)}(e))e.preventDefault(),zi(t,at,"underline");else if(function(e){return Ei(e,"i",Ai)}(e))e.preventDefault(),zi(t,at,"italic");else if(function(e){return Ei(e,"Tab",{shiftKey:"any"})}(e))zi(t,bt,e);else if(function(e){return Ei(e,"z",Ai)}(e))e.preventDefault(),zi(t,ct,void 0);else if(function(e){return l?Ei(e,"z",{metaKey:!0,shiftKey:!0}):Ei(e,"y",{ctrlKey:!0})||Ei(e,"z",{ctrlKey:!0,shiftKey:!0})}(e))e.preventDefault(),zi(t,ut,void 0);else{const n=t._editorState._selection;null===n||hr(n)?Fi(e)&&(e.preventDefault(),zi(t,Pt,e)):function(e){return Ei(e,"c",Ai)}(e)?(e.preventDefault(),zi(t,Ft,e)):function(e){return Ei(e,"x",Ai)}(e)?(e.preventDefault(),zi(t,Lt,e)):Fi(e)&&(e.preventDefault(),zi(t,Pt,e))}return function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey}(e)&&t.dispatchCommand(Wt,e),!0}function _n(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}const yn=new Map;function vn(e){const t=function(e){const t=qi(e);return t?t.getSelection():null}(e.target);if(null===t)return;const n=Yo(t.anchorNode);if(null===n)return;Xt&&(Xt=!1,uo(n,(()=>{const r=Fr(),o=t.anchorNode;(ns(o)||ei(o))&&yi(Mr(r,t,n,e))})));const r=Si(n),o=r[r.length-1],i=o._key,s=yn.get(i),l=s||o;l!==n&&ln(t,l,!1),ln(t,n,!0),n!==o?yn.set(i,n):s&&yn.delete(i)}function xn(e){e._lexicalHandled=!0}function Sn(e){return!0===e._lexicalHandled}function Cn(e){const t=jt.get(e);if(void 0===t)return;const n=Zt.get(t);if(void 0===n)return;const o=n-1;o>=0||r(164),jt.delete(e),Zt.set(t,o),0===o&&t.removeEventListener("selectionchange",vn);const i=Xo(e);Zo(i)?(function(e){if(null!==e._parentEditor){const t=Si(e),n=t[t.length-1]._key;yn.get(n)===e&&yn.delete(n)}else yn.delete(e._key)}(i),e.__lexicalEditor=null):i&&r(198);const s=_n(e);for(let e=0;e<s.length;e++)s[e]();e.__lexicalEventHandles=[]}function bn(e,t,n){Zr();const r=e.__key,o=e.getParent();if(null===o)return;const i=function(e){const t=Or();if(!hr(t)||!po(e))return t;const{anchor:n,focus:r}=t,o=n.getNode(),i=r.getNode();return Hi(o,e)&&n.set(e.__key,0,"element"),Hi(i,e)&&r.set(e.__key,0,"element"),t}(e);let s=!1;if(hr(i)&&t){const t=i.anchor,n=i.focus;t.key===r&&(Rr(t,e,o,e.getPreviousSibling(),e.getNextSibling()),s=!0),n.key===r&&(Rr(n,e,o,e.getPreviousSibling(),e.getNextSibling()),s=!0)}else pr(i)&&t&&e.isSelected()&&e.selectPrevious();if(hr(i)&&t&&!s){const t=e.getIndexWithinParent();si(e),Lr(i,o,t,-1)}else si(e);n||ji(o)||o.canBeEmpty()||!o.isEmpty()||bn(o,t),t&&i&&xo(o)&&o.isEmpty()&&o.selectEnd()}function wn(e){return e}const Tn=Symbol.for("ephemeral");function Nn(e){return e[Tn]||!1}class kn{__type;__key;__parent;__prev;__next;__state;static getType(){const{ownNodeType:e}=ys(this);return void 0===e&&r(64,this.name),e}static clone(e){r(65,this.name)}$config(){return{}}config(e,t){const n=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:n,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}static importDOM;constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),ii(this,e)}getType(){return this.__type}isInline(){r(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=ui(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){const t=e||Or();if(null==t)return!1;const n=t.getNodes().some((e=>e.__key===this.__key));if(rr(this))return n;if(hr(t)&&"element"===t.anchor.type&&"element"===t.focus.type){if(t.isCollapsed())return!1;const e=this.getParent();if(yo(this)&&this.isInline()&&e){const n=t.isBackward()?t.focus:t.anchor;if(e.is(n.getNode())&&n.offset===e.getChildrenSize()&&this.is(e.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(null===e)return-1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return null===e?null:ui(e)}getParentOrThrow(){const e=this.getParent();return null===e&&r(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(ji(t))return po(e)||e===this&&yo(e)||r(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return null===e&&r(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return null===e?null:ui(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return null===e?null:ui(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=po(this)?this:this.getParent(),n=po(e)?e:e.getParent(),r=t&&n?Xs(t,n):null;return r?r.commonAncestor:null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){const t=Xs(this,e);return null!==t&&("descendant"===t.type||("branch"===t.type?-1===js(t):("same"!==t.type&&"ancestor"!==t.type&&r(279),!1)))}isParentOf(e){const t=Xs(this,e);return null!==t&&"ancestor"===t.type}getNodesBetween(e){const t=this.isBefore(e),n=[],o=new Set;let i=this;for(;null!==i;){const s=i.__key;if(o.has(s)||(o.add(s),n.push(i)),i===e)break;const l=po(i)?t?i.getFirstChild():i.getLastChild():null;if(null!==l){i=l;continue}const a=t?i.getNextSibling():i.getPreviousSibling();if(null!==a){i=a;continue}const c=i.getParentOrThrow();if(o.has(c.__key)||n.push(c),c===e)break;let u=null,d=c;do{if(null===d&&r(68),u=t?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),null===d)break;null!==u||o.has(d.__key)||n.push(d)}while(null===u);i=u}return t||n.reverse(),n}isDirty(){const e=Gr()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){if(Nn(this))return this;const e=ui(this.__key);return null===e&&r(113),e}getWritable(){if(Nn(this))return this;Zr();const e=Xr(),t=Gr(),n=e._nodeMap,r=this.__key,o=this.getLatest(),i=t._cloneNotNeeded,s=Or();if(null!==s&&s.setCachedNodes(null),i.has(r))return li(o),o;const l=fs(o);return i.add(r),li(l),n.set(r,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){r(70)}updateDOM(e,t,n){r(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){r(18,this.name)}updateFromJSON(e){return function(e,t){const n=e.getWritable(),r=t.$;let o=r;for(const e of ne(n).flatKeys)e in t&&(void 0!==o&&o!==r||(o={...r}),o[e]=t[e]);return(n.__state||o)&&te(e).updateFromJSON(o),n}(this,e)}static transform(){return null}remove(e){bn(this,!0,e)}replace(e,t){Zr();let n=Or();null!==n&&(n=n.clone()),Xi(this,e);const o=this.getLatest(),i=this.__key,s=e.__key,l=e.getWritable(),a=this.getParentOrThrow().getWritable(),c=a.__size;si(l);const u=o.getPreviousSibling(),d=o.getNextSibling(),f=o.__prev,h=o.__next,g=o.__parent;if(bn(o,!1,!0),null===u?a.__first=s:u.getWritable().__next=s,l.__prev=f,null===d?a.__last=s:d.getWritable().__prev=s,l.__next=h,l.__parent=g,a.__size=c,t&&(po(this)&&po(l)||r(139),this.getChildren().forEach((e=>{l.append(e)}))),hr(n)){yi(n);const e=n.anchor,t=n.focus;e.key===i&&dr(e,l),t.key===i&&dr(t,l)}return ci()===i&&ai(s),l}insertAfter(e,t=!0){Zr(),Xi(this,e);const n=this.getWritable(),r=e.getWritable(),o=r.getParent(),i=Or();let s=!1,l=!1;if(null!==o){const t=e.getIndexWithinParent();if(si(r),hr(i)){const e=o.__key,n=i.anchor,r=i.focus;s="element"===n.type&&n.key===e&&n.offset===t+1,l="element"===r.type&&r.key===e&&r.offset===t+1}}const a=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),u=r.__key,d=n.__next;if(null===a?c.__last=u:a.getWritable().__prev=u,c.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&hr(i)){const e=this.getIndexWithinParent();Lr(i,c,e+1);const t=c.__key;s&&i.anchor.set(t,e+2,"element"),l&&i.focus.set(t,e+2,"element")}return e}insertBefore(e,t=!0){Zr(),Xi(this,e);const n=this.getWritable(),r=e.getWritable(),o=r.__key;si(r);const i=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),l=n.__prev,a=this.getIndexWithinParent();null===i?s.__first=o:i.getWritable().__next=o,s.__size++,n.__prev=o,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;const c=Or();return t&&hr(c)&&Lr(c,this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return Ao()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){Zr();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(po(n))return n.select();if(!rr(n)){const e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){Zr();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(po(n))return n.select(0,0);if(!rr(n)){const e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}const En="historic",An="history-push",Mn="history-merge",On="paste",Fn="collaboration",Ln="skip-scroll-into-view",Pn="skip-dom-selection",Rn="skip-selection-focus";class Dn extends kn{static getType(){return"linebreak"}static clone(e){return new Dn(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(e){const t=e.parentElement;if(null!==t&&ss(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&Kn(n)){const n=t.lastChild;if(n===e||n.previousSibling===e&&Kn(n))return!0}}return!1}(e)||function(e){const t=e.parentElement;if(null!==t&&ss(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&Kn(n))return!1;const r=t.lastChild;if(r===e||r.previousSibling===e&&Kn(r))return!0}return!1}(e)?null:{conversion:In,priority:0}}}static importJSON(e){return Bn().updateFromJSON(e)}}function In(e){return{node:Bn()}}function Bn(){return Yi(new Dn)}function zn(e){return e instanceof Dn}function Kn(e){return ei(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function Wn(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function Jn(e,t){return 1&t?"strong":2&t?"em":"span"}function $n(e,t,n,r,o){const i=r.classList;let s=Pi(o,"base");void 0!==s&&i.add(...s),s=Pi(o,"underlineStrikethrough");let l=!1;const a=8&t&&4&t;void 0!==s&&(8&n&&4&n?(l=!0,a||i.add(...s)):a&&i.remove(...s));for(const e in O){const r=O[e];if(s=Pi(o,e),void 0!==s)if(n&r){if(l&&("underline"===e||"strikethrough"===e)){t&r&&i.remove(...s);continue}(!(t&r)||a&&"underline"===e||"strikethrough"===e)&&i.add(...s)}else t&r&&i.remove(...s)}}function Hn(e,t,n){const r=t.firstChild,o=n.isComposing(),i=e+(o?N:"");if(null==r)t.textContent=i;else{const e=r.nodeValue;if(e!==i)if(o||a){const[t,n,o]=function(e,t){const n=e.length,r=t.length;let o=0,i=0;for(;o<n&&o<r&&e[o]===t[o];)o++;for(;i+o<n&&i+o<r&&e[n-i-1]===t[r-i-1];)i++;return[o,n-o-i,t.slice(o,r-i)]}(e,i);0!==n&&r.deleteData(t,n),r.insertData(t,o)}else r.nodeValue=i}}function qn(e,t,n,r,o,i){Hn(o,e,t);const s=i.theme.text;void 0!==s&&$n(0,0,r,e,s)}function Un(e,t){const n=document.createElement(t);return n.appendChild(e),n}class Vn extends kn{__text;__format;__style;__mode;__detail;static getType(){return"text"}static clone(e){return new Vn(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return D[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===ci()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=O[e];return!!(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return ri(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const n=this.__format,r=Wn(0,n),o=Jn(0,n),i=null===r?o:r,s=document.createElement(i);let l=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(o),s.appendChild(l)),qn(l,this,0,n,this.__text,e);const a=this.__style;return""!==a&&(s.style.cssText=a),s}updateDOM(e,t,n){const o=this.__text,i=e.__format,s=this.__format,l=Wn(0,i),a=Wn(0,s),c=Jn(0,i),u=Jn(0,s);if((null===l?c:l)!==(null===a?u:a))return!0;if(l===a&&c!==u){const e=t.firstChild;null==e&&r(48);const i=document.createElement(u);return qn(i,this,0,s,o,n),t.replaceChild(i,e),!1}let d=t;null!==a&&null!==l&&(d=t.firstChild,null==d&&r(49)),Hn(o,d,this);const f=n.theme.text;void 0!==f&&i!==s&&$n(0,i,s,d,f);const h=e.__style,g=this.__style;return h!==g&&(t.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:Gn,priority:0}),b:()=>({conversion:Zn,priority:0}),code:()=>({conversion:tr,priority:0}),em:()=>({conversion:tr,priority:0}),i:()=>({conversion:tr,priority:0}),mark:()=>({conversion:tr,priority:0}),s:()=>({conversion:tr,priority:0}),span:()=>({conversion:jn,priority:0}),strong:()=>({conversion:tr,priority:0}),sub:()=>({conversion:tr,priority:0}),sup:()=>({conversion:tr,priority:0}),u:()=>({conversion:tr,priority:0})}}static importJSON(e){return nr().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return ns(t)||r(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=Un(t,"b")),this.hasFormat("italic")&&(t=Un(t,"i")),this.hasFormat("strikethrough")&&(t=Un(t,"s")),this.hasFormat("underline")&&(t=Un(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format="string"==typeof e?O[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail="string"==typeof e?F[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=ri(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=R[e];if(this.__mode===t)return this;const n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){Zr();let n=e,r=t;const o=Or(),i=this.getTextContent(),s=this.__key;if("string"==typeof i){const e=i.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!hr(o))return Nr(s,n,s,r,"text","text");{const e=ci();e!==o.anchor.key&&e!==o.focus.key||ai(s),o.setTextNodeRange(this,n,this,r)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){const o=this.getWritable(),i=o.__text,s=n.length;let l=e;l<0&&(l=s+l,l<0&&(l=0));const a=Or();if(r&&hr(a)){const t=e+s;a.setTextNodeRange(o,t,o,t)}const c=i.slice(0,l)+n+i.slice(l+t);return o.__text=c,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Zr();const t=this.getLatest(),n=t.getTextContent();if(""===n)return[];const r=t.__key,o=ci(),i=n.length;e.sort(((e,t)=>e-t)),e.push(i);const s=[],l=e.length;for(let t=0,r=0;t<i&&r<=l;r++){const o=e[r];o>t&&(s.push(n.slice(t,o)),t=o)}const a=s.length;if(1===a)return[t];const c=s[0],u=t.getParent();let d;const f=t.getFormat(),h=t.getStyle(),g=t.__detail;let p=!1,m=null,_=null;const y=Or();if(hr(y)){const[e,t]=y.isBackward()?[y.focus,y.anchor]:[y.anchor,y.focus];"text"===e.type&&e.key===r&&(m=e),"text"===t.type&&t.key===r&&(_=t)}t.isSegmented()?(d=nr(c),d.__format=f,d.__style=h,d.__detail=g,d.__state=le(t,d),p=!0):d=t.setTextContent(c);const v=[d];for(let e=1;e<a;e++){const n=nr(s[e]);n.__format=f,n.__style=h,n.__detail=g,n.__state=le(t,n);const i=n.__key;o===r&&ai(i),v.push(n)}const x=m?m.offset:null,S=_?_.offset:null;let C=0;for(const e of v){if(!m&&!_)break;const t=C+e.getTextContentSize();if(null!==m&&null!==x&&x<=t&&x>=C&&(m.set(e.getKey(),x-C,"text"),x<t&&(m=null)),null!==_&&null!==S&&S<=t&&S>=C){_.set(e.getKey(),S-C,"text");break}C=t}if(null!==u){!function(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&li(t),null!==n&&li(n)}(this);const e=u.getWritable(),t=this.getIndexWithinParent();p?(e.splice(t,0,v),this.remove()):e.splice(t,1,v),hr(y)&&Lr(y,u,t,a-1)}return v}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||r(50);const n=this.__key,o=e.__key,i=this.__text,s=i.length;ci()===o&&ai(n);const l=Or();if(hr(l)){const r=l.anchor,i=l.focus;null!==r&&r.key===o&&Dr(r,t,n,e,s),null!==i&&i.key===o&&Dr(i,t,n,e,s)}const a=e.__text,c=t?a+i:i+a;this.setTextContent(c);const u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function jn(e){return{forChild:or(e.style),node:null}}function Zn(e){const t=e,n="normal"===t.style.fontWeight;return{forChild:or(t.style,n?void 0:"bold"),node:null}}const Yn=new WeakMap;function Xn(e){if(!ns(e))return!1;if("PRE"===e.nodeName)return!0;const t=e.style.whiteSpace;return"string"==typeof t&&t.startsWith("pre")}function Gn(e){const t=e;null===e.parentElement&&r(129);let n=t.textContent||"";if(null!==function(e){let t,n=e.parentNode;const r=[e];for(;null!==n&&void 0===(t=Yn.get(n))&&!Xn(n);)r.push(n),n=n.parentNode;const o=void 0===t?n:t;for(let e=0;e<r.length;e++)Yn.set(r[e],o);return o}(t)){const e=n.split(/(\r?\n|\t)/),t=[],r=e.length;for(let n=0;n<r;n++){const r=e[n];"\n"===r||"\r\n"===r?t.push(Bn()):"\t"===r?t.push(sr()):""!==r&&t.push(nr(r))}return{node:t}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let e=t,r=!0;for(;null!==e&&null!==(e=Qn(e,!1));){const t=e.textContent||"";if(t.length>0){/[ \t\n]$/.test(t)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let e=t,r=!0;for(;null!==e&&null!==(e=Qn(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:nr(n)}}function Qn(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){const e=n.parentElement;if(null===e)return null;n=e}if(n=e,ns(n)){const e=n.style.display;if(""===e&&!is(n)||""!==e&&!e.startsWith("inline"))return null}let r=n;for(;null!==(r=t?n.firstChild:n.lastChild);)n=r;if(ei(n))return n;if("BR"===n.nodeName)return null}}const er={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function tr(e){const t=er[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:or(e.style,t),node:null}}function nr(e=""){return Yi(new Vn(e))}function rr(e){return e instanceof Vn}function or(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),o="700"===n||"bold"===n,i=r.includes("line-through"),s="italic"===e.fontStyle,l=r.includes("underline"),a=e.verticalAlign;return e=>rr(e)?(o&&!e.hasFormat("bold")&&e.toggleFormat("bold"),i&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),s&&!e.hasFormat("italic")&&e.toggleFormat("italic"),l&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==a||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==a||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t),e):e}class ir extends Vn{static getType(){return"tab"}static clone(e){return new ir(e.__key)}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),n=Pi(e.theme,"tab");return void 0!==n&&t.classList.add(...n),t}static importJSON(e){return sr().updateFromJSON(e)}setTextContent(e){return"\t"!==e&&""!==e&&o(126),super.setTextContent("\t")}spliceText(e,t,n,o){return""===n&&0===t||"\t"===n&&1===t||r(286),this}setDetail(e){return 2!==e&&r(127),this}setMode(e){return"normal"!==e&&r(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function sr(){return Yi(new ir)}function lr(e){return e instanceof ir}class ar{key;offset;type;_selection;constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:Vs(ll(Gs(this,"next")),ll(Gs(e,"next")))<0}getNode(){const e=ui(this.key);return null===e&&r(20),e}set(e,t,n,r){const o=this._selection,i=this.key;r&&this.key===e&&this.offset===t&&this.type===n||(this.key=e,this.offset=t,this.type=n,jr()||(ci()===i&&ai(e),null!==o&&(o.setCachedNodes(null),o.dirty=!0)))}}function cr(e,t,n){return new ar(e,t,n)}function ur(e,t){let n=t.__key,r=e.offset,o="element";if(rr(t)){o="text";const e=t.getTextContentSize();r>e&&(r=e)}else if(!po(t)){const e=t.getNextSibling();if(rr(e))n=e.__key,r=0,o="text";else{const e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,o)}function dr(e,t){if(po(t)){const n=t.getLastDescendant();po(n)||rr(n)?ur(e,n):ur(e,t)}else ur(e,t)}class fr{_nodes;_cachedNodes;dirty;constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!pr(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new fr(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),n=t.length,r=t[n-1];let o;if(rr(r))o=r.select();else{const e=r.getIndexWithinParent()+1;o=r.getParentOrThrow().select(e,e)}o.insertNodes(e);for(let e=0;e<n;e++)t[e].remove()}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this._nodes,n=[];for(const e of t){const t=ui(e);null!==t&&n.push(t)}return jr()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((Or()||Fr())===this&&e[0]){const t=Rs(e[0],"next");el(qs(t,t))}for(const t of e)t.remove()}}function hr(e){return e instanceof gr}class gr{format;style;anchor;focus;_cachedNodes;dirty;constructor(e,t,n,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!hr(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=function(e){const t=[],[n,r]=e.getTextSlices();n&&t.push(n.caret.origin);const o=new Set,i=new Set;for(const n of e)if(Os(n)){const{origin:e}=n;0===t.length?o.add(e):(i.add(e),t.push(e))}else{const{origin:e}=n;po(e)&&i.has(e)||t.push(e)}if(r&&t.push(r.caret.origin),Ms(e.focus)&&po(e.focus.origin)&&null===e.focus.getNodeAtCaret())for(let n=zs(e.focus.origin,"previous");Os(n)&&o.has(n.origin)&&!n.origin.isEmpty()&&n.origin.is(t[t.length-1]);n=Ks(n))o.delete(n.origin),t.pop();for(;t.length>1;){const e=t[t.length-1];if(!po(e)||i.has(e)||e.isEmpty()||o.has(e))break;t.pop()}if(0===t.length&&e.isCollapsed()){const n=ll(e.anchor),r=ll(e.anchor.getFlipped()),o=e=>As(e)?e.origin:e.getNodeAtCaret(),i=o(n)||o(r)||(e.anchor.getNodeAtCaret()?n.origin:r.origin);t.push(i)}return t}(ul(nl(this),"next"));return jr()||(this._cachedNodes=t),t}setTextNodeRange(e,t,n,r){this.anchor.set(e.__key,t,"text"),this.focus.set(n.__key,r,"text")}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],r=this.anchor,o=this.focus,i=r.isBefore(o),[s,l]=_r(this);let a="",c=!0;for(let u=0;u<e.length;u++){const d=e[u];if(po(d)&&!d.isInline())c||(a+="\n"),c=!d.isEmpty();else if(c=!1,rr(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===o.type&&o.offset!==r.offset||(e=s<l?e.slice(s,l):e.slice(l,s)):e=i?e.slice(s):e.slice(l):d===n&&(e=i?e.slice(0,l):e.slice(0,s)),a+=e}else!yo(d)&&!zn(d)||d===n&&this.isCollapsed()||(a+=d.getTextContent())}return a}applyDOMRange(e){const t=Gr(),n=t.getEditorState()._selection,r=wr(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;const[o,i]=r;this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(i.key,i.offset,i.type,!0),de(this)}clone(){const e=this.anchor,t=this.focus;return new gr(cr(e.key,e.offset,e.type),cr(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=ri(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=O[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),n=[],r=t.length;for(let e=0;e<r;e++){const r=t[e];"\n"===r||"\r\n"===r?n.push(Bn()):"\t"===r?n.push(sr()):n.push(nr(r))}this.insertNodes(n)}insertText(e){const t=this.anchor,n=this.focus,o=this.format,i=this.style;let s=t,l=n;!this.isCollapsed()&&n.isBefore(t)&&(s=n,l=t),"element"===s.type&&function(e,t,n,r){const o=e.getNode(),i=o.getChildAtIndex(e.offset),s=nr();if(s.setFormat(n),s.setStyle(r),Mo(i))i.splice(0,0,[s]);else{const e=xo(o)?Ao().append(s):s;null===i?o.append(e):i.insertBefore(e)}e.is(t)&&t.set(s.__key,0,"text"),e.set(s.__key,0,"text")}(s,l,o,i),"element"===l.type&&Qs(l,ll(Gs(l,"next")));const a=s.offset;let c=l.offset;const u=this.getNodes(),d=u.length;let f=u[0];rr(f)||r(26);const h=f.getTextContent().length,g=f.getParentOrThrow();let p=u[d-1];if(1===d&&"element"===l.type&&(c=h,l.set(s.key,c,"text")),this.isCollapsed()&&a===h&&(Qo(f)||!f.canInsertTextAfter()||!g.canInsertTextAfter()&&null===f.getNextSibling())){let t=f.getNextSibling();if(rr(t)&&t.canInsertTextBefore()&&!Qo(t)||(t=nr(),t.setFormat(o),t.setStyle(i),g.canInsertTextAfter()?f.insertAfter(t):g.insertAfter(t)),t.select(0,0),f=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===a&&(Qo(f)||!f.canInsertTextBefore()||!g.canInsertTextBefore()&&null===f.getPreviousSibling())){let t=f.getPreviousSibling();if(rr(t)&&!Qo(t)||(t=nr(),t.setFormat(o),g.canInsertTextBefore()?f.insertBefore(t):g.insertBefore(t)),t.select(),f=t,""!==e)return void this.insertText(e)}else if(f.isSegmented()&&a!==h){const e=nr(f.getTextContent());e.setFormat(o),f.replace(e),f=e}else if(!this.isCollapsed()&&""!==e){const t=p.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||po(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),br(this.anchor,this.focus,null),void this.insertText(e)}if(1===d){if(Go(f)){const t=nr(e);return t.select(),void f.replace(t)}const t=f.getFormat(),n=f.getStyle();if(a!==c||t===o&&n===i){if(lr(f)){const t=nr(e);return t.setFormat(o),t.setStyle(i),t.select(),void f.replace(t)}}else{if(""!==f.getTextContent()){const t=nr(e);if(t.setFormat(o),t.setStyle(i),t.select(),0===a)f.insertBefore(t,!1);else{const[e]=f.splitText(a);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}f.setFormat(o),f.setStyle(i)}const r=c-a;f=f.spliceText(a,r,e,!0),""===f.getTextContent()?f.remove():"text"===this.anchor.type&&(f.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{const t=new Set([...f.getParentKeys(),...p.getParentKeys()]),n=po(f)?f:f.getParentOrThrow();let r=po(p)?p:p.getParentOrThrow(),o=p;if(!n.is(r)&&r.isInline())do{o=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===l.type&&(0!==c||""===p.getTextContent())||"element"===l.type&&p.getIndexWithinParent()<c)if(rr(p)&&!Go(p)&&c!==p.getTextContentSize()){if(p.isSegmented()){const e=nr(p.getTextContent());p.replace(e),p=e}xo(l.getNode())||"text"!==l.type||(p=p.spliceText(0,c,"")),t.add(p.__key)}else{const e=p.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?p.remove():e.remove()}else t.add(p.__key);const i=r.getChildren(),s=new Set(u),g=n.is(r),m=n.isInline()&&null===f.getNextSibling()?n:f;for(let e=i.length-1;e>=0;e--){const t=i[e];if(t.is(f)||po(t)&&t.isParentOf(f))break;t.isAttached()&&(!s.has(t)||t.is(o)?g||m.insertAfter(t,!1):t.remove())}if(!g){let e=r,n=null;for(;null!==e;){const r=e.getChildren(),o=r.length;(0===o||r[o-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(Go(f))if(a===h)f.select();else{const t=nr(e);t.select(),f.replace(t)}else f=f.spliceText(a,h-a,e,!0),""===f.getTextContent()?f.remove():f.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<d;e++){const n=u[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){const e=Or()===this;tl(this,sl(nl(this))),e&&Or()!==this&&yi(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void ai(null);const n=this.getNodes(),r=[];for(const e of n)rr(e)&&r.push(e);const o=t=>{n.forEach((n=>{if(po(n)){const r=n.getFormatFlags(e,t);n.setTextFormat(r)}}))},i=r.length;if(0===i)return this.toggleFormat(e),ai(null),void o(t);const s=this.anchor,l=this.focus,a=this.isBackward(),c=a?l:s,u=a?s:l;let d=0,f=r[0],h="element"===c.type?0:c.offset;if("text"===c.type&&h===f.getTextContentSize()&&(d=1,f=r[1],h=0),null==f)return;const g=f.getFormatFlags(e,t);o(g);const p=i-1;let m=r[p];const _="text"===u.type?u.offset:m.getTextContentSize();if(f.is(m)){if(h===_)return;if(Qo(f)||0===h&&_===f.getTextContentSize())f.setFormat(g);else{const e=f.splitText(h,_),t=0===h?e[0]:e[1];t.setFormat(g),"text"===c.type&&c.set(t.__key,0,"text"),"text"===u.type&&u.set(t.__key,_-h,"text")}return void(this.format=g)}0===h||Qo(f)||([,f]=f.splitText(h),h=0),f.setFormat(g);const y=m.getFormatFlags(e,g);_>0&&(_===m.getTextContentSize()||Qo(m)||([m]=m.splitText(_)),m.setFormat(y));for(let t=d+1;t<p;t++){const n=r[t],o=n.getFormatFlags(e,y);n.setFormat(o)}"text"===c.type&&c.set(f.__key,h,"text"),"text"===u.type&&u.set(m.__key,_,"text"),this.format=g|y}insertNodes(e){if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();const t=Or();return hr(t)||r(134),t.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),n=xs(t,ls),o=e[e.length-1];if(po(n)&&"__language"in n){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const t=zr(this);n.splice(t,0,e),o.selectEnd()}return}if(!e.some((e=>(po(e)||yo(e))&&!e.isInline()))){po(n)||r(211,t.constructor.name,t.getType());const i=zr(this);return n.splice(i,0,e),void o.selectEnd()}const i=function(e){const t=Ao();let n=null;for(let r=0;r<e.length;r++){const o=e[r],i=zn(o);if(i||yo(o)&&o.isInline()||po(o)&&o.isInline()||rr(o)||o.isParentRequired()){if(null===n&&(n=o.createParentElementNode(),t.append(n),i))continue;null!==n&&n.append(o)}else t.append(o),n=null}return t}(e),s=i.getLastDescendant(),l=i.getChildren(),a=po(n)&&n.isEmpty()?null:this.insertParagraph(),c=l[l.length-1];let u=l[0];var d;po(d=u)&&ls(d)&&!d.isEmpty()&&po(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(po(n)||r(211,t.constructor.name,t.getType()),n.append(...u.getChildren()),u=l[1]),u&&(null===n&&r(212,t.constructor.name,t.getType()),function(e,t){const n=t.getParentOrThrow().getLastChild();let o=t;const i=[t];for(;o!==n;)o.getNextSibling()||r(140),o=o.getNextSibling(),i.push(o);let s=e;for(const e of i)s=s.insertAfter(e)}(n,u));const f=xs(s,ls);a&&po(f)&&(a.canMergeWhenEmpty()||ls(c))&&(f.append(...a.getChildren()),a.remove()),po(n)&&n.isEmpty()&&n.remove(),s.selectEnd();const h=po(n)?n.getLastChild():null;zn(h)&&f!==n&&h.remove()}insertParagraph(){if("root"===this.anchor.key){const e=Ao();return mi().splice(this.anchor.offset,0,[e]),e.select(),e}const e=zr(this),t=xs(this.anchor.getNode(),ls);po(t)||r(213);const n=t.getChildAtIndex(e),o=n?[n,...n.getNextSiblings()]:[],i=t.insertNewAfter(this,!1);return i?(i.append(...o),i.selectStart(),i):null}insertLineBreak(e){const t=Bn();if(this.insertNodes([t]),e){const e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}extract(){const e=[...this.getNodes()],t=e.length;let n=e[0],r=e[t-1];const[o,i]=_r(this),s=this.isBackward(),[l,a]=s?[this.focus,this.anchor]:[this.anchor,this.focus],[c,u]=s?[i,o]:[o,i];if(0===t)return[];if(1===t){if(rr(n)&&!this.isCollapsed()){const e=n.splitText(c,u),t=0===c?e[0]:e[1];return t?(l.set(t.getKey(),0,"text"),a.set(t.getKey(),t.getTextContentSize(),"text"),[t]):[]}return[n]}if(rr(n)&&(c===n.getTextContentSize()?e.shift():0!==c&&([,n]=n.splitText(c),e[0]=n,l.set(n.getKey(),0,"text"))),rr(r)){const t=r.getTextContent().length;0===u?e.pop():u!==t&&([r]=r.splitText(u),e[e.length-1]=r,a.set(r.getKey(),r.getTextContentSize(),"text"))}return e}modify(e,t,n){if(Wr(this,e,t,n))return;const r="move"===e,o=Gr(),i=es(Ui(o));if(!i)return;const s=o._blockCursorElement,l=o._rootElement,a=this.focus.getNode();if(null===l||null===s||!po(a)||a.isInline()||a.canBeEmpty()||Qi(s,o,l),this.dirty){let e=Wi(o,this.anchor.key),t=Wi(o,this.focus.key);"text"===this.anchor.type&&(e=ni(e)),"text"===this.focus.type&&(t=ni(t)),e&&t&&Ir(i,e,this.anchor.offset,t,this.focus.offset)}if(function(e,t,n,r){e.modify(t,n,r)}(i,e,t?"backward":"forward",n),i.rangeCount>0){const e=i.getRangeAt(0),n=this.anchor.getNode(),o=xo(n)?n:function(e){let t=e.getParentOrThrow();for(;null!==t;){if(ji(t))return t;t=t.getParentOrThrow()}return t}(n);if(this.applyDOMRange(e),this.dirty=!0,!r){const n=this.getNodes(),r=[];let s=!1;for(let e=0;e<n.length;e++){const t=n[e];Hi(t,o)?r.push(t):s=!0}if(s&&r.length>0)if(t){const e=r[0];po(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{const e=r[r.length-1];po(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}i.anchorNode===e.startContainer&&i.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,r=n.key,o=n.offset,i=n.type;n.set(t.key,t.offset,t.type,!0),t.set(r,o,i,!0)}(this)}}"lineboundary"===n&&Wr(this,e,t,n,"decorators")}forwardDeletion(e,t,n){if(!n&&("element"===e.type&&po(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){const e=t.getParent(),n=t.getNextSibling()||(null===e?null:e.getNextSibling());if(po(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const t=this.anchor;let n=t.getNode();if(this.forwardDeletion(t,n,e))return;const r=$s(Gs(t,e?"previous":"next"));if(r.getTextSlices().every((e=>null===e||0===e.distance))){let e={type:"initial"};for(const t of r.iterNodeCarets("shadowRoot"))if(Os(t))if(t.origin.isInline());else{if(t.origin.isShadowRoot()){if("merge-block"===e.type)break;if(po(r.anchor.origin)&&r.anchor.origin.isEmpty()){const e=ll(t);tl(this,qs(e,e)),r.anchor.origin.remove()}return}"merge-next-block"!==e.type&&"merge-block"!==e.type||(e={block:e.block,caret:t,type:"merge-block"})}else{if("merge-block"===e.type)break;if(Ms(t)){if(po(t.origin)){if(t.origin.isInline()){if(!t.origin.isParentOf(r.anchor.origin))break}else e={block:t.origin,type:"merge-next-block"};continue}if(yo(t.origin)){if(t.origin.isIsolated());else if("merge-next-block"===e.type&&(t.origin.isKeyboardSelectable()||!t.origin.isInline())&&po(r.anchor.origin)&&r.anchor.origin.isEmpty()){r.anchor.origin.remove();const e=Er();e.add(t.origin.getKey()),yi(e)}else t.origin.remove();return}break}}if("merge-block"===e.type){const{caret:t,block:n}=e;return tl(this,qs(!t.origin.isEmpty()&&n.isEmpty()?rl(Rs(n,t.direction)):r.anchor,t)),this.removeText()}}const o=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&yr(this,t.getNode()))return}else{const r="text"===o.type?o.getNode():null;if(n="text"===t.type?t.getNode():null,null!==r&&r.isSegmented()){const t=o.offset,i=r.getTextContentSize();if(r.is(n)||e&&t!==i||!e&&0!==t)return void xr(r,e,t)}else if(null!==n&&n.isSegmented()){const o=t.offset,i=n.getTextContentSize();if(n.is(r)||e&&0!==o||!e&&o!==i)return void xr(n,e,o)}!function(e,t){const n=e.anchor,r=e.focus,o=n.getNode();if(o===r.getNode()&&"text"===n.type&&"text"===r.type){const e=n.offset,i=r.offset,s=e<i,l=s?e:i,a=s?i:e,c=a-1;l!==c&&function(e){return!(xi(e)||vr(e))}(o.getTextContent().slice(l,a))&&(t?r.set(r.key,c,r.type):n.set(n.key,c,n.type))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const e=this.anchor.getNode();e.isEmpty()&&xo(e.getParent())&&null===e.getPreviousSibling()&&yr(this,e)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function pr(e){return e instanceof fr}function mr(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function _r(e){const t=e.getStartEndPoints();if(null===t)return[0,0];const[n,r]=t;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[mr(n),mr(r)]}function yr(e,t){for(let n=t;n;n=n.getParent()){if(po(n)){if(n.collapseAtStart(e))return!0;if(ji(n))break}if(n.getPreviousSibling())break}return!1}const vr=(()=>{try{const e=new RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("❤️")&&t("#️⃣")&&t("👍"))return t}catch(e){}return()=>!1})();function xr(e,t,n){const r=e,o=r.getTextContent().split(/(?=\s)/g),i=o.length;let s=0,l=0;for(let e=0;e<i;e++){const r=e===i-1;if(l=s,s+=o[e].length,t&&s===n||s>n||r){o.splice(e,1),r&&(l=void 0);break}}const a=o.join("").trim();""===a?r.remove():(r.setTextContent(a),r.select(l,l))}function Sr(e,t,n,o){let i,s=t;if(ns(e)){let l=!1;const a=e.childNodes,c=a.length,u=o._blockCursorElement;s===c&&(l=!0,s=c-1);let d=a[s],f=!1;if(d===u)d=a[s+1],f=!0;else if(null!==u){const n=u.parentNode;e===n&&t>Array.prototype.indexOf.call(n.children,u)&&s--}if(i=vi(d),rr(i))s=Is(i,l?"next":"previous");else{let a=vi(e);if(null===a)return null;if(po(a)){const c=o.getElementByKey(a.getKey());null===c&&r(214);const u=a.getDOMSlot(c);[a,s]=u.resolveChildIndex(a,c,e,t),po(a)||r(215),l&&s>=a.getChildrenSize()&&(s=Math.max(0,a.getChildrenSize()-1));let d=a.getChildAtIndex(s);if(po(d)&&function(e,t,n){const r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(d,0,n)){const e=l?d.getLastDescendant():d.getFirstDescendant();null===e?a=d:(d=e,a=po(d)?d:d.getParentOrThrow()),s=0}rr(d)?(i=d,a=null,s=Is(d,l?"next":"previous")):d!==a&&l&&!f&&(po(a)||r(216),s=Math.min(a.getChildrenSize(),s+1))}else{const n=a.getIndexWithinParent();s=0===t&&yo(a)&&vi(e)===a?n:n+1,a=a.getParentOrThrow()}if(po(a))return cr(a.__key,s,"element")}}else i=vi(e);return rr(i)?cr(i.__key,Is(i,s,"clamp"),"text"):null}function Cr(e,t,n){const r=e.offset,o=e.getNode();if(0===r){const r=o.getPreviousSibling(),i=o.getParent();if(t){if((n||!t)&&null===r&&po(i)&&i.isInline()){const t=i.getPreviousSibling();rr(t)&&e.set(t.__key,t.getTextContent().length,"text")}}else po(r)&&!n&&r.isInline()?e.set(r.__key,r.getChildrenSize(),"element"):rr(r)&&e.set(r.__key,r.getTextContent().length,"text")}else if(r===o.getTextContent().length){const r=o.getNextSibling(),i=o.getParent();if(t&&po(r)&&r.isInline())e.set(r.__key,0,"element");else if((n||t)&&null===r&&po(i)&&i.isInline()&&!i.canInsertTextAfter()){const t=i.getNextSibling();rr(t)&&e.set(t.__key,0,"text")}}}function br(e,t,n){if("text"===e.type&&"text"===t.type){const r=e.isBefore(t),o=e.is(t);Cr(e,r,o),Cr(t,!r,o),o&&t.set(e.key,e.offset,e.type);const i=Gr();if(i.isComposing()&&i._compositionKey!==e.key&&hr(n)){const r=n.anchor,o=n.focus;e.set(r.key,r.offset,r.type,!0),t.set(o.key,o.offset,o.type,!0)}}}function wr(e,t,n,r,o,i){if(null===e||null===n||!jo(o,e,n))return null;const s=Sr(e,t,hr(i)?i.anchor:null,o);if(null===s)return null;const l=Sr(n,r,hr(i)?i.focus:null,o);if(null===l)return null;if("element"===s.type&&"element"===l.type){const t=vi(e),r=vi(n);if(yo(t)&&yo(r))return null}return br(s,l,i),[s,l]}function Tr(e){return po(e)&&!e.isInline()}function Nr(e,t,n,r,o,i){const s=Xr(),l=new gr(cr(e,t,o),cr(n,r,i),0,"");return l.dirty=!0,s._selection=l,l}function kr(){const e=cr("root",0,"element"),t=cr("root",0,"element");return new gr(e,t,0,"")}function Er(){return new fr(new Set)}function Ar(e,t){return Mr(null,e,t,null)}function Mr(e,t,n,r){const o=n._window;if(null===o)return null;const i=r||o.event,s=i?i.type:void 0,l="selectionchange"===s,a=!z&&(l||"beforeinput"===s||"compositionstart"===s||"compositionend"===s||"click"===s&&i&&3===i.detail||"drop"===s||void 0===s);let c,u,d,f;if(hr(e)&&!a)return e.clone();if(null===t)return null;if(c=t.anchorNode,u=t.focusNode,d=t.anchorOffset,f=t.focusOffset,(l||void 0===s)&&hr(e)&&!jo(n,c,u))return e.clone();const h=wr(c,d,u,f,n,e);if(null===h)return null;const[g,p]=h;return new gr(g,p,hr(e)?e.format:0,hr(e)?e.style:"")}function Or(){return Xr()._selection}function Fr(){return Gr()._editorState._selection}function Lr(e,t,n,r=1){const o=e.anchor,i=e.focus,s=o.getNode(),l=i.getNode();if(!t.is(s)&&!t.is(l))return;const a=t.__key;if(e.isCollapsed()){const t=o.offset;if(n<=t&&r>0||n<t&&r<0){const n=Math.max(0,t+r);o.set(a,n,"element"),i.set(a,n,"element"),Pr(e)}}else{const s=e.isBackward(),l=s?i:o,c=l.getNode(),u=s?o:i,d=u.getNode();if(t.is(c)){const e=l.offset;(n<=e&&r>0||n<e&&r<0)&&l.set(a,Math.max(0,e+r),"element")}if(t.is(d)){const e=u.offset;(n<=e&&r>0||n<e&&r<0)&&u.set(a,Math.max(0,e+r),"element")}}Pr(e)}function Pr(e){const t=e.anchor,n=t.offset,r=e.focus,o=r.offset,i=t.getNode(),s=r.getNode();if(e.isCollapsed()){if(!po(i))return;const e=i.getChildrenSize(),o=n>=e,s=o?i.getChildAtIndex(e-1):i.getChildAtIndex(n);if(rr(s)){let e=0;o&&(e=s.getTextContentSize()),t.set(s.__key,e,"text"),r.set(s.__key,e,"text")}}else{if(po(i)){const e=i.getChildrenSize(),r=n>=e,o=r?i.getChildAtIndex(e-1):i.getChildAtIndex(n);if(rr(o)){let e=0;r&&(e=o.getTextContentSize()),t.set(o.__key,e,"text")}}if(po(s)){const e=s.getChildrenSize(),t=o>=e,n=t?s.getChildAtIndex(e-1):s.getChildAtIndex(o);if(rr(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}}function Rr(e,t,n,r,o){let i=null,s=0,l=null;null!==r?(i=r.__key,rr(r)?(s=r.getTextContentSize(),l="text"):po(r)&&(s=r.getChildrenSize(),l="element")):null!==o&&(i=o.__key,rr(o)?l="text":po(o)&&(l="element")),null!==i&&null!==l?e.set(i,s,l):(s=t.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),e.set(n.__key,s,"element"))}function Dr(e,t,n,r,o){"text"===e.type?e.set(n,e.offset+(t?0:o),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function Ir(e,t,n,r,o){try{e.setBaseAndExtent(t,n,r,o)}catch(e){}}function Br(e){let t=Or()||Fr();null===t&&(t=mi().selectEnd()),t.insertNodes(e)}function zr(e){let t=e;e.isCollapsed()||t.removeText();const n=Or();hr(n)&&(t=n),hr(t)||r(161);const o=t.anchor;let i=o.getNode(),s=o.offset;for(;!ls(i);){const e=i;if([i,s]=Kr(i,s),e.is(i))break}return s}function Kr(e,t){const n=e.getParent();if(!n){const e=Ao();return mi().append(e),e.select(),[mi(),0]}if(rr(e)){const r=e.splitText(t);if(0===r.length)return[n,e.getIndexWithinParent()];const o=0===t?0:1;return[n,r[0].getIndexWithinParent()+o]}if(!po(e)||0===t)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const n=new gr(cr(e.__key,t,"element"),cr(e.__key,t,"element"),0,""),o=e.insertNewAfter(n);o&&o.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}function Wr(e,t,n,r,o="decorators-and-blocks"){if("move"===t&&"character"===r&&!e.isCollapsed()){const[t,r]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return r.set(t.key,t.offset,t.type),!0}const i=Gs(e.focus,n?"previous":"next"),s="lineboundary"===r,l="move"===t;let a=i,c="decorators-and-blocks"===o;if(!al(a)){for(const e of a){c=!1;const{origin:t}=e;if(!yo(t)||t.isIsolated()||(a=e,!s||!t.isInline()))break}if(c)for(const e of $s(i).iterNodeCarets("extend"===t?"shadowRoot":"root")){if(Os(e))e.origin.isInline()||(a=e);else{if(po(e.origin))continue;yo(e.origin)&&!e.origin.isInline()&&(a=e)}break}}if(a===i)return!1;if(l&&!s&&yo(a.origin)&&a.origin.isKeyboardSelectable()){const e=Er();return e.add(a.origin.getKey()),yi(e),!0}return a=ll(a),l&&Qs(e.anchor,a),Qs(e.focus,a),c||!s}let Jr=null,$r=null,Hr=!1,qr=!1,Ur=0;const Vr={characterData:!0,childList:!0,subtree:!0};function jr(){return Hr||null!==Jr&&Jr._readOnly}function Zr(){Hr&&r(13)}function Yr(){Ur>99&&r(14)}function Xr(){return null===Jr&&r(195,Qr()),Jr}function Gr(){return null===$r&&r(196,Qr()),$r}function Qr(){let e=0;const t=new Set,n=zo.version;if("undefined"!=typeof window)for(const r of document.querySelectorAll("[contenteditable]")){const o=Xo(r);if(Zo(o))e++;else if(o){let e=String(o.constructor.version||"<0.17.1");e===n&&(e+=" (separately built, likely a bundler configuration issue)"),t.add(e)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function eo(e,t,n){const r=t.__type,o=$o(e,r);let i=n.get(r);void 0===i&&(i=Array.from(o.transforms),n.set(r,i));const s=i.length;for(let e=0;e<s&&(i[e](t),t.isAttached());e++);}function to(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function no(e,t){if(!t)return;const n=e._updateTags;let r=t;Array.isArray(t)||(r=[t]);for(const e of r)n.add(e)}function ro(e){return oo(e,Gr()._nodes)}function oo(e,t){const n=e.type,o=t.get(n);void 0===o&&r(17,n);const i=o.klass;e.type!==i.getType()&&r(18,i.name);const s=i.importJSON(e),l=e.children;if(po(s)&&Array.isArray(l))for(let e=0;e<l.length;e++){const n=oo(l[e],t);s.append(n)}return s}function io(e,t,n){const r=Jr,o=Hr,i=$r;Jr=t,Hr=!0,$r=e;try{return n()}finally{Jr=r,Hr=o,$r=i}}function so(e,t){const n=e._pendingEditorState,r=e._rootElement,o=e._headless||null===r;if(null===n)return;const i=e._editorState,s=i._selection,l=n._selection,a=0!==e._dirtyType,c=Jr,u=Hr,d=$r,f=e._updating,h=e._observer;let g=null;if(e._pendingEditorState=null,e._editorState=n,!o&&a&&null!==h){$r=e,Jr=n,Hr=!1,e._updating=!0;try{const t=e._dirtyType,r=e._dirtyElements,o=e._dirtyLeaves;h.disconnect(),g=function(e,t,n,r,o,i){be="",Ne="",ke=2===r,ge=n,he=n._config,pe=n._nodes,me=ge._listeners.mutation,_e=o,ye=i,ve=e._nodeMap,xe=t._nodeMap,Ee=t._readOnly,Se=new Map(n._keyToDOMMap);const s=new Map;return Ce=s,Je("root",null),ge=void 0,pe=void 0,_e=void 0,ye=void 0,ve=void 0,xe=void 0,he=void 0,Se=void 0,Ce=void 0,s}(i,n,e,t,r,o)}catch(t){if(t instanceof Error&&e._onError(t),qr)throw t;return Do(e,null,r,n),j(e),e._dirtyType=2,qr=!0,so(e,i),void(qr=!1)}finally{h.observe(r,Vr),e._updating=f,Jr=c,Hr=u,$r=d}}n._readOnly||(n._readOnly=!0);const p=e._dirtyLeaves,_=e._dirtyElements,y=e._normalizedNodes,v=e._updateTags,x=e._deferred;a&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let r=e._pendingDecorators||n;const o=t._nodeMap;let i;for(i in r)o.has(i)||(r===n&&(r=gi(e)),delete r[i])}(e,n);const S=o?null:es(Ui(e));if(e._editable&&null!==S&&(a||null===l||l.dirty||!l.is(s))&&null!==r&&!v.has(Pn)){$r=e,Jr=n;try{if(null!==h&&h.disconnect(),a||null===l||l.dirty){const t=e._blockCursorElement;null!==t&&Qi(t,e,r),function(e,t,n,r,o,i){const s=r.anchorNode,l=r.focusNode,a=r.anchorOffset,c=r.focusOffset,u=document.activeElement;if(o.has(Fn)&&u!==i||null!==u&&Vo(u))return;if(!hr(t))return void(null!==e&&jo(n,s,l)&&r.removeAllRanges());const d=t.anchor,f=t.focus,h=d.key,g=f.key,p=Wi(n,h),m=Wi(n,g),_=d.offset,y=f.offset,v=t.format,x=t.style,S=t.isCollapsed();let C=p,b=m,w=!1;if("text"===d.type){C=ni(p);const e=d.getNode();w=e.getFormat()!==v||e.getStyle()!==x}else hr(e)&&"text"===e.anchor.type&&(w=!0);var T,N,k,E,A;if("text"===f.type&&(b=ni(m)),null!==C&&null!==b&&(S&&(null===e||w||hr(e)&&(e.format!==v||e.style!==x))&&(T=v,N=x,k=_,E=h,A=performance.now(),rn=[T,N,k,E,A]),a!==_||c!==y||s!==C||l!==b||"Range"===r.type&&S||(null!==u&&i.contains(u)||o.has(Rn)||i.focus({preventScroll:!0}),"element"===d.type))){if(Ir(r,C,_,b,y),!o.has(Ln)&&t.isCollapsed()&&null!==i&&i===document.activeElement){const e=hr(t)&&"element"===t.anchor.type?C.childNodes[_]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){const n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){const r=$i(n),o=qi(r);if(null===r||null===o)return;let{top:i,bottom:s}=t,l=0,a=0,c=n;for(;null!==c;){const t=c===r.body;if(t)l=0,a=Ui(e).innerHeight;else{const e=c.getBoundingClientRect();l=e.top,a=e.bottom}let n=0;if(i<l?n=-(l-i):s>a&&(n=s-a),0!==n)if(t)o.scrollBy(0,n);else{const e=c.scrollTop;c.scrollTop+=n;const t=c.scrollTop-e;i-=t,s-=t}if(t)break;c=Ji(c)}}(n,t,i)}}Yt=!0}}(s,l,e,S,v,r)}!function(e,t,n){let r=e._blockCursorElement;if(hr(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){const o=n.anchor,i=o.getNode(),s=o.offset;let l=!1,a=null;if(s===i.getChildrenSize())Gi(i.getChildAtIndex(s-1))&&(l=!0);else{const t=i.getChildAtIndex(s);if(null!==t&&Gi(t)){const n=t.getPreviousSibling();(null===n||Gi(n))&&(l=!0,a=e.getElementByKey(t.__key))}}if(l){const n=e.getElementByKey(i.__key);return null===r&&(e._blockCursorElement=r=function(e){const t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;if(void 0!==r){if("string"==typeof r){const e=m(r);r=t.blockCursor=e}void 0!==r&&n.classList.add(...r)}return n}(e._config)),t.style.caretColor="transparent",void(null===a?n.appendChild(r):n.insertBefore(r,a))}}null!==r&&Qi(r,e,t)}(e,r,l)}finally{null!==h&&h.observe(r,Vr),$r=d,Jr=c}}null!==g&&function(e,t,n,r,o){const i=Array.from(e._listeners.mutation),s=i.length;for(let e=0;e<s;e++){const[s,l]=i[e];for(const e of l){const i=t.get(e);void 0!==i&&s(i,{dirtyLeaves:r,prevEditorState:o,updateTags:n})}}}(e,g,v,p,i),hr(l)||null===l||null!==s&&s.is(l)||e.dispatchCommand(Ve,void 0);const C=e._pendingDecorators;null!==C&&(e._decorators=C,e._pendingDecorators=null,lo("decorator",e,!0,C)),function(e,t,n){const r=pi(t),o=pi(n);r!==o&&lo("textcontent",e,!0,o)}(e,t||i,n),lo("update",e,!0,{dirtyElements:_,dirtyLeaves:p,editorState:n,mutatedNodes:g,normalizedNodes:y,prevEditorState:t||i,tags:v}),function(e,t){if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,x),function(e){const t=e._updates;if(0!==t.length){const n=t.shift();if(n){const[t,r]=n;co(e,t,r)}}}(e)}function lo(e,t,n,...r){const o=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(let e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=o}}function ao(e,t){const n=e._updates;let o=t||!1;for(;0!==n.length;){const t=n.shift();if(t){const[n,i]=t,s=e._pendingEditorState;let l;void 0!==i&&(l=i.onUpdate,i.skipTransforms&&(o=!0),i.discrete&&(null===s&&r(191),s._flushSync=!0),l&&e._deferred.push(l),no(e,i.tag)),null==s?co(e,n,i):n()}}return o}function co(e,t,n){const o=e._updateTags;let i,s=!1,l=!1;void 0!==n&&(i=n.onUpdate,no(e,n.tag),s=n.skipTransforms||!1,l=n.discrete||!1),i&&e._deferred.push(i);const a=e._editorState;let c=e._pendingEditorState,u=!1;(null===c||c._readOnly)&&(c=e._pendingEditorState=So(c||a),u=!0),c._flushSync=l;const d=Jr,f=Hr,h=$r,g=e._updating;Jr=c,Hr=!1,e._updating=!0,$r=e;const p=e._headless||null===e.getRootElement();Wo(null);try{u&&(p?null!==a._selection&&(c._selection=a._selection.clone()):c._selection=function(e,t){const n=e.getEditorState()._selection,r=es(Ui(e));return hr(n)||null==n?Mr(n,r,e,t):n.clone()}(e,n&&n.event||null));const o=e._compositionKey;t(),s=ao(e,s),function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(hr(r)){const e=r.anchor,t=r.focus;let o;if("text"===e.type&&(o=e.getNode(),o.selectionTransform(n,r)),"text"===t.type){const e=t.getNode();o!==e&&e.selectionTransform(n,r)}}}(c,e),0!==e._dirtyType&&(s?function(e,t){const n=t._dirtyLeaves,r=e._nodeMap;for(const e of n){const t=r.get(e);rr(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&ue(t)}}(c,e):function(e,t){const n=t._dirtyLeaves,r=t._dirtyElements,o=e._nodeMap,i=ci(),s=new Map;let l=n,a=l.size,c=r,u=c.size;for(;a>0||u>0;){if(a>0){t._dirtyLeaves=new Set;for(const e of l){const r=o.get(e);rr(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&ue(r),void 0!==r&&to(r,i)&&eo(t,r,s),n.add(e)}if(l=t._dirtyLeaves,a=l.size,a>0){Ur++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map,c.delete("root")&&c.set("root",!0);for(const e of c){const n=e[0],l=e[1];if(r.set(n,l),!l)continue;const a=o.get(n);void 0!==a&&to(a,i)&&eo(t,a,s)}l=t._dirtyLeaves,a=l.size,c=t._dirtyElements,u=c.size,Ur++}t._dirtyLeaves=n,t._dirtyElements=r}(c,e),ao(e),function(e,t,n,r){const o=e._nodeMap,i=t._nodeMap,s=[];for(const[e]of r){const t=i.get(e);void 0!==t&&(t.isAttached()||(po(t)&&B(t,e,o,i,s,r),o.has(e)||r.delete(e),s.push(e)))}for(const e of s)i.delete(e);for(const e of n){const t=i.get(e);void 0===t||t.isAttached()||(o.has(e)||n.delete(e),i.delete(e))}}(a,c,e._dirtyLeaves,e._dirtyElements)),o!==e._compositionKey&&(c._flushSync=!0);const i=c._selection;if(hr(i)){const e=c._nodeMap,t=i.anchor.key,n=i.focus.key;void 0!==e.get(t)&&void 0!==e.get(n)||r(19)}else pr(i)&&0===i._nodes.size&&(c._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=a,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void so(e)}finally{Jr=d,Hr=f,$r=h,e._updating=g,Ur=0}const m=0!==e._dirtyType||e._deferred.length>0||function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(c,e);m?c._flushSync?(c._flushSync=!1,so(e)):u&&qo((()=>{so(e)})):(c._flushSync=!1,u&&(o.clear(),e._deferred=[],e._pendingEditorState=null))}function uo(e,t,n){$r===e&&void 0===n?t():co(e,t,n)}class fo{element;before;after;constructor(e,t,n){this.element=e,this.before=t||null,this.after=n||null}withBefore(e){return new fo(this.element,e,this.after)}withAfter(e){return new fo(this.element,this.before,e)}withElement(e){return this.element===e?this:new fo(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return null!==t&&t.parentElement!==this.element&&r(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&r(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&r(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(null===e)this.removeManagedLineBreak();else{const t="decorator"===e&&(p||d||u);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,n="IMG"===e.nodeName?e.nextSibling:null;n&&t.removeChild(n),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===("IMG"===t.nodeName))return;this.removeManagedLineBreak()}const n=this.element,r=this.before,o=document.createElement("br");if(n.insertBefore(o,r),e){const e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",n.insertBefore(e,o),n.__lexicalLineBreak=e}else n.__lexicalLineBreak=o}getFirstChildOffset(){let e=0;for(let t=this.after;null!==t;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,n,r){if(n===this.element){const t=this.getFirstChildOffset();return[e,Math.min(t+e.getChildrenSize(),Math.max(t,r))]}const o=ho(t,n);o.push(r);const i=ho(t,this.element);let s=e.getIndexWithinParent();for(let e=0;e<i.length;e++){const t=o[e],n=i[e];if(void 0===t||t<n)break;if(t>n){s+=1;break}}return[e.getParentOrThrow(),s]}}function ho(e,t){const n=[];let o=t;for(;o!==e&&null!==o;o=o.parentNode){let e=0;for(let t=o.previousSibling;null!==t;t=t.previousSibling)e++;n.push(e)}return o!==e&&r(225),n.reverse()}class go extends kn{__first;__last;__size;__format;__style;__indent;__dir;__textFormat;__textStyle;constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return P[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=Gr()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;null!==t;){if(rr(t)&&e.push(t),po(t)){const n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;po(e);){const t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;po(e);){const t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(e>=n){const e=t[n-1];return po(e)&&e.getLastDescendant()||e||null}const r=t[e];return po(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const e=this.getLatest().__first;return null===e?null:ui(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return null===e&&r(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return null===e?null:ui(e)}getLastChildOrThrow(){const e=this.getLastChild();return null===e&&r(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let n,r;if(e<t/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=e;){if(r===e)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=t-1;null!==n&&r>=e;){if(r===e)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let e="";const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const o=t[r];e+=o.getTextContent(),po(o)&&r!==n-1&&!o.isInline()&&(e+=k)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const o=t[r];e+=o.getTextContentSize(),po(o)&&r!==n-1&&!o.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){const t=L[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=O[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return ri(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){Zr();const n=Or();let r=e,o=t;const i=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){const e=this.getFirstChild();if(rr(e)||po(e))return e.select(0,0)}else if(!(void 0!==e&&e!==i||void 0!==t&&t!==i)){const e=this.getLastChild();if(rr(e)||po(e))return e.select()}void 0===r&&(r=i),void 0===o&&(o=i);const s=this.__key;return hr(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,o,"element"),n.dirty=!0,n):Nr(s,r,s,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?L[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){Nn(this)&&r(324,this.__key,this.__type);const o=this.getChildrenSize(),i=this.getWritable();e+t<=o||r(226,String(e),String(t),String(o));const s=i.__key,l=[],a=[],c=this.getChildAtIndex(e+t);let u=null,d=o-t+n.length;if(0!==e)if(e===o)u=this.getLastChild();else{const t=this.getChildAtIndex(e);null!==t&&(u=t.getPreviousSibling())}if(t>0){let e=null===u?this.getFirstChild():u.getNextSibling();for(let n=0;n<t;n++){null===e&&r(100);const t=e.getNextSibling(),n=e.__key;si(e.getWritable()),a.push(n),e=t}}let f=u;for(const e of n){null!==f&&e.is(f)&&(u=f=f.getPreviousSibling());const t=e.getWritable();t.__parent===s&&d--,si(t);const n=e.__key;if(null===f)i.__first=n,t.__prev=null;else{const e=f.getWritable();e.__next=n,t.__prev=e.__key}e.__key===s&&r(76),t.__parent=s,l.push(n),f=e}if(e+t===o)null!==f&&(f.getWritable().__next=null,i.__last=f.__key);else if(null!==c){const e=c.getWritable();if(null!==f){const t=f.getWritable();e.__prev=f.__key,t.__next=c.__key}else e.__prev=null}if(i.__size=d,a.length){const e=Or();if(hr(e)){const t=new Set(a),n=new Set(l),{anchor:r,focus:o}=e;mo(r,t,n)&&Rr(r,r.getNode(),this,u,c),mo(o,t,n)&&Rr(o,o.getNode(),this,u,c),0!==d||this.canBeEmpty()||ji(this)||this.remove()}}return i}getDOMSlot(e){return new fo(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(ns(t)){const e=this.getIndent();e>0&&(t.style.paddingInlineStart=40*e+"px");const n=this.getDirection();n&&(t.dir=n)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),n=this.getTextStyle();return 0===t&&""===n||ji(this)||this.getChildren().some(rr)||(0!==t&&(e.textFormat=t),""!==n&&(e.textStyle=n)),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const n=this.getDOMSlot(e);let r=n.getFirstChild();for(let e=this.getFirstChild();e;e=e.getNextSibling()){const o=t.getElementByKey(e.getKey());null!==o&&(null==r?(n.insertChild(o),r=o):r!==o&&n.replaceChild(o,r),r=r.nextSibling)}}}function po(e){return e instanceof go}function mo(e,t,n){let r=e.getNode();for(;r;){const e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}class _o extends kn{decorate(e,t){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function yo(e){return e instanceof _o}class vo extends go{__cachedText;static getType(){return"root"}static clone(){return new vo}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){r(51)}getTextContent(){const e=this.__cachedText;return!jr()&&0!==Gr()._dirtyType||null===e?super.getTextContent():e}remove(){r(52)}replace(e){r(53)}insertBefore(e){r(54)}insertAfter(e){r(55)}updateDOM(e,t){return!1}splice(e,t,n){for(const e of n)po(e)||yo(e)||r(282);return super.splice(e,t,n)}static importJSON(e){return mi().updateFromJSON(e)}collapseAtStart(){return!0}}function xo(e){return e instanceof vo}function So(e){return new To(new Map(e._nodeMap))}function Co(){return new To(new Map([["root",new vo]]))}function bo(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&r(130,n.name),po(e)){const o=t.children;Array.isArray(o)||r(59,n.name);const i=e.getChildren();for(let e=0;e<i.length;e++){const t=bo(i[e]);o.push(t)}}return t}function wo(e){return e instanceof To}class To{_nodeMap;_selection;_flushSync;_readOnly;constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,t){return io(t&&t.editor||null,this,e)}clone(e){const t=new To(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return io(null,this,(()=>({root:bo(mi())})))}}class No extends go{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class ko extends go{static getType(){return"paragraph"}static clone(e){return new ko(e.__key)}createDOM(e){const t=document.createElement("p"),n=Pi(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:e=>({conversion:Eo,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ns(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e)}return{element:t}}static importJSON(e){return Ao().updateFromJSON(e)}exportJSON(){const e=super.exportJSON();if(void 0===e.textFormat||void 0===e.textStyle){const t=this.getChildren().find(rr);t?(e.textFormat=t.getFormat(),e.textStyle=t.getStyle()):(e.textFormat=this.getTextFormat(),e.textStyle=this.getTextStyle())}return e}insertNewAfter(e,t){const n=Ao();n.setTextFormat(e.format),n.setTextStyle(e.style);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||rr(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function Eo(e){const t=Ao();return e.style&&(t.setFormat(e.style.textAlign),gs(e,t)),{node:t}}function Ao(){return Yi(new ko)}function Mo(e){return e instanceof ko}const Oo=0,Fo=1,Lo=2,Po=3,Ro=4;function Do(e,t,n,r){const o=e._keyToDOMMap;o.clear(),e._editorState=Co(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const i=e._observer;null!==i&&(i.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",o.set("root",n))}function Io(e){const t=new Set,n=new Set;let r=e;for(;r;){const{ownNodeConfig:e}=ys(r),o=r.transform;if(!n.has(o)){n.add(o);const e=r.transform();e&&t.add(e)}if(e){const n=e.$transform;n&&t.add(n),r=e.extends}else{const e=Object.getPrototypeOf(r);r=e.prototype instanceof kn&&e!==kn?e:void 0}}return t}function Bo(e){const t=e||{},n=$r,r=t.theme||{},o=void 0===e?n:t.parentEditor||null,i=t.disableEvents||!1,s=Co(),l=t.namespace||(null!==o?o._config.namespace:Ci()),a=t.editorState,c=[vo,Vn,Dn,ir,ko,No,...t.nodes||[]],{onError:u,html:d}=t,f=void 0===t.editable||t.editable;let h;if(void 0===e&&null!==n)h=n._nodes;else{h=new Map;for(let e=0;e<c.length;e++){let t=c[e],n=null,r=null;if("function"!=typeof t){const e=t;t=e.replace,n=e.with,r=e.withKlass||null}ys(t);const o=t.getType(),i=Io(t);h.set(o,{exportDOM:d&&d.export?d.export.get(t):void 0,klass:t,replace:n,replaceWithKlass:r,sharedNodeState:Q(c[e]),transforms:i})}}const g=new zo(s,o,h,{disableEvents:i,namespace:l,theme:r},u||console.error,function(e,t){const n=new Map,r=new Set,o=e=>{Object.keys(e).forEach((t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])}))};return e.forEach((e=>{const t=e.klass.importDOM;if(null==t||r.has(t))return;r.add(t);const n=t.call(e.klass);null!==n&&o(n)})),t&&o(t),n}(h,d?d.import:void 0),f,e);return void 0!==a&&(g._pendingEditorState=a,g._dirtyType=2),function(e){e.registerCommand(Ye,dn,Oo),e.registerCommand(Xe,fn,Oo),e.registerCommand(Ge,hn,Oo),e.registerCommand(Qe,gn,Oo),e.registerCommand(dt,mn,Oo)}(g),g}class zo{static version;_headless;_parentEditor;_rootElement;_editorState;_pendingEditorState;_compositionKey;_deferred;_keyToDOMMap;_updates;_updating;_listeners;_commands;_nodes;_decorators;_pendingDecorators;_config;_dirtyType;_cloneNotNeeded;_dirtyLeaves;_dirtyElements;_normalizedNodes;_updateTags;_observer;_key;_onError;_htmlConversions;_window;_editable;_blockCursorElement;_createEditorArgs;constructor(e,t,n,r,o,i,s,l){this._createEditorArgs=l,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Ci(),this._onError=o,this._htmlConversions=i,this._editable=s,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&r(35);const o=this._commands;o.has(e)||o.set(e,[new Set,new Set,new Set,new Set,new Set]);const i=o.get(e);void 0===i&&r(36,String(e));const s=i[n];return s.add(t),()=>{s.delete(t),i.every((e=>0===e.size))&&o.delete(e)}}registerMutationListener(e,t,n){const r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;let i=o.get(t);void 0===i&&(i=new Set,o.set(t,i)),i.add(r);const s=n&&n.skipInitialization;return void 0!==s&&s||this.initializeMutationListener(t,r),()=>{i.delete(r),0===i.size&&o.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return void 0===t&&r(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const n=this._editorState,r=ds(n).get(t.getType());if(!r)return;const o=new Map;for(const e of r.keys())o.set(e,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const n=this.getRegisteredNode(e);return n.transforms.add(t),n}registerNodeTransform(e,t){const n=this.registerNodeTransformToKlass(e,t),r=[n],o=n.replaceWithKlass;if(null!=o){const e=this.registerNodeTransformToKlass(o,t);r.push(e)}return function(e,t){const n=ds(e.getEditorState()),r=[];for(const e of t){const t=n.get(e);t&&r.push(t)}0!==r.length&&e.update((()=>{for(const e of r)for(const t of e.keys()){const e=ui(t);e&&e.markDirty()}}),null===e._pendingEditorState?{tag:Mn}:void 0)}(this,r.map((e=>e.klass.getType()))),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return zi(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=Pi(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,Do(this,t,e,r),null!==t&&(this._config.disableEvents||Cn(t),null!=n&&t.classList.remove(...n)),null!==e){const t=qi(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=2,j(this),this._updateTags.add(Mn),so(this),this._config.disableEvents||function(e,t){const n=e.ownerDocument;jt.set(e,n);const r=Zt.get(n)??0;r<1&&n.addEventListener("selectionchange",vn),Zt.set(n,r+1),e.__lexicalEditor=t;const o=_n(e);for(let n=0;n<$t.length;n++){const[r,i]=$t[n],s="function"==typeof i?e=>{Sn(e)||(xn(e),(t.isEditable()||"click"===r)&&i(e,t))}:e=>{if(Sn(e))return;xn(e);const n=t.isEditable();switch(r){case"cut":return n&&zi(t,Lt,e);case"copy":return zi(t,Ft,e);case"paste":return n&&zi(t,ot,e);case"dragstart":return n&&zi(t,At,e);case"dragover":return n&&zi(t,Mt,e);case"dragend":return n&&zi(t,Ot,e);case"focus":return n&&zi(t,zt,e);case"blur":return n&&zi(t,Kt,e);case"drop":return n&&zi(t,kt,e)}};e.addEventListener(r,s),o.push((()=>{e.removeEventListener(r,s)}))}}(e,this),null!=n&&e.classList.add(...n)}else this._window=null,this._updateTags.add(Mn),so(this);lo("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&r(38);let n=e;n._readOnly&&(n=So(e),n._selection=e._selection?e._selection.clone():null),V(this);const o=this._pendingEditorState,i=this._updateTags,s=void 0!==t?t.tag:null;null===o||o.isEmpty()||(null!=s&&i.add(s),so(this)),this._pendingEditorState=n,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=s&&i.add(s),this._updating||so(this)}parseEditorState(e,t){return function(e,t,n){const r=Co(),o=Jr,i=Hr,s=$r,l=t._dirtyElements,a=t._dirtyLeaves,c=t._cloneNotNeeded,u=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,Jr=r,Hr=!1,$r=t,Wo(null);try{const o=t._nodes;oo(e.root,o),n&&n(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=l,t._dirtyLeaves=a,t._cloneNotNeeded=c,t._dirtyType=u,Jr=o,Hr=i,$r=s}return r}("string"==typeof e?JSON.parse(e):e,this,t)}read(e){return so(this),this.getEditorState().read(e,{editor:this})}update(e,t){!function(e,t,n){e._updating?e._updates.push([t,n]):co(e,t,n)}(this,e,t)}focus(e,t={}){const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),uo(this,(()=>{const r=Or(),o=mi();null!==r?r.dirty||yi(r.clone()):0!==o.getChildrenSize()&&("rootStart"===t.defaultSelection?o.selectStart():o.selectEnd()),Zr(),Gr()._updateTags.add("focus"),function(e){Zr(),Gr()._deferred.push(e)}((()=>{n.removeAttribute("autocapitalize"),e&&e()}))})),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=es(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,lo("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}zo.version="0.39.0+prod.esm";let Ko=null;function Wo(e){Ko=e}let Jo=1;function $o(e,t){const n=Ho(e,t);return void 0===n&&r(30,t),n}function Ho(e,t){return e._nodes.get(t)}const qo="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function Uo(e){return yo(hi(e))}function Vo(e){const t=document.activeElement;if(!ns(t))return!1;const n=t.nodeName;return yo(hi(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==Xo(t))}function jo(e,t,n){const r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!Vo(t)&&Yo(t)===e}catch(e){return!1}}function Zo(e){return e instanceof zo}function Yo(e){let t=e;for(;null!=t;){const e=Xo(t);if(Zo(e))return e;t=Ji(t)}return null}function Xo(e){return e?e.__lexicalEditor:null}function Go(e){return lr(e)||e.isToken()}function Qo(e){return Go(e)||e.isSegmented()}function ei(e){return rs(e)&&3===e.nodeType}function ti(e){return rs(e)&&9===e.nodeType}function ni(e){let t=e;for(;null!=t;){if(ei(t))return t;t=t.firstChild}return null}function ri(e,t,n){const r=O[t];if(null!==n&&(e&r)==(n&r))return e;let o=e^r;return"subscript"===t?o&=~O.superscript:"superscript"===t?o&=~O.subscript:"lowercase"===t?(o&=~O.uppercase,o&=~O.capitalize):"uppercase"===t?(o&=~O.lowercase,o&=~O.capitalize):"capitalize"===t&&(o&=~O.lowercase,o&=~O.uppercase),o}function oi(e){return rr(e)||zn(e)||yo(e)}function ii(e,t){const n=function(){const e=Ko;return Ko=null,e}();if(null!=(t=t||n&&n.__key))return void(e.__key=t);Zr(),Yr();const r=Gr(),o=Xr(),i=""+Jo++;o._nodeMap.set(i,e),po(e)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=1,e.__key=i}function si(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),r=t.getWritable(),o=e.getPreviousSibling(),i=e.getNextSibling(),s=null!==i?i.__key:null,l=null!==o?o.__key:null,a=null!==o?o.getWritable():null,c=null!==i?i.getWritable():null;null===o&&(r.__first=s),null===i&&(r.__last=l),null!==a&&(a.__next=s),null!==c&&(c.__prev=l),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function li(e){Yr(),Nn(e)&&r(323,e.__key,e.__type);const t=e.getLatest(),n=t.__parent,o=Xr(),i=Gr(),s=o._nodeMap,l=i._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;const e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,s,l);const a=t.__key;i._dirtyType=1,po(e)?l.set(a,!0):i._dirtyLeaves.add(a)}function ai(e){Zr();const t=Gr(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=ui(n);null!==e&&e.getWritable()}if(null!==e){const t=ui(e);null!==t&&t.getWritable()}}}function ci(){return jr()?null:Gr()._compositionKey}function ui(e,t){const n=(t||Xr())._nodeMap.get(e);return void 0===n?null:n}function di(e,t){const n=fi(e,Gr());return void 0!==n?ui(n,t):null}function fi(e,t){return e[`__lexicalKey_${t._key}`]}function hi(e,t){let n=e;for(;null!=n;){const e=di(n,t);if(null!==e)return e;n=Ji(n)}return null}function gi(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function pi(e){return e.read((()=>mi().getTextContent()))}function mi(){return _i(Xr())}function _i(e){return e._nodeMap.get("root")}function yi(e){Zr();const t=Xr();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function vi(e){const t=Gr(),n=function(e,t){let n=e;for(;null!=n;){const e=fi(n,t);if(void 0!==e)return e;n=Ji(n)}return null}(e,t);return null===n?e===t.getRootElement()?ui("root"):null:ui(n)}function xi(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function Si(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function Ci(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function bi(e){return ei(e)?e.nodeValue:null}function wi(e,t,n){const r=es(Ui(t));if(null===r)return;const o=r.anchorNode;let{anchorOffset:i,focusOffset:s}=r;if(null!==o){let t=bi(o);const r=hi(o);if(null!==t&&rr(r)){if(t===N&&n){const e=n.length;t=n,i=e,s=e}null!==t&&Ti(r,t,i,s,e)}}}function Ti(e,t,n,r,o){let i=e;if(i.isAttached()&&(o||!i.isDirty())){const s=i.isComposing();let l=t;(s||o)&&t[t.length-1]===N&&(l=t.slice(0,-1));const a=i.getTextContent();if(o||l!==a){if(""===l){if(ai(null),u||d||p)i.remove();else{const e=Gr();setTimeout((()=>{e.update((()=>{i.isAttached()&&i.remove()}))}),20)}return}const t=i.getParent(),o=Fr(),a=i.getTextContentSize(),c=ci(),f=i.getKey();if(i.isToken()||null!==c&&f===c&&!s||hr(o)&&(null!==t&&!t.canInsertTextBefore()&&0===o.anchor.offset||o.anchor.key===e.__key&&0===o.anchor.offset&&!i.canInsertTextBefore()&&!s||o.focus.key===e.__key&&o.focus.offset===a&&!i.canInsertTextAfter()&&!s))return void i.markDirty();const h=Or();if(!hr(h)||null===n||null===r)return void Ni(i,l,h);if(h.setTextNodeRange(i,n,i,r),i.isSegmented()){const e=nr(i.getTextContent());i.replace(e),i=e}Ni(i,l,h)}}}function Ni(e,t,n){if(e.setTextContent(t),hr(n)){const t=e.getKey();for(const r of["anchor","focus"]){const o=n[r];"text"===o.type&&o.key===t&&(o.offset=Is(e,o.offset,"clamp"))}}}function ki(e,t,n){const r=t[n]||!1;return"any"===r||r===e[n]}function Ei(e,t,n){return function(e,t){return ki(e,t,"altKey")&&ki(e,t,"ctrlKey")&&ki(e,t,"shiftKey")&&ki(e,t,"metaKey")}(e,n)&&e.key.toLowerCase()===t.toLowerCase()}const Ai={ctrlKey:!l,metaKey:l},Mi={altKey:l,ctrlKey:!l};function Oi(e){return"Backspace"===e.key}function Fi(e){return Ei(e,"a",Ai)}function Li(e){const t=mi();if(hr(e)){const t=e.anchor,n=e.focus,r=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(r.getKey(),0,"element"),n.set(r.getKey(),r.getChildrenSize(),"element"),de(e),e}{const e=t.select(0,t.getChildrenSize());return yi(de(e)),e}}function Pi(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;const o=e[t];if("string"==typeof o){const e=m(o);return n[t]=e,e}return o}function Ri(e,t,n,o,i){if(0===n.size)return;const s=o.__type,l=o.__key,a=t.get(s);void 0===a&&r(33,s);const c=a.klass;let u=e.get(c);void 0===u&&(u=new Map,e.set(c,u));const d=u.get(l),f="destroyed"===d&&"created"===i;(void 0===d||f)&&u.set(l,f?"updated":i)}function Di(e,t,n){const r=e.getParent();let o=n,i=e;return null!==r&&(t&&0===n?(o=i.getIndexWithinParent(),i=r):t||n!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(t?o-1:o)}function Ii(e,t){const n=e.offset;if("element"===e.type)return Di(e.getNode(),t,n);{const r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){const e=t?r.getPreviousSibling():r.getNextSibling();return null===e?Di(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function Bi(e){const t=Ui(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function zi(e,t,n){return function(e,t,n){const r=Si(e);for(let o=4;o>=0;o--)for(let i=0;i<r.length;i++){const s=r[i],l=s._commands.get(t);if(void 0!==l){const t=l[o];if(void 0!==t){const r=Array.from(t),o=r.length;let i=!1;if(uo(s,(()=>{for(let t=0;t<o;t++)if(r[t](n,e))return void(i=!0)})),i)return i}}}return!1}(e,t,n)}function Ki(e){return!xo(e)&&!e.isLastChild()&&!e.isInline()}function Wi(e,t){const n=e._keyToDOMMap.get(t);return void 0===n&&r(75,t),n}function Ji(e){const t=e.assignedSlot||e.parentElement;return os(t)?t.host:t}function $i(e){return ti(e)?e:ns(e)?e.ownerDocument:null}function Hi(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function qi(e){const t=$i(e);return t?t.defaultView:null}function Ui(e){const t=e._window;return null===t&&r(78),t}function Vi(e){return po(e)&&e.isInline()||yo(e)&&e.isInline()}function ji(e){return xo(e)||po(e)&&e.isShadowRoot()}function Zi(e){const t=e.constructor.clone(e);return ii(t,null),t.afterCloneFrom(e),t}function Yi(e){const t=Gr(),n=e.getType(),o=Ho(t,n);void 0===o&&r(200,e.constructor.name,n);const{replace:i,replaceWithKlass:s}=o;if(null!==i){const t=i(e),o=t.constructor;return null!==s?t instanceof s||r(201,s.name,s.getType(),o.name,o.getType(),e.constructor.name,n):t instanceof e.constructor&&o!==e.constructor||r(202,o.name,o.getType(),e.constructor.name,n),t.__key===e.__key&&r(203,e.constructor.name,n,o.name,o.getType()),t}return e}function Xi(e,t){!xo(e.getParent())||po(t)||yo(t)||r(99)}function Gi(e){return(yo(e)||po(e)&&!e.canBeEmpty())&&!e.isInline()}function Qi(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;null!==r&&r.removeChild(e)}function es(e){return i?(e||window).getSelection():null}function ts(e){return ns(e)&&"A"===e.tagName}function ns(e){return rs(e)&&1===e.nodeType}function rs(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function os(e){return rs(e)&&11===e.nodeType}function is(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function ss(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function ls(e){if(yo(e)&&!e.isInline())return!0;if(!po(e)||ji(e))return!1;const t=e.getFirstChild(),n=null===t||zn(t)||rr(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function as(){return Gr()}const cs=new WeakMap,us=new Map;function ds(e){if(!e._readOnly&&e.isEmpty())return us;e._readOnly||r(192);let t=cs.get(e);return t||(t=function(e){const t=new Map;for(const[n,r]of e._nodeMap){const e=r.__type;let o=t.get(e);o||(o=new Map,t.set(e,o)),o.set(n,r)}return t}(e),cs.set(e,t)),t}function fs(e){const t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function hs(e){return(t=fs(e))[Tn]=!0,t;var t}function gs(e,t){const n=parseInt(e.style.paddingInlineStart,10)||0,r=Math.round(n/40);t.setIndent(r)}function ps(e){e.__lexicalUnmanaged=!0}function ms(e){return!0===e.__lexicalUnmanaged}function _s(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)&&e[t]!==kn[t]}function ys(e){const t=I in e.prototype?e.prototype[I]():void 0,n=function(e){if(!(e===kn||e.prototype instanceof kn)){let t="<unknown>",n="<unknown>";try{t=e.getType()}catch(e){}try{zo.version&&(n=JSON.parse(zo.version))}catch(e){}r(290,e.name,t,n)}return e===_o||e===go||e===kn}(e),o=!n&&_s(e,"getType")?e.getType():void 0;let i,s=o;if(t)if(o)i=t[o];else for(const[e,n]of Object.entries(t))s=e,i=n;if(!n&&s&&(_s(e,"getType")||(e.getType=()=>s),_s(e,"clone")||(e.clone=t=>(Wo(t),new e)),_s(e,"importJSON")||(e.importJSON=i&&i.$importJSON||(t=>(new e).updateFromJSON(t))),!_s(e,"importDOM")&&i)){const{importDOM:t}=i;t&&(e.importDOM=()=>t)}return{ownNodeConfig:i,ownNodeType:s}}function vs(e){const t=as();return Zr(),new(t.resolveRegisteredNodeAfterReplacements(t.getRegisteredNode(e)).klass)}const xs=(e,t)=>{let n=e;for(;null!=n&&!xo(n);){if(t(n))return n;n=n.getParent()}return null},Ss={next:"previous",previous:"next"};class Cs{origin;constructor(e){this.origin=e}[Symbol.iterator](){return Us({hasNext:Ms,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return Rs(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Rs(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const n=this.getNodeAtCaret();return e.is(this.origin)||e.is(n)||(null===n?this.insert(e):n.replace(e,t)),this}splice(e,t,n="next"){const o=n===this.direction?t:Array.from(t).reverse();let i=this;const s=this.getParentAtCaret(),l=new Map;for(let t=i.getAdjacentCaret();null!==t&&l.size<e;t=t.getAdjacentCaret()){const e=t.origin.getWritable();l.set(e.getKey(),e)}for(const e of o){if(l.size>0){const t=i.getNodeAtCaret();if(t)if(l.delete(t.getKey()),l.delete(e.getKey()),t.is(e)||i.origin.is(e));else{const n=e.getParent();n&&n.is(s)&&e.remove(),t.replace(e)}else null===t&&r(263,Array.from(l).join(" "))}else i.insert(e);i=Rs(e,this.direction)}for(const e of l.values())e.remove();return this}}class bs extends Cs{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:zs(e,this.direction)}getParentCaret(e="root"){return Rs(Ns(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Ts(this.direction);return Rs(this.getNodeAtCaret(),e)||zs(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof bs&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const ws={root:xo,shadowRoot:ji};function Ts(e){return Ss[e]}function Ns(e,t="root"){return ws[t](e)?null:e}class ks extends Cs{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Rs(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return po(this.origin)?zs(this.origin,this.direction):null}getParentCaret(e="root"){return Rs(Ns(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Ts(this.direction);return Rs(this.getNodeAtCaret(),e)||zs(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof ks&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof ks||e instanceof Es)&&this.direction===e.direction&&this.origin.is(e.origin)}}class Es extends Cs{type="text";offset;constructor(e,t){super(e),this.offset=t}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Ds(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return Rs(Ns(this.getParentAtCaret(),e),this.direction)}getFlipped(){return Ds(this.origin,Ts(this.direction),this.offset)}isSamePointCaret(e){return e instanceof Es&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof ks||e instanceof Es)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return Rs(this.origin,this.direction)}}function As(e){return e instanceof Es}function Ms(e){return e instanceof ks}function Os(e){return e instanceof bs}const Fs={next:class extends Es{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Es{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Ls={next:class extends ks{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends ks{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Ps={next:class extends bs{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends bs{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function Rs(e,t){return e?new Ls[t](e):null}function Ds(e,t,n){return e?new Fs[t](e,Is(e,n)):null}function Is(e,t,n="error"){const r=e.getTextContentSize();let i="next"===t?r:"previous"===t?0:t;return(i<0||i>r)&&("clamp"!==n&&o(284,String(t),String(r),e.getKey()),i=i<0?0:r),i}function Bs(e,t){return new Js(e,t)}function zs(e,t){return po(e)?new Ps[t](e):null}function Ks(e){return e&&function(e){return e&&e.getChildCaret()||e}(e.getAdjacentCaret())}class Ws{type="node-caret-range";direction;anchor;focus;constructor(e,t,n){this.anchor=e,this.focus=t,this.direction=n}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new Ws(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=e=>{const t=this[e].getLatest();return As(t)?function(e,t){const{direction:n,origin:r}=e;return Bs(e,Is(r,"focus"===t?Ts(n):n)-e.offset)}(t,e):null},t=e("anchor"),n=e("focus");if(t&&n){const{caret:e}=t,{caret:r}=n;if(e.isSameNodeCaret(r))return[Bs(e,r.offset-e.offset),null]}return[t,n]}iterNodeCarets(e="root"){const t=As(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=As(n),o=t=>t.isSameNodeCaret(n)?null:Ks(t)||t.getParentCaret(e);return Us({hasNext:e=>null!==e&&!(r&&n.isSameNodeCaret(e)),initial:t.isSameNodeCaret(n)?null:o(t),map:e=>e,step:o})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class Js{type="slice";caret;distance;constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,n=t+e;return n<t?[n,t]:[t,n]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[n,r]=this.getSliceIndices(),o=e.getTextContent();return Ds(e.setTextContent(o.slice(0,n)+o.slice(r)),t,n)}}function $s(e){return qs(e,Rs(mi(),e.direction))}function Hs(e){return qs(e,e)}function qs(e,t){return e.direction!==t.direction&&r(265),new Ws(e,t,e.direction)}function Us(e){const{initial:t,hasNext:n,step:r,map:o}=e;let i=t;return{[Symbol.iterator](){return this},next(){if(!n(i))return{done:!0,value:void 0};const e={done:!1,value:o(i)};return i=r(i),e}}}function Vs(e,t){const n=Xs(e.origin,t.origin);switch(null===n&&r(275,e.origin.getKey(),t.origin.getKey()),n.type){case"same":{const n="text"===e.type,r="text"===t.type;return n&&r?function(e,t){return Math.sign(e-t)}(e.offset,t.offset):e.type===t.type?0:n?-1:r?1:"child"===e.type?-1:1}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===t.type?1:-1;case"branch":return js(n)}}function js(e){const{a:t,b:n}=e,r=t.__key,o=n.__key;let i=t,s=n;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===o)return-1;if(s.__key===r)return 1}return null===i?1:-1}function Zs(e,t){return t.is(e)}function Ys(e){return po(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function Xs(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};const n=new Map;for(let[t,r]=Ys(e);t;r=t,t=t.getParent())n.set(t,r);for(let[o,i]=Ys(t);o;i=o,o=o.getParent()){const s=n.get(o);if(void 0!==s)return null===s?(Zs(e,o)||r(276),{commonAncestor:o,type:"ancestor"}):null===i?(Zs(t,o)||r(277),{commonAncestor:o,type:"descendant"}):((po(s)||Zs(e,s))&&(po(i)||Zs(t,i))&&o.is(s.getParent())&&o.is(i.getParent())||r(278),{a:s,b:i,commonAncestor:o,type:"branch"})}return null}function Gs(e,t){const{type:n,key:o,offset:i}=e,s=function(e){const t=ui(e);return null===t&&r(63,e),t}(e.key);return"text"===n?(rr(s)||r(266,s.getType(),o),Ds(s,t,i)):(po(s)||r(267,s.getType(),o),function(e,t,n){let r=zs(e,"next");for(let e=0;e<t;e++){const e=r.getAdjacentCaret();if(null===e)break;r=e}return cl(r,n)}(s,e.offset,t))}function Qs(e,t){const{origin:n,direction:o}=t,i="next"===o;As(t)?e.set(n.getKey(),t.offset,"text"):Ms(t)?rr(n)?e.set(n.getKey(),Is(n,o),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(i?1:0),"element"):(Os(t)&&po(n)||r(268),e.set(n.getKey(),i?0:n.getChildrenSize(),"element"))}function el(e){const t=Or(),n=hr(t)?t:kr();return tl(n,e),yi(n),n}function tl(e,t){Qs(e.anchor,t.anchor),Qs(e.focus,t.focus)}function nl(e){const{anchor:t,focus:n}=e,r=Gs(t,"next"),o=Gs(n,"next"),i=Vs(r,o)<=0?"next":"previous";return qs(cl(r,i),cl(o,i))}function rl(e){const{direction:t,origin:n}=e,r=Rs(n,Ts(t)).getNodeAtCaret();return r?Rs(r,t):zs(n.getParentOrThrow(),t)}function ol(e,t="root"){const n=[e];for(let r=Os(e)?e.getParentCaret(t):e.getSiblingCaret();null!==r;r=r.getParentCaret(t))n.push(rl(r));return n}function il(e){return!!e&&e.origin.isAttached()}function sl(e,t="removeEmptySlices"){if(e.isCollapsed())return e;const n="root",o="next";let i=t;const s=ul(e,o),l=ol(s.anchor,n),a=ol(s.focus.getFlipped(),n),c=new Set,u=[];for(const e of s.iterNodeCarets(n))if(Os(e))c.add(e.origin.getKey());else if(Ms(e)){const{origin:t}=e;po(t)&&!c.has(t.getKey())||u.push(t)}for(const e of u)e.remove();for(const e of s.getTextSlices()){if(!e)continue;const{origin:t}=e.caret,n=t.getTextContentSize(),r=rl(Rs(t,o)),s=t.getMode();if(Math.abs(e.distance)===n&&"removeEmptySlices"===i||"token"===s&&0!==e.distance)r.remove();else if(0!==e.distance){i="removeEmptySlices";let t=e.removeTextSlice();const n=e.caret.origin;if("segmented"===s){const e=t.origin,n=nr(e.getTextContent()).setStyle(e.getStyle()).setFormat(e.getFormat());r.replaceOrInsert(n),t=Ds(n,o,t.offset)}n.is(l[0].origin)&&(l[0]=t),n.is(a[0].origin)&&(a[0]=t.getFlipped())}}let d,f;for(const e of l)if(il(e)){d=ll(e);break}for(const e of a)if(il(e)){f=ll(e);break}const h=function(e,t,n){if(!e||!t)return null;const r=e.getParentAtCaret(),o=t.getParentAtCaret();if(!r||!o)return null;const i=r.getParents().reverse();i.push(r);const s=o.getParents().reverse();s.push(o);const l=Math.min(i.length,s.length);let a;for(a=0;a<l&&i[a]===s[a];a++);const c=(e,t)=>{let n;for(let r=a;r<e.length;r++){const o=e[r];if(ji(o))return;!n&&t(o)&&(n=o)}return n},u=c(i,ls),d=u&&c(s,(e=>n.has(e.getKey())&&ls(e)));return u&&d?[u,d]:null}(d,f,c);if(h){const[e,t]=h;zs(e,"previous").splice(0,t.getChildren()),t.remove()}const g=[d,f,...l,...a].find(il);if(g)return Hs(cl(ll(g),e.direction));r(269,JSON.stringify(l.map((e=>e.origin.__key))))}function ll(e){const t=function(e){let t=e;for(;Os(t);){const e=Ks(t);if(!Os(e))break;t=e}return t}(e.getLatest()),{direction:n}=t;if(rr(t.origin))return As(t)?t:Ds(t.origin,n,n);const r=t.getAdjacentCaret();return Ms(r)&&rr(r.origin)?Ds(r.origin,n,Ts(n)):t}function al(e){return As(e)&&e.offset!==Is(e.origin,e.direction)}function cl(e,t){return e.direction===t?e:e.getFlipped()}function ul(e,t){return e.direction===t?e:qs(cl(e.focus,t),cl(e.anchor,t))}function dl(e){const{origin:t,offset:n,direction:o}=e;if(n===Is(t,o))return e.getSiblingCaret();if(n===Is(t,Ts(o)))return rl(e.getSiblingCaret());const[i]=t.splitText(n);return rr(i)||r(281),cl(Rs(i,"next"),o)}function fl(e,t){return!0}function hl(e,{$copyElementNode:t=Zi,$splitTextPointCaretNext:n=dl,rootMode:r="shadowRoot",$shouldSplit:o=fl}={}){if(As(e))return n(e);const i=e.getParentCaret(r);if(i){const{origin:n}=i;if(Os(e)&&(!n.canBeEmpty()||!o(n,"first")))return rl(i);const r=function(e){const t=[];for(let n=e.getAdjacentCaret();n;n=n.getAdjacentCaret())t.push(n.origin);return t}(e);(r.length>0||n.canBeEmpty()&&o(n,"last"))&&i.insert(t(n).splice(0,0,r))}return i}function gl(e){return e}function pl(...e){return e}function ml(e){return e}function _l(e,t){if(!t||e===t)return e;for(const n in t)if(e[n]!==t[n])return{...e,...t};return e}},1717:(e,t,n)=>{n.d(t,{$:()=>v});var r=n(1714),o=n(228);const i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function s(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}var l=n(1718);const a=(0,n(1715).vE9)({name:"@lexical/react/ReactProvider"});var c=n(1716),u=n(1720),d=n(1719),f=n(1721),h=n(1722);function g(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function m({editor:e,ErrorBoundary:t}){return function(e,t){const[n,r]=(0,o.useState)((()=>e.getDecorators()));return p((()=>e.registerDecoratorListener((e=>{(0,o.flushSync)((()=>{r(e)}))}))),[e]),(0,o.useEffect)((()=>{r(e.getDecorators())}),[e]),(0,o.useMemo)((()=>{const r=[],i=Object.keys(n);for(let s=0;s<i.length;s++){const l=i[s],a=(0,c.Y)(t,{onError:t=>e._onError(t),children:(0,c.Y)(o.Suspense,{fallback:null,children:n[l]})}),u=e.getElementByKey(l);null!==u&&r.push((0,o.createPortal)(a,u,l))}return r}),[t,n,e])}(e,t)}function _({editor:e,ErrorBoundary:t}){return function(e){const t=l.iZ.maybeFromEditor(e);if(t&&t.hasExtensionByName(a.name)){for(const e of["@lexical/plain-text","@lexical/rich-text"])t.hasExtensionByName(e)&&g(320,e);return!0}return!1}(e)?null:(0,c.Y)(m,{editor:e,ErrorBoundary:t})}function y(e){return e.getEditorState().read((0,u.yl)(e.isComposing()))}function v({contentEditable:e,placeholder:t=null,ErrorBoundary:n}){const[o]=(0,r.DF)();return p((()=>(0,d.Sd)((0,h.ZI)(i),(0,f.U)(i))),[i=o]),(0,c.FD)(c.FK,{children:[e,(0,c.Y)(x,{content:t}),(0,c.Y)(_,{editor:o,ErrorBoundary:n})]});var i}function x({content:e}){const[t]=(0,r.DF)(),n=function(e){const[t,n]=(0,o.useState)((()=>y(e)));return p((()=>{function t(){const t=y(e);n(t)}return t(),(0,d.Sd)(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(t),l=function(e){const[t]=(0,r.DF)(),n=(0,o.useMemo)((()=>e(t)),[t,e]),[s,l]=(0,o.useState)((()=>n.initialValueFn())),a=(0,o.useRef)(s);return i((()=>{const{initialValueFn:e,subscribe:t}=n,r=e();return a.current!==r&&(a.current=r,l(r)),t((e=>{a.current=e,l(e)}))}),[n,e]),s}(s);return n?"function"==typeof e?e(l):e:null}},1718:(e,t,n)=>{n.d(t,{Hd:()=>G,QZ:()=>T,fS:()=>Z,iZ:()=>q,v:()=>N,vA:()=>l,vP:()=>m,xT:()=>U});var r=n(1715),o=n(1719);const i=Symbol.for("preact-signals");function s(){if(d>1)return void d--;let e,t=!1;for(;void 0!==c;){let n=c;for(c=void 0,f++;void 0!==n;){const r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&_(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=r}}if(f=0,d--,t)throw e}function l(e){if(d>0)return e();d++;try{return e()}finally{s()}}let a,c;function u(e){const t=a;a=void 0;try{return e()}finally{a=t}}let d=0,f=0,h=0;function g(e){if(void 0===a)return;let t=e.n;return void 0===t||t.t!==a?(t={i:0,S:e,p:a.s,n:void 0,t:a,e:void 0,x:void 0,r:t},void 0!==a.s&&(a.s.n=t),a.s=t,e.n=t,32&a.f&&e.S(t),t):-1===t.i?(t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=a.s,t.n=void 0,a.s.n=t,a.s=t),t):void 0}function p(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function m(e,t){return new p(e,t)}function _(e){for(let t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function y(e){for(let t=e.s;void 0!==t;t=t.n){const n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function v(e){let t,n=e.s;for(;void 0!==n;){const e=n.p;-1===n.i?(n.S.U(n),void 0!==e&&(e.n=n.n),void 0!==n.n&&(n.n.p=e)):t=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=e}e.s=t}function x(e,t){p.call(this,void 0),this.x=e,this.s=void 0,this.g=h-1,this.f=4,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function S(e){const t=e.u;if(e.u=void 0,"function"==typeof t){d++;const n=a;a=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,C(e),t}finally{a=n,s()}}}function C(e){for(let t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,S(e)}function b(e){if(a!==this)throw new Error("Out-of-order effect");v(this),a=e,this.f&=-2,8&this.f&&C(this),s()}function w(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==t?void 0:t.name}function T(e,t){const n=new w(e,t);try{n.c()}catch(e){throw n.d(),e}const r=n.d.bind(n);return r[Symbol.dispose]=r,r}function N(e,t={}){const n={};for(const r in e){const o=t[r],i=m(void 0===o?e[r]:o);n[r]=i}return n}function k(){const e=(0,r.NiT)(),t=(0,r.vJq)(),n=(0,r.lJ7)();e.clear(),e.append(n),null!==t&&n.select(),(0,r.I2P)(t)&&(t.format=0)}function E(e){return("function"==typeof e.nodes?e.nodes():e.nodes)||[]}function A(e,t){let n;return m(e(),{unwatched(){n&&(n(),n=void 0)},watched(){this.value=e(),n=t(this)}})}p.prototype.brand=i,p.prototype.h=function(){return!0},p.prototype.S=function(e){const t=this.t;t!==e&&void 0===e.e&&(e.x=t,this.t=e,void 0!==t?t.e=e:u((()=>{var e;null==(e=this.W)||e.call(this)})))},p.prototype.U=function(e){if(void 0!==this.t){const t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n,void 0===n&&u((()=>{var e;null==(e=this.Z)||e.call(this)})))}},p.prototype.subscribe=function(e){return T((()=>{const t=this.value,n=a;a=void 0;try{e(t)}finally{a=n}}),{name:"sub"})},p.prototype.valueOf=function(){return this.value},p.prototype.toString=function(){return this.value+""},p.prototype.toJSON=function(){return this.value},p.prototype.peek=function(){const e=a;a=void 0;try{return this.value}finally{a=e}},Object.defineProperty(p.prototype,"value",{get(){const e=g(this);return void 0!==e&&(e.i=this.i),this.v},set(e){if(e!==this.v){if(f>100)throw new Error("Cycle detected");this.v=e,this.i++,h++,d++;try{for(let e=this.t;void 0!==e;e=e.x)e.t.N()}finally{s()}}}}),x.prototype=new p,x.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===h)return!0;if(this.g=h,this.f|=1,this.i>0&&!_(this))return this.f&=-2,!0;const e=a;try{y(this),a=this;const e=this.x();(16&this.f||this.v!==e||0===this.i)&&(this.v=e,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return a=e,v(this),this.f&=-2,!0},x.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(let e=this.s;void 0!==e;e=e.n)e.S.S(e)}p.prototype.S.call(this,e)},x.prototype.U=function(e){if(void 0!==this.t&&(p.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(let e=this.s;void 0!==e;e=e.n)e.S.U(e)}},x.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(x.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const e=g(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),w.prototype.c=function(){const e=this.S();try{if(8&this.f)return;if(void 0===this.x)return;const e=this.x();"function"==typeof e&&(this.u=e)}finally{e()}},w.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,S(this),y(this),d++;const e=a;return a=this,b.bind(this,e)},w.prototype.N=function(){2&this.f||(this.f|=2,this.o=c,c=this)},w.prototype.d=function(){this.f|=8,1&this.f||C(this)},w.prototype.dispose=function(){this.d()},(0,r.vE9)({build:(e,t,n)=>N(t),config:(0,r.lVE)({defaultSelection:"rootEnd",disabled:!1}),name:"@lexical/extension/AutoFocus",register(e,t,n){const r=n.getOutput();return T((()=>r.disabled.value?void 0:e.registerRootListener((t=>{e.focus((()=>{const e=document.activeElement;null===t||null!==e&&t.contains(e)||t.focus({preventScroll:!0})}),{defaultSelection:r.defaultSelection.peek()})}))))}}),(0,r.vE9)({build:(e,t,n)=>N(t),config:(0,r.lVE)({$onClear:k}),name:"@lexical/extension/ClearEditor",register(e,t,n){const{$onClear:o}=n.getOutput();return T((()=>function(e,t=k){return e.registerCommand(r.SKc,(n=>(e.update(t),!0)),r.jZM)}(e,o.value)))}});const M=(0,r.vE9)({build:e=>A((()=>e.getEditorState()),(t=>e.registerUpdateListener((e=>{t.value=e.editorState})))),name:"@lexical/extension/EditorState"});function O(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function F(e,t){if(e&&t&&!Array.isArray(t)&&"object"==typeof e&&"object"==typeof t){const n=e,r=t;for(const e in r)n[e]=F(n[e],r[e]);return e}return t}function L(e){return 0===e.id}function P(e){return 2===e.id}const R=new Set;class D{builder;configs;_dependency;_peerNameSet;extension;state;_signal;constructor(e,t){this.builder=e,this.extension=t,this.configs=new Set,this.state={id:0}}mergeConfigs(){let e=this.extension.config||{};const t=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):r.Tc1;for(const n of this.configs)e=t(e,n);return e}init(e){const t=this.state;P(t)||O(306,String(t.id));const n={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},r={...n,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},o=function(e,t,n){return Object.assign(e,{config:t,id:3,registerState:n})}(t,this.mergeConfigs(),n);let i;this.state=o,this.extension.init&&(i=this.extension.init(e,o.config,n)),this.state=function(e,t,n){return Object.assign(e,{id:4,initResult:t,registerState:n})}(o,i,r)}build(e){const t=this.state;let n;4!==t.id&&O(307,String(t.id),String(5)),this.extension.build&&(n=this.extension.build(e,t.config,t.registerState));const r={...t.registerState,getOutput:()=>n,getSignal:this.getSignal.bind(this)};this.state=function(e,t,n){return Object.assign(e,{id:5,output:t,registerState:n})}(t,n,r)}register(e,t){this._signal=t;const n=this.state;5!==n.id&&O(308,String(n.id),String(5));const r=this.extension.register&&this.extension.register(e,n.config,n.registerState);return this.state=function(e){return Object.assign(e,{id:6})}(n),()=>{const e=this.state;7!==e.id&&O(309,String(n.id),String(7)),this.state=function(e){return Object.assign(e,{id:5})}(e),r&&r()}}afterRegistration(e){const t=this.state;let n;return 6!==t.id&&O(310,String(t.id),String(6)),this.extension.afterRegistration&&(n=this.extension.afterRegistration(e,t.config,t.registerState)),this.state=function(e){return Object.assign(e,{id:7})}(t),n}getSignal(){return void 0===this._signal&&O(311),this._signal}getInitResult(){void 0===this.extension.init&&O(312,this.extension.name);const e=this.state;return function(e){return e.id>=4}(e)||O(313,String(e.id),String(4)),e.initResult}getInitPeer(e){const t=this.builder.extensionNameMap.get(e);return t?t.getExtensionInitDependency():void 0}getExtensionInitDependency(){const e=this.state;return function(e){return e.id>=3}(e)||O(314,String(e.id),String(3)),{config:e.config}}getPeer(e){const t=this.builder.extensionNameMap.get(e);return t?t.getExtensionDependency():void 0}getInitDependency(e){const t=this.builder.getExtensionRep(e);return void 0===t&&O(315,this.extension.name,e.name),t.getExtensionInitDependency()}getDependency(e){const t=this.builder.getExtensionRep(e);return void 0===t&&O(315,this.extension.name,e.name),t.getExtensionDependency()}getState(){const e=this.state;return function(e){return e.id>=7}(e)||O(316,String(e.id),String(7)),e}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||R}getPeerNameSet(){let e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map((([e])=>e))),this._peerNameSet=e),e}getExtensionDependency(){if(!this._dependency){const e=this.state;(function(e){return e.id>=5})(e)||O(317,this.extension.name),this._dependency={config:e.config,init:e.initResult,output:e.output}}return this._dependency}}const I={tag:r.T40};function B(){const e=(0,r.NiT)();e.isEmpty()&&e.append((0,r.lJ7)())}const z=(0,r.vE9)({config:(0,r.lVE)({setOptions:I,updateOptions:I}),init:({$initialEditorState:e=B})=>({$initialEditorState:e,initialized:!1}),afterRegistration(e,{updateOptions:t,setOptions:n},o){const i=o.getInitResult();if(!i.initialized){i.initialized=!0;const{$initialEditorState:o}=i;if((0,r.v0B)(o))e.setEditorState(o,n);else if("function"==typeof o)e.update((()=>{o(e)}),t);else if(o&&("string"==typeof o||"object"==typeof o)){const t=e.parseEditorState(o);e.setEditorState(t,n)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[r.haT,r.Ey8,r.GRK,r.MZu,r.fD3]}),K=Symbol.for("@lexical/extension/LexicalBuilder");function W(){}function J(e){throw e}function $(e){return Array.isArray(e)?e:[e]}const H="0.39.0+prod.esm";class q{roots;extensionNameMap;outgoingConfigEdges;incomingEdges;conflicts;_sortedExtensionReps;PACKAGE_VERSION;constructor(e){this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=H,this.roots=e;for(const t of e)this.addExtension(t)}static fromExtensions(e){const t=[$(z)];for(const n of e)t.push($(n));return new q(t)}static maybeFromEditor(e){const t=e[K];return t&&(t.PACKAGE_VERSION!==H&&O(292,t.PACKAGE_VERSION,H),t instanceof q||O(293)),t}static fromEditor(e){const t=q.maybeFromEditor(e);return void 0===t&&O(294),t}constructEditor(){const{$initialEditorState:e,onError:t,...n}=this.buildCreateEditorArgs(),o=Object.assign((0,r.ieJ)({...n,...t?{onError:e=>{t(e,o)}}:{}}),{[K]:this});for(const e of this.sortedExtensionReps())e.build(o);return o}buildEditor(){let e=W;function t(){try{e()}finally{e=W}}const n=Object.assign(this.constructEditor(),{dispose:t,[Symbol.dispose]:t});return e=(0,o.Sd)(this.registerEditor(n),(()=>n.setRootElement(null))),n}hasExtensionByName(e){return this.extensionNameMap.has(e)}getExtensionRep(e){const t=this.extensionNameMap.get(e.name);if(t)return t.extension!==e&&O(295,e.name),t}addEdge(e,t,n){const r=this.outgoingConfigEdges.get(e);r?r.set(t,n):this.outgoingConfigEdges.set(e,new Map([[t,n]]));const o=this.incomingEdges.get(t);o?o.add(e):this.incomingEdges.set(t,new Set([e]))}addExtension(e){void 0!==this._sortedExtensionReps&&O(296);const t=$(e),[n]=t;"string"!=typeof n.name&&O(297,typeof n.name);let r=this.extensionNameMap.get(n.name);if(void 0!==r&&r.extension!==n&&O(298,n.name),!r){r=new D(this,n),this.extensionNameMap.set(n.name,r);const e=this.conflicts.get(n.name);"string"==typeof e&&O(299,n.name,e);for(const e of n.conflictsWith||[])this.extensionNameMap.has(e)&&O(299,n.name,e),this.conflicts.set(e,n.name);for(const e of n.dependencies||[]){const t=$(e);this.addEdge(n.name,t[0].name,t.slice(1)),this.addExtension(t)}for(const[e,t]of n.peerDependencies||[])this.addEdge(n.name,e,t?[t]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;const e=[],t=(n,r)=>{let o=n.state;if(P(o))return;const i=n.extension.name;var s;L(o)||O(300,i,r||"[unknown]"),L(s=o)||O(304,String(s.id),String(0)),o=Object.assign(s,{id:1}),n.state=o;const l=this.outgoingConfigEdges.get(i);if(l)for(const e of l.keys()){const n=this.extensionNameMap.get(e);n&&t(n,i)}o=function(e){return function(e){return 1===e.id}(e)||O(305,String(e.id),String(1)),Object.assign(e,{id:2})}(o),n.state=o,e.push(n)};for(const e of this.extensionNameMap.values())L(e.state)&&t(e);for(const t of e)for(const[e,n]of this.outgoingConfigEdges.get(t.extension.name)||[])if(n.length>0){const t=this.extensionNameMap.get(e);if(t)for(const e of n)t.configs.add(e)}for(const[e,...t]of this.roots)if(t.length>0){const n=this.extensionNameMap.get(e.name);void 0===n&&O(301,e.name);for(const e of t)n.configs.add(e)}return this._sortedExtensionReps=e,this._sortedExtensionReps}registerEditor(e){const t=this.sortedExtensionReps(),n=new AbortController,r=[()=>n.abort()],i=n.signal;for(const n of t){const t=n.register(e,i);t&&r.push(t)}for(const n of t){const t=n.afterRegistration(e);t&&r.push(t)}return(0,o.Sd)(...r)}buildCreateEditorArgs(){const e={},t=new Set,n=new Map,r=new Map,o={},i={},s=this.sortedExtensionReps();for(const l of s){const{extension:s}=l;if(void 0!==s.onError&&(e.onError=s.onError),void 0!==s.disableEvents&&(e.disableEvents=s.disableEvents),void 0!==s.parentEditor&&(e.parentEditor=s.parentEditor),void 0!==s.editable&&(e.editable=s.editable),void 0!==s.namespace&&(e.namespace=s.namespace),void 0!==s.$initialEditorState&&(e.$initialEditorState=s.$initialEditorState),s.nodes)for(const e of E(s)){if("function"!=typeof e){const t=n.get(e.replace);t&&O(302,s.name,e.replace.name,t.extension.name),n.set(e.replace,l)}t.add(e)}if(s.html){if(s.html.export)for(const[e,t]of s.html.export.entries())r.set(e,t);s.html.import&&Object.assign(o,s.html.import)}s.theme&&F(i,s.theme)}Object.keys(i).length>0&&(e.theme=i),t.size&&(e.nodes=[...t]);const l=Object.keys(o).length>0,a=r.size>0;(l||a)&&(e.html={},l&&(e.html.import=o),a&&(e.html.export=r));for(const t of s)t.init(e);return e.onError||(e.onError=J),e}}function U(e,t){const n=q.fromEditor(e).extensionNameMap.get(t);return n?n.getExtensionDependency():void 0}const V=new Set,j=(0,r.vE9)({build(e,t,n){const o=n.getDependency(M).output,i=m({watchedNodeKeys:new Map}),s=A((()=>{}),(()=>T((()=>{const e=s.peek(),{watchedNodeKeys:t}=i.value;let n,l=!1;o.value.read((()=>{if((0,r.vJq)())for(const[o,i]of t.entries()){if(0===i.size){t.delete(o);continue}const s=(0,r.nsf)(o),a=s&&s.isSelected()||!1;l=l||a!==(!!e&&e.has(o)),a&&(n=n||new Set,n.add(o))}})),!l&&n&&e&&n.size===e.size||(s.value=n)}))));return{watchNodeKey:function(e){const t=function(e){return new x(e,void 0)}((()=>(s.value||V).has(e))),{watchedNodeKeys:n}=i.peek();let r=n.get(e);const o=void 0!==r;return r=r||new Set,r.add(t),o||(n.set(e,r),i.value={watchedNodeKeys:n}),t}}},dependencies:[M],name:"@lexical/extension/NodeSelection"});(0,r.guI)("INSERT_HORIZONTAL_RULE_COMMAND");class Z extends r.Kp7{static getType(){return"horizontalrule"}static clone(e){return new Z(e.__key)}static importJSON(e){return X().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:Y,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const t=document.createElement("hr");return(0,o.ZB)(t,e.theme.hr),t}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}}function Y(){return{node:X()}}function X(){return(0,r.phO)(Z)}function G(e){return e instanceof Z}(0,r.vE9)({dependencies:[M,j],name:"@lexical/extension/HorizontalRule",nodes:()=>[Z],register(e,t,n){const{watchNodeKey:i}=n.getDependency(j).output,s=m({nodeSelections:new Map}),a=e._config.theme.hrSelected??"selected";return(0,o.Sd)(e.registerCommand(r.d8p,(e=>{if((0,r.vAA)(e.target)){const t=(0,r.pJU)(e.target);if(G(t))return function(e,t=!1){const n=(0,r.vJq)(),o=e.isSelected(),i=e.getKey();let s;t&&(0,r.RTZ)(n)?s=n:(s=(0,r.rUs)(),(0,r.n1P)(s)),o?s.delete(i):s.add(i)}(t,e.shiftKey),!0}return!1}),r.AcJ),e.registerMutationListener(Z,((t,n)=>{l((()=>{let n=!1;const{nodeSelections:r}=s.peek();for(const[o,s]of t.entries())if("destroyed"===s)r.delete(o),n=!0;else{const t=r.get(o),s=e.getElementByKey(o);t?t.domNode.value=s:(n=!0,r.set(o,{domNode:m(s),selectedSignal:i(o)}))}n&&(s.value={nodeSelections:r})}))})),T((()=>{const e=[];for(const{domNode:t,selectedSignal:n}of s.value.nodeSelections.values())e.push(T((()=>{const e=t.value;e&&(n.value?(0,o.ZB)(e,a):(0,o.HE)(e,a))})));return(0,o.Sd)(...e)})))}}),(0,r.vE9)({build:(e,t,n)=>N(t),config:(0,r.lVE)({disabled:!1,maxIndent:null}),name:"@lexical/extension/TabIndentation",register(e,t,n){const{disabled:i,maxIndent:s}=n.getOutput();return T((()=>{if(!i.value)return function(e,t){return(0,o.Sd)(e.registerCommand(r.OXk,(t=>{const n=(0,r.vJq)();if(!(0,r.I2P)(n))return!1;t.preventDefault();const i=function(e){const t=e.getNodes();if((0,o.zD)(t,(e=>(0,r.y68)(e)&&e.canIndent()?e:null)).length>0)return!0;const n=e.anchor,i=e.focus,s=i.isBefore(n)?i:n,l=s.getNode(),a=(0,o.mB)(l);if(a.canIndent()){const e=a.getKey();let t=(0,r.uTE)();if(t.anchor.set(e,0,"element"),t.focus.set(e,0,"element"),t=(0,r.CaD)(t),t.anchor.is(s))return!0}return!1}(n)?t.shiftKey?r.sik:r.PiT:r.YW5;return e.dispatchCommand(i,void 0)}),r.jZM),e.registerCommand(r.PiT,(()=>{const e="number"==typeof t?t:t?t.peek():null;if(null==e)return!1;const n=(0,r.vJq)();if(!(0,r.I2P)(n))return!1;const i=n.getNodes().map((e=>(0,o.mB)(e).getIndent()));return Math.max(...i)+1>=e}),r.da8))}(e,s)}))}})},1719:(e,t,n)=>{n.d(t,{HE:()=>d,K2:()=>y,OV:()=>x,Pe:()=>p,Sd:()=>c,ZB:()=>u,_X:()=>f,cE:()=>b,eu:()=>h,mB:()=>g,vF:()=>S,xj:()=>m,zD:()=>_});var r=n(1715);function o(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,s=i&&"documentMode"in document?document.documentMode:null,l=(i&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),i&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent));function a(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}function c(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}function u(e,...t){const n=a(...t);n.length>0&&e.classList.add(...n)}function d(e,...t){const n=a(...t);n.length>0&&e.classList.remove(...n)}function f(e){return e?e.getAdjacentCaret():null}function h(e,t){let n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent()}return null}function g(e){const t=(0,r.BtT)(e,(e=>(0,r.ff4)(e)&&!e.isInline()));return(0,r.ff4)(t)||o(4,e.__key),t}function p(e){const t=(0,r.vJq)()||(0,r.S1w)();let n;if((0,r.I2P)(t))n=(0,r.Ave)(t.focus,"next");else{if(null!=t){const e=t.getNodes(),o=e[e.length-1];o&&(n=(0,r.IlV)(o,"next"))}n=n||(0,r.uwZ)((0,r.NiT)(),"previous").getFlipped().insert((0,r.lJ7)())}const i=function(e,t){let n=(0,r.Csq)(t,"next");for(let e=n;e;e=(0,r.k1Q)(e,void 0))n=e;return(0,r.rN)(n)&&o(283),n.insert(e.isInline()?(0,r.lJ7)().append(e):e),(0,r.Csq)((0,r.IlV)(e.getLatest(),"next"),t.direction)}(e,n),s=(0,r.erb)(i),l=(0,r.cmH)(s)?(0,r.lSZ)(s):i;return(0,r.xQ8)((0,r.sWS)(l)),e.getLatest()}function m(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name}function _(e,t){const n=[];for(let r=0;r<e.length;r++){const o=t(e[r]);null!==o&&n.push(o)}return n}function y(e,t){(0,r.uwZ)(e,"next").insert(t)}!(!i||!("InputEvent"in window)||s)&&new window.InputEvent("input"),i&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),i&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,i&&/Android/.test(navigator.userAgent),i&&/^(?=.*Chrome).*/i.test(navigator.userAgent),i&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);let v=!(l||!i)&&void 0;function x(e){let t=1;if(function(){if(void 0===v){const e=document.createElement("div");e.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(e);const t=e.getBoundingClientRect();e.style.setProperty("zoom","2"),v=e.getBoundingClientRect().width===t.width,document.body.removeChild(e)}return v}())for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t}function S(e,t){return C(e,t,null)}function C(e,t,n){let o=!1;for(const i of w(e))t(i)?null!==n&&n(i):(o=!0,(0,r.ff4)(i)&&C(i,t,n||(e=>i.insertAfter(e))),i.remove());return o}function b(e,t){const n=[],o=Array.from(e).reverse();for(let e=o.pop();void 0!==e;e=o.pop())if(t(e))n.push(e);else if((0,r.ff4)(e))for(const t of w(e))o.push(t);return n}function w(e){return function(e){return(0,r.Bts)({hasNext:r.OpE,initial:e.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}((0,r.uwZ)(e,"previous"))}},1720:(e,t,n)=>{n.d(t,{yl:()=>o});var r=n(1715);function o(e){return()=>function(e){if(!function(e,t=!0){if(e)return!1;let n=(0,r.NiT)().getTextContent();return t&&(n=n.trim()),""===n}(e,!1))return!1;const t=(0,r.NiT)().getChildren(),n=t.length;if(n>1)return!1;for(let e=0;e<n;e++){const n=t[e];if((0,r.Cyw)(n))return!1;if((0,r.ff4)(n)){if(!(0,r.bSg)(n))return!1;if(0!==n.__indent)return!1;const t=n.getChildren(),o=t.length;for(let n=0;n<o;n++){const n=t[e];if(!(0,r.kFe)(n))return!1}}}return!0}(e)}},1721:(e,t,n)=>{n.d(t,{P:()=>s,U:()=>i});var r=n(1718),o=n(1715);function i(e){const t=window.location.origin,n=n=>{if(n.origin!==t)return;const r=e.getRootElement();if(document.activeElement!==r)return;const i=n.data;if("string"==typeof i){let t;try{t=JSON.parse(i)}catch(e){return}if(t&&"nuanria_messaging"===t.protocol&&"request"===t.type){const r=t.payload;if(r&&"makeChanges"===r.functionId){const t=r.args;if(t){const[r,i,s,l,a]=t;e.update((()=>{const e=(0,o.vJq)();if((0,o.I2P)(e)){const t=e.anchor;let c=t.getNode(),u=0,d=0;if((0,o.kFe)(c)&&r>=0&&i>=0&&(u=r,d=r+i,e.setTextNodeRange(c,u,c,d)),u===d&&""===s||(e.insertRawText(s),c=t.getNode()),(0,o.kFe)(c)){u=l,d=l+a;const t=c.getTextContentSize();u=u>t?t:u,d=d>t?t:d,e.setTextNodeRange(c,u,c,d)}n.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}const s=(0,o.vE9)({build:(e,t,n)=>(0,r.v)(t),config:(0,o.lVE)({disabled:"undefined"==typeof window}),name:"@lexical/dragon",register:(e,t,n)=>(0,r.QZ)((()=>n.getOutput().disabled.value?void 0:i(e)))})},1722:(e,t,n)=>{n.d(t,{Pi:()=>N,ZI:()=>O,dJ:()=>y,fi:()=>T,jL:()=>S,jd:()=>x,xi:()=>v});var r=n(1723),o=n(1721),i=n(1724),s=n(1719),l=n(1715);function a(e,t){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}const c="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,u=c&&"documentMode"in document?document.documentMode:null,d=c&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),f=!(!c||!("InputEvent"in window)||u)&&"getTargetRanges"in new window.InputEvent("input"),h=c&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),g=c&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,p=c&&/^(?=.*Chrome).*/i.test(navigator.userAgent),m=c&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&d&&!p,_=(0,l.guI)("DRAG_DROP_PASTE_FILE");class y extends l.fGB{static getType(){return"quote"}static clone(e){return new y(e.__key)}createDOM(e){const t=document.createElement("blockquote");return(0,s.ZB)(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:w,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if((0,l.sby)(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e);const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return v().updateFromJSON(e)}insertNewAfter(e,t){const n=(0,l.lJ7)(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,t),n}collapseAtStart(){const e=(0,l.lJ7)();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function v(){return(0,l.pTq)(new y)}function x(e){return e instanceof y}class S extends l.fGB{__tag;static getType(){return"heading"}static clone(e){return new S(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,n=document.createElement(t),r=e.theme.heading;if(void 0!==r){const e=r[t];(0,s.ZB)(n,e)}return n}updateDOM(e,t,n){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:b,priority:0}),h2:e=>({conversion:b,priority:0}),h3:e=>({conversion:b,priority:0}),h4:e=>({conversion:b,priority:0}),h5:e=>({conversion:b,priority:0}),h6:e=>({conversion:b,priority:0}),p:e=>{const t=e.firstChild;return null!==t&&C(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>C(e)?{conversion:e=>({node:T("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if((0,l.sby)(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e);const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return T(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){const n=e?e.anchor.offset:0,r=this.getLastDescendant(),o=!r||e&&e.anchor.key===r.getKey()&&n===r.getTextContentSize()||!e?(0,l.lJ7)():T(this.getTag()),i=this.getDirection();if(o.setDirection(i),this.insertAfter(o,t),0===n&&!this.isEmpty()&&e){const e=(0,l.lJ7)();e.select(),this.replace(e,!0)}return o}collapseAtStart(){const e=this.isEmpty()?(0,l.lJ7)():T(this.getTag());return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}extractWithChild(){return!0}}function C(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function b(e){const t=e.nodeName.toLowerCase();let n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=T(t),null!==e.style&&((0,l.dxY)(e,n),n.setFormat(e.style.textAlign))),{node:n}}function w(e){const t=v();return null!==e.style&&(t.setFormat(e.style.textAlign),(0,l.dxY)(e,t)),{node:t}}function T(e="h1"){return(0,l.pTq)(new S(e))}function N(e){return e instanceof S}function k(e){let t=null;if((0,s.xj)(e,DragEvent)?t=e.dataTransfer:(0,s.xj)(e,ClipboardEvent)&&(t=e.clipboardData),null===t)return[!1,[],!1];const n=t.types,r=n.includes("Files"),o=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),o]}function E(e){const t=(0,l.vJq)();if(!(0,l.I2P)(t))return!1;const n=new Set,r=t.getNodes();for(let t=0;t<r.length;t++){const o=r[t],i=o.getKey();if(n.has(i))continue;const s=(0,l.BtT)(o,(e=>(0,l.ff4)(e)&&!e.isInline()));if(null===s)continue;const a=s.getKey();s.canIndent()&&!n.has(a)&&(n.add(a),e(s))}return n.size>0}function A(e){const t=(0,l.xL4)(e);return(0,l.Cyw)(t)}function M(e){for(const t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}function O(e){return(0,s.Sd)(e.registerCommand(l.d8p,(e=>{const t=(0,l.vJq)();return!!(0,l.RTZ)(t)&&(t.clear(),!0)}),l.jZM),e.registerCommand(l.WuB,(e=>{const t=(0,l.vJq)();return(0,l.I2P)(t)?(t.deleteCharacter(e),!0):!!(0,l.RTZ)(t)&&(t.deleteNodes(),!0)}),l.jZM),e.registerCommand(l.hi0,(e=>{const t=(0,l.vJq)();return!!(0,l.I2P)(t)&&(t.deleteWord(e),!0)}),l.jZM),e.registerCommand(l.viC,(e=>{const t=(0,l.vJq)();return!!(0,l.I2P)(t)&&(t.deleteLine(e),!0)}),l.jZM),e.registerCommand(l.bM3,(t=>{const n=(0,l.vJq)();if("string"==typeof t)null!==n&&n.insertText(t);else{if(null===n)return!1;const o=t.dataTransfer;if(null!=o)(0,r.Bi)(o,n,e);else if((0,l.I2P)(n)){const e=t.data;return e&&n.insertText(e),!0}}return!0}),l.jZM),e.registerCommand(l.$ey,(()=>{const e=(0,l.vJq)();return!!(0,l.I2P)(e)&&(e.removeText(),!0)}),l.jZM),e.registerCommand(l.mB,(e=>{const t=(0,l.vJq)();return!!(0,l.I2P)(t)&&(t.formatText(e),!0)}),l.jZM),e.registerCommand(l.fUS,(e=>{const t=(0,l.vJq)();if(!(0,l.I2P)(t)&&!(0,l.RTZ)(t))return!1;const n=t.getNodes();for(const t of n){const n=(0,l.BtT)(t,(e=>(0,l.ff4)(e)&&!e.isInline()));null!==n&&n.setFormat(e)}return!0}),l.jZM),e.registerCommand(l.FEN,(e=>{const t=(0,l.vJq)();return!!(0,l.I2P)(t)&&(t.insertLineBreak(e),!0)}),l.jZM),e.registerCommand(l.XKQ,(()=>{const e=(0,l.vJq)();return!!(0,l.I2P)(e)&&(e.insertParagraph(),!0)}),l.jZM),e.registerCommand(l.YW5,(()=>((0,l.H2A)([(0,l.ev7)()]),!0)),l.jZM),e.registerCommand(l.PiT,(()=>E((e=>{const t=e.getIndent();e.setIndent(t+1)}))),l.jZM),e.registerCommand(l.sik,(()=>E((e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}))),l.jZM),e.registerCommand(l.UDz,(e=>{const t=(0,l.vJq)();if((0,l.RTZ)(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}else if((0,l.I2P)(t)){const n=(0,l.B$P)(t.focus,!0);if(!e.shiftKey&&(0,l.Cyw)(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1}),l.jZM),e.registerCommand(l.bbF,(e=>{const t=(0,l.vJq)();if((0,l.RTZ)(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}else if((0,l.I2P)(t)){if(function(e){const t=e.focus;return"root"===t.key&&t.offset===(0,l.NiT)().getChildrenSize()}(t))return e.preventDefault(),!0;const n=(0,l.B$P)(t.focus,!1);if(!e.shiftKey&&(0,l.Cyw)(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1}),l.jZM),e.registerCommand(l.AX0,(e=>{const t=(0,l.vJq)();if((0,l.RTZ)(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),(0,i.dt)(n[0])?n[0].selectNext(0,0):n[0].selectPrevious(),!0}if(!(0,l.I2P)(t))return!1;if((0,i.Cb)(t,!0)){const n=e.shiftKey;return e.preventDefault(),(0,i.Rk)(t,n,!0),!0}return!1}),l.jZM),e.registerCommand(l.JM3,(e=>{const t=(0,l.vJq)();if((0,l.RTZ)(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),(0,i.dt)(n[0])?n[0].selectPrevious():n[0].selectNext(0,0),!0}if(!(0,l.I2P)(t))return!1;const n=e.shiftKey;return!!(0,i.Cb)(t,!1)&&(e.preventDefault(),(0,i.Rk)(t,n,!1),!0)}),l.jZM),e.registerCommand(l.gCZ,(t=>{if(A(t.target))return!1;const n=(0,l.vJq)();if((0,l.I2P)(n)){if(function(e){if(!e.isCollapsed())return!1;const{anchor:t}=e;if(0!==t.offset)return!1;const n=t.getNode();if((0,l.hVZ)(n))return!1;const r=(0,s.mB)(n);return r.getIndent()>0&&(r.is(n)||n.is(r.getFirstDescendant()))}(n))return t.preventDefault(),e.dispatchCommand(l.sik,void 0);if(g&&"ko-KR"===navigator.language)return!1}else if(!(0,l.RTZ)(n))return!1;return t.preventDefault(),e.dispatchCommand(l.WuB,!0)}),l.jZM),e.registerCommand(l.w$Z,(t=>{if(A(t.target))return!1;const n=(0,l.vJq)();return!(!(0,l.I2P)(n)&&!(0,l.RTZ)(n))&&(t.preventDefault(),e.dispatchCommand(l.WuB,!1))}),l.jZM),e.registerCommand(l.RTo,(t=>{const n=(0,l.vJq)();if(!(0,l.I2P)(n))return!1;if(M(n),null!==t){if((g||h||m)&&f)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(l.FEN,!1)}return e.dispatchCommand(l.XKQ,void 0)}),l.jZM),e.registerCommand(l.Q$N,(()=>{const t=(0,l.vJq)();return!!(0,l.I2P)(t)&&(e.blur(),!0)}),l.jZM),e.registerCommand(l.Sr4,(t=>{const[,n]=k(t);if(n.length>0){const r=a(t.clientX,t.clientY);if(null!==r){const{offset:t,node:o}=r,i=(0,l.xL4)(o);if(null!==i){const e=(0,l.uTE)();if((0,l.kFe)(i))e.anchor.set(i.getKey(),t,"text"),e.focus.set(i.getKey(),t,"text");else{const t=i.getParentOrThrow().getKey(),n=i.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}const n=(0,l.CaD)(e);(0,l.n1P)(n)}e.dispatchCommand(_,n)}return t.preventDefault(),!0}const r=(0,l.vJq)();return!!(0,l.I2P)(r)}),l.jZM),e.registerCommand(l.TgX,(e=>{const[t]=k(e),n=(0,l.vJq)();return!(t&&!(0,l.I2P)(n))}),l.jZM),e.registerCommand(l.riq,(e=>{const[t]=k(e),n=(0,l.vJq)();if(t&&!(0,l.I2P)(n))return!1;const r=a(e.clientX,e.clientY);if(null!==r){const t=(0,l.xL4)(r.node);(0,l.Cyw)(t)&&e.preventDefault()}return!0}),l.jZM),e.registerCommand(l.HYn,(()=>((0,l.e1k)(),!0)),l.jZM),e.registerCommand(l.u5G,(t=>((0,r.lW)(e,(0,s.xj)(t,ClipboardEvent)?t:null),!0)),l.jZM),e.registerCommand(l.VSO,(t=>(async function(e,t){await(0,r.lW)(t,(0,s.xj)(e,ClipboardEvent)?e:null),t.update((()=>{const e=(0,l.vJq)();(0,l.I2P)(e)?e.removeText():(0,l.RTZ)(e)&&e.getNodes().forEach((e=>e.remove()))}))}(t,e),!0)),l.jZM),e.registerCommand(l.waI,(t=>{const[,n,o]=k(t);return n.length>0&&!o?(e.dispatchCommand(_,n),!0):!((0,l.vAA)(t.target)&&(0,l.Z$U)(t.target)||null===(0,l.vJq)()||(function(e,t){e.preventDefault(),t.update((()=>{const n=(0,l.vJq)(),o=(0,s.xj)(e,InputEvent)||(0,s.xj)(e,KeyboardEvent)?null:e.clipboardData;null!=o&&null!==n&&(0,r.Bi)(o,n,t)}),{tag:l.fwY})}(t,e),0))}),l.jZM),e.registerCommand(l.Huu,(e=>{const t=(0,l.vJq)();return(0,l.I2P)(t)&&M(t),!1}),l.jZM),e.registerCommand(l.OXk,(e=>{const t=(0,l.vJq)();return(0,l.I2P)(t)&&M(t),!1}),l.jZM))}(0,l.vE9)({conflictsWith:["@lexical/plain-text"],dependencies:[o.P],name:"@lexical/rich-text",nodes:()=>[S,y],register:O})},1723:(e,t,n)=>{n.d(t,{xg:()=>_,Bi:()=>u,lW:()=>g});var r=n(1724),o=n(1715);function i(e,t,n,s=null){let l=null===s||t.isSelected(s);const a=(0,o.ff4)(t)&&t.excludeFromCopy("html");let c=t;null!==s&&(0,o.kFe)(t)&&(c=(0,r.SD)(s,t,"clone"));const u=(0,o.ff4)(c)?c.getChildren():[],d=(0,o.Jvg)(e,c.getType());let f;f=d&&void 0!==d.exportDOM?d.exportDOM(e,c):c.exportDOM(e);const{element:h,after:g}=f;if(!h)return!1;const p=document.createDocumentFragment();for(let n=0;n<u.length;n++){const r=u[n],a=i(e,r,p,s);!l&&(0,o.ff4)(t)&&a&&t.extractWithChild(r,s,"html")&&(l=!0)}if(l&&!a){if(((0,o.sby)(h)||(0,o.K8K)(h))&&h.append(p),n.append(h),g){const e=g.call(c,h);e&&((0,o.K8K)(h)?h.replaceChildren(e):h.replaceWith(e))}}else n.append(p);return l}const s=new Set(["STYLE","SCRIPT"]);function l(e,t,n,r,i=new Map,a){let c=[];if(s.has(e.nodeName))return c;let u=null;const d=function(e,t){const{nodeName:n}=e,r=t._htmlConversions.get(n.toLowerCase());let o=null;if(void 0!==r)for(const t of r){const n=t(e);null!==n&&(null===o||(o.priority||0)<=(n.priority||0))&&(o=n)}return null!==o?o.conversion:null}(e,t),f=d?d(e):null;let h=null;if(null!==f){h=f.after;const t=f.node;if(u=Array.isArray(t)?t[t.length-1]:t,null!==u){for(const[,e]of i)if(u=e(u,a),!u)break;u&&c.push(...Array.isArray(t)?t:[u])}null!=f.forChild&&i.set(e.nodeName,f.forChild)}const g=e.childNodes;let p=[];const m=(null==u||!(0,o.IqF)(u))&&(null!=u&&(0,o.y68)(u)||r);for(let e=0;e<g.length;e++)p.push(...l(g[e],t,n,m,new Map(i),u));return null!=h&&(p=h(p)),(0,o.a9V)(e)&&(p=function(e,t,n){const r=e.style.textAlign,i=[];let s=[];for(let e=0;e<t.length;e++){const l=t[e];if((0,o.y68)(l))r&&!l.getFormat()&&l.setFormat(r),i.push(l);else if(s.push(l),e===t.length-1||e<t.length-1&&(0,o.y68)(t[e+1])){const e=n();e.setFormat(r),e.append(...s),i.push(e),s=[]}}return i}(e,p,m?()=>{const e=new o.A7V;return n.push(e),e}:o.lJ7)),null==u?p.length>0?c=c.concat(p):(0,o.a9V)(e)&&function(e){return null!=e.nextSibling&&null!=e.previousSibling&&(0,o._On)(e.nextSibling)&&(0,o._On)(e.previousSibling)}(e)&&(c=c.concat((0,o.WKo)())):(0,o.ff4)(u)&&u.append(...p),c}var a=n(1719);function c(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function u(e,t,n){const i=e.getData("application/x-lexical-editor");if(i)try{const e=JSON.parse(i);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes))return d(n,function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n],s=(0,o.GMe)(i);(0,o.kFe)(s)&&(0,r.Xg)(s),t.push(s)}return t}(e.nodes),t)}catch(e){}const a=e.getData("text/html"),c=e.getData("text/plain");if(a&&c!==a)try{return d(n,function(e,t){const n=(0,o.mB$)(t)?t.body.childNodes:t.childNodes;let r=[];const i=[];for(const t of n)if(!s.has(t.nodeName)){const n=l(t,e,i,!1);null!==n&&(r=r.concat(n))}return function(e){for(const t of e)t.getNextSibling()instanceof o.A7V&&t.insertAfter((0,o.WKo)());for(const t of e){const e=t.getChildren();for(const n of e)t.insertBefore(n);t.remove()}}(i),r}(n,(new DOMParser).parseFromString(function(e){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:e=>e}).createHTML(e):e}(a),"text/html")),t)}catch(e){}const u=c||e.getData("text/uri-list");if(null!=u)if((0,o.I2P)(t)){const e=u.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let t=0;t<e.length;t++){const n=(0,o.vJq)();if((0,o.I2P)(n)){const r=e[t];"\n"===r||"\r\n"===r?n.insertParagraph():"\t"===r?n.insertNodes([(0,o.ev7)()]):n.insertText(r)}}}else t.insertRawText(u)}function d(e,t,n){e.dispatchCommand(o.oqR,{nodes:t,selection:n})||(n.insertNodes(t),function(e){if((0,o.I2P)(e)&&e.isCollapsed()){const t=e.anchor;let n=null;const r=(0,o.Ave)(t,"previous");if(r)if((0,o.rN)(r))n=r.origin;else{const e=(0,o.TJt)(r,(0,o.uwZ)((0,o.NiT)(),"next").getFlipped());for(const t of e){if((0,o.kFe)(t.origin)){n=t.origin;break}if((0,o.ff4)(t.origin)&&!t.origin.isInline())break}}if(n&&(0,o.kFe)(n)){const t=n.getFormat(),r=n.getStyle();e.format===t&&e.style===r||(e.format=t,e.style=r,e.dirty=!0)}}}(n))}function f(e,t,n,i=[]){let s=null===t||n.isSelected(t);const l=(0,o.ff4)(n)&&n.excludeFromCopy("html");let a=n;null!==t&&(0,o.kFe)(a)&&(a=(0,r.SD)(t,a,"clone"));const u=(0,o.ff4)(a)?a.getChildren():[],d=function(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&c(58,n.name),(0,o.ff4)(e)){const e=t.children;Array.isArray(e)||c(59,n.name)}return t}(a);(0,o.kFe)(a)&&0===a.getTextContentSize()&&(s=!1);for(let r=0;r<u.length;r++){const i=u[r],l=f(e,t,i,d.children);!s&&(0,o.ff4)(n)&&l&&n.extractWithChild(i,t,"clone")&&(s=!0)}if(s&&!l)i.push(d);else if(Array.isArray(d.children))for(let e=0;e<d.children.length;e++){const t=d.children[e];i.push(t)}return s}let h=null;async function g(e,t,n){if(null!==h)return!1;if(null!==t)return new Promise(((r,o)=>{e.update((()=>{r(p(e,t,n))}))}));const r=e.getRootElement(),i=e._window||window,s=i.document,l=(0,o.peL)(i);if(null===r||null===l)return!1;const c=s.createElement("span");c.style.cssText="position: fixed; top: -1000px;",c.append(s.createTextNode("#")),r.append(c);const u=new Range;return u.setStart(c,0),u.setEnd(c,1),l.removeAllRanges(),l.addRange(u),new Promise(((t,r)=>{const l=e.registerCommand(o.u5G,(r=>((0,a.xj)(r,ClipboardEvent)&&(l(),null!==h&&(i.clearTimeout(h),h=null),t(p(e,r,n))),!0)),o.da8);h=i.setTimeout((()=>{l(),h=null,t(!1)}),50),s.execCommand("copy"),c.remove()}))}function p(e,t,n){if(void 0===n){const t=(0,o.peL)(e._window),r=(0,o.vJq)();if(!r||r.isCollapsed())return!1;if(!t)return!1;const i=t.anchorNode,s=t.focusNode;if(null!==i&&null!==s&&!(0,o.LYZ)(e,i,s))return!1;n=_(r)}t.preventDefault();const r=t.clipboardData;return null!==r&&(function(e,t){for(const[n]of m)void 0===t[n]&&e.setData(n,"");for(const n in t){const r=t[n];void 0!==r&&e.setData(n,r)}}(r,n),!0)}const m=[["text/html",function(e,t=(0,o.vJq)()){return null==t&&c(166),(0,o.I2P)(t)&&t.isCollapsed()||0===t.getNodes().length?"":function(e,t){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=(0,o.NiT)().getChildren();for(let o=0;o<r.length;o++)i(e,r[o],n,t);return n.innerHTML}(e,t)}],["application/x-lexical-editor",function(e,t=(0,o.vJq)()){return null==t&&c(166),(0,o.I2P)(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(function(e,t){const n=[],r=(0,o.NiT)().getChildren();for(let o=0;o<r.length;o++)f(e,t,r[o],n);return{namespace:e._config.namespace,nodes:n}}(e,t))}]];function _(e=(0,o.vJq)()){const t={"text/plain":e?e.getTextContent():""};if(e){const n=(0,o.i0_)();for(const[r,o]of m){const i=o(n,e);null!==i&&(t[r]=i)}}return t}},1724:(e,t,n)=>{n.d(t,{Cb:()=>m,Rk:()=>y,SD:()=>u,Wh:()=>s,Xg:()=>d,dt:()=>c,zI:()=>h});var r=n(1715);const o=new Map;function i(e){const t={};if(!e)return t;const n=e.split(";");for(const e of n)if(""!==e){const[n,r]=e.split(/:([^]+)/);n&&r&&(t[n.trim()]=r.trim())}return t}function s(e){let t=o.get(e);return void 0===t&&(t=i(e),o.set(e,t)),t}function l(e){const t=(0,r.i0_)().getElementByKey(e.getKey());if(null===t)return null;const n=t.ownerDocument.defaultView;return null===n?null:n.getComputedStyle(t)}function a(e){return l((0,r.hVZ)(e)?e:e.getParentOrThrow())}function c(e){const t=a(e);return null!==t&&"rtl"===t.direction}function u(e,t,n="self"){const o=e.getStartEndPoints();if(t.isSelected(e)&&!(0,r.Rb_)(t)&&null!==o){const[i,s]=o,l=e.isBackward(),a=i.getNode(),c=s.getNode(),u=t.is(a),d=t.is(c);if(u||d){const[o,i]=(0,r.Cku)(e),s=a.is(c),u=t.is(l?c:a),d=t.is(l?a:c);let f,h=0;s?(h=o>i?i:o,f=o>i?o:i):u?(h=l?i:o,f=void 0):d&&(h=0,f=l?o:i);const g=t.__text.slice(h,f);g!==t.__text&&("clone"===n&&(t=(0,r.U5P)(t)),t.__text=g)}}return t}function d(e){const t=e.getStyle(),n=i(t);o.set(t,n)}function f(e,t){const n=e.getFormatType(),r=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),r!==t.getIndent()&&t.setIndent(r)}function h(e,t,n=f){if(null===e)return;const o=e.getStartEndPoints(),i=new Map;let s=null;if(o){const[e,t]=o;s=(0,r.uTE)(),s.anchor.set(e.key,e.offset,e.type),s.focus.set(t.key,t.offset,t.type);const n=(0,r.BtT)(e.getNode(),r.w3H),l=(0,r.BtT)(t.getNode(),r.w3H);(0,r.ff4)(n)&&i.set(n.getKey(),n),(0,r.ff4)(l)&&i.set(l.getKey(),l)}for(const t of e.getNodes())if((0,r.ff4)(t)&&(0,r.w3H)(t))i.set(t.getKey(),t);else if(null===o){const e=(0,r.BtT)(t,r.w3H);(0,r.ff4)(e)&&i.set(e.getKey(),e)}for(const[e,r]of i){const o=t();n(r,o),r.replace(o,!0),s&&(e===s.anchor.key&&s.anchor.set(o.getKey(),s.anchor.offset,s.anchor.type),e===s.focus.key&&s.focus.set(o.getKey(),s.focus.offset,s.focus.type))}s&&e.is((0,r.vJq)())&&(0,r.n1P)(s)}function g(e){const t=p(e);return null!==t&&"vertical-rl"===t.writingMode}function p(e){const t=e.anchor.getNode();return(0,r.ff4)(t)?l(t):a(t)}function m(e,t){let n=g(e)?!t:t;_(e)&&(n=!n);const o=(0,r.Ave)(e.focus,n?"previous":"next");if((0,r.pGK)(o))return!1;for(const e of(0,r.mWO)(o)){if((0,r.cmH)(e))return!e.origin.isInline();if(!(0,r.ff4)(e.origin)){if((0,r.Cyw)(e.origin))return!0;break}}return!1}function _(e){const t=p(e);return null!==t&&"rtl"===t.direction}function y(e,t,n){const r=_(e);let o;o=g(e)||r?!n:n,function(e,t,n){e.modify(t?"extend":"move",n,"character")}(e,t,o)}},1725:(e,t,n)=>{n.d(t,{a:()=>d});var r=n(1714),o=n(228),i=n(1716),s=n(1720),l=n(1719);const a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect,c=(0,o.forwardRef)((function({editor:e,ariaActiveDescendant:t,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:s,ariaErrorMessage:l,ariaExpanded:c,ariaInvalid:u,ariaLabel:d,ariaLabelledBy:f,ariaMultiline:h,ariaOwns:g,ariaRequired:p,autoCapitalize:m,className:_,id:y,role:v="textbox",spellCheck:x=!0,style:S,tabIndex:C,"data-testid":b,...w},T){const[N,k]=(0,o.useState)(e.isEditable()),E=(0,o.useCallback)((t=>{t&&t.ownerDocument&&t.ownerDocument.defaultView?e.setRootElement(t):e.setRootElement(null)}),[e]),A=(0,o.useMemo)((()=>function(...e){return t=>{for(const n of e)"function"==typeof n?n(t):null!=n&&(n.current=t)}}(T,E)),[E,T]);return a((()=>(k(e.isEditable()),e.registerEditableListener((e=>{k(e)})))),[e]),(0,i.Y)("div",{"aria-activedescendant":N?t:void 0,"aria-autocomplete":N?n:"none","aria-controls":N?r:void 0,"aria-describedby":s,...null!=l?{"aria-errormessage":l}:{},"aria-expanded":N&&"combobox"===v?!!c:void 0,...null!=u?{"aria-invalid":u}:{},"aria-label":d,"aria-labelledby":f,"aria-multiline":h,"aria-owns":N?g:void 0,"aria-readonly":!N||void 0,"aria-required":p,autoCapitalize:m,className:_,contentEditable:N,"data-testid":b,id:y,ref:A,role:v,spellCheck:x,style:S,tabIndex:C,...w})}));function u(e){return e.getEditorState().read((0,s.yl)(e.isComposing()))}const d=(0,o.forwardRef)((function(e,t){const{placeholder:n,...o}=e,[s]=(0,r.DF)();return(0,i.FD)(i.FK,{children:[(0,i.Y)(c,{editor:s,...o,ref:t}),null!=n&&(0,i.Y)(f,{editor:s,content:n})]})}));function f({content:e,editor:t}){const n=function(e){const[t,n]=(0,o.useState)((()=>u(e)));return a((()=>{function t(){const t=u(e);n(t)}return t(),(0,l.Sd)(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(t),[r,s]=(0,o.useState)(t.isEditable());if((0,o.useLayoutEffect)((()=>(s(t.isEditable()),t.registerEditableListener((e=>{s(e)})))),[t]),!n)return null;let c=null;return"function"==typeof e?c=e(r):null!==e&&(c=e),null===c?null:(0,i.Y)("div",{"aria-hidden":!0,children:c})}},1726:(e,t,n)=>{n.d(t,{G:()=>d});var r=n(1714),o=n(1718),i=n(1719),s=n(1715);function l(e){e.undoStack=[],e.redoStack=[],e.current=null}function a(e,t,n){const r=function(e,t){let n=Date.now(),r=0;return(o,i,l,a,c,u)=>{const d=Date.now();if(u.has(s.n0X))return r=0,n=d,2;const f=function(e,t,n,r,o){if(null===e||0===n.size&&0===r.size&&!o)return 0;const i=t._selection,l=e._selection;if(o)return 1;if(!((0,s.I2P)(i)&&(0,s.I2P)(l)&&l.isCollapsed()&&i.isCollapsed()))return 0;const a=function(e,t,n){const r=e._nodeMap,o=[];for(const e of t){const t=r.get(e);void 0!==t&&o.push(t)}for(const[e,t]of n){if(!t)continue;const n=r.get(e);void 0===n||(0,s.hVZ)(n)||o.push(n)}return o}(t,n,r);if(0===a.length)return 0;if(a.length>1){const n=t._nodeMap,r=n.get(i.anchor.key),o=n.get(l.anchor.key);return r&&o&&!e._nodeMap.has(r.__key)&&(0,s.kFe)(r)&&1===r.__text.length&&1===i.anchor.offset?2:0}const c=a[0],u=e._nodeMap.get(c.__key);if(!(0,s.kFe)(u)||!(0,s.kFe)(c)||u.__mode!==c.__mode)return 0;const d=u.__text,f=c.__text;if(d===f)return 0;const h=i.anchor,g=l.anchor;if(h.key!==g.key||"text"!==h.type)return 0;const p=h.offset,m=g.offset,_=f.length-d.length;return 1===_&&m===p-1?2:-1===_&&m===p+1?3:-1===_&&m===p?4:0}(o,i,a,c,e.isComposing()),h=(()=>{const h=null===l||l.editor===e,g=u.has(s.bMH);if(!g&&h&&u.has(s.T40))return 0;if(null===o)return 1;const p=i._selection;if(!(a.size>0||c.size>0))return null!==p?0:2;const m="number"==typeof t?t:t.peek();return!1===g&&0!==f&&f===r&&d<n+m&&h||1===a.size&&function(e,t,n){const r=t._nodeMap.get(e),o=n._nodeMap.get(e),i=t._selection,l=n._selection;return!((0,s.I2P)(i)&&(0,s.I2P)(l)&&"element"===i.anchor.type&&"element"===i.focus.type&&"text"===l.anchor.type&&"text"===l.focus.type||!(0,s.kFe)(r)||!(0,s.kFe)(o)||r.__parent!==o.__parent)&&JSON.stringify(t.read((()=>r.exportJSON())))===JSON.stringify(n.read((()=>o.exportJSON())))}(Array.from(a)[0],o,i)?0:1})();return n=d,r=f,h}}(e,n),o=(0,i.Sd)(e.registerCommand(s.ZKf,(()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==r.length){const o=t.current,i=r.pop();null!==o&&(n.push(o),e.dispatchCommand(s.WWb,!0)),0===r.length&&e.dispatchCommand(s.KfJ,!1),t.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:s.n0X})}}(e,t),!0)),s.jZM),e.registerCommand(s.V30,(()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==n.length){const o=t.current;null!==o&&(r.push(o),e.dispatchCommand(s.KfJ,!0));const i=n.pop();0===n.length&&e.dispatchCommand(s.WWb,!1),t.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:s.n0X})}}(e,t),!0)),s.jZM),e.registerCommand(s.SKc,(()=>(l(t),!1)),s.jZM),e.registerCommand(s.t5V,(()=>(l(t),e.dispatchCommand(s.WWb,!1),e.dispatchCommand(s.KfJ,!1),!0)),s.jZM),e.registerUpdateListener((({editorState:n,prevEditorState:o,dirtyLeaves:i,dirtyElements:l,tags:a})=>{const c=t.current,u=t.redoStack,d=t.undoStack,f=null===c?null:c.editorState;if(null!==c&&n===f)return;const h=r(o,n,c,i,l,a);if(1===h)0!==u.length&&(t.redoStack=[],e.dispatchCommand(s.WWb,!1)),null!==c&&(d.push({...c}),e.dispatchCommand(s.KfJ,!0));else if(2===h)return;t.current={editor:e,editorState:n}})));return o}const c=(0,s.vE9)({build:(e,{delay:t,createInitialHistoryState:n,disabled:r})=>(0,o.v)({delay:t,disabled:r,historyState:n(e)}),config:(0,s.lVE)({createInitialHistoryState:function(){return{current:null,redoStack:[],undoStack:[]}},delay:300,disabled:"undefined"==typeof window}),name:"@lexical/history/History",register:(e,t,n)=>{const r=n.getOutput();return(0,o.QZ)((()=>r.disabled.value?void 0:a(e,r.historyState.value,r.delay)))}});(0,s.vE9)({dependencies:[(0,s.O0w)(c,{createInitialHistoryState:()=>{throw new Error("SharedHistory did not inherit parent history")},disabled:!0})],name:"@lexical/history/SharedHistory",register(e,t,n){const{output:r}=n.getDependency(c),i=function(e){return e?(0,o.xT)(e,c.name):null}(e._parentEditor);if(!i)return()=>{};const s=i.output;return(0,o.QZ)((()=>(0,o.vA)((()=>{r.delay.value=s.delay.value,r.historyState.value=s.historyState.value,r.disabled.value=s.disabled.value}))))}});var u=n(228);function d({delay:e,externalHistoryState:t}){const[n]=(0,r.DF)();return function(e,t,n=1e3){const r=(0,u.useMemo)((()=>t||{current:null,redoStack:[],undoStack:[]}),[t]);(0,u.useEffect)((()=>a(e,r,n)),[n,e,r])}(n,t,e),null}},1727:(e,t,n)=>{n.d(t,{D:()=>l});var r=n(1714),o=n(1715),i=n(228);const s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function l({ignoreHistoryMergeTagChange:e=!0,ignoreSelectionChange:t=!1,onChange:n}){const[i]=(0,r.DF)();return s((()=>{if(n)return i.registerUpdateListener((({editorState:r,dirtyElements:s,dirtyLeaves:l,prevEditorState:a,tags:c})=>{t&&0===s.size&&0===l.size||e&&c.has(o.T40)||a.isEmpty()||n(r,i,c)}))}),[i,e,t,n]),null}},1728:(e,t,n)=>{n.d(t,{R:()=>i});var r=n(1729),o=n(1716);function i({children:e,onError:t}){return(0,o.Y)(r.tH,{fallback:(0,o.Y)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:e})}},1730:(e,t,n)=>{n.d(t,{Q:()=>s});var r=n(1731),o=n(1714),i=n(228);function s({hasStrictIndent:e=!1}){const[t]=(0,o.DF)();return(0,i.useEffect)((()=>{if(!t.hasNodes([r.v5,r.YW]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[t]),(0,i.useEffect)((()=>{if(e)return(0,r.Js)(t)}),[t,e]),n=t,(0,i.useEffect)((()=>(0,r.cz)(n)),[n]),null;var n}},1731:(e,t,n)=>{n.d(t,{DE:()=>F,HY:()=>L,Js:()=>q,Mz:()=>N,YW:()=>C,cz:()=>H,i:()=>T,q7:()=>W,v5:()=>k,x:()=>J});var r=n(1718),o=n(1719),i=n(1715),s=n(1724);function l(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function a(e){let t=1,n=e.getParent();for(;null!=n;){if(N(n)){const e=n.getParent();if(L(e)){t++,n=e.getParent();continue}l(40)}return t}return t}function c(e){let t=e.getParent();L(t)||l(40);let n=t;for(;null!==n;)n=n.getParent(),L(n)&&(t=n);return t}function u(e){let t=[];const n=e.getChildren().filter(N);for(let e=0;e<n.length;e++){const r=n[e],o=r.getFirstChild();L(o)?t=t.concat(u(o)):t.push(r)}return t}function d(e){return N(e)&&L(e.getFirstChild())}function f(e){return T().append(e)}function h(e,t){return N(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function g(e){const t=(0,i.vJq)();if(null!==t){let n=t.getNodes();if((0,i.I2P)(t)){const r=t.getStartEndPoints();null===r&&l(143);const[o]=r,s=o.getNode(),a=s.getParent();if((0,i.IqF)(s)){const e=s.getFirstChild();if(e)n=e.selectStart().getNodes();else{const e=(0,i.lJ7)();s.append(e),n=e.select().getNodes()}}else if(h(s,n)){const t=F(e);if((0,i.IqF)(a)){s.replace(t);const e=T();(0,i.ff4)(s)&&(e.setFormat(s.getFormatType()),e.setIndent(s.getIndent())),t.append(e)}else if(N(s)){const e=s.getParentOrThrow();p(t,e.getChildren()),e.replace(t)}return}}const r=new Set;for(let t=0;t<n.length;t++){const o=n[t];if((0,i.ff4)(o)&&o.isEmpty()&&!N(o)&&!r.has(o.getKey())){m(o,e);continue}let s=(0,i.jG6)(o)?o.getParent():N(o)&&o.isEmpty()?o:null;for(;null!=s;){const t=s.getKey();if(L(s)){if(!r.has(t)){const n=F(e);p(n,s.getChildren()),s.replace(n),r.add(t)}break}{const n=s.getParent();if((0,i.IqF)(n)&&!r.has(t)){r.add(t),m(s,e);break}s=n}}}}}function p(e,t){e.splice(e.getChildrenSize(),0,t)}function m(e,t){if(L(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),o=T();let i;if(p(o,e.getChildren()),L(n)&&t===n.getListType())n.append(o),L(r)&&t===r.getListType()&&(p(n,r.getChildren()),r.remove()),i=n;else if(L(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(o),i=r;else{const n=F(t);n.append(o),e.replace(n),i=n}return o.setFormat(e.getFormatType()),o.setIndent(e.getIndent()),e.remove(),i}function _(e,t){const n=e.getLastChild(),r=t.getFirstChild();n&&r&&d(n)&&d(r)&&(_(n.getFirstChild(),r.getFirstChild()),r.remove());const o=t.getChildren();o.length>0&&e.append(...o),t.remove()}function y(e){const t="check"!==e.getListType();let n=e.getStart();for(const r of e.getChildren())N(r)&&(r.getValue()!==n&&r.setValue(n),t&&null!=r.getLatest().__checked&&r.setChecked(void 0),L(r.getFirstChild())||n++)}function v(e){const t=new Set;if(d(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),o=e.getPreviousSibling();if(d(r)&&d(o)){const n=o.getFirstChild();if(L(n)){n.append(e);const o=r.getFirstChild();L(o)&&(p(n,o.getChildren()),r.remove(),t.add(r.getKey()))}}else if(d(r)){const t=r.getFirstChild();if(L(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e)}}else if(d(o)){const t=o.getFirstChild();L(t)&&t.append(e)}else if(L(n)){const t=T().setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle()),i=F(n.getListType()).setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle());t.append(i),i.append(e),o?o.insertAfter(t):r?r.insertBefore(t):n.append(t)}}function x(e){if(d(e))return;const t=e.getParent(),n=t?t.getParent():void 0;if(L(n?n.getParent():void 0)&&N(n)&&L(t)){const r=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(e.is(r))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(o))n.insertAfter(e),t.isEmpty()&&n.remove();else{const r=t.getListType(),o=T(),i=F(r);o.append(i),e.getPreviousSiblings().forEach((e=>i.append(e)));const s=T(),l=F(r);s.append(l),p(l,e.getNextSiblings()),n.insertBefore(o),n.insertAfter(s),n.replace(e)}}}function S(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}class C extends i.fGB{__value;__checked;$config(){return this.config("listitem",{$transform:e=>{if(null==e.__checked)return;const t=e.getParent();L(t)&&"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)},extends:i.fGB,importDOM:(0,i.kBm)({li:()=>({conversion:b,priority:0})})})}constructor(e=1,t=void 0,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__value=e.__value,this.__checked=e.__checked}createDOM(e){const t=document.createElement("li");return this.updateListItemDOM(null,t,e),t}updateListItemDOM(e,t,n){!function(e,t,n){const r=t.getParent();!L(r)||"check"!==r.getListType()||L(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}(t,this,e),t.value=this.__value,function(e,t,n){const r=[],i=[],s=t.list,l=s?s.listitem:void 0;let a;if(s&&s.nested&&(a=s.nested.listitem),void 0!==l&&r.push(...S(l)),s){const e=n.getParent(),t=L(e)&&"check"===e.getListType(),o=n.getChecked();t&&!o||i.push(s.listitemUnchecked),t&&o||i.push(s.listitemChecked),t&&r.push(o?s.listitemChecked:s.listitemUnchecked)}if(void 0!==a){const e=S(a);n.getChildren().some((e=>L(e)))?r.push(...e):i.push(...e)}i.length>0&&(0,o.HE)(e,...i),r.length>0&&(0,o.ZB)(e,...r)}(t,n.theme,this);const r=e?e.__style:"",i=this.__style;r!==i&&(""===i?t.removeAttribute("style"):t.style.cssText=i),function(e,t,n){const r=(0,s.Wh)(t.__textStyle);for(const t in r)e.style.setProperty(`--listitem-marker-${t}`,r[t]);if(n)for(const t in(0,s.Wh)(n.__textStyle))t in r||e.style.removeProperty(`--listitem-marker-${t}`)}(t,this,e)}updateDOM(e,t,n){const r=t;return this.updateListItemDOM(e,r,n),!1}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config),n=this.getFormatType();n&&(t.style.textAlign=n);const r=this.getDirection();return r&&(t.dir=r),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let t=0;t<e.length;t++){const n=e[t];if((0,i.ff4)(n)&&this.canMergeWith(n)){const e=n.getChildren();this.append(...e),n.remove()}else super.append(n)}return this}replace(e,t){if(N(e))return super.replace(e);this.setIndent(0);const n=this.getParentOrThrow();if(!L(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{const t=F(n.getListType());let r=this.getNextSibling();for(;r;){const e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&((0,i.ff4)(e)||l(139),this.getChildren().forEach((t=>{e.append(t)}))),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e,t=!0){const n=this.getParentOrThrow();if(L(n)||l(39),N(e))return super.insertAfter(e,t);const r=this.getNextSiblings();if(n.insertAfter(e,t),0!==r.length){const o=F(n.getListType());r.forEach((e=>o.append(e))),e.insertAfter(o,t)}return e}remove(e){const t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&d(t)&&d(n)&&(_(t.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(e,t=!0){const n=T().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(n,t),n}collapseAtStart(e){const t=(0,i.lJ7)();this.getChildren().forEach((e=>t.append(e)));const n=this.getParentOrThrow(),r=n.getParentOrThrow(),o=N(r);if(1===n.getChildrenSize())if(o)n.remove(),r.select();else{n.insertBefore(t),n.remove();const r=e.anchor,o=e.focus,i=t.getKey();"element"===r.type&&r.getNode().is(this)&&r.set(i,r.offset,"element"),"element"===o.type&&o.getNode().is(this)&&o.set(i,o.offset,"element")}else n.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const n=this.getParent();return L(n)&&(t=n.getListType()),"check"===t?Boolean(e.__checked):void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(null===e||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;N(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){"number"!=typeof e&&l(117),(e=Math.floor(e))>=0||l(199);let t=this.getIndent();for(;t!==e;)t<e?(v(this),t++):(x(this),t--);return this}canInsertAfter(e){return N(e)}canReplaceWith(e){return N(e)}canMergeWith(e){return N(e)||(0,i.bSg)(e)}extractWithChild(e,t){if(!(0,i.I2P)(t))return!1;const n=t.anchor.getNode(),r=t.focus.getNode();return this.isParentOf(n)&&this.isParentOf(r)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return F("bullet")}canMergeWhenEmpty(){return!0}}function b(e){if(e.classList.contains("task-list-item"))for(const t of e.children)if("INPUT"===t.tagName)return w(t);if(e.classList.contains("joplin-checkbox"))for(const t of e.children)if(t.classList.contains("checkbox-wrapper")&&t.children.length>0&&"INPUT"===t.children[0].tagName)return w(t.children[0]);const t=e.getAttribute("aria-checked");return{node:T("true"===t||"false"!==t&&void 0)}}function w(e){return"checkbox"!==e.getAttribute("type")?{node:null}:{node:T(e.hasAttribute("checked"))}}function T(e){return(0,i.pTq)(new C(void 0,e))}function N(e){return e instanceof C}class k extends i.fGB{__tag;__start;__listType;$config(){return this.config("list",{$transform:e=>{!function(e){const t=e.getNextSibling();L(t)&&e.getListType()===t.getListType()&&_(e,t)}(e),y(e)},extends:i.fGB,importDOM:(0,i.kBm)({ol:()=>({conversion:M,priority:0}),ul:()=>({conversion:M,priority:0})})})}constructor(e="number",t=1,n){super(n);const r=O[e]||e;this.__listType=r,this.__tag="number"===r?"ol":"ul",this.__start=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__listType=e.__listType,this.__tag=e.__tag,this.__start=e.__start}getTag(){return this.getLatest().__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag="number"===e?"ol":"ul",t}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,E(r,e.theme,this),r}updateDOM(e,t,n){return e.__tag!==this.__tag||e.__listType!==this.__listType||(E(t,n.theme,this),!1)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return(0,i.sby)(t)&&(1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,n){let r=n;for(let e=0;e<n.length;e++){const t=n[e];N(t)||(r===n&&(r=[...n]),r[e]=T().append(!(0,i.ff4)(t)||L(t)||t.isInline()?t:(0,i.sTu)(t.getTextContent())))}return super.splice(e,t,r)}extractWithChild(e){return N(e)}}function E(e,t,n){const r=[],i=[],s=t.list;if(void 0!==s){const e=s[`${n.__tag}Depth`]||[],t=a(n)-1,o=t%e.length,l=e[o],c=s[n.__tag];let u;const d=s.nested,f=s.checklist;if(void 0!==d&&d.list&&(u=d.list),void 0!==c&&r.push(c),void 0!==f&&"check"===n.__listType&&r.push(f),void 0!==l){r.push(...S(l));for(let t=0;t<e.length;t++)t!==o&&i.push(n.__tag+t)}if(void 0!==u){const e=S(u);t>1?r.push(...e):i.push(...e)}}i.length>0&&(0,o.HE)(e,...i),r.length>0&&(0,o.ZB)(e,...r)}function A(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(N(r)){t.push(r);const e=r.getChildren();e.length>1&&e.forEach((e=>{L(e)&&t.push(f(e))}))}else t.push(f(r))}return t}function M(e){const t=e.nodeName.toLowerCase();let n=null;return"ol"===t?n=F("number",e.start):"ul"===t&&(n=function(e){if("check"===e.getAttribute("__lexicallisttype")||e.classList.contains("contains-task-list")||"1"===e.getAttribute("data-is-checklist"))return!0;for(const t of e.childNodes)if((0,i.sby)(t)&&t.hasAttribute("aria-checked"))return!0;return!1}(e)?F("check"):F("bullet")),{after:A,node:n}}const O={ol:"number",ul:"bullet"};function F(e="number",t=1){return(0,i.pTq)(new k(e,t))}function L(e){return e instanceof k}const P=(0,i.guI)("INSERT_CHECK_LIST_COMMAND");function R(e,t){const n=e.target;if(!(0,i.sby)(n))return;const r=n.firstChild;if((0,i.sby)(r)&&("UL"===r.tagName||"OL"===r.tagName))return;const s=n.parentNode;if(!s||"check"!==s.__lexicalListType)return;const l=n.getBoundingClientRect(),a=(0,o.OV)(n),c=e.clientX/a,u=window.getComputedStyle?window.getComputedStyle(n,"::before"):{width:"0px"},d=parseFloat(u.width),f="touch"===e.pointerType?32:0;("rtl"===n.dir?c<l.right+f&&c>l.right-d-f:c>l.left-f&&c<l.left+d+f)&&t()}function D(e){R(e,(()=>{if((0,i.sby)(e.target)){const t=e.target,n=(0,i.scG)(t);null!=n&&n.isEditable()&&n.update((()=>{const e=(0,i.xL4)(t);N(e)&&(t.focus(),e.toggleChecked())}))}}))}function I(e){R(e,(()=>{e.preventDefault()}))}function B(){const e=document.activeElement;return(0,i.sby)(e)&&"LI"===e.tagName&&null!=e.parentNode&&"check"===e.parentNode.__lexicalListType?e:null}function z(e,t,n){const r=B();return null!=r&&t.update((()=>{const o=(0,i.xL4)(r);if(!N(o))return;const s=function(e,t){let n=t?e.getPreviousSibling():e.getNextSibling(),r=e;for(;null==n&&N(r);)r=r.getParentOrThrow().getParent(),null!=r&&(n=t?r.getPreviousSibling():r.getNextSibling());for(;N(n);){const e=t?n.getLastChild():n.getFirstChild();if(!L(e))return n;n=t?e.getLastChild():e.getFirstChild()}return null}(o,n);if(null!=s){s.selectStart();const n=t.getElementByKey(s.__key);null!=n&&(e.preventDefault(),setTimeout((()=>{n.focus()}),0))}})),!1}const K=(0,i.guI)("UPDATE_LIST_START_COMMAND"),W=(0,i.guI)("INSERT_UNORDERED_LIST_COMMAND"),J=(0,i.guI)("INSERT_ORDERED_LIST_COMMAND"),$=(0,i.guI)("REMOVE_LIST_COMMAND");function H(e){return(0,o.Sd)(e.registerCommand(J,(()=>(g("number"),!0)),i.AcJ),e.registerCommand(K,(e=>{const{listNodeKey:t,newStart:n}=e,r=(0,i.nsf)(t);return!!L(r)&&("number"===r.getListType()&&(r.setStart(n),y(r)),!0)}),i.AcJ),e.registerCommand(W,(()=>(g("bullet"),!0)),i.AcJ),e.registerCommand($,(()=>(function(){const e=(0,i.vJq)();if((0,i.I2P)(e)){const t=new Set,n=e.getNodes(),r=e.anchor.getNode();if(h(r,n))t.add(c(r));else for(let e=0;e<n.length;e++){const r=n[e];if((0,i.jG6)(r)){const e=(0,o.eu)(r,C);null!=e&&t.add(c(e))}}for(const n of t){let t=n;const r=u(n);for(const n of r){const r=(0,i.lJ7)().setTextStyle(e.style).setTextFormat(e.format);p(r,n.getChildren()),t.insertAfter(r),t=r,n.__key===e.anchor.key&&(0,i.wp6)(e.anchor,(0,i.lSZ)((0,i.uwZ)(r,"next"))),n.__key===e.focus.key&&(0,i.wp6)(e.focus,(0,i.lSZ)((0,i.uwZ)(r,"next"))),n.remove()}n.remove()}}}(),!0)),i.AcJ),e.registerCommand(i.XKQ,(()=>function(){const e=(0,i.vJq)();if(!(0,i.I2P)(e)||!e.isCollapsed())return!1;const t=e.anchor.getNode();if(!N(t)||0!==t.getChildrenSize())return!1;const n=c(t),r=t.getParent();L(r)||l(40);const o=r.getParent();let s;if((0,i.IqF)(o))s=(0,i.lJ7)(),n.insertAfter(s);else{if(!N(o))return!1;s=T(),o.insertAfter(s)}s.setTextStyle(e.style).setTextFormat(e.format).select();const a=t.getNextSiblings();if(a.length>0){const e=F(r.getListType());if(N(s)){const t=T();t.append(e),s.insertAfter(t)}else s.insertAfter(e);e.append(...a)}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!N(e)&&!L(e))break;t=e}t.remove()}(t),!0}()),i.AcJ),e.registerNodeTransform(C,(e=>{const t=e.getFirstChild();if(t){if((0,i.kFe)(t)){const n=t.getStyle(),r=t.getFormat();e.getTextStyle()!==n&&e.setTextStyle(n),e.getTextFormat()!==r&&e.setTextFormat(r)}}else{const t=(0,i.vJq)();(0,i.I2P)(t)&&(t.style!==e.getTextStyle()||t.format!==e.getTextFormat())&&t.isCollapsed()&&e.is(t.anchor.getNode())&&e.setTextStyle(t.style).setTextFormat(t.format)}})),e.registerNodeTransform(i.Ey8,(e=>{const t=e.getParent();if(N(t)&&e.is(t.getFirstChild())){const n=e.getStyle(),r=e.getFormat();n===t.getTextStyle()&&r===t.getTextFormat()||t.setTextStyle(n).setTextFormat(r)}})))}function q(e){const t=e=>{const t=e.getParent();if(L(e.getFirstChild())||!L(t))return;const n=(0,i.BtT)(e,(e=>N(e)&&L(e.getParent())&&N(e.getPreviousSibling())));if(null===n&&e.getIndent()>0)e.setIndent(0);else if(N(n)){const r=n.getPreviousSibling();if(N(r)){const n=function(e){let t=e,n=t.getFirstChild();for(;L(n);){const e=n.getLastChild();if(!N(e))break;t=e,n=t.getFirstChild()}return t}(r),o=n.getParent();if(L(o)){const n=a(o);n+1<a(t)&&e.setIndent(n)}}}};return e.registerNodeTransform(k,(e=>{const n=[e];for(;n.length>0;){const e=n.shift();if(L(e))for(const r of e.getChildren())if(N(r)){t(r);const e=r.getFirstChild();L(e)&&n.push(e)}}}))}const U=(0,i.vE9)({build:(e,t,n)=>(0,r.v)(t),config:(0,i.lVE)({hasStrictIndent:!1}),name:"@lexical/list/List",nodes:()=>[k,C],register(e,t,n){const i=n.getOutput();return(0,o.Sd)(H(e),(0,r.QZ)((()=>i.hasStrictIndent.value?q(e):void 0)))}});(0,i.vE9)({dependencies:[U],name:"@lexical/list/CheckList",register:function(e){return(0,o.Sd)(e.registerCommand(P,(()=>(g("check"),!0)),i.AcJ),e.registerCommand(i.bbF,(t=>z(t,e,!1)),i.AcJ),e.registerCommand(i.UDz,(t=>z(t,e,!0)),i.AcJ),e.registerCommand(i.Q$N,(()=>{if(null!=B()){const t=e.getRootElement();return null!=t&&t.focus(),!0}return!1}),i.AcJ),e.registerCommand(i.Huu,(t=>{const n=B();return!(null==n||!e.isEditable()||(e.update((()=>{const e=(0,i.xL4)(n);N(e)&&(t.preventDefault(),e.toggleChecked())})),0))}),i.AcJ),e.registerCommand(i.AX0,(t=>e.getEditorState().read((()=>{const n=(0,i.vJq)();if((0,i.I2P)(n)&&n.isCollapsed()){const{anchor:r}=n,o="element"===r.type;if(o||0===r.offset){const n=r.getNode(),s=(0,i.BtT)(n,(e=>(0,i.ff4)(e)&&!e.isInline()));if(N(s)){const r=s.getParent();if(L(r)&&"check"===r.getListType()&&(o||s.getFirstDescendant()===n)){const n=e.getElementByKey(s.__key);if(null!=n&&document.activeElement!==n)return n.focus(),t.preventDefault(),!0}}}}return!1}))),i.AcJ),e.registerRootListener(((e,t)=>{null!==e&&(e.addEventListener("click",D),e.addEventListener("pointerdown",I)),null!==t&&(t.removeEventListener("click",D),t.removeEventListener("pointerdown",I))})))}})},1732:(e,t,n)=>{n.d(t,{W:()=>l});var r=n(1718),o=n(1733),i=n(1714),s=n(228);function l({validateUrl:e,attributes:t}){const[n]=(0,i.DF)();return(0,s.useEffect)((()=>{if(!n.hasNodes([o.Db]))throw new Error("LinkPlugin: LinkNode not registered on editor")})),(0,s.useEffect)((()=>(0,o.Ou)(n,(0,r.v)({attributes:t,validateUrl:e}))),[n,e,t]),null}},1733:(e,t,n)=>{n.d(t,{Db:()=>l,FJ:()=>u,Ou:()=>v,iK:()=>h,k_:()=>d,yW:()=>g,zA:()=>c});var r=n(1719),o=n(1715),i=n(1718);const s=new Set(["http:","https:","mailto:","sms:","tel:"]);class l extends o.fGB{__url;__target;__rel;__title;static getType(){return"link"}static clone(e){return new l(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e="",t={},n){super(n);const{target:r=null,rel:o=null,title:i=null}=t;this.__url=e,this.__target=r,this.__rel=o,this.__title=i}createDOM(e){const t=document.createElement("a");return this.updateLinkDOM(null,t,e),(0,r.ZB)(t,e.theme.link),t}updateLinkDOM(e,t,n){if((0,o.nYP)(t)){e&&e.__url===this.__url||(t.href=this.sanitizeUrl(this.__url));for(const n of["target","rel","title"]){const r=`__${n}`,o=this[r];e&&e[r]===o||(o?t[n]=o:t.removeAttribute(n))}}}updateDOM(e,t,n){return this.updateLinkDOM(e,t,n),!1}static importDOM(){return{a:e=>({conversion:a,priority:1})}}static importJSON(e){return c().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){e=y(e);try{const t=new URL(y(e));if(!s.has(t.protocol))return"about:blank"}catch(t){return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){const t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){const t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}insertNewAfter(e,t=!0){const n=c(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,t),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!(0,o.I2P)(t))return!1;const r=t.anchor.getNode(),i=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}}function a(e){let t=null;if((0,o.nYP)(e)){const n=e.textContent;(null!==n&&""!==n||e.children.length>0)&&(t=c(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function c(e="",t){return(0,o.pTq)(new l(e,t))}function u(e){return e instanceof l}class d extends l{__isUnlinked;constructor(e="",t={},n){super(e,t,n),this.__isUnlinked=void 0!==t.isUnlinked&&null!==t.isUnlinked&&t.isUnlinked}static getType(){return"autolink"}static clone(e){return new d(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,n){return super.updateDOM(e,t,n)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return f().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,t=!0){const n=this.getParentOrThrow().insertNewAfter(e,t);if((0,o.ff4)(n)){const e=f(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return n.append(e),e}return null}}function f(e="",t){return(0,o.pTq)(new d(e,t))}function h(e){return e instanceof d}const g=(0,o.guI)("TOGGLE_LINK_COMMAND");function p(e,t){if("element"===e.type){const n=e.getNode();return(0,o.ff4)(n)||function(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),n.getChildren()[e.offset+t]||null}return null}function m(e,t={}){let n;if(e&&"object"==typeof e){const{url:r,...o}=e;n=r,t={...o,...t}}else n=e;const{target:r,title:i}=t,s=void 0===t.rel?"noreferrer":t.rel,l=(0,o.vJq)();if(null===l||!(0,o.I2P)(l)&&!(0,o.RTZ)(l))return;if((0,o.RTZ)(l)){const e=l.getNodes();if(0===e.length)return;return void e.forEach((e=>{if(null===n){const t=(0,o.BtT)(e,(e=>!h(e)&&u(e)));t&&(t.insertBefore(e),0===t.getChildren().length&&t.remove())}else{const t=(0,o.BtT)(e,(e=>!h(e)&&u(e)));if(t)t.setURL(n),void 0!==r&&t.setTarget(r),void 0!==s&&t.setRel(s);else{const t=c(n,{rel:s,target:r});e.insertBefore(t),t.append(e)}}}))}const a=l.extract();if(null===n){const e=new Set;return void a.forEach((t=>{const n=t.getParent();if(u(n)&&!h(n)){const t=n.getKey();if(e.has(t))return;!function(e,t){const n=new Set(t.filter((t=>e.isParentOf(t))).map((e=>e.getKey()))),r=e.getChildren(),o=r.filter((e=>n.has(e.getKey())));if(o.length===r.length)return r.forEach((t=>e.insertBefore(t))),void e.remove();const i=r.findIndex((e=>n.has(e.getKey()))),s=r.findLastIndex((e=>n.has(e.getKey()))),l=0===i,a=s===r.length-1;if(l)o.forEach((t=>e.insertBefore(t)));else if(a)for(let t=o.length-1;t>=0;t--)e.insertAfter(o[t]);else{for(let t=o.length-1;t>=0;t--)e.insertAfter(o[t]);const t=r.slice(s+1);if(t.length>0){const n=c(e.getURL(),{rel:e.getRel(),target:e.getTarget(),title:e.getTitle()});o[o.length-1].insertAfter(n),t.forEach((e=>n.append(e)))}}}(n,a),e.add(t)}}))}const d=new Set,f=e=>{d.has(e.getKey())||(d.add(e.getKey()),e.setURL(n),void 0!==r&&e.setTarget(r),void 0!==s&&e.setRel(s),void 0!==i&&e.setTitle(i))};if(1===a.length){const e=a[0],t=(0,o.BtT)(e,u);if(null!==t)return f(t)}!function(e){const t=(0,o.vJq)();if(!(0,o.I2P)(t))return e();const n=(0,o.CaD)(t),r=n.isBackward(),i=p(n.anchor,r?-1:0),s=p(n.focus,r?0:-1);if(e(),i||s){const e=(0,o.vJq)();if((0,o.I2P)(e)){const t=e.clone();if(i){const e=i.getParent();e&&t.anchor.set(e.getKey(),i.getIndexWithinParent()+(r?1:0),"element")}if(s){const e=s.getParent();e&&t.focus.set(e.getKey(),s.getIndexWithinParent()+(r?0:1),"element")}(0,o.n1P)((0,o.CaD)(t))}}}((()=>{let e=null;for(const t of a){if(!t.isAttached())continue;const l=(0,o.BtT)(t,u);if(l){f(l);continue}if((0,o.ff4)(t)){if(!t.isInline())continue;if(u(t)){if(!(h(t)||null!==e&&e.getParentOrThrow().isParentOf(t))){f(t),e=t;continue}for(const e of t.getChildren())t.insertBefore(e);t.remove();continue}}const a=t.getPreviousSibling();u(a)&&a.is(e)?a.append(t):(e=c(n,{rel:s,target:r,title:i}),t.insertAfter(e),e.append(t))}}))}const _=/^\+?[0-9\s()-]{5,}$/;function y(e){return e.match(/^[a-z][a-z0-9+.-]*:/i)||e.match(/^[/#.]/)?e:e.includes("@")?`mailto:${e}`:_.test(e)?`tel:${e}`:`https://${e}`}function v(e,t){return(0,r.Sd)((0,i.QZ)((()=>e.registerCommand(g,(e=>{const n=t.validateUrl.peek(),r=t.attributes.peek();if(null===e)return m(null),!0;if("string"==typeof e)return!(void 0!==n&&!n(e)||(m(e,r),0));{const{url:t,target:n,rel:o,title:i}=e;return m(t,{...r,rel:o,target:n,title:i}),!0}}),o.AcJ))),(0,i.QZ)((()=>{const n=t.validateUrl.value;if(!n)return;const i=t.attributes.value;return e.registerCommand(o.waI,(t=>{const s=(0,o.vJq)();if(!(0,o.I2P)(s)||s.isCollapsed()||!(0,r.xj)(t,ClipboardEvent))return!1;if(null===t.clipboardData)return!1;const l=t.clipboardData.getData("text");return!!n(l)&&!s.getNodes().some((e=>(0,o.ff4)(e)))&&(e.dispatchCommand(g,{...i,url:l}),t.preventDefault(),!0)}),o.AcJ)})))}const x=(0,o.vE9)({build:(e,t,n)=>(0,i.v)(t),config:{attributes:void 0,validateUrl:void 0},mergeConfig(e,t){const n=(0,o.Tc1)(e,t);return e.attributes&&(n.attributes=(0,o.Tc1)(e.attributes,n.attributes)),n},name:"@lexical/link/Link",nodes:()=>[l],register:(e,t,n)=>v(e,n.getOutput())});function S(e,t){for(let n=0;n<t.length;n++){const r=t[n](e);if(r)return r}return null}(0,o.vE9)({build:(e,t,n)=>(0,i.v)(t),config:(0,o.lVE)({disabled:!1,newTab:!1}),dependencies:[x],name:"@lexical/link/ClickableLink",register:(e,t,n)=>function(e,t,n={}){const r=n=>{const r=n.target;if(!(0,o.vAA)(r))return;const i=(0,o.scG)(r);if(null===i)return;let s=null,l=null;if(i.update((()=>{const e=(0,o.xL4)(r);if(null!==e){const n=(0,o.BtT)(e,o.ff4);if(!t.disabled.peek())if(u(n))s=n.sanitizeUrl(n.getURL()),l=n.getTarget();else{const e=function(e,t){let n=e;for(;null!=n;){if(t(n))return n;n=n.parentNode}return null}(r,o.nYP);null!==e&&(s=e.href,l=e.target)}}})),null===s||""===s)return;const a=e.getEditorState().read(o.vJq);if((0,o.I2P)(a)&&!a.isCollapsed())return void n.preventDefault();const c="auxclick"===n.type&&1===n.button;window.open(s,t.newTab.peek()||c||n.metaKey||n.ctrlKey||"_blank"===l?"_blank":"_self"),n.preventDefault()},i=e=>{1===e.button&&r(e)};return e.registerRootListener(((e,t)=>{null!==t&&(t.removeEventListener("click",r),t.removeEventListener("mouseup",i)),null!==e&&(e.addEventListener("click",r,n),e.addEventListener("mouseup",i,n))}))}(e,n.getOutput())});const C=/[.,;\s]/;function b(e){return C.test(e)}function w(e){return b(e[e.length-1])}function T(e){return b(e[0])}function N(e){let t=e.getPreviousSibling();return(0,o.ff4)(t)&&(t=t.getLastDescendant()),null===t||(0,o.wH$)(t)||(0,o.kFe)(t)&&w(t.getTextContent())}function k(e){let t=e.getNextSibling();return(0,o.ff4)(t)&&(t=t.getFirstDescendant()),null===t||(0,o.wH$)(t)||(0,o.kFe)(t)&&T(t.getTextContent())}function E(e,t,n,r){return!!(e>0?b(n[e-1]):N(r[0]))&&(t<n.length?b(n[t]):k(r[r.length-1]))}function A(e,t,n){const r=[],o=[],i=[];let s=0,l=0;const a=[...e];for(;a.length>0;){const e=a[0],c=e.getTextContent().length,u=l;l+c<=t?(r.push(e),s+=c):u>=n?i.push(e):o.push(e),l+=c,a.shift()}return[s,r,o,i]}function M(e,t,n,r){const i=f(r.url,r.attributes);if(1===e.length){let s,l=e[0];0===t?[s,l]=l.splitText(n):[,s,l]=l.splitText(t,n);const a=(0,o.sTu)(r.text);return a.setFormat(s.getFormat()),a.setDetail(s.getDetail()),a.setStyle(s.getStyle()),i.append(a),s.replace(i),l}if(e.length>1){const r=e[0];let s,l=r.getTextContent().length;0===t?s=r:[,s]=r.splitText(t);const a=[];let c;for(let t=1;t<e.length;t++){const r=e[t],o=r.getTextContent().length,i=l;if(i<n)if(l+o<=n)a.push(r);else{const[e,t]=r.splitText(n-i);a.push(e),c=t}l+=o}const u=(0,o.vJq)(),d=u?u.getNodes().find(o.kFe):void 0,f=(0,o.sTu)(s.getTextContent());return f.setFormat(s.getFormat()),f.setDetail(s.getDetail()),f.setStyle(s.getStyle()),i.append(f,...a),d&&d===s&&((0,o.I2P)(u)?f.select(u.anchor.offset,u.focus.offset):(0,o.RTZ)(u)&&f.select(0,f.getTextContent().length)),s.replace(i),c}}function O(e,t,n){const r=e.getChildren(),i=r.length;for(let t=0;t<i;t++){const i=r[t];if(!(0,o.kFe)(i)||!i.isSimpleText())return F(e),void n(null,e.getURL())}const s=e.getTextContent(),l=S(s,t);if(null===l||l.text!==s)return F(e),void n(null,e.getURL());if(!N(e)||!k(e))return F(e),void n(null,e.getURL());const a=e.getURL();if(a!==l.url&&(e.setURL(l.url),n(l.url,a)),l.attributes){const t=e.getRel();t!==l.attributes.rel&&(e.setRel(l.attributes.rel||null),n(l.attributes.rel||null,t));const r=e.getTarget();r!==l.attributes.target&&(e.setTarget(l.attributes.target||null),n(l.attributes.target||null,r))}}function F(e){const t=e.getChildren();for(let n=t.length-1;n>=0;n--)e.insertAfter(t[n]);return e.remove(),t.map((e=>e.getLatest()))}const L={changeHandlers:[],matchers:[]};(0,o.vE9)({config:L,dependencies:[x],mergeConfig(e,t){const n=(0,o.Tc1)(e,t);for(const r of["matchers","changeHandlers"]){const o=t[r];Array.isArray(o)&&(n[r]=[...e[r],...o])}return n},name:"@lexical/link/AutoLink",register:function(e,t=L){const{matchers:n,changeHandlers:i}=t,s=(e,t)=>{for(const n of i)n(e,t)};return(0,r.Sd)(e.registerNodeTransform(o.Ey8,(e=>{const t=e.getParentOrThrow(),r=e.getPreviousSibling();if(h(t)&&!t.getIsUnlinked())O(t,n,s);else if(!u(t)){if(e.isSimpleText()&&(T(e.getTextContent())||!h(r))){const t=function(e){const t=[e];let n=e.getNextSibling();for(;null!==n&&(0,o.kFe)(n)&&n.isSimpleText()&&(t.push(n),!/[\s]/.test(n.getTextContent()));)n=n.getNextSibling();return t}(e);!function(e,t,n){let r=[...e];const o=r.map((e=>e.getTextContent())).join("");let i,s=o,l=0;for(;(i=S(s,t))&&null!==i;){const e=i.index,t=e+i.length;if(E(l+e,l+t,o,r)){const[o,,s,a]=A(r,l+e,l+t),c=M(s,l+e-o,l+t-o,i);r=c?[c,...a]:a,n(i.url,null),l=0}else l+=t;s=s.substring(t)}}(t,n,s)}!function(e,t,n){const r=e.getPreviousSibling(),o=e.getNextSibling(),i=e.getTextContent();var s;!h(r)||r.getIsUnlinked()||T(i)&&(s=i,!(r.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(s):/^\.[a-zA-Z0-9]{1,}/.test(s)))||(r.append(e),O(r,t,n),n(null,r.getURL())),!h(o)||o.getIsUnlinked()||w(i)||(F(o),O(o,t,n),n(null,o.getURL()))}(e,n,s)}})),e.registerCommand(g,(e=>{const t=(0,o.vJq)();return!(null!==e||!(0,o.I2P)(t)||(t.extract().forEach((e=>{const t=e.getParent();h(t)&&(t.setIsUnlinked(!t.getIsUnlinked()),t.markDirty())})),1))}),o.AcJ))}})},1734:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1718),o=n(1714),i=n(1735),s=n(228);function l({hasCellMerge:e=!0,hasCellBackgroundColor:t=!0,hasTabHandler:n=!0,hasHorizontalScroll:l=!1,hasNestedTables:a=!1}){const[c]=(0,o.DF)();(0,s.useEffect)((()=>{(0,i.FY)(c)!==l&&((0,i.hi)(c,l),c.registerNodeTransform(i.HA,(()=>{}))())}),[c,l]);const u=(0,s.useMemo)((()=>(0,r.vP)(!1)),[]);return u.peek()!==a&&(u.value=a),(0,s.useEffect)((()=>(0,i.xT)(c,{hasNestedTables:u})),[c,u]),(0,s.useEffect)((()=>(0,i.Ej)(c,n)),[c,n]),(0,s.useEffect)((()=>{if(!e)return(0,i.nq)(c)}),[c,e]),(0,s.useEffect)((()=>{if(!t)return c.registerNodeTransform(i.B9,(e=>{null!==e.getBackgroundColor()&&e.setBackgroundColor(null)}))}),[c,t,e]),null}},1735:(e,t,n)=>{n.d(t,{B9:()=>c,Ej:()=>Fe,FY:()=>Se,HA:()=>be,hi:()=>Ce,hx:()=>y,np:()=>f,nq:()=>Oe,pK:()=>Te,py:()=>m,xT:()=>Le});var r=n(1719),o=n(1715),i=n(1718),s=n(1723);const l=/^(\d+(?:\.\d+)?)px$/,a={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class c extends o.fGB{__colSpan;__rowSpan;__headerState;__width;__backgroundColor;__verticalAlign;static getType(){return"tablecell"}static clone(e){return new c(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:d,priority:0}),th:e=>({conversion:d,priority:0})}}static importJSON(e){return f().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(e=a.NO_STATUS,t=1,n,r){super(r),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=n,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(t.style.backgroundColor=this.__backgroundColor),u(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),(0,r.ZB)(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if((0,o.sby)(t.element)){const e=t.element;e.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),e.style.border="1px solid black",this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||75}px`,e.style.verticalAlign=this.getVerticalAlign()||"top",e.style.textAlign="start",null===this.__backgroundColor&&this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...u(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,t=a.BOTH){const n=this.getWritable();return n.__headerState=e&t|n.__headerState&~t,n}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==a.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function u(e){return"middle"===e||"bottom"===e}function d(e){const t=e,n=e.nodeName.toLowerCase();let r;l.test(t.style.width)&&(r=parseFloat(t.style.width));const i=f("th"===n?a.ROW:a.NO_STATUS,t.colSpan,r);i.__rowSpan=t.rowSpan;const s=t.style.backgroundColor;""!==s&&(i.__backgroundColor=s);const c=t.style.verticalAlign;u(c)&&(i.__verticalAlign=c);const d=t.style,h=(d&&d.textDecoration||"").split(" "),g="700"===d.fontWeight||"bold"===d.fontWeight,p=h.includes("line-through"),m="italic"===d.fontStyle,_=h.includes("underline");return{after:e=>{const t=[];let n=null;const r=()=>{if(n){const e=n.getFirstChild();(0,o.wH$)(e)&&1===n.getChildrenSize()&&e.remove()}};for(const i of e)(0,o.Gew)(i)||(0,o.kFe)(i)||(0,o.wH$)(i)?((0,o.kFe)(i)&&(g&&i.toggleFormat("bold"),p&&i.toggleFormat("strikethrough"),m&&i.toggleFormat("italic"),_&&i.toggleFormat("underline")),n?n.append(i):(n=(0,o.lJ7)().append(i),t.push(n))):(t.push(i),r(),n=null);return r(),0===t.length&&t.push((0,o.lJ7)()),t},node:i}}function f(e=a.NO_STATUS,t=1,n){return(0,o.pTq)(new c(e,t,n))}function h(e){return e instanceof c}const g=(0,o.guI)("INSERT_TABLE_COMMAND");function p(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class m extends o.fGB{__height;static getType(){return"tablerow"}static clone(e){return new m(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:_,priority:0})}}static importJSON(e){return y().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...void 0===e?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),(0,r.ZB)(t,e.theme.tableRow),t}extractWithChild(e,t,n){return"html"===n}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function _(e){const t=e;let n;return l.test(t.style.height)&&(n=parseFloat(t.style.height)),{after:e=>(0,r.cE)(e,h),node:y(n)}}function y(e){return(0,o.pTq)(new m(e))}function v(e){return e instanceof m}const x="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,S=x&&"documentMode"in document?document.documentMode:null,C=x&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);x&&"InputEvent"in window&&!S&&new window.InputEvent("input");const b=(e,t)=>e===a.BOTH||e===t?t:a.NO_STATUS;function w(e,t=!0){const[,,n]=F(e),[r,i]=M(n,e,e),s=r[0].length,{startRow:l}=i;let c=null;if(t){const t=l+e.__rowSpan-1,i=r[t],u=y();for(let e=0;e<s;e++){const{cell:n,startRow:r}=i[e];if(r+n.__rowSpan-1<=t){const t=i[e].cell.__headerState,n=b(t,a.COLUMN);u.append(f(n).append((0,o.lJ7)()))}else n.setRowSpan(n.__rowSpan+1)}const d=n.getChildAtIndex(t);v(d)||p(256),d.insertAfter(u),c=u}else{const e=l,t=r[e],i=y();for(let n=0;n<s;n++){const{cell:r,startRow:s}=t[n];if(s===e){const e=t[n].cell.__headerState,r=b(e,a.COLUMN);i.append(f(r).append((0,o.lJ7)()))}else r.setRowSpan(r.__rowSpan+1)}const u=n.getChildAtIndex(e);v(u)||p(257),u.insertBefore(i),c=i}return c}function T(e,t=!0,n=!0){const[,,r]=F(e),[i,s]=M(r,e,e),l=i.length,{startColumn:c}=s,u=t?c+e.__colSpan-1:c-1,d=r.getFirstChild();v(d)||p(120);let h=null;function g(e=a.NO_STATUS){const t=f(e).append((0,o.lJ7)());return null===h&&(h=t),t}let m=d;e:for(let e=0;e<l;e++){if(0!==e){const e=m.getNextSibling();v(e)||p(121),m=e}const t=i[e],n=t[u<0?0:u].cell.__headerState,r=b(n,a.ROW);if(u<0){N(m,g(r));continue}const{cell:o,startColumn:s,startRow:l}=t[u];if(s+o.__colSpan-1<=u){let n=o,i=l,s=u;for(;i!==e&&n.__rowSpan>1;){if(s-=o.__colSpan,!(s>=0)){m.append(g(r));continue e}{const{cell:e,startRow:r}=t[s];n=e,i=r}}n.insertAfter(g(r))}else o.setColSpan(o.__colSpan+1)}null!==h&&n&&function(e){const t=e.getFirstDescendant();null==t?e.selectStart():t.getParentOrThrow().selectStart()}(h);const _=r.getColWidths();if(_){const e=[..._],t=u<0?0:u,n=e[t];e.splice(t,0,n),r.setColWidths(e)}return h}function N(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}function k(e){if(0===e.length)return null;const t=function(e){const t=(0,o.BtT)(e,(e=>Ne(e)));if(Ne(t))return t;throw new Error("Expected table cell to be inside of table.")}(e[0]),[n]=O(t,null,null);let r=1/0,i=-1/0,s=1/0,l=-1/0;const a=new Set;for(const t of n)for(const n of t){if(!n||!n.cell)continue;const t=n.cell.getKey();if(!a.has(t)&&e.some((e=>e.is(n.cell)))){a.add(t);const e=n.startRow,o=n.startColumn,c=n.cell.__rowSpan||1,u=n.cell.__colSpan||1;r=Math.min(r,e),i=Math.max(i,e+c-1),s=Math.min(s,o),l=Math.max(l,o+u-1)}}if(r===1/0||s===1/0)return null;const c=i-r+1,u=l-s+1,d=n[r][s];if(!d.cell)return null;const f=d.cell;f.setColSpan(u),f.setRowSpan(c);const h=new Set([f.getKey()]);for(let e=r;e<=i;e++)for(let t=s;t<=l;t++){const r=n[e][t];if(!r.cell)continue;const o=r.cell,i=o.getKey();h.has(i)||(h.add(i),E(o)||f.append(...o.getChildren()),o.remove())}return 0===f.getChildrenSize()&&f.append((0,o.lJ7)()),f}function E(e){if(1!==e.getChildrenSize())return!1;const t=e.getFirstChildOrThrow();return!(!(0,o.bSg)(t)||!t.isEmpty())}function A(e){const[t,n,r]=F(e),i=t.__colSpan,s=t.__rowSpan;if(1===i&&1===s)return;const[l,c]=M(r,t,t),{startColumn:u,startRow:d}=c,h=t.__headerState&a.COLUMN,g=Array.from({length:i},((e,t)=>{let n=h;for(let e=0;0!==n&&e<l.length;e++)n&=l[e][t+u].cell.__headerState;return n})),m=t.__headerState&a.ROW,_=Array.from({length:s},((e,t)=>{let n=m;for(let e=0;0!==n&&e<l[0].length;e++)n&=l[t+d][e].cell.__headerState;return n}));if(i>1){for(let e=1;e<i;e++)t.insertAfter(f(g[e]|_[0]).append((0,o.lJ7)()));t.setColSpan(1)}if(s>1){let e;for(let t=1;t<s;t++){const r=d+t,s=l[r];e=(e||n).getNextSibling(),v(e)||p(125);let a=null;for(let e=0;e<u;e++){const t=s[e],n=t.cell;t.startRow===r&&(a=n),n.__colSpan>1&&(e+=n.__colSpan-1)}if(null===a)for(let n=i-1;n>=0;n--)N(e,f(g[n]|_[t]).append((0,o.lJ7)()));else for(let e=i-1;e>=0;e--)a.insertAfter(f(g[e]|_[t]).append((0,o.lJ7)()))}t.setRowSpan(1)}}function M(e,t,n){const[r,o,i]=O(e,t,n);return null===o&&p(207),null===i&&p(208),[r,o,i]}function O(e,t,n){const r=[];let o=null,i=null;function s(e){let t=r[e];return void 0===t&&(r[e]=t=[]),t}const l=e.getChildren();for(let e=0;e<l.length;e++){const r=l[e];v(r)||p(209);const a=s(e);for(let c=r.getFirstChild(),u=0;null!=c;c=c.getNextSibling()){for(h(c)||p(147);void 0!==a[u];)u++;const r={cell:c,startColumn:u,startRow:e},{__rowSpan:d,__colSpan:f}=c;for(let t=0;t<d&&!(e+t>=l.length);t++){const n=s(e+t);for(let e=0;e<f;e++)n[u+e]=r}null!==t&&null===o&&t.is(c)&&(o=r),null!==n&&null===i&&n.is(c)&&(i=r)}}return[r,o,i]}function F(e){let t;if(e instanceof c)t=e;else if("__type"in e){const n=(0,o.BtT)(e,h);h(n)||p(148),t=n}else{const n=(0,o.BtT)(e.getNode(),h);h(n)||p(148),t=n}const n=t.getParent();v(n)||p(149);const r=n.getParent();return Ne(r)||p(210),[t,n,r]}function L(e,t,n){let r,o=Math.min(t.startColumn,n.startColumn),i=Math.min(t.startRow,n.startRow),s=Math.max(t.startColumn+t.cell.__colSpan-1,n.startColumn+n.cell.__colSpan-1),l=Math.max(t.startRow+t.cell.__rowSpan-1,n.startRow+n.cell.__rowSpan-1);do{r=!1;for(let t=0;t<e.length;t++)for(let n=0;n<e[0].length;n++){const a=e[t][n];if(!a)continue;const c=a.startColumn+a.cell.__colSpan-1,u=a.startRow+a.cell.__rowSpan-1,d=a.startColumn<=s&&c>=o,f=a.startRow<=l&&u>=i;if(d&&f){const e=Math.min(o,a.startColumn),t=Math.max(s,c),n=Math.min(i,a.startRow),d=Math.max(l,u);e===o&&t===s&&n===i&&d===l||(o=e,s=t,i=n,l=d,r=!0)}}}while(r);return{maxColumn:s,maxRow:l,minColumn:o,minRow:i}}function P(e){const[t,,n]=F(e),r=n.getChildren(),o=r.length,i=r[0].getChildren().length,s=new Array(o);for(let e=0;e<o;e++)s[e]=new Array(i);for(let e=0;e<o;e++){const n=r[e].getChildren();let o=0;for(let r=0;r<n.length;r++){for(;s[e][o];)o++;const i=n[r],l=i.__rowSpan||1,a=i.__colSpan||1;for(let t=0;t<l;t++)for(let n=0;n<a;n++)s[e+t][o+n]=i;if(t===i)return{colSpan:a,columnIndex:o,rowIndex:e,rowSpan:l};o+=a}}return null}function R(e){const[[t,n,r,i],[s,l,a,c]]=["anchor","focus"].map((t=>{const n=e[t].getNode(),r=(0,o.BtT)(n,h);h(r)||p(238,t,n.getKey(),n.getType());const i=r.getParent();v(i)||p(239,t);const s=i.getParent();return Ne(s)||p(240,t),[n,r,i,s]}));return i.is(c)||p(241),{anchorCell:n,anchorNode:t,anchorRow:r,anchorTable:i,focusCell:l,focusNode:s,focusRow:a,focusTable:c}}class D{tableKey;anchor;focus;_cachedNodes;dirty;constructor(e,t,n){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){if("root"===this.tableKey||"root"===this.anchor.key||"element"!==this.anchor.type||"root"===this.focus.key||"element"!==this.focus.type)return!1;const e=(0,o.nsf)(this.tableKey),t=(0,o.nsf)(this.anchor.key),n=(0,o.nsf)(this.focus.key);return null!==e&&null!==t&&null!==n}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return I(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||n!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new D(this.tableKey,(0,o.z8s)(this.anchor.key,this.anchor.offset,this.anchor.type),(0,o.z8s)(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;this.getNodes().filter(h).forEach((e=>{const n=e.getFirstChild();(0,o.bSg)(n)&&(t|=n.getTextFormat())}));const n=o.LZn[e];return!!(t&n)}insertNodes(e){const t=this.focus.getNode();(0,o.ff4)(t)||p(151),(0,o.CaD)(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:t}=R(this),n=P(e);null===n&&p(153);const r=P(t);null===r&&p(155);const o=Math.min(n.columnIndex,r.columnIndex),i=Math.max(n.columnIndex+n.colSpan-1,r.columnIndex+r.colSpan-1),s=Math.min(n.rowIndex,r.rowIndex),l=Math.max(n.rowIndex+n.rowSpan-1,r.rowIndex+r.rowSpan-1);return{fromX:Math.min(o,i),fromY:Math.min(s,l),toX:Math.max(o,i),toY:Math.max(s,l)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(null!==e)return e;const{anchorTable:t,anchorCell:n,focusCell:r}=R(this),i=r.getParents()[1];if(i!==t){if(t.isParentOf(r)){const e=i.getParent();null==e&&p(159),this.set(this.tableKey,r.getKey(),e.getKey())}else{const e=t.getParent();null==e&&p(158),this.set(this.tableKey,e.getKey(),r.getKey())}return this.getNodes()}const[s,l,a]=M(t,n,r),{minColumn:c,maxColumn:u,minRow:d,maxRow:f}=L(s,l,a),h=new Map([[t.getKey(),t]]);let g=null;for(let e=d;e<=f;e++)for(let t=c;t<=u;t++){const{cell:n}=s[e][t],r=n.getParent();v(r)||p(160),r!==g&&(h.set(r.getKey(),r),g=r),h.has(n.getKey())||z(n,(e=>{h.set(e.getKey(),e)}))}const m=Array.from(h.values());return(0,o.GcU)()||(this._cachedNodes=m),m}getTextContent(){const e=this.getNodes().filter((e=>h(e)));let t="";for(let n=0;n<e.length;n++){const r=e[n],o=r.__parent,i=(e[n+1]||{}).__parent;t+=r.getTextContent()+(i!==o?"\n":"\t")}return t}}function I(e){return e instanceof D}function B(){const e=(0,o.z8s)("root",0,"element"),t=(0,o.z8s)("root",0,"element");return new D("root",e,t)}function z(e,t){const n=[[e]];for(let e=n.at(-1);void 0!==e&&n.length>0;e=n.at(-1)){const r=e.pop();void 0===r?n.pop():!1!==t(r)&&(0,o.ff4)(r)&&n.push(r.getChildren())}}function K(e,t=(0,o.i0_)()){const n=(0,o.nsf)(e);Ne(n)||p(231,e);const r=H(n,t.getElementByKey(e));return null===r&&p(232,e),{tableElement:r,tableNode:n}}class W{focusX;focusY;listenersToRemove;table;isHighlightingCells;anchorX;anchorY;tableNodeKey;anchorCell;focusCell;anchorCellNodeKey;focusCellNodeKey;editor;tableSelection;hasHijackedSelectionStyles;isSelecting;pointerType;shouldCheckSelection;abortController;listenerOptions;nextFocus;constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach((e=>e())),this.listenersToRemove.clear()}$lookup(){return K(this.tableNodeKey,this.editor)}trackTable(){const e=new MutationObserver((e=>{this.editor.getEditorState().read((()=>{let t=!1;for(let n=0;n<e.length;n++){const r=e[n].target.nodeName;if("TABLE"===r||"TBODY"===r||"THEAD"===r||"TR"===r){t=!0;break}}if(!t)return;const{tableNode:n,tableElement:r}=this.$lookup();this.table=Q(n,r)}),{editor:this.editor})}));this.editor.getEditorState().read((()=>{const{tableNode:t,tableElement:n}=this.$lookup();this.table=Q(t,n),e.observe(n,{attributes:!0,childList:!0,subtree:!0})}),{editor:this.editor})}$clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:t,tableElement:n}=this.$lookup();ee(e,Q(t,n),null),null!==(0,o.vJq)()&&((0,o.n1P)(null),e.dispatchCommand(o.MvL,void 0))}$enableHighlightStyle(){const e=this.editor,{tableElement:t}=this.$lookup();(0,r.HE)(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:e}=this.$lookup();(0,r.ZB)(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(null!==e){e.tableKey!==this.tableNodeKey&&p(233,e.tableKey,this.tableNodeKey);const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),ee(t,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){const{nextFocus:e}=this;return null!==e&&(this.nextFocus=null),e}updateDOMSelection(){if(null!==this.anchorCell&&null!==this.focusCell){const e=(0,o.peL)(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e,t=!1){const n=this.editor,{tableNode:r}=this.$lookup(),i=e.x,s=e.y;if(this.focusCell=e,this.isHighlightingCells||this.anchorX===i&&this.anchorY===s&&!t){if(i===this.focusX&&s===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=i,this.focusY=s,this.isHighlightingCells){const t=ye(r,e.elem);if(null!=this.tableSelection&&null!=this.anchorCellNodeKey&&null!==t)return this.focusCellNodeKey=t.getKey(),this.tableSelection=function(e,t,n){e.getKey(),t.getKey(),n.getKey();const r=(0,o.vJq)(),i=I(r)?r.clone():B();return i.set(e.getKey(),t.getKey(),n.getKey()),i}(r,this.$getAnchorTableCellOrThrow(),t),(0,o.n1P)(this.tableSelection),n.dispatchCommand(o.MvL,void 0),ee(n,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?(0,o.nsf)(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const e=this.$getAnchorTableCell();return null===e&&p(234),e}$getFocusTableCell(){return this.focusCellNodeKey?(0,o.nsf)(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const e=this.$getFocusTableCell();return null===e&&p(235),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y;const{tableNode:t}=this.$lookup(),n=ye(t,e.elem);if(null!==n){const e=n.getKey();this.tableSelection=null!=this.tableSelection?this.tableSelection.clone():B(),this.anchorCellNodeKey=e}}$formatCells(e){const t=(0,o.vJq)();I(t)||p(236);const n=(0,o.uTE)(),r=n.anchor,i=n.focus,s=t.getNodes().filter(h);s.length>0||p(237);const l=s[0].getFirstChild(),a=(0,o.bSg)(l)?l.getFormatFlags(e,null):null;s.forEach((t=>{r.set(t.getKey(),0,"element"),i.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e,a)})),(0,o.n1P)(t),this.editor.dispatchCommand(o.MvL,void 0)}$clearText(){const{editor:e}=this,t=(0,o.nsf)(this.tableNodeKey);if(!Ne(t))throw new Error("Expected TableNode.");const n=(0,o.vJq)();I(n)||p(253);const r=n.getNodes().filter(h),i=t.getFirstChild(),s=t.getLastChild();if(r.length>0&&null!==i&&null!==s&&v(i)&&v(s)&&r[0]===i.getFirstChild()&&r[r.length-1]===s.getLastChild()){t.selectPrevious();const n=t.getParent();return t.remove(),void((0,o.hVZ)(n)&&n.isEmpty()&&e.dispatchCommand(o.XKQ,void 0))}r.forEach((e=>{if((0,o.ff4)(e)){const t=(0,o.lJ7)(),n=(0,o.sTu)();t.append(n),e.append(t),e.getChildren().forEach((e=>{e!==t&&e.remove()}))}})),ee(e,this.table,null),(0,o.n1P)(null),e.dispatchCommand(o.MvL,void 0)}}const J="__lexicalTableSelection";function $(e){return(0,o.sby)(e)&&"TABLE"===e.nodeName}function H(e,t){if(!t)return t;const n=$(t)?t:e.getDOMSlot(t).element;return"TABLE"!==n.nodeName&&p(245,t.nodeName),n}function q(e){return e._window}function U(e,t){for(let n=t,r=null;null!==n;n=n.getParent()){if(e.is(n))return r;h(n)&&(r=n)}return null}const V=[[o.bbF,"down"],[o.UDz,"up"],[o.AX0,"backward"],[o.JM3,"forward"]],j=[o.hi0,o.viC,o.WuB],Z=[o.gCZ,o.w$Z];function Y(e){return e[J]||null}function X(e){let t=e;for(;null!=t;){const e=t.nodeName;if("TD"===e||"TH"===e){const e=t._cell;return void 0===e?null:e}t=t.parentNode}return null}function G(e,t){if(!e.contains(t))return null;let n=null;for(let r=t;null!=r;r=r.parentNode){if(r===e)return n;const t=r.nodeName;"TD"!==t&&"TH"!==t||(n=r._cell||null)}return null}function Q(e,t){const n=[],r={columns:0,domRows:n,rows:0};let o=H(e,t).querySelector("tr"),i=0,s=0;for(n.length=0;null!=o;){const e=o.nodeName;if("TD"===e||"TH"===e){const e={elem:o,hasBackgroundColor:""!==o.style.backgroundColor,highlighted:!1,x:i,y:s};o._cell=e;let t=n[s];void 0===t&&(t=n[s]=[]),t[i]=e}else{const e=o.firstChild;if(null!=e){o=e;continue}}const t=o.nextSibling;if(null!=t){i++,o=t;continue}const r=o.parentNode;if(null!=r){const e=r.nextSibling;if(null==e)break;s++,i=0,o=e}}return r.columns=i+1,r.rows=s+1,r}function ee(e,t,n){const r=new Set(n?n.getNodes():[]);te(t,((t,n)=>{const o=t.elem;r.has(n)?(t.highlighted=!0,ce(e,t)):(t.highlighted=!1,ue(e,t),o.getAttribute("style")||o.removeAttribute("style"))}))}function te(e,t){const{domRows:n}=e;for(let e=0;e<n.length;e++){const r=n[e];if(r)for(let n=0;n<r.length;n++){const i=r[n];if(!i)continue;const s=(0,o.xL4)(i.elem);null!==s&&t(i,s,{x:n,y:e})}}}function ne(e,t){t.$disableHighlightStyle(),te(t.table,(t=>{t.highlighted=!0,ce(e,t)}))}const re=(e,t,n,r,o)=>{const i="forward"===o;switch(o){case"backward":case"forward":return n!==(i?e.table.columns-1:0)?ae(t.getCellNodeFromCordsOrThrow(n+(i?1:-1),r,e.table),i):r!==(i?e.table.rows-1:0)?ae(t.getCellNodeFromCordsOrThrow(i?0:e.table.columns-1,r+(i?1:-1),e.table),i):i?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==r?ae(t.getCellNodeFromCordsOrThrow(n,r-1,e.table),!1):t.selectPrevious(),!0;case"down":return r!==e.table.rows-1?ae(t.getCellNodeFromCordsOrThrow(n,r+1,e.table),!0):t.selectNext(),!0;default:return!1}};function oe(e,t){let n,r;if(t.startColumn===e.minColumn)n="minColumn";else{if(t.startColumn+t.cell.__colSpan-1!==e.maxColumn)return null;n="maxColumn"}if(t.startRow===e.minRow)r="minRow";else{if(t.startRow+t.cell.__rowSpan-1!==e.maxRow)return null;r="maxRow"}return[n,r]}function ie([e,t]){return["minColumn"===e?"maxColumn":"minColumn","minRow"===t?"maxRow":"minRow"]}function se(e,t,[n,r]){const o=t[r],i=e[o];void 0===i&&p(250,r,String(o));const s=t[n],l=i[s];return void 0===l&&p(250,n,String(s)),l}function le(e,t){if((0,o.I2P)(e)||I(e)){const n=t.isParentOf(e.anchor.getNode()),r=t.isParentOf(e.focus.getNode());return n&&r}return!1}function ae(e,t){t?e.selectStart():e.selectEnd()}function ce(e,t){const n=t.elem,i=e._config.theme;h((0,o.xL4)(n))||p(131),(0,r.ZB)(n,i.tableCellSelected)}function ue(e,t){const n=t.elem;h((0,o.xL4)(n))||p(131);const i=e._config.theme;(0,r.HE)(n,i.tableCellSelected)}function de(e){const t=(0,o.BtT)(e,h);return h(t)?t:null}function fe(e){const t=(0,o.BtT)(e,Ne);return Ne(t)?t:null}function he(e,t,n,r,i){if(("up"===n||"down"===n)&&function(e){const t=e.getRootElement();return!!t&&t.hasAttribute("aria-controls")&&"typeahead-menu"===t.getAttribute("aria-controls")}(e))return!1;const s=(0,o.vJq)();if(!le(s,r)){if((0,o.I2P)(s)){if("backward"===n){if(s.focus.offset>0)return!1;const e=function(e){for(let t=e,n=e;null!==n;t=n,n=n.getParent())if((0,o.ff4)(n)){if(n!==t&&n.getFirstChild()!==t)return null;if(!n.isInline())return n}return null}(s.focus.getNode());if(!e)return!1;const n=e.getPreviousSibling();return!!Ne(n)&&(ge(t),t.shiftKey?s.focus.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent(),"element"):n.selectEnd(),!0)}if(t.shiftKey&&("up"===n||"down"===n)){const e=s.focus.getNode();if(!s.isCollapsed()&&("up"===n&&!s.isBackward()||"down"===n&&s.isBackward())){let i=(0,o.BtT)(e,(e=>Ne(e)));if(h(i)&&(i=(0,o.BtT)(i,Ne)),i!==r)return!1;if(!i)return!1;const l="down"===n?i.getNextSibling():i.getPreviousSibling();if(!l)return!1;let a=0;"up"===n&&(0,o.ff4)(l)&&(a=l.getChildrenSize());let c=l;"up"===n&&(0,o.ff4)(l)&&(c=l.getLastChild()||l,a=(0,o.kFe)(c)?c.getTextContentSize():0);const u=s.clone();return u.focus.set(c.getKey(),a,(0,o.kFe)(c)?"text":"element"),(0,o.n1P)(u),ge(t),!0}if((0,o.IqF)(e)){const e="up"===n?s.getNodes()[s.getNodes().length-1]:s.getNodes()[0];if(e&&null!==U(r,e)){const e=r.getFirstDescendant(),t=r.getLastDescendant();if(!e||!t)return!1;const[n]=F(e),[o]=F(t),s=r.getCordsFromCellNode(n,i.table),l=r.getCordsFromCellNode(o,i.table),a=r.getDOMCellFromCordsOrThrow(s.x,s.y,i.table),c=r.getDOMCellFromCordsOrThrow(l.x,l.y,i.table);return i.$setAnchorCellForSelection(a),i.$setFocusCellForSelection(c,!0),!0}return!1}{let r=(0,o.BtT)(e,(e=>(0,o.ff4)(e)&&!e.isInline()));if(h(r)&&(r=(0,o.BtT)(r,Ne)),!r)return!1;const l="down"===n?r.getNextSibling():r.getPreviousSibling();if(Ne(l)&&i.tableNodeKey===l.getKey()){const e=l.getFirstDescendant(),r=l.getLastDescendant();if(!e||!r)return!1;const[i]=F(e),[a]=F(r),c=s.clone();return c.focus.set(("up"===n?i:a).getKey(),"up"===n?0:a.getChildrenSize(),"element"),ge(t),(0,o.n1P)(c),!0}}}}return"down"===n&&Se(e)&&i.setShouldCheckSelection(),!1}if((0,o.I2P)(s)){if("backward"===n||"forward"===n)return function(e,t,n,r,i,s,l){const a=(0,o.Ave)(n.focus,i?"previous":"next");if((0,o.pGK)(a))return!1;let c=a;for(const e of(0,o.mWO)(a).iterNodeCarets("shadowRoot")){if(!(0,o.OpE)(e)||!(0,o.ff4)(e.origin))return!1;c=e}const u=c.getParentAtCaret();if(!h(u))return!1;const d=u,f=function(e){for(const t of(0,o.mWO)(e).iterNodeCarets("root")){const{origin:n}=t;if(h(n)){if((0,o.cmH)(t))return(0,o.uwZ)(n,e.direction)}else if(!v(n))break}return null}((0,o.IlV)(d,c.direction)),g=(0,o.BtT)(d,Ne);if(!g||!g.is(s))return!1;const m=e.getElementByKey(d.getKey()),_=X(m);if(!m||!_)return!1;const y=function(e,t){const n=e.getElementByKey(t.getKey());return null===n&&p(230),Q(t,n)}(e,g);if(l.table=y,f)if("extend"===r){const t=X(e.getElementByKey(f.origin.getKey()));if(!t)return!1;l.$setAnchorCellForSelection(_),l.$setFocusCellForSelection(t,!0)}else{const e=(0,o.lSZ)(f);(0,o.wp6)(n.anchor,e),(0,o.wp6)(n.focus,e)}else if("extend"===r)l.$setAnchorCellForSelection(_),l.$setFocusCellForSelection(_,!0);else{const e=function(e){const t=(0,o.erb)(e);return(0,o.cmH)(t)?(0,o.lSZ)(t):e}((0,o.IlV)(g,a.direction));(0,o.wp6)(n.anchor,e),(0,o.wp6)(n.focus,e)}return ge(t),!0}(e,t,s,t.shiftKey?"extend":"move","backward"===n,r,i);if(s.isCollapsed()){const{anchor:l,focus:a}=s,c=(0,o.BtT)(l.getNode(),h),u=(0,o.BtT)(a.getNode(),h);if(!h(c)||!c.is(u))return!1;const d=fe(c);if(d!==r&&null!=d){const r=H(d,e.getElementByKey(d.getKey()));if(null!=r)return i.table=Q(d,r),he(e,t,n,d,i)}const f=e.getElementByKey(c.__key),g=e.getElementByKey(l.key);if(null==g||null==f)return!1;let p;if("element"===l.type)p=g.getBoundingClientRect();else{const t=(0,o.peL)(q(e));if(null===t||0===t.rangeCount)return!1;p=t.getRangeAt(0).getBoundingClientRect()}const m="up"===n?c.getFirstChild():c.getLastChild();if(null==m)return!1;const _=e.getElementByKey(m.__key);if(null==_)return!1;const y=_.getBoundingClientRect();if("up"===n?y.top>p.top-p.height:p.bottom+p.height>y.bottom){ge(t);const e=r.getCordsFromCellNode(c,i.table);if(!t.shiftKey)return re(i,r,e.x,e.y,n);{const t=r.getDOMCellFromCordsOrThrow(e.x,e.y,i.table);i.$setAnchorCellForSelection(t),i.$setFocusCellForSelection(t,!0)}return!0}}}else if(I(s)){const{anchor:l,focus:a}=s,c=(0,o.BtT)(l.getNode(),h),u=(0,o.BtT)(a.getNode(),h),[d]=s.getNodes();Ne(d)||p(251);const f=H(d,e.getElementByKey(d.getKey()));if(!h(c)||!h(u)||!Ne(d)||null==f)return!1;i.$updateTableTableSelection(s);const g=Q(d,f),m=r.getCordsFromCellNode(c,g),_=r.getDOMCellFromCordsOrThrow(m.x,m.y,g);if(i.$setAnchorCellForSelection(_),ge(t),t.shiftKey){const[e,t,o]=M(r,c,u);return function(e,t,n,r,o){const i=L(t,n,r),s=function(e,t){const{minColumn:n,maxColumn:r,minRow:o,maxRow:i}=t;let s=1,l=1,a=1,c=1;const u=e[o],d=e[i];for(let e=n;e<=r;e++)s=Math.max(s,u[e].cell.__rowSpan),c=Math.max(c,d[e].cell.__rowSpan);for(let t=o;t<=i;t++)l=Math.max(l,e[t][n].cell.__colSpan),a=Math.max(a,e[t][r].cell.__colSpan);return{bottomSpan:c,leftSpan:l,rightSpan:a,topSpan:s}}(t,i),{topSpan:l,leftSpan:a,bottomSpan:c,rightSpan:u}=s,d=function(e,t){const n=oe(e,t);return null===n&&p(249,t.cell.getKey()),n}(i,n),[f,h]=ie(d);let g=i[f],m=i[h];"forward"===o?g+="maxColumn"===f?1:a:"backward"===o?g-="minColumn"===f?1:u:"down"===o?m+="maxRow"===h?1:l:"up"===o&&(m-="minRow"===h?1:c);const _=t[m];if(void 0===_)return!1;const y=_[g];if(void 0===y)return!1;const[v,x]=function(e,t,n){const r=L(e,t,n),o=oe(r,t);if(o)return[se(e,r,o),se(e,r,ie(o))];const i=oe(r,n);if(i)return[se(e,r,ie(i)),se(e,r,i)];const s=["minColumn","minRow"];return[se(e,r,s),se(e,r,ie(s))]}(t,n,y),S=_e(e,v.cell),C=_e(e,x.cell);return e.$setAnchorCellForSelection(S),e.$setFocusCellForSelection(C,!0),!0}(i,e,t,o,n)}return u.selectEnd(),!0}return!1}function ge(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}function pe(e,t,n){const r=(0,o.lJ7)();"first"===e?t.insertBefore(r):t.insertAfter(r),r.append(...n||[]),r.selectEnd()}function me(e,t,n){const r=n.getParent();if(!r)return;const i=(0,o.peL)(q(e));if(!i)return;const s=i.anchorNode,l=e.getElementByKey(r.getKey()),a=H(n,e.getElementByKey(n.getKey()));if(!s||!l||!a||!l.contains(s)||a.contains(s))return;const c=(0,o.BtT)(t.anchor.getNode(),(e=>h(e)));if(!c)return;const u=(0,o.BtT)(c,(e=>Ne(e)));if(!Ne(u)||!u.is(n))return;const[d,f]=M(n,c,c),g=d[0][0],p=d[d.length-1][d[0].length-1],{startRow:m,startColumn:_}=f,y=m===g.startRow&&_===g.startColumn,v=m===p.startRow&&_===p.startColumn;return y?"first":v?"last":void 0}function _e(e,t){const{tableNode:n}=e.$lookup(),r=n.getCordsFromCellNode(t,e.table);return n.getDOMCellFromCordsOrThrow(r.x,r.y,e.table)}function ye(e,t,n){return U(e,(0,o.xL4)(t,n))}function ve(e,t,n){if(!t.theme.tableAlignment)return;const o=[],i=[];for(const e of["center","right"]){const r=t.theme.tableAlignment[e];r&&(e===n?i:o).push(r)}(0,r.HE)(e,...o),(0,r.ZB)(e,...i)}const xe=new WeakSet;function Se(e=(0,o.i0_)()){return xe.has(e)}function Ce(e,t){t?xe.add(e):xe.delete(e)}class be extends o.fGB{__rowStriping;__frozenColumnCount;__frozenRowCount;__colWidths;static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new be(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:we,priority:1})}}static importJSON(e){return Te().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0,this.__colWidths=void 0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,n){return"html"===n}getDOMSlot(e){const t=$(e)?e:e.querySelector("table");return $(t)||p(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const n=document.createElement("table");this.__style&&(n.style.cssText=this.__style);const i=document.createElement("colgroup");if(n.appendChild(i),(0,o.pd8)(i),(0,r.ZB)(n,e.theme.table),this.updateTableElement(null,n,e),Se(t)){const t=document.createElement("div"),o=e.theme.tableScrollableWrapper;return o?(0,r.ZB)(t,o):t.style.cssText="overflow-x: auto;",t.appendChild(n),this.updateTableWrapper(null,t,n,e),t}return n}updateTableWrapper(e,t,n,o){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(e,t,n,o){o>0?((0,r.ZB)(e,n.theme.tableFrozenColumn),t.setAttribute("data-lexical-frozen-column","true")):((0,r.HE)(e,n.theme.tableFrozenColumn),t.removeAttribute("data-lexical-frozen-column"))}(t,n,o,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(e,t,n,o){o>0?((0,r.ZB)(e,n.theme.tableFrozenRow),t.setAttribute("data-lexical-frozen-row","true")):((0,r.HE)(e,n.theme.tableFrozenRow),t.removeAttribute("data-lexical-frozen-row"))}(t,n,o,this.__frozenRowCount)}updateTableElement(e,t,n){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(e,t,n){n?((0,r.ZB)(e,t.theme.tableRowStriping),e.setAttribute("data-lexical-row-striping","true")):((0,r.HE)(e,t.theme.tableRowStriping),e.removeAttribute("data-lexical-row-striping"))}(t,n,this.__rowStriping),function(e,t,n,r){const o=e.querySelector("colgroup");if(!o)return;const i=[];for(let e=0;e<n;e++){const t=document.createElement("col"),n=r&&r[e];n&&(t.style.width=`${n}px`),i.push(t)}o.replaceChildren(...i)}(t,0,this.getColumnCount(),this.getColWidths()),ve(t,n,this.getFormatType())}updateDOM(e,t,n){const r=this.getDOMSlot(t).element;return t===r===Se()||((0,o.sby)(i=t)&&"DIV"===i.nodeName&&this.updateTableWrapper(e,t,r,n),this.updateTableElement(e,r,n),!1);var i}exportDOM(e){const t=super.exportDOM(e),{element:n}=t;return{after:n=>{if(t.after&&(n=t.after(n)),!$(n)&&(0,o.sby)(n)&&(n=n.querySelector("table")),!$(n))return null;ve(n,e._config,this.getFormatType());const[r]=O(this,null,null),i=new Map;for(const e of r)for(const t of e){const e=t.cell.getKey();i.has(e)||i.set(e,{colSpan:t.cell.getColSpan(),startColumn:t.startColumn})}const s=new Set;for(const e of n.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const t=e.getAttribute("data-temporary-table-cell-lexical-key");if(t){const n=i.get(t);if(e.removeAttribute("data-temporary-table-cell-lexical-key"),n){i.delete(t);for(let e=0;e<n.colSpan;e++)s.add(e+n.startColumn)}}}const l=n.querySelector(":scope > colgroup");if(l){const e=Array.from(n.querySelectorAll(":scope > colgroup > col")).filter(((e,t)=>s.has(t)));l.replaceChildren(...e)}const a=n.querySelectorAll(":scope > tr");if(a.length>0){const e=document.createElement("tbody");for(const t of a)e.appendChild(t);n.append(e)}return n},element:!$(n)&&(0,o.sby)(n)?n.querySelector("table"):n}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:n,domRows:r}=t;for(let t=0;t<n;t++){const n=r[t];if(null!=n)for(let r=0;r<n.length;r++){const o=n[r];if(null==o)continue;const{elem:i}=o,s=ye(this,i);if(null!==s&&e.is(s))return{x:r,y:t}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,n){const{domRows:r}=n,o=r[t];if(null==o)return null;const i=o[e<o.length?e:o.length-1];return null==i?null:i}getDOMCellFromCordsOrThrow(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(!r)throw new Error("Cell not found at cords.");return r}getCellNodeFromCords(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(null==r)return null;const i=(0,o.xL4)(r.elem);return h(i)?i:null}getCellNodeFromCordsOrThrow(e,t,n){const r=this.getCellNodeFromCords(e,t,n);if(!r)throw new Error("Node at cords not TableCellNode.");return r}getRowStriping(){return Boolean(this.getLatest().__rowStriping)}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach((e=>{h(e)&&(t+=e.getColSpan())})),t}}function we(e){const t=Te();e.hasAttribute("data-lexical-row-striping")&&t.setRowStriping(!0),e.hasAttribute("data-lexical-frozen-column")&&t.setFrozenColumns(1),e.hasAttribute("data-lexical-frozen-row")&&t.setFrozenRows(1);const n=e.querySelector(":scope > colgroup");if(n){let e=[];for(const t of n.querySelectorAll(":scope > col")){let n=t.style.width||"";if(!l.test(n)&&(n=t.getAttribute("width")||"",!/^\d+$/.test(n))){e=void 0;break}e.push(parseFloat(n))}e&&t.setColWidths(e)}return{after:e=>(0,r.cE)(e,v),node:t}}function Te(){return(0,o.pTq)(new be)}function Ne(e){return e instanceof be}function ke(e){v(e.getParent())?e.isEmpty()&&e.append((0,o.lJ7)()):e.remove()}function Ee(e){Ne(e.getParent())?(0,r.vF)(e,h):e.remove()}function Ae(e){(0,r.vF)(e,v);const[t]=O(e,null,null),n=t.reduce(((e,t)=>Math.max(e,t.length)),0),i=e.getChildren();for(let e=0;e<t.length;++e){const r=i[e];if(!r)continue;v(r)||p(254,r.constructor.name,r.getType());const s=t[e].reduce(((e,t)=>t?1+e:e),0);if(s!==n)for(let e=s;e<n;++e){const e=f();e.append((0,o.lJ7)()),r.append(e)}}const s=e.getColWidths(),l=e.getColumnCount();if(s&&s.length!==l){let t;if(l<s.length)t=s.slice(0,l);else if(s.length>0){const e=s[s.length-1];t=[...s,...Array(l-s.length).fill(e)]}e.setColWidths(t)}}function Me(e){if(e.detail<3||!(0,o.vAA)(e.target))return!1;const t=(0,o.xL4)(e.target);if(null===t)return!1;const n=(0,o.BtT)(t,(e=>(0,o.ff4)(e)&&!e.isInline()));return null!==n&&!!h(n.getParent())&&(n.select(0),!0)}function Oe(e){return e.registerNodeTransform(c,(e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,t]=F(e),[n]=M(t,e,e),o=n.length,i=n[0].length;let s=t.getFirstChild();v(s)||p(175);const l=[];for(let e=0;e<o;e++){0!==e&&(s=s.getNextSibling(),v(s)||p(175));let t=null;for(let o=0;o<i;o++){const i=n[e][o],a=i.cell;if(i.startRow===e&&i.startColumn===o)t=a,l.push(a);else if(a.getColSpan()>1||a.getRowSpan()>1){h(a)||p(176);const e=f(a.__headerState);null!==t?t.insertAfter(e):(0,r.K2)(s,e)}}}for(const e of l)e.setColSpan(1),e.setRowSpan(1)}}))}function Fe(e,t=!0){const n=new Map,i=(i,l,a)=>{const c=H(i,a),u=function(e,t,n,i){const l=n.getRootElement(),a=q(n);null!==l&&null!==a||p(246);const c=new W(n,e.getKey()),u=H(e,t);!function(e,t){null!==Y(e)&&p(205),e[J]=t}(u,c),c.listenersToRemove.add((()=>function(e,t){Y(e)===t&&delete e[J]}(u,c)));const d=t=>{if(c.pointerType=t.pointerType,0!==t.button||!(0,o.vAA)(t.target)||!a)return;const r=X(t.target);null!==r&&n.update((()=>{const n=(0,o.S1w)();if(C&&t.shiftKey&&le(n,e)&&((0,o.I2P)(n)||I(n))){const o=n.anchor.getNode(),i=U(e,n.anchor.getNode());i?(c.$setAnchorCellForSelection(_e(c,i)),c.$setFocusCellForSelection(r),ge(t)):(e.isBefore(o)?e.selectStart():e.selectEnd()).anchor.set(n.anchor.key,n.anchor.offset,n.anchor.type)}else"touch"!==t.pointerType&&c.$setAnchorCellForSelection(r)})),(()=>{if(c.isSelecting)return;const e=()=>{c.isSelecting=!1,a.removeEventListener("pointerup",e),a.removeEventListener("pointermove",t)},t=r=>{if(1&~r.buttons&&c.isSelecting)return c.isSelecting=!1,a.removeEventListener("pointerup",e),void a.removeEventListener("pointermove",t);if(!(0,o.vAA)(r.target))return;let i=null;const s=!(C||u.contains(r.target));if(s)i=G(u,r.target);else for(const e of document.elementsFromPoint(r.clientX,r.clientY))if(i=G(u,e),i)break;!i||null!==c.focusCell&&i.elem===c.focusCell.elem||(c.setNextFocus({focusCell:i,override:s}),n.dispatchCommand(o.MvL,void 0))};c.isSelecting=!0,a.addEventListener("pointerup",e,c.listenerOptions),a.addEventListener("pointermove",t,c.listenerOptions)})()};u.addEventListener("pointerdown",d,c.listenerOptions),c.listenersToRemove.add((()=>{u.removeEventListener("pointerdown",d)}));const f=e=>{e.detail>=3&&(0,o.vAA)(e.target)&&null!==X(e.target)&&e.preventDefault()};u.addEventListener("mousedown",f,c.listenerOptions),c.listenersToRemove.add((()=>{u.removeEventListener("mousedown",f)}));const g=e=>{const t=e.target;0===e.button&&(0,o.vAA)(t)&&n.update((()=>{const e=(0,o.vJq)();I(e)&&e.tableKey===c.tableNodeKey&&l.contains(t)&&c.$clearHighlight()}))};a.addEventListener("pointerdown",g,c.listenerOptions),c.listenersToRemove.add((()=>{a.removeEventListener("pointerdown",g)}));for(const[t,r]of V)c.listenersToRemove.add(n.registerCommand(t,(t=>he(n,t,r,e,c)),o.WgU));c.listenersToRemove.add(n.registerCommand(o.Q$N,(t=>{const n=(0,o.vJq)();if(I(n)){const r=U(e,n.focus.getNode());if(null!==r)return ge(t),r.selectEnd(),!0}return!1}),o.WgU));const m=t=>()=>{const n=(0,o.vJq)();if(!le(n,e))return!1;if(I(n))return c.$clearText(),!0;if((0,o.I2P)(n)){if(!h(U(e,n.anchor.getNode())))return!1;const r=n.anchor.getNode(),i=n.focus.getNode(),s=e.isParentOf(r),l=e.isParentOf(i);if(s&&!l||l&&!s)return c.$clearText(),!0;const a=(0,o.BtT)(n.anchor.getNode(),(e=>(0,o.ff4)(e))),u=a&&(0,o.BtT)(a,(e=>(0,o.ff4)(e)&&h(e.getParent())));if(!(0,o.ff4)(u)||!(0,o.ff4)(a))return!1;if(t===o.viC&&null===u.getPreviousSibling())return!0}return!1};for(const e of j)c.listenersToRemove.add(n.registerCommand(e,m(e),o.WgU));const _=t=>{const n=(0,o.vJq)();if(!I(n)&&!(0,o.I2P)(n))return!1;const r=e.isParentOf(n.anchor.getNode());if(r!==e.isParentOf(n.focus.getNode())){const t=r?"anchor":"focus",o=r?"focus":"anchor",{key:i,offset:s,type:l}=n[o];return e[n[t].isBefore(n[o])?"selectPrevious":"selectNext"]()[o].set(i,s,l),!1}return!!le(n,e)&&!!I(n)&&(t&&(t.preventDefault(),t.stopPropagation()),c.$clearText(),!0)};for(const e of Z)c.listenersToRemove.add(n.registerCommand(e,_,o.WgU));return c.listenersToRemove.add(n.registerCommand(o.VSO,(e=>{const t=(0,o.vJq)();if(t){if(!I(t)&&!(0,o.I2P)(t))return!1;(0,s.lW)(n,(0,r.xj)(e,ClipboardEvent)?e:null,(0,s.xg)(t));const i=_(e);return(0,o.I2P)(t)?(t.removeText(),!0):i}return!1}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.mB,(t=>{const n=(0,o.vJq)();if(!le(n,e))return!1;if(I(n))return c.$formatCells(t),!0;if((0,o.I2P)(n)){const e=(0,o.BtT)(n.anchor.getNode(),(e=>h(e)));if(!h(e))return!1}return!1}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.fUS,(t=>{const n=(0,o.vJq)();if(!I(n)||!le(n,e))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();if(!h(r)||!h(i))return!1;if(function(e,t){if(I(e)){const n=e.anchor.getNode(),r=e.focus.getNode();if(t&&n&&r){const[e]=M(t,n,r);return n.getKey()===e[0][0].cell.getKey()&&r.getKey()===e[e.length-1].at(-1).cell.getKey()}}return!1}(n,e))return e.setFormat(t),!0;const[s,l,a]=M(e,r,i),c=Math.max(l.startRow+l.cell.__rowSpan-1,a.startRow+a.cell.__rowSpan-1),u=Math.max(l.startColumn+l.cell.__colSpan-1,a.startColumn+a.cell.__colSpan-1),d=Math.min(l.startRow,a.startRow),f=Math.min(l.startColumn,a.startColumn),g=new Set;for(let e=d;e<=c;e++)for(let n=f;n<=u;n++){const r=s[e][n].cell;if(g.has(r))continue;g.add(r),r.setFormat(t);const i=r.getChildren();for(let e=0;e<i.length;e++){const n=i[e];(0,o.ff4)(n)&&!n.isInline()&&n.setFormat(t)}}return!0}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.bM3,(t=>{const r=(0,o.vJq)();if(!le(r,e))return!1;if(I(r))return c.$clearHighlight(),!1;if((0,o.I2P)(r)){const i=(0,o.BtT)(r.anchor.getNode(),(e=>h(e)));if(!h(i))return!1;if("string"==typeof t){const i=me(n,r,e);if(i)return pe(i,e,[(0,o.sTu)(t)]),!0}}return!1}),o.WgU)),i&&c.listenersToRemove.add(n.registerCommand(o.OXk,(t=>{const n=(0,o.vJq)();if(!(0,o.I2P)(n)||!n.isCollapsed()||!le(n,e))return!1;const r=de(n.anchor.getNode());return!(null===r||!e.is(fe(r))||(ge(t),function(e,t){const n="next"===t?"getNextSibling":"getPreviousSibling",r="next"===t?"getFirstChild":"getLastChild",i=e[n]();if((0,o.ff4)(i))return i.selectEnd();const s=(0,o.BtT)(e,v);null===s&&p(247);for(let e=s[n]();v(e);e=e[n]()){const t=e[r]();if((0,o.ff4)(t))return t.selectEnd()}const l=(0,o.BtT)(s,Ne);null===l&&p(248),"next"===t?l.selectNext():l.selectPrevious()}(r,t.shiftKey?"previous":"next"),0))}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.$7r,(t=>e.isSelected()),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.oqR,((e,t)=>{if(n!==t)return!1;const{nodes:r,selection:i}=e,s=i.getStartEndPoints(),l=I(i),a=(0,o.I2P)(i)&&null!==(0,o.BtT)(i.anchor.getNode(),(e=>h(e)))&&null!==(0,o.BtT)(i.focus.getNode(),(e=>h(e)))||l;if(1!==r.length||!Ne(r[0])||!a||null===s)return!1;const[c,u]=s,[d,f,g]=F(c),p=(0,o.BtT)(u.getNode(),(e=>h(e)));if(!(h(d)&&h(p)&&v(f)&&Ne(g)))return!1;const m=r[0],[_,y,x]=M(g,d,p),[S]=O(m,null,null),C=_.length,b=C>0?_[0].length:0;let N=y.startRow,E=y.startColumn,P=S.length,R=P>0?S[0].length:0;if(l){const e=L(_,y,x),t=e.maxRow-e.minRow+1,n=e.maxColumn-e.minColumn+1;N=e.minRow,E=e.minColumn,P=Math.min(P,t),R=Math.min(R,n)}let D=!1;const B=Math.min(C,N+P)-1,z=Math.min(b,E+R)-1,K=new Set;for(let e=N;e<=B;e++)for(let t=E;t<=z;t++){const n=_[e][t];K.has(n.cell.getKey())||1===n.cell.__rowSpan&&1===n.cell.__colSpan||(A(n.cell),K.add(n.cell.getKey()),D=!0)}let[W]=O(g.getWritable(),null,null);const J=P-C+N;for(let e=0;e<J;e++)w(W[C-1][0].cell);const $=R-b+E;for(let e=0;e<$;e++)T(W[0][b-1].cell,!0,!1);[W]=O(g.getWritable(),null,null);for(let e=N;e<N+P;e++)for(let t=E;t<E+R;t++){const n=e-N,r=t-E,i=S[n][r];if(i.startRow!==n||i.startColumn!==r)continue;const s=i.cell;if(1!==s.__rowSpan||1!==s.__colSpan){const n=[],r=Math.min(e+s.__rowSpan,N+P)-1,o=Math.min(t+s.__colSpan,E+R)-1;for(let i=e;i<=r;i++)for(let e=t;e<=o;e++){const t=W[i][e];n.push(t.cell)}k(n),D=!0}const{cell:l}=W[e][t],a=l.getChildren();s.getChildren().forEach((e=>{(0,o.kFe)(e)?((0,o.lJ7)().append(e),l.append(e)):l.append(e)})),a.forEach((e=>e.remove()))}if(l&&D){const[e]=O(g.getWritable(),null,null);e[y.startRow][y.startColumn].cell.selectEnd()}return!0}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.MvL,(()=>{const t=(0,o.vJq)(),r=(0,o.S1w)(),i=c.getAndClearNextFocus();if(null!==i){const{focusCell:n}=i;if(I(t)&&t.tableKey===c.tableNodeKey)return(n.x!==c.focusX||n.y!==c.focusY)&&(c.$setFocusCellForSelection(n),!0);if(n!==c.anchorCell&&le(t,e))return c.$setFocusCellForSelection(n),!0}if(c.getAndClearShouldCheckSelection()&&(0,o.I2P)(r)&&(0,o.I2P)(t)&&t.isCollapsed()){const n=t.anchor.getNode(),r=e.getFirstChild(),i=de(n);if(null!==i&&v(r)){const t=r.getFirstChild();if(h(t)&&e.is((0,o.BtT)(i,(n=>n.is(e)||n.is(t)))))return t.selectStart(),!0}}if((0,o.I2P)(t)){const{anchor:i,focus:s}=t,l=i.getNode(),a=s.getNode(),u=de(l),d=de(a),f=!(!u||!e.is(fe(u))),h=!(!d||!e.is(fe(d))),g=f!==h,p=f&&h,m=t.isBackward();if(g){const r=t.clone();if(h){const[t]=M(e,d,d),n=t[0][0].cell,o=t[t.length-1].at(-1).cell;r.focus.set(m?n.getKey():o.getKey(),m?0:o.getChildrenSize(),"element")}else if(f){const[t]=M(e,u,u),n=t[0][0].cell,o=t[t.length-1].at(-1).cell;r.anchor.set(m?o.getKey():n.getKey(),m?o.getChildrenSize():0,"element")}(0,o.n1P)(r),ne(n,c)}else if(p&&(u.is(d)||(c.$setAnchorCellForSelection(_e(c,u)),c.$setFocusCellForSelection(_e(c,d),!0)),"touch"===c.pointerType&&c.isSelecting&&t.isCollapsed()&&(0,o.I2P)(r)&&r.isCollapsed())){const e=de(r.anchor.getNode());e&&!e.is(d)&&(c.$setAnchorCellForSelection(_e(c,e)),c.$setFocusCellForSelection(_e(c,d),!0),c.pointerType=null)}}else if(t&&I(t)&&t.is(r)&&t.tableKey===e.getKey()){const r=(0,o.peL)(a);if(r&&r.anchorNode&&r.focusNode){const i=(0,o.xL4)(r.focusNode),s=i&&!e.isParentOf(i),l=(0,o.xL4)(r.anchorNode),a=l&&e.isParentOf(l);if(s&&a&&r.rangeCount>0){const i=(0,o.OBE)(r,n);i&&(i.anchor.set(e.getKey(),t.isBackward()?e.getChildrenSize():0,"element"),r.removeAllRanges(),(0,o.n1P)(i))}}}return t&&!t.is(r)&&(I(t)||I(r))&&c.tableSelection&&!c.tableSelection.is(r)?(I(t)&&t.tableKey===c.tableNodeKey?c.$updateTableTableSelection(t):!I(t)&&I(r)&&r.tableKey===c.tableNodeKey&&c.$updateTableTableSelection(null),!1):(c.hasHijackedSelectionStyles&&!e.isSelected()?function(e,t){t.$enableHighlightStyle(),te(t.table,(t=>{const n=t.elem;t.highlighted=!1,ue(e,t),n.getAttribute("style")||n.removeAttribute("style")}))}(n,c):!c.hasHijackedSelectionStyles&&e.isSelected()&&ne(n,c),!1)}),o.WgU)),c.listenersToRemove.add(n.registerCommand(o.XKQ,(()=>{const t=(0,o.vJq)();if(!(0,o.I2P)(t)||!t.isCollapsed()||!le(t,e))return!1;const r=me(n,t,e);return!!r&&(pe(r,e),!0)}),o.WgU)),c}(i,c,e,t);n.set(l,[u,c])},l=e.registerMutationListener(be,(t=>{e.getEditorState().read((()=>{for(const[e,r]of t){const t=n.get(e);if("created"===r||"updated"===r){const{tableNode:r,tableElement:o}=K(e);void 0===t?i(r,e,o):o!==t[1]&&(t[0].removeListeners(),n.delete(e),i(r,e,o))}else"destroyed"===r&&void 0!==t&&(t[0].removeListeners(),n.delete(e))}}),{editor:e})}),{skipInitialization:!1});return()=>{l();for(const[,[e]]of n)e.removeListeners()}}function Le(e,t){e.hasNodes([be])||p(255);const{hasNestedTables:n=(0,i.vP)(!1)}=t??{};return(0,r.Sd)(e.registerCommand(g,(e=>function({rows:e,columns:t,includeHeaders:n},i){const s=(0,o.vJq)()||(0,o.S1w)();if(!s||!(0,o.I2P)(s))return!1;if(!i&&fe(s.anchor.getNode()))return!1;const l=function(e,t,n=!0){const r=Te();for(let i=0;i<e;i++){const e=y();for(let r=0;r<t;r++){let t=a.NO_STATUS;"object"==typeof n?(0===i&&n.rows&&(t|=a.ROW),0===r&&n.columns&&(t|=a.COLUMN)):n&&(0===i&&(t|=a.ROW),0===r&&(t|=a.COLUMN));const s=f(t),l=(0,o.lJ7)();l.append((0,o.sTu)()),s.append(l),e.append(s)}r.append(e)}return r}(Number(e),Number(t),n);(0,r.Pe)(l);const c=l.getFirstDescendant();return(0,o.kFe)(c)&&c.select(),!0}(e,n.peek())),o.jZM),e.registerCommand(o.oqR,(({nodes:t,selection:r},i)=>!(n.peek()||e!==i||!(0,o.I2P)(r))&&null!==fe(r.anchor.getNode())&&t.some(Ne)),o.jZM),e.registerCommand(o.d8p,Me,o.jZM),e.registerNodeTransform(be,Ae),e.registerNodeTransform(m,Ee),e.registerNodeTransform(c,ke))}(0,o.vE9)({build:(e,t,n)=>(0,i.v)(t),config:(0,o.lVE)({hasCellBackgroundColor:!0,hasCellMerge:!0,hasHorizontalScroll:!0,hasNestedTables:!1,hasTabHandler:!0}),name:"@lexical/table/Table",nodes:()=>[be,m,c],register(e,t,n){const o=n.getOutput(),{hasNestedTables:s}=o;return(0,r.Sd)((0,i.QZ)((()=>{const t=o.hasHorizontalScroll.value;Se(e)!==t&&(Ce(e,t),e.registerNodeTransform(be,(()=>{}))())})),Le(e,{hasNestedTables:s}),(0,i.QZ)((()=>Fe(e,o.hasTabHandler.value))),(0,i.QZ)((()=>o.hasCellMerge.value?void 0:Oe(e))),(0,i.QZ)((()=>o.hasCellBackgroundColor.value?void 0:e.registerNodeTransform(c,(e=>{null!==e.getBackgroundColor()&&e.setBackgroundColor(null)})))))}})},1736:(e,t,n)=>{n.d(t,{E:()=>c});var r=n(1737),o=n(1714),i=n(1755),s=n(1718),l=n(228);const a=[{dependencies:[i.fS],export:e=>(0,s.Hd)(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,r)=>{const o=(0,i.PL)();r||null!=e.getNextSibling()?e.replace(o):e.insertBefore(o),o.selectNext()},type:"element"},...r.Rm];function c({transformers:e=a}){const[t]=(0,o.DF)();return(0,l.useEffect)((()=>(0,r.iM)(t,e)),[t,e]),null}},1737:(e,t,n)=>{n.d(t,{Rm:()=>H,Wn:()=>j,bk:()=>Z,iM:()=>V});var r=n(1715),o=n(1731),i=n(1722),s=n(1738),l=n(1733);function a(e,t){const n={};for(const r of e){const e=t(r);e&&(n[e]?n[e].push(r):n[e]=[r])}return n}function c(e){const t=a(e,(e=>e.type));return{element:t.element||[],multilineElement:t["multiline-element"]||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}const u=/[!-/:-@[-`{-~\s]/,d=/^\s{0,3}$/;function f(e){if(!(0,r.bSg)(e))return!1;const t=e.getFirstChild();return null==t||1===e.getChildrenSize()&&(0,r.kFe)(t)&&d.test(t.getTextContent())}function h(e,t,n,o){for(const r of t){if(!r.export)continue;const t=r.export(e,(e=>g(e,n,o)));if(null!=t)return t}return(0,r.ff4)(e)?g(e,n,o):(0,r.Cyw)(e)?e.getTextContent():null}function g(e,t,n,o,i){const s=[],l=e.getChildren();o||(o=[]),i||(i=[]);e:for(const e of l){for(const r of n){if(!r.export)continue;const l=r.export(e,(e=>g(e,t,n,o,[...i,...o])),((e,n)=>p(e,n,t,o,i)));if(null!=l){s.push(l);continue e}}(0,r.wH$)(e)?s.push("\n"):(0,r.kFe)(e)?s.push(p(e,e.getTextContent(),t,o,i)):(0,r.ff4)(e)?s.push(g(e,t,n,o,i)):(0,r.Cyw)(e)&&s.push(e.getTextContent())}return s.join("")}function p(e,t,n,r,o){let i=0===e.getFormat()?t:function(e){return e.replace(/^\s+|\s+$/g,(e=>[...e].map((e=>"&#"+e.codePointAt(0)+";")).join("")))}(t);e.hasFormat("code")||(i=i.replace(/([*_`~\\])/g,"\\$1"));let s="",l="",a="";const c=m(e,!0),u=m(e,!1),d=new Set;for(const t of n){const n=t.format[0],o=t.tag;_(e,n)&&!d.has(n)&&(d.add(n),_(c,n)&&r.find((e=>e.tag===o))||(r.push({format:n,tag:o}),s+=o))}for(let t=0;t<r.length;t++){const n=_(e,r[t].format),i=_(u,r[t].format);if(n&&i)continue;const s=[...r];for(;s.length>t;){const e=s.pop();o&&e&&o.find((t=>t.tag===e.tag))||(e&&"string"==typeof e.tag&&(n?i||(a+=e.tag):l+=e.tag),r.pop())}break}return i=s+i+a,l+i}function m(e,t){let n=t?e.getPreviousSibling():e.getNextSibling();if(!n){const r=e.getParentOrThrow();r.isInline()&&(n=t?r.getPreviousSibling():r.getNextSibling())}for(;n;){if((0,r.ff4)(n)){if(!n.isInline())break;const e=t?n.getLastDescendant():n.getFirstDescendant();if((0,r.kFe)(e))return e;n=t?n.getPreviousSibling():n.getNextSibling()}if((0,r.kFe)(n))return n;if(!(0,r.ff4)(n))return null}return null}function _(e,t){return(0,r.kFe)(e)&&e.hasFormat(t)}function y(e){return(0,r.kFe)(e)&&!e.hasFormat("code")}function v(e,t,n){let r=function(e,t){const n=function(e,t){const n=e.match(t.openTagsRegExp);if(null==n)return null;for(const r of n){const n=r.replace(/^\s/,""),o=t.fullMatchRegExpByTag[n];if(null==o)continue;const i=e.match(o),s=t.transformersByTag[n];if(null!=i&&null!=s){if(!1!==s.intraword)return i;const{index:t=0}=i,n=e[t-1],r=e[t+i[0].length];if((!n||u.test(n))&&(!r||u.test(r)))return i}}return null}(e.getTextContent(),t);if(!n)return null;const r=n.index||0;return{endIndex:r+n[0].length,match:n,startIndex:r,transformer:t.transformersByTag[n[1]]}}(e,t),o=function(e,t){const n=e;let r,o,i,s;for(const e of t){if(!e.replace||!e.importRegExp)continue;const t=n.getTextContent().match(e.importRegExp);if(!t)continue;const l=t.index||0,a=e.getEndIndex?e.getEndIndex(n,t):l+t[0].length;!1!==a&&(void 0===r||void 0===o||l<r&&(a>o||a<=r))&&(r=l,o=a,i=e,s=t)}return void 0===r||void 0===o||void 0===i||void 0===s?null:{endIndex:o,match:s,startIndex:r,transformer:i}}(e,n);if(r&&o&&(r.startIndex<=o.startIndex&&r.endIndex>=o.endIndex||o.startIndex>r.endIndex?o=null:r=null),r){const o=function(e,t,n,r,o){const i=e.getTextContent();let s,l,a;if(o[0]===i?s=e:0===t?[s,l]=e.splitText(n):[a,s,l]=e.splitText(t,n),s.setTextContent(o[2]),r)for(const e of r.format)s.hasFormat(e)||s.toggleFormat(e);return{nodeAfter:l,nodeBefore:a,transformedNode:s}}(e,r.startIndex,r.endIndex,r.transformer,r.match);y(o.nodeAfter)&&v(o.nodeAfter,t,n),y(o.nodeBefore)&&v(o.nodeBefore,t,n),y(o.transformedNode)&&v(o.transformedNode,t,n)}else if(o){const r=function(e,t,n,r,o){let i,s,l;return 0===t?[i,s]=e.splitText(n):[l,i,s]=e.splitText(t,n),r.replace?{nodeAfter:s,nodeBefore:l,transformedNode:r.replace(i,o)||void 0}:null}(e,o.startIndex,o.endIndex,o.transformer,o.match);if(!r)return;y(r.nodeAfter)&&v(r.nodeAfter,t,n),y(r.nodeBefore)&&v(r.nodeBefore,t,n),y(r.transformedNode)&&v(r.transformedNode,t,n)}const i=e.getTextContent().replace(/\\([*_`~\\])/g,"$1").replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)));e.setTextContent(i)}function x(e,t,n,r){for(const o of n){const{handleImportAfterStartMatch:n,regExpEnd:i,regExpStart:s,replace:l}=o,a=e[t].match(s);if(!a)continue;if(n){const i=n({lines:e,rootNode:r,startLineIndex:t,startMatch:a,transformer:o});if(null===i)continue;if(i)return i}const c="object"==typeof i&&"regExp"in i?i.regExp:i,u=i&&"object"==typeof i&&"optional"in i?i.optional:!i;let d=t;const f=e.length;for(;d<f;){const n=c?e[d].match(c):null;if(!n&&(!u||u&&d<f-1)){d++;continue}if(n&&t===d&&n.index===a.index){d++;continue}const o=[];if(n&&t===d)o.push(e[t].slice(a[0].length,-n[0].length));else for(let r=t;r<=d;r++)if(r===t){const t=e[r].slice(a[0].length);o.push(t)}else if(r===d&&n){const t=e[r].slice(0,-n[0].length);o.push(t)}else o.push(e[r]);if(!1!==l(r,null,a,n,o,!0))return[!0,d];break}}return[!1,t]}function S(e,t,n,s,l,a){const c=(0,r.sTu)(e),u=(0,r.lJ7)();u.append(c),t.append(u);for(const{regExp:t,replace:r}of n){const n=e.match(t);if(n&&(c.setTextContent(e.slice(n[0].length)),!1!==r(u,[c],n,!0)))break}if(v(c,s,l),u.isAttached()&&e.length>0){const e=u.getPreviousSibling();if(!a&&((0,r.bSg)(e)||(0,i.jd)(e)||(0,o.HY)(e))){let t=e;if((0,o.HY)(e)){const n=e.getLastDescendant();t=null==n?null:(0,r.BtT)(n,o.Mz)}null!=t&&t.getTextContentSize()>0&&(t.splice(t.getChildrenSize(),0,[(0,r.WKo)(),...u.getChildren()]),u.remove())}}}function C(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const b=/^(\s*)(\d{1,})\.\s/,w=/^(\s*)[-*+]\s/,T=/^(\s*)(?:[-*+]\s)?\s?(\[(\s|x)?\])\s/i,N=/^(#{1,6})\s/,k=/^>\s/,E=/^[ \t]*```([\w-]+)?/,A=/[ \t]*```$/,M=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,O=/^(?:\|)(.+)(?:\|)\s?$/,F=/^(\| ?:?-*:? ?)+\|\s?$/,L=/^<[a-z_][\w-]*(?:\s[^<>]*)?\/?>/i,P=/^<\/[a-z_][\w-]*\s*>/i,R=e=>new RegExp(`(?:${e.source})$`,e.flags),D=(0,r.urt)("mdListMarker",{parse:e=>"string"==typeof e&&/^[-*+]$/.test(e)?e:"-"}),I=e=>(t,n,r,o)=>{const i=e(r);i.append(...n),t.replace(i),o||i.select(0,0)},B=e=>(t,n,i,s)=>{const l=t.getPreviousSibling(),a=t.getNextSibling(),c=(0,o.i)("check"===e?"x"===i[3]:void 0),u=i[0].trim()[0],d="bullet"!==e&&"check"!==e||u!==D.parse(u)?void 0:u;if((0,o.HY)(a)&&a.getListType()===e){d&&(0,r.Chh)(a,D,d);const e=a.getFirstChild();null!==e?e.insertBefore(c):a.append(c),t.remove()}else if((0,o.HY)(l)&&l.getListType()===e)d&&(0,r.Chh)(l,D,d),l.append(c),t.remove();else{const n=(0,o.DE)(e,"number"===e?Number(i[2]):void 0);d&&(0,r.Chh)(n,D,d),n.append(c),t.replace(n)}c.append(...n),s||c.select(0,0);const f=function(e){const t=e.match(/\t/g),n=e.match(/ /g);let r=0;return t&&(r+=t.length),n&&(r+=Math.floor(n.length/4)),r}(i[1]);f&&c.setIndent(f)},z=(e,t,n)=>{const i=[],s=e.getChildren();let l=0;for(const a of s)if((0,o.Mz)(a)){if(1===a.getChildrenSize()){const e=a.getFirstChild();if((0,o.HY)(e)){i.push(z(e,t,n+1));continue}}const s=" ".repeat(4*n),c=e.getListType(),u=(0,r.I8X)(e,D),d="number"===c?`${e.getStart()+l}. `:"check"===c?`${u} [${a.getChecked()?"x":" "}] `:u+" ";i.push(s+d+t(a)),l++}return i.join("\n")},K={dependencies:[i.jL],export:(e,t)=>{if(!(0,i.Pi)(e))return null;const n=Number(e.getTag().slice(1));return"#".repeat(n)+" "+t(e)},regExp:N,replace:I((e=>{const t="h"+e[1].length;return(0,i.fi)(t)})),type:"element"},W={dependencies:[i.dJ],export:(e,t)=>{if(!(0,i.jd)(e))return null;const n=t(e).split("\n"),r=[];for(const e of n)r.push("> "+e);return r.join("\n")},regExp:k,replace:(e,t,n,o)=>{if(o){const n=e.getPreviousSibling();if((0,i.jd)(n))return n.splice(n.getChildrenSize(),0,[(0,r.WKo)(),...t]),void e.remove()}const s=(0,i.xi)();s.append(...t),e.replace(s),o||s.select(0,0)},type:"element"},J={dependencies:[s.iK],export:e=>{if(!(0,s.a5)(e))return null;const t=e.getTextContent();return"```"+(e.getLanguage()||"")+(t?"\n"+t:"")+"\n```"},regExpEnd:{optional:!0,regExp:A},regExpStart:E,replace:(e,t,n,o,i,l)=>{let a,c;if(!t&&i){if(1===i.length)o?(a=(0,s.QC)(),c=n[1]+i[0]):(a=(0,s.QC)(n[1]),c=i[0].startsWith(" ")?i[0].slice(1):i[0]);else{if(a=(0,s.QC)(n[1]),0===i[0].trim().length)for(;i.length>0&&!i[0].length;)i.shift();else i[0]=i[0].startsWith(" ")?i[0].slice(1):i[0];for(;i.length>0&&!i[i.length-1].length;)i.pop();c=i.join("\n")}const t=(0,r.sTu)(c);a.append(t),e.append(a)}else t&&I((e=>(0,s.QC)(e?e[1]:void 0)))(e,t,n,l)},type:"multiline-element"},$={dependencies:[o.v5,o.YW],export:(e,t)=>(0,o.HY)(e)?z(e,t,0):null,regExp:w,replace:B("bullet"),type:"element"},H=(o.v5,o.YW,B("check"),[K,W,$,{dependencies:[o.v5,o.YW],export:(e,t)=>(0,o.HY)(e)?z(e,t,0):null,regExp:b,replace:B("number"),type:"element"},J,{format:["code"],tag:"`",type:"text-format"},{format:["bold","italic"],tag:"***",type:"text-format"},{format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},{format:["bold"],tag:"**",type:"text-format"},{format:["bold"],intraword:!1,tag:"__",type:"text-format"},{format:["highlight"],tag:"==",type:"text-format"},{format:["italic"],tag:"*",type:"text-format"},{format:["italic"],intraword:!1,tag:"_",type:"text-format"},{format:["strikethrough"],tag:"~~",type:"text-format"},{dependencies:[l.Db],export:(e,t,n)=>{if(!(0,l.FJ)(e)||(0,l.iK)(e))return null;const r=e.getTitle(),o=t(e);return r?`[${o}](${e.getURL()} "${r}")`:`[${o}](${e.getURL()})`},importRegExp:/(?:\[(.+?)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[(.+?)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(e,t)=>{const[,n,o,i]=t,s=(0,l.zA)(o,{title:i}),a=n.split("[").length-1,c=n.split("]").length-1;let u=n,d="";if(a<c)return;if(a>c){const e=n.split("[");d="["+e[0],u=e.slice(1).join("[")}const f=(0,r.sTu)(u);return f.setFormat(e.getFormat()),s.append(f),e.replace(s),d&&s.insertBefore((0,r.sTu)(d)),f},trigger:")",type:"text-match"}]);function q(e,t,n){const r=n.length;for(let o=t;o>=r;o--){const t=o-r;if(U(e,t,n,0,r)&&" "!==e[t+r])return t}return-1}function U(e,t,n,r,o){for(let i=0;i<o;i++)if(e[t+i]!==n[r+i])return!1;return!0}function V(e,t=H){const n=c(t),o=a(n.textFormat,(({tag:e})=>e[e.length-1])),i=a(n.textMatch,(({trigger:e})=>e));for(const n of t){const t=n.type;if("element"===t||"text-match"===t||"multiline-element"===t){const t=n.dependencies;for(const n of t)e.hasNode(n)||C(173,n.getType())}}const l=(e,t,s)=>{(function(e,t,n,o){const i=e.getParent();if(!(0,r.IqF)(i)||e.getFirstChild()!==t)return!1;const s=t.getTextContent();if(" "!==s[n-1])return!1;for(const{regExp:r,replace:i}of o){const o=s.match(r);if(o&&o[0].length===(o[0].endsWith(" ")?n:n-1)){const r=t.getNextSiblings(),[s,l]=t.splitText(n);if(!1!==i(e,l?[l,...r]:r,o,!1))return s.remove(),!0}}return!1})(e,t,s,n.element)||function(e,t,n,o){const i=e.getParent();if(!(0,r.IqF)(i)||e.getFirstChild()!==t)return!1;const s=t.getTextContent();if(" "!==s[n-1])return!1;for(const{regExpStart:r,replace:i,regExpEnd:l}of o){if(l&&!("optional"in l)||l&&"optional"in l&&!l.optional)continue;const o=s.match(r);if(o&&o[0].length===(o[0].endsWith(" ")?n:n-1)){const r=t.getNextSiblings(),[s,l]=t.splitText(n);if(!1!==i(e,l?[l,...r]:r,o,null,null,!1))return s.remove(),!0}}return!1}(e,t,s,n.multilineElement)||function(e,t,n){let r=e.getTextContent();const o=n[r[t-1]];if(null==o)return!1;t<r.length&&(r=r.slice(0,t));for(const t of o){if(!t.replace||!t.regExp)continue;const n=r.match(t.regExp);if(null===n)continue;const o=n.index||0,i=o+n[0].length;let s;return 0===o?[s]=e.splitText(i):[,s]=e.splitText(o,i),s.selectNext(0,0),t.replace(s,n),!0}return!1}(t,s,i)||function(e,t,n){const o=e.getTextContent(),i=t-1,s=o[i],l=n[s];if(!l)return!1;for(const t of l){const{tag:n}=t,l=n.length,a=i-l+1;if(l>1&&!U(o,a,n,0,l))continue;if(" "===o[a-1])continue;const c=o[i+1];if(!1===t.intraword&&c&&!u.test(c))continue;const d=e;let f=d,h=q(o,a,n),g=f;for(;h<0&&(g=g.getPreviousSibling())&&!(0,r.wH$)(g);)if((0,r.kFe)(g)){if(g.hasFormat("code"))continue;const e=g.getTextContent();f=g,h=q(e,e.length,n)}if(h<0)continue;if(f===d&&h+l===a)continue;const p=f.getTextContent();if(h>0&&p[h-1]===s)continue;const m=p[h-1];if(!1===t.intraword&&m&&!u.test(m))continue;const _=d.getTextContent(),y=_.slice(0,a)+_.slice(i+1);d.setTextContent(y);const v=f===d?y:p;f.setTextContent(v.slice(0,h)+v.slice(h+l));const x=(0,r.vJq)(),S=(0,r.uTE)();(0,r.n1P)(S);const C=i-l*(f===d?2:1)+1;S.anchor.set(f.__key,h,"text"),S.focus.set(d.__key,C,"text");for(const e of t.format)S.hasFormat(e)||S.formatText(e);S.anchor.set(S.focus.key,S.focus.offset,S.focus.type);for(const e of t.format)S.hasFormat(e)&&S.toggleFormat(e);return(0,r.I2P)(x)&&(S.format=x.format),!0}}(t,s,o)};return e.registerUpdateListener((({tags:t,dirtyLeaves:n,editorState:o,prevEditorState:i})=>{if(t.has(r.Ng_)||t.has(r.n0X))return;if(e.isComposing())return;const a=o.read(r.vJq),c=i.read(r.vJq);if(!(0,r.I2P)(c)||!(0,r.I2P)(a)||!a.isCollapsed()||a.is(c))return;const u=a.anchor.key,d=a.anchor.offset,f=o._nodeMap.get(u);!(0,r.kFe)(f)||!n.has(u)||1!==d&&d>c.anchor.offset+1||e.update((()=>{if(!y(f))return;const e=f.getParent();null===e||(0,s.a5)(e)||l(e,f,a.anchor.offset)}))}))}function j(e,t=H,n,o=!1,i=!1){const s=o?e:function(e,t=!1){const n=e.split("\n");let r=!1;const o=[];for(let e=0;e<n.length;e++){const i=n[e].trimEnd(),s=o[o.length-1];M.test(i)?o.push(i):E.test(i)||A.test(i)?(r=!r,o.push(i)):r||""===i||""===s||!s||N.test(s)||N.test(i)||k.test(i)||b.test(i)||w.test(i)||T.test(i)||O.test(i)||F.test(i)||!t||L.test(i)||P.test(i)||R(P).test(s)||R(L).test(s)||A.test(s)?o.push(i):o[o.length-1]=s+" "+i.trimStart()}return o.join("\n")}(e,i);return function(e,t=!1){const n=c(e),o=function(e){const t={},n={},r=[];for(const o of e){const{tag:e}=o;t[e]=o;const i=e.replace(/(\*|\^|\+)/g,"\\$1");r.push(i),1===e.length?n[e]="`"===e?new RegExp("(?<![\\\\`])(`)((?:\\\\`|[^`])+?)(`)(?!`)"):new RegExp(`(?<![\\\\${i}])(${i})((\\\\${i})?.*?[^${i}\\s](\\\\${i})?)((?<!\\\\)|(?<=\\\\\\\\))(${i})(?![\\\\${i}])`):n[e]=new RegExp(`(?<!\\\\)(${i})((\\\\${i})?.*?[^\\s](\\\\${i})?)((?<!\\\\)|(?<=\\\\\\\\))(${i})(?!\\\\)`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp(`(?<![\\\\])(${r.join("|")})`,"g"),transformersByTag:t}}(n.textFormat);return(e,i)=>{const s=e.split("\n"),l=s.length,a=i||(0,r.NiT)();a.clear();for(let e=0;e<l;e++){const r=s[e],[i,l]=x(s,e,n.multilineElement,a);i?e=l:S(r,a,n.element,o,n.textMatch,t)}const c=a.getChildren();for(const e of c)!t&&f(e)&&a.getChildrenSize()>1&&e.remove();null!==(0,r.vJq)()&&a.selectStart()}}(t,o)(s,n)}function Z(e=H,t,n=!1){const o=function(e,t=!1){const n=c(e),o=[...n.multilineElement,...n.element],i=!t,s=n.textFormat.filter((e=>1===e.format.length)).sort(((e,t)=>Number(e.format.includes("code"))-Number(t.format.includes("code"))));return e=>{const t=[],l=(e||(0,r.NiT)()).getChildren();for(let e=0;e<l.length;e++){const r=l[e],a=h(r,o,s,n.textMatch);null!=a&&t.push(i&&e>0&&!f(r)&&!f(l[e-1])?"\n".concat(a):a)}return t.join("\n")}}(e,n);return o(t)}},1738:(e,t,n)=>{n.d(t,{QC:()=>u,a5:()=>d,iK:()=>c,yy:()=>y});var r=n(1715),o=n(1719);function i(e,t){for(const n of e.childNodes){if((0,r.sby)(n)&&n.tagName===t)return!0;i(n,t)}return!1}n(1739),n(1740),n(1741),n(1742),n(1743),n(1744),n(1745),n(1746),n(1747),n(1748),n(1749),n(1750),n(1751),n(1752),n(1753),n(1754);const s="data-language",l="data-highlight-language",a="data-theme";class c extends r.fGB{__language;__theme;__isSyntaxHighlightSupported;static getType(){return"code"}static clone(e){return new c(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}afterCloneFrom(e){super.afterCloneFrom(e),this.__language=e.__language,this.__theme=e.__theme,this.__isSyntaxHighlightSupported=e.__isSyntaxHighlightSupported}createDOM(e){const t=document.createElement("code");(0,o.ZB)(t,e.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();n&&(t.setAttribute(s,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(l,n));const r=this.getTheme();r&&t.setAttribute(a,r);const i=this.getStyle();return i&&t.setAttribute("style",i),t}updateDOM(e,t,n){const r=this.__language,o=e.__language;r?r!==o&&t.setAttribute(s,r):o&&t.removeAttribute(s);const i=this.__isSyntaxHighlightSupported;e.__isSyntaxHighlightSupported&&o?i&&r?r!==o&&t.setAttribute(l,r):t.removeAttribute(l):i&&r&&t.setAttribute(l,r);const c=this.__theme,u=e.__theme;c?c!==u&&t.setAttribute(a,c):u&&t.removeAttribute(a);const d=this.__style,f=e.__style;return d?d!==f&&t.setAttribute("style",d):f&&t.removeAttribute("style"),!1}exportDOM(e){const t=document.createElement("pre");(0,o.ZB)(t,e._config.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();n&&(t.setAttribute(s,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(l,n));const r=this.getTheme();r&&t.setAttribute(a,r);const i=this.getStyle();return i&&t.setAttribute("style",i),{element:t}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||i(e,"BR"))?{conversion:f,priority:1}:null,div:()=>({conversion:h,priority:1}),pre:()=>({conversion:f,priority:0}),table:e=>_(e)?{conversion:g,priority:3}:null,td:e=>{const t=e,n=t.closest("table");return t.classList.contains("js-file-line")||n&&_(n)?{conversion:p,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&_(t)?{conversion:p,priority:3}:null}}}static importJSON(e){return u().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language).setTheme(e.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(e,t=!0){const n=this.getChildren(),i=n.length;if(i>=2&&"\n"===n[i-1].getTextContent()&&"\n"===n[i-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i){n[i-1].remove(),n[i-2].remove();const e=(0,r.lJ7)();return this.insertAfter(e,t),e}const{anchor:s,focus:l}=e,a=(s.isBefore(l)?s:l).getNode();if((0,r.kFe)(a)){let e=function(e){return function(e){let t=e;for(let n=(0,r.IlV)(e,"previous");n&&(S(n.origin)||(0,r.MK6)(n.origin));n=(0,o._X)(n))t=n.origin;return t}(e)}(a);const t=[];for(;;)if((0,r.MK6)(e))t.push((0,r.ev7)()),e=e.getNextSibling();else{if(!S(e))break;{let n=0;const r=e.getTextContent(),o=e.getTextContentSize();for(;n<o&&" "===r[n];)n++;if(0!==n&&t.push(x(" ".repeat(n))),n!==o)break;e=e.getNextSibling()}}const n=a.splitText(s.offset)[0],i=0===s.offset?0:1,l=n.getIndexWithinParent()+i,c=a.getParentOrThrow(),u=[(0,r.WKo)(),...t];c.splice(l,0,u);const d=t[t.length-1];d?d.select():0===s.offset?n.selectPrevious():n.getNextSibling().selectNext(0,0)}if(d(a)){const{offset:t}=e.anchor;a.splice(t,0,[(0,r.WKo)()]),a.select(t+1,t+1)}return null}canIndent(){return!1}collapseAtStart(){const e=(0,r.lJ7)();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(e){const t=this.getWritable();return t.__isSyntaxHighlightSupported=e,t}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(e){const t=this.getWritable();return t.__theme=e||void 0,t}getTheme(){return this.getLatest().__theme}}function u(e,t){return(0,r.phO)(c).setLanguage(e).setTheme(t)}function d(e){return e instanceof c}function f(e){return{node:u(e.getAttribute(s))}}function h(e){const t=e,n=m(t);return n||function(e){let t=e.parentElement;for(;null!==t;){if(m(t))return!0;t=t.parentElement}return!1}(t)?{node:n?u():null}:{node:null}}function g(){return{node:u()}}function p(){return{node:null}}function m(e){return null!==e.style.fontFamily.match("monospace")}function _(e){return e.classList.contains("js-file-line-container")}class y extends r.Ey8{__highlightType;constructor(e="",t,n){super(e,n),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new y(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e),n=v(e.theme,this.__highlightType);return(0,o.ZB)(t,n),t}updateDOM(e,t,n){const r=super.updateDOM(e,t,n),i=v(n.theme,e.__highlightType),s=v(n.theme,this.__highlightType);return i!==s&&(i&&(0,o.HE)(t,i),s&&(0,o.ZB)(t,s)),r}static importJSON(e){return x().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return u()}}function v(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function x(e="",t){return(0,r.pTq)(new y(e,t))}function S(e){return e instanceof y}(0,r.vE9)({name:"@lexical/code",nodes:()=>[c,y]}),function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach((function(n){var r=t[n],o=[];/^\w+$/.test(n)||o.push(/\w+/.exec(n)[0]),"diff"===n&&o.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:o,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(Prism),globalThis.Prism||window.Prism,new Set},1755:(e,t,n)=>{n.d(t,{PL:()=>h,fS:()=>d});var r=n(1718),o=n(1714),i=n(1715),s=n(228);function l(e,t){return e.getEditorState().read((()=>{const e=(0,i.nsf)(t);return null!==e&&e.isSelected()}))}var a=n(1719),c=n(1716);function u({nodeKey:e}){const[t]=(0,o.DF)(),[n,r,c]=function(e){const[t]=(0,o.DF)(),[n,r]=(0,s.useState)((()=>l(t,e)));return(0,s.useEffect)((()=>{let n=!0;const o=t.registerUpdateListener((()=>{n&&r(l(t,e))}));return()=>{n=!1,o()}}),[t,e]),[n,(0,s.useCallback)((n=>{t.update((()=>{let t=(0,i.vJq)();(0,i.RTZ)(t)||(t=(0,i.rUs)(),(0,i.n1P)(t)),(0,i.RTZ)(t)&&(n?t.add(e):t.delete(e))}))}),[t,e]),(0,s.useCallback)((()=>{t.update((()=>{const e=(0,i.vJq)();(0,i.RTZ)(e)&&e.clear()}))}),[t])]}(e);return(0,s.useEffect)((()=>(0,a.Sd)(t.registerCommand(i.d8p,(o=>{const i=t.getElementByKey(e);return o.target===i&&(o.shiftKey||c(),r(!n),!0)}),i.AcJ))),[c,t,n,e,r]),(0,s.useEffect)((()=>{const r=t.getElementByKey(e),o=t._config.theme.hrSelected??"selected";null!==r&&(n?(0,a.ZB)(r,o):(0,a.HE)(r,o))}),[t,n,e]),null}class d extends r.fS{static getType(){return"horizontalrule"}static clone(e){return new d(e.__key)}static importJSON(e){return h().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:f,priority:0})}}decorate(){return(0,c.Y)(u,{nodeKey:this.__key})}}function f(){return{node:h()}}function h(){return(0,i.pTq)(new d)}},1757:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"}),"Shuffle");t.A=s},1758:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M13 5v6h1.17L12 13.17 9.83 11H11V5h2m2-2H9v6H5l7 7 7-7h-4V3zm4 15H5v2h14v-2z"}),"GetAppOutlined");t.A=s},2032:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(215),o=n(237),i=n(228),s=n(382),l=n(235),a=n(439),c=n(442),u=i.forwardRef((function(e,t){var n=e.classes,l=e.className,u=e.color,d=void 0===u?"primary":u,f=e.position,h=void 0===f?"fixed":f,g=(0,o.A)(e,["classes","className","color","position"]);return i.createElement(c.A,(0,r.A)({square:!0,component:"header",elevation:4,className:(0,s.default)(n.root,n["position".concat((0,a.A)(h))],n["color".concat((0,a.A)(d))],l,"fixed"===h&&"mui-fixed"),ref:t},g))}));const d=(0,l.A)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(u)},2033:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(215),o=n(237),i=n(262),s=n(228),l=n(382),a=n(235),c=s.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.component,c=void 0===a?"div":a,u=e.disableGutters,d=void 0!==u&&u,f=e.variant,h=void 0===f?"regular":f,g=(0,o.A)(e,["classes","className","component","disableGutters","variant"]);return s.createElement(c,(0,r.A)({className:(0,l.default)(n.root,n[h],i,!d&&n.gutters),ref:t},g))}));const u=(0,a.A)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:(0,i.A)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(c)},2034:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");t.A=s},2035:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}),"FormatBold");t.A=s},2036:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic");t.A=s},2037:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}),"FormatUnderlined");t.A=s},2038:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),"FormatQuote");t.A=s},2039:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),"FormatListBulleted");t.A=s},2040:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),"FormatListNumbered");t.A=s},2041:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M5 4v3h5.5v12h3V7H19V4z"}),"Title");t.A=s},2042:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"Undo");t.A=s},2043:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"Redo");t.A=s},2044:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.A=s},2045:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"}),"FormatStrikethrough");t.A=s},2046:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z"}),"TextFormat");t.A=s},2047:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"}),"Drafts");t.A=s},2048:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement(i.Fragment,null,i.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),i.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"AccessTime");t.A=s},2049:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.A=s},2050:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement(i.Fragment,null,i.createElement("path",{d:"M3 8c0 .55.45 1 1 1s1-.45 1-1V6h2c.55 0 1-.45 1-1s-.45-1-1-1H5V2c0-.55-.45-1-1-1s-1 .45-1 1v2H1c-.55 0-1 .45-1 1s.45 1 1 1h2v2z"}),i.createElement("circle",{cx:"13",cy:"14",r:"3"}),i.createElement("path",{d:"M21 6h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65h-6.4c.17.3.28.63.28 1 0 1.1-.9 2-2 2H6v1c0 1.1-.9 2-2 2-.37 0-.7-.11-1-.28V20c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"AddAPhotoRounded");t.A=s},2051:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M8 23h8v-2H8v2zm8-21.99L8 1c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM16 15H8V5h8v10z"}),"DockOutlined");t.A=s},2052:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var i=o(n(228)),s=(0,r(n(460)).default)(i.createElement("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"}),"Security");t.A=s}}]);