/*! For license information please see chunk_21.min.js.LICENSE.txt */
(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([[21],{756:(e,t,n)=>{"use strict";var r=n(377),i=n(459);t.A=void 0;var s=i(n(228)),o=(0,r(n(460)).default)(s.createElement(s.Fragment,null,s.createElement("circle",{cx:"12",cy:"12",r:"3"}),s.createElement("path",{d:"M20 4h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65H9.88c-.56 0-1.1.24-1.48.65L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCameraRounded");t.A=o},757:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(237),i=n(215),s=n(228),o=n(382),a=n(235),c=n(456),l=n(439),u=s.forwardRef((function(e,t){var n=e.children,a=e.classes,u=e.className,d=e.color,h=void 0===d?"default":d,p=e.component,f=void 0===p?"button":p,g=e.disabled,m=void 0!==g&&g,w=e.disableFocusRipple,b=void 0!==w&&w,y=e.focusVisibleClassName,_=e.size,v=void 0===_?"large":_,E=e.variant,A=void 0===E?"circular":E,k=(0,r.A)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return s.createElement(c.A,(0,i.A)({className:(0,o.default)(a.root,u,"large"!==v&&a["size".concat((0,l.A)(v))],m&&a.disabled,"extended"===A&&a.extended,{primary:a.primary,secondary:a.secondary,inherit:a.colorInherit}[h]),component:f,disabled:m,focusRipple:!b,focusVisibleClassName:(0,o.default)(a.focusVisible,y),ref:t},k),s.createElement("span",{className:a.label},n))}));const d=(0,a.A)((function(e){return{root:(0,i.A)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(u)},769:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(215),i=n(237),s=n(228),o=n(382),a=n(770),c=n(235),l=n(477),u=n(439),d=s.forwardRef((function(e,t){e.checked;var n=e.classes,c=e.className,d=e.control,h=e.disabled,p=(e.inputRef,e.label),f=e.labelPlacement,g=void 0===f?"end":f,m=(e.name,e.onChange,e.value,(0,i.A)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),w=(0,a.A)(),b=h;void 0===b&&void 0!==d.props.disabled&&(b=d.props.disabled),void 0===b&&w&&(b=w.disabled);var y={disabled:b};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===d.props[t]&&void 0!==e[t]&&(y[t]=e[t])})),s.createElement("label",(0,r.A)({className:(0,o.default)(n.root,c,"end"!==g&&n["labelPlacement".concat((0,u.A)(g))],b&&n.disabled),ref:t},m),s.cloneElement(d,y),s.createElement(l.A,{component:"span",className:(0,o.default)(n.label,b&&n.disabled)},p))}));const h=(0,c.A)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(d)},772:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(215),i=n(266),s=n(237),o=n(228),a=n(382),c=n(454),l=n(770),u=n(235),d=n(455),h=o.forwardRef((function(e,t){var n=e.autoFocus,u=e.checked,h=e.checkedIcon,p=e.classes,f=e.className,g=e.defaultChecked,m=e.disabled,w=e.icon,b=e.id,y=e.inputProps,_=e.inputRef,v=e.name,E=e.onBlur,A=e.onChange,k=e.onFocus,x=e.readOnly,B=e.required,I=e.tabIndex,S=e.type,$=e.value,C=(0,s.A)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),U=(0,c.A)({controlled:u,default:Boolean(g),name:"SwitchBase",state:"checked"}),R=(0,i.A)(U,2),T=R[0],L=R[1],z=(0,l.A)(),N=m;z&&void 0===N&&(N=z.disabled);var O="checkbox"===S||"radio"===S;return o.createElement(d.A,(0,r.A)({component:"span",className:(0,a.default)(p.root,f,T&&p.checked,N&&p.disabled),disabled:N,tabIndex:null,role:void 0,onFocus:function(e){k&&k(e),z&&z.onFocus&&z.onFocus(e)},onBlur:function(e){E&&E(e),z&&z.onBlur&&z.onBlur(e)},ref:t},C),o.createElement("input",(0,r.A)({autoFocus:n,checked:u,defaultChecked:g,className:p.input,disabled:N,id:O&&b,name:v,onChange:function(e){var t=e.target.checked;L(t),A&&A(e,t)},readOnly:x,ref:_,required:B,tabIndex:I,type:S,value:$},y)),T?h:w)}));const p=(0,u.A)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(h)},783:(e,t,n)=>{"use strict";var r=n(377),i=n(459);t.A=void 0;var s=i(n(228)),o=(0,r(n(460)).default)(s.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}),"InsertDriveFileOutlined");t.A=o},784:(e,t,n)=>{"use strict";var r=n(377),i=n(459);t.A=void 0;var s=i(n(228)),o=(0,r(n(460)).default)(s.createElement("path",{d:"M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-6v6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"Compare");t.A=o},785:(e,t,n)=>{"use strict";var r=n(377),i=n(459);t.A=void 0;var s=i(n(228)),o=(0,r(n(460)).default)(s.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.A=o},791:(e,t,n)=>{"use strict";n.d(t,{Kj:()=>ue});var r=n(692),i=(n(792).Buffer,Object.defineProperty),s=e=>{throw TypeError(e)},o=(e,t,n)=>((e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),a=(e,t,n)=>t.has(e)||s("Cannot "+n),c=(e,t,n)=>(a(e,t,"read from private field"),n?n.call(e):t.get(e)),l=new Intl.Collator(0,{numeric:1}).compare;function u(e,t,n){return e=e.split("."),t=t.split("."),l(e[0],t[0])||l(e[1],t[1])||(t[2]=t.slice(2).join("."),(n=/[.-]/.test(e[2]=e.slice(2).join(".")))==/[.-]/.test(t[2])?l(e[2],t[2]):n?-1:1)}const d="host",h="queue/data",p="upload",f="login",g="config",m="This application is currently busy. Please try again. ",w="Connection errored out. ",b="Could not resolve app config. ",y="Space metadata could not be loaded. ",_="Not authorized to access this space. ",v="Invalid credentials. Could not login. ",E="Login credentials are required to access this space.",A="File system access is only available in Node.js environments",k="Root URL not found in client config";async function x(e,t,n){try{return(await(await fetch(`https://huggingface.co/api/spaces/${e}/jwt`,{headers:{Authorization:`Bearer ${t}`,...n?{Cookie:n}:{}}})).json()).token||!1}catch{return!1}}async function B(e){const t=this.options.hf_token?{Authorization:`Bearer ${this.options.hf_token}`}:{};if(t["Content-Type"]="application/json",typeof window<"u"&&window.gradio_config&&"http://localhost:9876"!==location.origin){if(window.gradio_config.current_page&&(e=e.substring(0,e.lastIndexOf("/"))),window.gradio_config.dev_mode){let n=z(e,this.deep_link?g+"?deep_link="+this.deep_link:g);const r=await this.fetch(n,{headers:t,credentials:"include"}),i=await I(r,e,!!this.options.auth);window.gradio_config={...i,current_page:window.gradio_config.current_page}}return window.gradio_config.root=e,{...window.gradio_config}}if(e){let n=z(e,this.deep_link?g+"?deep_link="+this.deep_link:g);return I(await this.fetch(n,{headers:t,credentials:"include"}),e,!!this.options.auth)}throw new Error(b)}async function I(e,t,n){var r,i;if(401===(null==e?void 0:e.status)&&!n){const t=await e.json(),n=null==(r=null==t?void 0:t.detail)?void 0:r.auth_message;throw new Error(n||E)}if(401===(null==e?void 0:e.status)&&n)throw new Error(v);if(200===(null==e?void 0:e.status)){let n=await e.json();return n.root=t,null==(i=n.dependencies)||i.forEach(((e,t)=>{void 0===e.id&&(e.id=t)})),n}if(401===(null==e?void 0:e.status))throw new Error(_);throw new Error(b)}async function S(){const{http_protocol:e,host:t}=await L(this.app_reference,this.options.hf_token);try{if(this.options.auth){const n=await $(e,t,this.options.auth,this.fetch,this.options.hf_token);n&&this.set_cookies(n)}}catch(e){throw Error(e.message)}}async function $(e,t,n,r,i){const s=new FormData;s.append("username",null==n?void 0:n[0]),s.append("password",null==n?void 0:n[1]);let o={};i&&(o.Authorization=`Bearer ${i}`);const a=await r(`${e}//${t}/${f}`,{headers:o,method:"POST",body:s,credentials:"include"});if(200===a.status)return a.headers.get("set-cookie");throw 401===a.status?new Error(v):new Error(y)}function C(e){if(e.startsWith("http")){const{protocol:t,host:n,pathname:r}=new URL(e);return{ws_protocol:"https:"===t?"wss":"ws",http_protocol:t,host:n+("/"!==r?r:"")}}return{ws_protocol:"wss",http_protocol:"https:",host:new URL(e).host}}const U=e=>{let t=[];return e.split(/,(?=\s*[^\s=;]+=[^\s=;]+)/).forEach((e=>{const[n,r]=e.split(";")[0].split("=");n&&r&&t.push(`${n.trim()}=${r.trim()}`)})),t},R=/^[a-zA-Z0-9_\-\.]+\/[a-zA-Z0-9_\-\.]+$/,T=/.*hf\.space\/{0,1}.*$/;async function L(e,t){const n={};t&&(n.Authorization=`Bearer ${t}`);const r=e.trim().replace(/\/$/,"");if(R.test(r))try{return{space_id:e,...C((await(await fetch(`https://huggingface.co/api/spaces/${r}/${d}`,{headers:n})).json()).host)}}catch{throw new Error(y)}if(T.test(r)){const{ws_protocol:e,http_protocol:t,host:n}=C(r);return{space_id:n.split("/")[0].replace(".hf.space",""),ws_protocol:e,http_protocol:t,host:n}}return{space_id:!1,...C(r)}}const z=(...e)=>{try{return e.reduce(((e,t)=>(e=e.replace(/\/+$/,""),t=t.replace(/^\/+/,""),new URL(t,e+"/").toString())))}catch{throw new Error("Invalid URL. A full URL path is required.")}};function N(e,t,n,r){if("Api"===t)return e.type;switch(null==e?void 0:e.type){case"string":return"string";case"boolean":return"boolean";case"number":return"number"}return"JSONSerializable"===n||"StringSerializable"===n?"any":"ListStringSerializable"===n?"string[]":"Image"===t?"parameter"===r?"Blob | File | Buffer":"string":"FileSerializable"===n?"array"===(null==e?void 0:e.type)?"parameter"===r?"(Blob | File | Buffer)[]":"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}[]":"parameter"===r?"Blob | File | Buffer":"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}":"GallerySerializable"===n?"parameter"===r?"[(Blob | File | Buffer), (string | null)][]":"[{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}, (string | null))][]":void 0}function O(e,t){return"GallerySerializable"===t?"array of [file, label] tuples":"ListStringSerializable"===t?"array of strings":"FileSerializable"===t?"array of files or single file":null==e?void 0:e.description}function D(e,t){switch(e.msg){case"send_data":return{type:"data"};case"send_hash":return{type:"hash"};case"queue_full":return{type:"update",status:{queue:!0,message:m,stage:"error",code:e.code,success:e.success}};case"heartbeat":return{type:"heartbeat"};case"unexpected_error":return{type:"unexpected_error",status:{queue:!0,message:e.message,session_not_found:e.session_not_found,stage:"error",success:!1}};case"broken_connection":return{type:"broken_connection",status:{queue:!0,message:e.message,stage:"error",success:!1}};case"estimation":return{type:"update",status:{queue:!0,stage:t||"pending",code:e.code,size:e.queue_size,position:e.rank,eta:e.rank_eta,success:e.success}};case"progress":return{type:"update",status:{queue:!0,stage:"pending",code:e.code,progress_data:e.progress_data,success:e.success}};case"log":return{type:"log",data:e};case"process_generating":return{type:"generating",status:{queue:!0,message:e.success?null:e.output.error,stage:e.success?"generating":"error",code:e.code,progress_data:e.progress_data,eta:e.average_duration,changed_state_ids:e.success?e.output.changed_state_ids:void 0},data:e.success?e.output:null};case"process_streaming":return{type:"streaming",status:{queue:!0,message:e.output.error,stage:"streaming",time_limit:e.time_limit,code:e.code,progress_data:e.progress_data,eta:e.eta},data:e.output};case"process_completed":return"error"in e.output?{type:"update",status:{queue:!0,title:e.output.title,message:e.output.error,visible:e.output.visible,duration:e.output.duration,stage:"error",code:e.code,success:e.success}}:{type:"complete",status:{queue:!0,message:e.success?void 0:e.output.error,stage:e.success?"complete":"error",code:e.code,progress_data:e.progress_data,changed_state_ids:e.success?e.output.changed_state_ids:void 0},data:e.success?e.output:null};case"process_starts":return{type:"update",status:{queue:!0,stage:"pending",code:e.code,size:e.rank,position:0,success:e.success,eta:e.eta},original_msg:"process_starts"}}return{type:"none",status:{stage:"error",queue:!0}}}async function P(){if(this.api_info)return this.api_info;const{hf_token:e}=this.options,{config:t}=this,n={"Content-Type":"application/json"};if(e&&(n.Authorization=`Bearer ${e}`),t)try{let e,r;if(typeof window<"u"&&window.gradio_api_info)r=window.gradio_api_info;else{if(u((null==t?void 0:t.version)||"2.0.0","3.30")<0)e=await this.fetch("https://gradio-space-api-fetcher-v2.hf.space/api",{method:"POST",body:JSON.stringify({serialize:!1,config:JSON.stringify(t)}),headers:n,credentials:"include"});else{const r=z(t.root,this.api_prefix,"info");e=await this.fetch(r,{headers:n,credentials:"include"})}if(!e.ok)throw new Error(w);r=await e.json()}return"api"in r&&(r=r.api),r.named_endpoints["/predict"]&&!r.unnamed_endpoints[0]&&(r.unnamed_endpoints[0]=r.named_endpoints["/predict"]),function(e,t,n){const r={named_endpoints:{},unnamed_endpoints:{}};return Object.keys(e).forEach((i=>{("named_endpoints"===i||"unnamed_endpoints"===i)&&(r[i]={},Object.entries(e[i]).forEach((([e,{parameters:s,returns:o}])=>{var a,c,l,u;const d=(null==(a=t.dependencies.find((t=>t.api_name===e||t.api_name===e.replace("/",""))))?void 0:a.id)||n[e.replace("/","")]||-1,h=-1!==d?null==(c=t.dependencies.find((e=>e.id==d)))?void 0:c.types:{generator:!1,cancel:!1};if(-1!==d&&(null==(u=null==(l=t.dependencies.find((e=>e.id==d)))?void 0:l.inputs)?void 0:u.length)!==s.length){const e=t.dependencies.find((e=>e.id==d)).inputs.map((e=>{var n;return null==(n=t.components.find((t=>t.id===e)))?void 0:n.type}));try{e.forEach(((e,t)=>{if("state"===e){const e={component:"state",example:null,parameter_default:null,parameter_has_default:!0,parameter_name:null,hidden:!0};s.splice(t,0,e)}}))}catch(e){}}const p=(e,t,n,r)=>({...e,description:O(null==e?void 0:e.type,n),type:N(null==e?void 0:e.type,t,n,r)||""});r[i][e]={parameters:s.map((e=>p(e,null==e?void 0:e.component,null==e?void 0:e.serializer,"parameter"))),returns:o.map((e=>p(e,null==e?void 0:e.component,null==e?void 0:e.serializer,"return"))),type:h}})))})),r}(r,t,this.api_map)}catch(e){throw new Error("Could not get API info. "+e.message)}}async function j(e,t,n){var r;const i={};null!=(r=null==this?void 0:this.options)&&r.hf_token&&(i.Authorization=`Bearer ${this.options.hf_token}`);const s=[];let o;for(let r=0;r<t.length;r+=1e3){const a=t.slice(r,r+1e3),c=new FormData;a.forEach((e=>{c.append("files",e)}));try{const t=n?`${e}${this.api_prefix}/${p}?upload_id=${n}`:`${e}${this.api_prefix}/${p}`;o=await this.fetch(t,{method:"POST",body:c,headers:i,credentials:"include"})}catch(e){throw new Error(w+e.message)}if(!o.ok){const e=await o.text();return{error:`HTTP ${o.status}: ${e}`}}const l=await o.json();l&&s.push(...l)}return{files:s}}async function q(e,t,n,r){let i=(Array.isArray(e)?e:[e]).map((e=>e.blob));const s=i.filter((e=>e.size>(r??1/0)));if(s.length)throw new Error(`File size exceeds the maximum allowed size of ${r} bytes: ${s.map((e=>e.name)).join(", ")}`);return await Promise.all(await this.upload_files(t,i,n).then((async n=>{if(n.error)throw new Error(n.error);return n.files?n.files.map(((n,r)=>new F({...e[r],path:n,url:`${t}${this.api_prefix}/file=${n}`}))):[]})))}class F{constructor({path:e,url:t,orig_name:n,size:r,blob:i,is_stream:s,mime_type:a,alt_text:c,b64:l}){o(this,"path"),o(this,"url"),o(this,"orig_name"),o(this,"size"),o(this,"blob"),o(this,"is_stream"),o(this,"mime_type"),o(this,"alt_text"),o(this,"b64"),o(this,"meta",{_type:"gradio.FileData"}),this.path=e,this.url=t,this.orig_name=n,this.size=r,this.blob=t?void 0:i,this.is_stream=s,this.mime_type=a,this.alt_text=c,this.b64=l}}class M{constructor(e,t){o(this,"type"),o(this,"command"),o(this,"meta"),o(this,"fileData"),this.type="command",this.command=e,this.meta=t}}function W(e,t,n){for(;n.length>1;){const t=n.shift();if("string"!=typeof t&&"number"!=typeof t)throw new Error("Invalid key type");e=e[t]}const r=n.shift();if("string"!=typeof r&&"number"!=typeof r)throw new Error("Invalid key type");e[r]=t}async function H(e,t=void 0,n=[],r=!1,i=void 0){if(Array.isArray(e)){let s=[];return await Promise.all(e.map((async(o,a)=>{var c;let l=n.slice();l.push(String(a));const u=await H(e[a],r?(null==(c=null==i?void 0:i.parameters[a])?void 0:c.component)||void 0:t,l,!1,i);s=s.concat(u)}))),s}if(globalThis.Buffer&&e instanceof globalThis.Buffer||e instanceof Blob)return[{path:n,blob:new Blob([e]),type:t}];if("object"==typeof e&&null!==e){let t=[];for(const r of Object.keys(e)){const s=[...n,r],o=e[r];t=t.concat(await H(o,void 0,s,!1,i))}return t}return[]}function J(e,t,n,r,i=!1){if("input"===r&&!i)throw new Error("Invalid code path. Cannot skip state inputs for input.");if("output"===r&&i)return e;let s=[],o=0;const a="input"===r?t.inputs:t.outputs;for(let t=0;t<a.length;t++){const r=a[t],c=n.find((e=>e.id===r));if("state"!==(null==c?void 0:c.type)){const t=e[o];s.push(t),o++}else{if(!i){o++;continue}if(e.length===a.length){const t=e[o];s.push(t),o++}else s.push(null)}}return s}async function V(e,t,n){const r=this;await async function(e,t){var n,r;if(!(null==(n=e.config)?void 0:n.root)&&!(null==(r=e.config)?void 0:r.root_url))throw new Error(k);await G(e,t)}(r,t);const i=await H(t,void 0,[],!0,n);return(await Promise.all(i.map((async({path:t,blob:n,type:i})=>{if(!n)return{path:t,type:i};const s=await r.upload_files(e,[n]);return{path:t,file_url:s.files&&s.files[0],type:i,name:typeof File<"u"&&n instanceof File?null==n?void 0:n.name:void 0}})))).forEach((({path:e,file_url:n,type:r,name:i})=>{if("Gallery"===r)W(t,n,e);else if(n){const r=new F({path:n,orig_name:i});W(t,r,e)}})),t}async function G(e,t,n=[]){for(const r in t)t[r]instanceof M?await X(e,t,r):"object"==typeof t[r]&&null!==t[r]&&await G(e,t[r],[...n,r])}async function X(e,t,i){var s,o;let a=t[i];const c=(null==(s=e.config)?void 0:s.root)||(null==(o=e.config)?void 0:o.root_url);if(!c)throw new Error(k);try{let s,o;if(!(typeof r<"u"&&r.versions&&r.versions.node))throw new Error(A);{const e=await n.e(51).then(n.bind(n,2017));o=(await n.e(51).then(n.bind(n,2017))).resolve(r.cwd(),a.meta.path),s=await e.readFile(o)}const l=new Blob([s],{type:"application/octet-stream"}),u=await e.upload_files(c,[l]),d=u.files&&u.files[0];if(d){const e=new F({path:d,orig_name:a.meta.name||""});t[i]=e}}catch(e){}}async function K(e,t,n){const r={"Content-Type":"application/json"};this.options.hf_token&&(r.Authorization=`Bearer ${this.options.hf_token}`);try{var i=await this.fetch(e,{method:"POST",body:JSON.stringify(t),headers:{...r,...n},credentials:"include"})}catch{return[{error:w},500]}let s,o;try{s=await i.json(),o=i.status}catch(e){s={error:`Could not parse server response: ${e}`},o=500}return[s,o]}async function Z(e,t={}){let n=!1,r=!1;if(!this.config)throw new Error("Could not resolve app config");if("number"==typeof e)this.config.dependencies.find((t=>t.id==e));else{const t=e.replace(/^\//,"");this.config.dependencies.find((e=>e.id==this.api_map[t]))}return new Promise((async(i,s)=>{const o=this.submit(e,t,null,null,!0);let a;for await(const e of o)"data"===e.type&&(r&&i(a),n=!0,a=e),"status"===e.type&&("error"===e.stage&&s(e),"complete"===e.stage&&(r=!0,n&&i(a)))}))}async function Y(e,t,n){let r,i,s="subdomain"===t?`https://huggingface.co/api/spaces/by-subdomain/${e}`:`https://huggingface.co/api/spaces/${e}`;try{if(r=await fetch(s),i=r.status,200!==i)throw new Error;r=await r.json()}catch{return void n({status:"error",load_status:"error",message:"Could not get space status. ",detail:"NOT_FOUND"})}if(!r||200!==i)return;const{runtime:{stage:o},id:a}=r;switch(o){case"STOPPED":case"SLEEPING":n({status:"sleeping",load_status:"pending",message:"Space is asleep. Waking it up...",detail:o}),setTimeout((()=>{Y(e,t,n)}),1e3);break;case"PAUSED":n({status:"paused",load_status:"error",message:"This space has been paused by the author. If you would like to try this demo, consider duplicating the space.",detail:o,discussions_enabled:await te(a)});break;case"RUNNING":case"RUNNING_BUILDING":n({status:"running",load_status:"complete",message:"Space is running.",detail:o});break;case"BUILDING":n({status:"building",load_status:"pending",message:"Space is building...",detail:o}),setTimeout((()=>{Y(e,t,n)}),1e3);break;case"APP_STARTING":n({status:"starting",load_status:"pending",message:"Space is starting...",detail:o}),setTimeout((()=>{Y(e,t,n)}),1e3);break;default:n({status:"space_error",load_status:"error",message:"This space is experiencing an issue.",detail:o,discussions_enabled:await te(a)})}}typeof r<"u"&&r.versions&&r.versions.node;const Q=async(e,t)=>{let n=0;return new Promise((r=>{Y(e,R.test(e)?"space_name":"subdomain",(i=>{t(i),"running"===i.status||"error"===i.status||"paused"===i.status||"space_error"===i.status?r():("sleeping"===i.status||"building"===i.status)&&(n<12?(n++,setTimeout((()=>{Q(e,t).then(r)}),5e3)):r())}))}))},ee=/^(?=[^]*\b[dD]iscussions{0,1}\b)(?=[^]*\b[dD]isabled\b)[^]*$/;async function te(e){try{const t=await fetch(`https://huggingface.co/api/spaces/${e}/discussions`,{method:"HEAD"}),n=t.headers.get("x-error-message");return!(!t.ok||n&&ee.test(n))}catch{return!1}}const ne=["cpu-basic","cpu-upgrade","cpu-xl","t4-small","t4-medium","a10g-small","a10g-large","a10g-largex2","a10g-largex4","a100-large","zero-a10g","h100","h100x8"];var re;class ie extends TransformStream{constructor(e={allowCR:!1}){var t,n;super({transform:(t,n)=>{for(t=c(this,re)+t;;){const r=t.indexOf("\n"),i=e.allowCR?t.indexOf("\r"):-1;if(-1!==i&&i!==t.length-1&&(-1===r||r-1>i)){n.enqueue(t.slice(0,i)),t=t.slice(i+1);continue}if(-1===r)break;const s="\r"===t[r-1]?r-1:r;n.enqueue(t.slice(0,s)),t=t.slice(r+1)}((e,t,n)=>{a(e,t,"write to private field"),t.set(e,n)})(this,re,t)},flush:t=>{if(""===c(this,re))return;const n=e.allowCR&&c(this,re).endsWith("\r")?c(this,re).slice(0,-1):c(this,re);t.enqueue(n)}}),t=this,(n=re).has(t)?s("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,"")}}function se(e){let t=/[:]\s*/.exec(e),n=t&&t.index;if(n)return[e.substring(0,n),e.substring(n+t[0].length)]}function oe(e,t,n){e.get(t)||e.set(t,n)}async function ae(){let{event_callbacks:e,unclosed_events:t,pending_stream_messages:n,stream_status:r,config:i,jwt:s}=this;const o=this;if(!i)throw new Error("Could not resolve app config");r.open=!0;let a=null,c=new URLSearchParams({session_hash:this.session_hash}).toString(),l=new URL(`${i.root}${this.api_prefix}/${h}?${c}`);s&&l.searchParams.set("__sign",s),a=this.stream(l),a&&(a.onmessage=async function(s){let a=JSON.parse(s.data);if("close_stream"===a.msg)return void ce(r,o.abort_controller);const c=a.event_id;if(c)if(e[c]&&i){"process_completed"===a.msg&&["sse","sse_v1","sse_v2","sse_v2.1","sse_v3"].includes(i.protocol)&&t.delete(c);let n=e[c];typeof window<"u"&&typeof document<"u"?setTimeout(n,0,a):n(a)}else n[c]||(n[c]=[]),n[c].push(a);else await Promise.all(Object.keys(e).map((t=>e[t](a))))},a.onerror=async function(t){await Promise.all(Object.keys(e).map((t=>e[t]({msg:"broken_connection",message:w}))))})}function ce(e,t){e&&(e.open=!1,null==t||t.abort())}function le(e,t={},n,r,i){var s;try{let o=function(e){(i||K[e.type])&&d(e)},a=function(){for(ee=!0;ne.length>0;)ne.shift()({value:void 0,done:!0})},c=function(e){ne.length>0?ne.shift()(e):te.push(e)},l=function(e){c(function(e){return{then:(t,n)=>n(e)}}(e)),a()},d=function(e){c({value:e,done:!1})},p=function(){return te.length>0?Promise.resolve(te.shift()):new Promise((e=>ne.push(e)))};const{hf_token:f}=this.options,{fetch:g,app_reference:b,config:y,session_hash:_,api_info:v,api_map:E,stream_status:A,pending_stream_messages:k,pending_diff_streams:x,event_callbacks:B,unclosed_events:I,post_data:S,options:$,api_prefix:C}=this,U=this;if(!v)throw new Error("No API found");if(!y)throw new Error("Could not resolve app config");let R,T,{fn_index:z,endpoint_info:N,dependency:O}=function(e,t,n,r){let i,s,o;if("number"==typeof t)i=t,s=e.unnamed_endpoints[i],o=r.dependencies.find((e=>e.id==t));else{const a=t.replace(/^\//,"");i=n[a],s=e.named_endpoints[t.trim()],o=r.dependencies.find((e=>e.id==n[a]))}if("number"!=typeof i)throw new Error("There is no endpoint matching that name of fn_index matching that number.");return{fn_index:i,endpoint_info:s,dependency:o}}(v,e,E,y),P=((e=[],t)=>{const n=t?t.parameters:[];if(Array.isArray(e))return t&&n.length>0&&(e.length,n.length),e;const r=[],i=Object.keys(e);return n.forEach(((t,n)=>{if(e.hasOwnProperty(t.parameter_name))r[n]=e[t.parameter_name];else{if(!t.parameter_has_default)throw new Error(`No value provided for required parameter: ${t.parameter_name}`);r[n]=t.parameter_default}})),i.forEach((e=>{if(!n.some((t=>t.parameter_name===e)))throw new Error(`Parameter \`${e}\` is not a valid keyword argument. Please refer to the API for usage.`)})),r.forEach(((e,t)=>{if(void 0===e&&!n[t].parameter_has_default)throw new Error(`No value provided for required parameter: ${n[t].parameter_name}`)})),r})(t,N),j=y.protocol??"ws",q="",F=()=>q;const M="number"==typeof e?"/predict":e;let W,H=null,V=!1,G={},X=typeof window<"u"&&typeof document<"u"?new URLSearchParams(window.location.search).toString():"";const K=(null==(s=null==$?void 0:$.events)?void 0:s.reduce(((e,t)=>(e[t]=!0,e)),{}))||{};async function Z(){let e={},t={};"ws"===j?(R&&0===R.readyState?R.addEventListener("open",(()=>{R.close()})):R.close(),e={fn_index:z,session_hash:_}):(e={event_id:H},t={event_id:H,session_hash:_,fn_index:z});try{if(!y)throw new Error("Could not resolve app config");"event_id"in t&&await g(`${y.root}${C}/cancel`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}),await g(`${y.root}${C}/reset`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)})}catch{}}const Y=async e=>{await this._resolve_heartbeat(e)};async function Q(e){if(!y)return;let t=e.render_id;y.components=[...y.components.filter((e=>e.props.rendered_in!==t)),...e.components],y.dependencies=[...y.dependencies.filter((e=>e.rendered_in!==t)),...e.dependencies];const n=y.components.some((e=>"state"===e.type)),r=y.dependencies.some((e=>e.targets.some((e=>"unload"===e[1]))));y.connect_heartbeat=n||r,await Y(y),o({type:"render",data:e,endpoint:M,fn_index:z})}this.handle_blob(y.root,P,N).then((async e=>{var t;if(W={data:J(e,O,y.components,"input",!0)||[],event_data:n,fn_index:z,trigger_id:r},function(e,t){var n,r;let i=null==(r=null==(n=null==t?void 0:t.dependencies)?void 0:n.find((t=>t.id==e)))?void 0:r.queue;return null!=i?!i:!t.enable_queue}(z,y))o({type:"status",endpoint:M,stage:"pending",queue:!1,fn_index:z,time:new Date}),S(`${y.root}${C}/run${M.startsWith("/")?M:`/${M}`}${X?"?"+X:""}`,{...W,session_hash:_}).then((([e,t])=>{const i=e.data;200==t?(o({type:"data",endpoint:M,fn_index:z,data:J(i,O,y.components,"output",$.with_null_state),time:new Date,event_data:n,trigger_id:r}),e.render_config&&Q(e.render_config),o({type:"status",endpoint:M,fn_index:z,stage:"complete",eta:e.average_duration,queue:!1,time:new Date})):o({type:"status",stage:"error",endpoint:M,fn_index:z,message:e.error,queue:!1,time:new Date})})).catch((e=>{o({type:"status",stage:"error",message:e.message,endpoint:M,fn_index:z,queue:!1,time:new Date})}));else if("ws"==j){const{ws_protocol:e,host:t}=await L(b,f);o({type:"status",stage:"pending",queue:!0,endpoint:M,fn_index:z,time:new Date});let i=new URL(`${e}://${function(e,t){return t.startsWith("http://")||t.startsWith("https://")?e:e+t}(t,y.root)}/queue/join${X?"?"+X:""}`);this.jwt&&i.searchParams.set("__sign",this.jwt),R=new WebSocket(i),R.onclose=e=>{e.wasClean||o({type:"status",stage:"error",broken:!0,message:w,queue:!0,endpoint:M,fn_index:z,time:new Date})},R.onmessage=function(e){const t=JSON.parse(e.data),{type:i,status:s,data:a}=D(t,G[z]);if("update"===i&&s&&!V)o({type:"status",endpoint:M,fn_index:z,time:new Date,...s}),"error"===s.stage&&R.close();else{if("hash"===i)return void R.send(JSON.stringify({fn_index:z,session_hash:_}));"data"===i?R.send(JSON.stringify({...W,session_hash:_})):"complete"===i?V=s:"log"===i?o({type:"log",title:a.title,log:a.log,level:a.level,endpoint:M,duration:a.duration,visible:a.visible,fn_index:z}):"generating"===i&&o({type:"status",time:new Date,...s,stage:null==s?void 0:s.stage,queue:!0,endpoint:M,fn_index:z})}a&&(o({type:"data",time:new Date,data:J(a.data,O,y.components,"output",$.with_null_state),endpoint:M,fn_index:z,event_data:n,trigger_id:r}),V&&(o({type:"status",time:new Date,...V,stage:null==s?void 0:s.stage,queue:!0,endpoint:M,fn_index:z}),R.close()))},u(y.version||"2.0.0","3.6")<0&&addEventListener("open",(()=>R.send(JSON.stringify({hash:_}))))}else if("sse"==j){o({type:"status",stage:"pending",queue:!0,endpoint:M,fn_index:z,time:new Date});var i=new URLSearchParams({fn_index:z.toString(),session_hash:_}).toString();let e=new URL(`${y.root}${C}/${h}?${X?X+"&":""}${i}`);if(this.jwt&&e.searchParams.set("__sign",this.jwt),T=this.stream(e),!T)return Promise.reject(new Error("Cannot connect to SSE endpoint: "+e.toString()));T.onmessage=async function(e){const t=JSON.parse(e.data),{type:i,status:s,data:c}=D(t,G[z]);if("update"===i&&s&&!V)o({type:"status",endpoint:M,fn_index:z,time:new Date,...s}),"error"===s.stage&&(null==T||T.close(),a());else if("data"===i){let[e,t]=await S(`${y.root}${C}/queue/data`,{...W,session_hash:_,event_id:H});200!==t&&(o({type:"status",stage:"error",message:w,queue:!0,endpoint:M,fn_index:z,time:new Date}),null==T||T.close(),a())}else"complete"===i?V=s:"log"===i?o({type:"log",title:c.title,log:c.log,level:c.level,endpoint:M,duration:c.duration,visible:c.visible,fn_index:z}):("generating"===i||"streaming"===i)&&o({type:"status",time:new Date,...s,stage:null==s?void 0:s.stage,queue:!0,endpoint:M,fn_index:z});c&&(o({type:"data",time:new Date,data:J(c.data,O,y.components,"output",$.with_null_state),endpoint:M,fn_index:z,event_data:n,trigger_id:r}),V&&(o({type:"status",time:new Date,...V,stage:null==s?void 0:s.stage,queue:!0,endpoint:M,fn_index:z}),null==T||T.close(),a()))}}else if("sse_v1"==j||"sse_v2"==j||"sse_v2.1"==j||"sse_v3"==j){o({type:"status",stage:"pending",queue:!0,endpoint:M,fn_index:z,time:new Date});let e="";typeof window<"u"&&typeof document<"u"&&(e=null==(t=null==window?void 0:window.location)?void 0:t.hostname);const n=e.includes(".dev.")?`https://moon-${e.split(".")[1]}.dev.spaces.huggingface.tech`:"https://huggingface.co";(typeof window<"u"&&typeof document<"u"&&window.parent!=window&&window.supports_zerogpu_headers?function(e,t){return new Promise(((e,n)=>{const r=new MessageChannel;r.port1.onmessage=({data:t})=>{r.port1.close(),e(t)},window.parent.postMessage("zerogpu-headers",t,[r.port2])}))}(0,n):Promise.resolve(null)).then((e=>S(`${y.root}${C}/queue/join?${X}`,{...W,session_hash:_},e))).then((async([e,t])=>{if(503===t)o({type:"status",stage:"error",message:m,queue:!0,endpoint:M,fn_index:z,time:new Date});else if(422===t)o({type:"status",stage:"error",message:e.detail,queue:!0,endpoint:M,fn_index:z,code:"validation_error",time:new Date}),a();else if(200!==t)o({type:"status",stage:"error",broken:!1,message:e.detail,queue:!0,endpoint:M,fn_index:z,time:new Date});else{H=e.event_id,q=H;let t=async function(e){try{const{type:t,status:n,data:r,original_msg:i}=D(e,G[z]);if("heartbeat"==t)return;if("update"===t&&n&&!V)o({type:"status",endpoint:M,fn_index:z,time:new Date,original_msg:i,...n});else if("complete"===t)V=n;else if("unexpected_error"==t||"broken_connection"==t){const e="broken_connection"===t;o({type:"status",stage:"error",message:(null==n?void 0:n.message)||"An Unexpected Error Occurred!",queue:!0,endpoint:M,broken:e,session_not_found:null==n?void 0:n.session_not_found,fn_index:z,time:new Date})}else{if("log"===t)return void o({type:"log",title:r.title,log:r.log,level:r.level,endpoint:M,duration:r.duration,visible:r.visible,fn_index:z});("generating"===t||"streaming"===t)&&(o({type:"status",time:new Date,...n,stage:null==n?void 0:n.stage,queue:!0,endpoint:M,fn_index:z}),r&&"stream"!==O.connection&&["sse_v2","sse_v2.1","sse_v3"].includes(j)&&function(e,t,n){e[t]?n.data.forEach(((r,i)=>{let s=function(e,t){return t.forEach((([t,n,r])=>{e=function(e,t,n,r){if(0===t.length){if("replace"===n)return r;if("append"===n)return e+r;throw new Error(`Unsupported action: ${n}`)}let i=e;for(let e=0;e<t.length-1;e++)i=i[t[e]];const s=t[t.length-1];switch(n){case"replace":i[s]=r;break;case"append":i[s]+=r;break;case"add":Array.isArray(i)?i.splice(Number(s),0,r):i[s]=r;break;case"delete":Array.isArray(i)?i.splice(Number(s),1):delete i[s];break;default:throw new Error(`Unknown action: ${n}`)}return e}(e,n,t,r)})),e}(e[t][i],r);e[t][i]=s,n.data[i]=s})):(e[t]=[],n.data.forEach(((n,r)=>{e[t][r]=n})))}(x,H,r))}r&&(o({type:"data",time:new Date,data:J(r.data,O,y.components,"output",$.with_null_state),endpoint:M,fn_index:z}),r.render_config&&await Q(r.render_config),V&&(o({type:"status",time:new Date,...V,stage:null==n?void 0:n.stage,queue:!0,endpoint:M,fn_index:z}),a())),("complete"===(null==n?void 0:n.stage)||"error"===(null==n?void 0:n.stage))&&(B[H]&&delete B[H],H in x&&delete x[H])}catch(e){o({type:"status",stage:"error",message:"An Unexpected Error Occurred!",queue:!0,endpoint:M,fn_index:z,time:new Date}),["sse_v2","sse_v2.1","sse_v3"].includes(j)&&(ce(A,U.abort_controller),A.open=!1,a())}};H in k&&(k[H].forEach((e=>t(e))),delete k[H]),B[H]=t,I.add(H),A.open||await this.open_stream()}}))}}));let ee=!1;const te=[],ne=[],re={[Symbol.asyncIterator]:()=>re,next:p,throw:async e=>(l(e),p()),return:async()=>(a(),p()),cancel:Z,event_id:F};return re}catch(ie){throw ie}}re=new WeakMap;class ue{constructor(e,t={events:["data"]}){var n;o(this,"app_reference"),o(this,"options"),o(this,"deep_link",null),o(this,"config"),o(this,"api_prefix",""),o(this,"api_info"),o(this,"api_map",{}),o(this,"session_hash",Math.random().toString(36).substring(2)),o(this,"jwt",!1),o(this,"last_status",{}),o(this,"cookies",null),o(this,"stream_status",{open:!1}),o(this,"closed",!1),o(this,"pending_stream_messages",{}),o(this,"pending_diff_streams",{}),o(this,"event_callbacks",{}),o(this,"unclosed_events",new Set),o(this,"heartbeat_event",null),o(this,"abort_controller",null),o(this,"stream_instance",null),o(this,"current_payload"),o(this,"ws_map",{}),o(this,"view_api"),o(this,"upload_files"),o(this,"upload"),o(this,"handle_blob"),o(this,"post_data"),o(this,"submit"),o(this,"predict"),o(this,"open_stream"),o(this,"resolve_config"),o(this,"resolve_cookies"),this.app_reference=e,this.deep_link=(null==(n=t.query_params)?void 0:n.deep_link)||null,t.events||(t.events=["data"]),this.options=t,this.current_payload={},this.view_api=P.bind(this),this.upload_files=j.bind(this),this.handle_blob=V.bind(this),this.post_data=K.bind(this),this.submit=le.bind(this),this.predict=Z.bind(this),this.open_stream=ae.bind(this),this.resolve_config=B.bind(this),this.resolve_cookies=S.bind(this),this.upload=q.bind(this),this.fetch=this.fetch.bind(this),this.handle_space_success=this.handle_space_success.bind(this),this.stream=this.stream.bind(this)}get_url_config(e=null){if(!this.config)throw new Error(b);null===e&&(e=window.location.href);const t=e=>e.replace(/^\/+|\/+$/g,"");let n,r=t(new URL(this.config.root).pathname),i=t(new URL(e).pathname);return n=i.startsWith(r)?t(i.substring(r.length)):"",this.get_page_config(n)}get_page_config(e){if(!this.config)throw new Error(b);let t=this.config;return e in t.page||(e=""),{...t,current_page:e,layout:t.page[e].layout,components:t.components.filter((n=>t.page[e].components.includes(n.id))),dependencies:this.config.dependencies.filter((n=>t.page[e].dependencies.includes(n.id)))}}fetch(e,t){const n=new Headers((null==t?void 0:t.headers)||{});if(this&&this.cookies&&n.append("Cookie",this.cookies),this&&this.options.headers)for(const e in this.options.headers)n.append(e,this.options.headers[e]);return fetch(e,{...t,headers:n})}stream(e){const t=new Headers;if(this&&this.cookies&&t.append("Cookie",this.cookies),this&&this.options.headers)for(const e in this.options.headers)t.append(e,this.options.headers[e]);return this&&this.options.hf_token&&t.append("Authorization",`Bearer ${this.options.hf_token}`),this.abort_controller=new AbortController,this.stream_instance=function(e,t={}){const n={close:()=>{},onerror:null,onmessage:null,onopen:null,readyState:0,url:e.toString(),withCredentials:!1,CONNECTING:0,OPEN:1,CLOSED:2,addEventListener:()=>{throw new Error("Method not implemented.")},dispatchEvent:()=>{throw new Error("Method not implemented.")},removeEventListener:()=>{throw new Error("Method not implemented.")}};return async function(e,t){let n=new Request(e,t);oe(n.headers,"Accept","text/event-stream"),oe(n.headers,"Content-Type","application/json");let r=await fetch(n);if(!r.ok)throw r;return async function*(e,t){if(!e.body)return;let n,r,i=function(e){let t=new TextDecoderStream,n=new ie({allowCR:!0});return e.pipeThrough(t).pipeThrough(n)}(e.body),s=i.getReader();for(;;){if(t&&t.aborted)return s.cancel();if(n=await s.read(),n.done)return;if(!n.value){r&&(yield r),r=void 0;continue}let[e,i]=se(n.value)||[];e&&("data"===e?(r||(r={}),r[e]=r[e]?r[e]+"\n"+i:i):"event"===e?(r||(r={}),r[e]=i):"id"===e?(r||(r={}),r[e]=+i||i):"retry"===e&&(r||(r={}),r[e]=+i||void 0))}}(r,n.signal)}(e,t).then((async e=>{n.readyState=n.OPEN;try{for await(const t of e)n.onmessage&&n.onmessage(t);n.readyState=n.CLOSED}catch(e){n.onerror&&n.onerror(e),n.readyState=n.CLOSED}})).catch((e=>{n.onerror&&n.onerror(e),n.readyState=n.CLOSED})),n}(e.toString(),{credentials:"include",headers:t,signal:this.abort_controller.signal}),this.stream_instance}async init(){var e;this.options.auth&&await this.resolve_cookies(),await this._resolve_config().then((({config:e})=>this._resolve_heartbeat(e))),this.api_info=await this.view_api(),this.api_map=function(e){let t={};return e.forEach((({api_name:e,id:n})=>{e&&(t[e]=n)})),t}((null==(e=this.config)?void 0:e.dependencies)||[])}async _resolve_heartbeat(e){if(e&&(this.config=e,this.api_prefix=e.api_prefix||"",this.config&&this.config.connect_heartbeat&&this.config.space_id&&this.options.hf_token&&(this.jwt=await x(this.config.space_id,this.options.hf_token,this.cookies))),e.space_id&&this.options.hf_token&&(this.jwt=await x(e.space_id,this.options.hf_token)),this.config&&this.config.connect_heartbeat){const e=new URL(`${this.config.root}${this.api_prefix}/heartbeat/${this.session_hash}`);this.jwt&&e.searchParams.set("__sign",this.jwt),this.heartbeat_event||(this.heartbeat_event=this.stream(e))}}static async connect(e,t={events:["data"]}){const n=new this(e,t);return t.session_hash&&(n.session_hash=t.session_hash),await n.init(),n}async reconnect(){const e=new URL(`${this.config.root}${this.api_prefix}/app_id`);let t;try{const n=await this.fetch(e);if(!n.ok)throw new Error;t=(await n.json()).app_id}catch{return"broken"}return t!==this.config.app_id?"changed":"connected"}close(){this.closed=!0,ce(this.stream_status,this.abort_controller)}set_current_payload(e){this.current_payload=e}static async duplicate(e,t={events:["data"]}){return async function(e,t){const{hf_token:n,private:r,hardware:i,timeout:s,auth:o}=t;if(i&&!ne.includes(i))throw new Error(`Invalid hardware type provided. Valid types are: ${ne.map((e=>`"${e}"`)).join(",")}.`);const{http_protocol:a,host:c}=await L(e,n);let l=null;if(o){const e=await $(a,c,o,fetch);e&&(l=U(e))}const u={Authorization:`Bearer ${n}`,"Content-Type":"application/json",...l?{Cookie:l.join("; ")}:{}},d=(await(await fetch("https://huggingface.co/api/whoami-v2",{headers:u})).json()).name,h=e.split("/")[1],p={repository:`${d}/${h}`};let f;r&&(p.private=!0);try{i||(f=await async function(e,t){const n={};t&&(n.Authorization=`Bearer ${t}`);try{const t=await fetch(`https://huggingface.co/api/spaces/${e}/runtime`,{headers:n});if(200!==t.status)throw new Error("Space hardware could not be obtained.");const{hardware:r}=await t.json();return r.current}catch(e){throw new Error(e.message)}}(e,n))}catch(e){throw Error(y+e.message)}const g=i||f||"cpu-basic";p.hardware=g;try{const r=await fetch(`https://huggingface.co/api/spaces/${e}/duplicate`,{method:"POST",headers:u,body:JSON.stringify(p)});if(409===r.status)try{return await ue.connect(`${d}/${h}`,t)}catch(e){throw e}else if(200!==r.status)throw new Error(r.statusText);const i=await r.json();return await async function(e,t,n){const r={};n&&(r.Authorization=`Bearer ${n}`);const i={seconds:t};try{const t=await fetch(`https://huggingface.co/api/spaces/${e}/sleeptime`,{method:"POST",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(i)});if(200!==t.status)throw new Error("Could not set sleep timeout on duplicated Space. Please visit *ADD HF LINK TO SETTINGS* to set a timeout manually to reduce billing charges.");return await t.json()}catch(e){throw new Error(e.message)}}(`${d}/${h}`,s||300,n),await ue.connect(function(e){const t=e.match(/https:\/\/huggingface.co\/spaces\/([^/]+\/[^/]+)/);if(t)return t[1]}(i.url),t)}catch(e){throw new Error(e)}}(e,t)}async _resolve_config(){const{http_protocol:e,host:t,space_id:n}=await L(this.app_reference,this.options.hf_token),{status_callback:r}=this.options;let i;n&&r&&await Q(n,r);try{let n=`${e}//${t}`;if(i=await this.resolve_config(n),!i)throw new Error(b);return this.config_success(i)}catch(e){if(!n||!r)throw r&&r({status:"error",message:"Could not load this space.",load_status:"error",detail:"NOT_FOUND"}),Error(e);Y(n,R.test(n)?"space_name":"subdomain",this.handle_space_success)}}async config_success(e){if(this.config=e,this.api_prefix=e.api_prefix||"",this.config.auth_required)return this.prepare_return_obj();try{this.api_info=await this.view_api()}catch(e){}return this.prepare_return_obj()}async handle_space_success(e){var t;if(!this)throw new Error(b);const{status_callback:n}=this.options;if(n&&n(e),"running"===e.status)try{if(this.config=await this._resolve_config(),this.api_prefix=(null==(t=null==this?void 0:this.config)?void 0:t.api_prefix)||"",!this.config)throw new Error(b);return await this.config_success(this.config)}catch(e){throw n&&n({status:"error",message:"Could not load this space.",load_status:"error",detail:"NOT_FOUND"}),e}}async component_server(e,t,n){var r;if(!this.config)throw new Error(b);const i={},{hf_token:s}=this.options,{session_hash:o}=this;s&&(i.Authorization=`Bearer ${this.options.hf_token}`);let a,c,l=this.config.components.find((t=>t.id===e));if(a=null!=(r=null==l?void 0:l.props)&&r.root_url?l.props.root_url:this.config.root,"binary"in n){c=new FormData;for(const e in n.data)"binary"!==e&&c.append(e,n.data[e]);c.set("component_id",e.toString()),c.set("fn_name",t),c.set("session_hash",o)}else c=JSON.stringify({data:n,component_id:e,fn_name:t,session_hash:o}),i["Content-Type"]="application/json";s&&(i.Authorization=`Bearer ${s}`);try{const e=await this.fetch(`${a}${this.api_prefix}/component_server/`,{method:"POST",body:c,headers:i,credentials:"include"});if(!e.ok)throw new Error("Could not connect to component server: "+e.statusText);return await e.json()}catch(e){}}set_cookies(e){this.cookies=U(e).join("; ")}prepare_return_obj(){return{config:this.config,predict:this.predict,submit:this.submit,view_api:this.view_api,component_server:this.component_server}}async connect_ws(e){return new Promise(((t,n)=>{let r;try{r=new WebSocket(e)}catch{return void(this.ws_map[e]="failed")}this.ws_map[e]="pending",r.onopen=()=>{this.ws_map[e]=r,t()},r.onerror=n=>{this.close_ws(e),this.ws_map[e]="failed",t()},r.onclose=()=>{this.ws_map[e]="closed"},r.onmessage=e=>{}}))}async send_ws_message(e,t){if(e in this.ws_map){if("pending"===this.ws_map[e]||"closed"===this.ws_map[e]||"failed"===this.ws_map[e])return}else await this.connect_ws(e);const n=this.ws_map[e];n instanceof WebSocket?n.send(JSON.stringify(t)):this.post_data(e,t)}async close_ws(e){if(e in this.ws_map){const t=this.ws_map[e];t instanceof WebSocket&&(t.close(),delete this.ws_map[e])}}}},792:e=>{const t=new Set(["utf8","utf-8","utf16le","utf-16le","latin1","base64","base64url","hex","ascii","binary","ucs2"]),n=new ArrayBuffer(8),r=new Uint8Array(n),i=new Uint8Array(n,0,4),s=new Uint8Array(n,0,2),o=new Float64Array(n,0,1),a=new Float32Array(n,0,1),c=new TextEncoder,l=new TextDecoder,u={};try{u[8]=BigInt("8"),u[16]=BigInt("16"),u[24]=BigInt("24"),u[32]=BigInt("32"),u[40]=BigInt("40"),u[48]=BigInt("48"),u[56]=BigInt("56"),u[255]=BigInt("255"),u["9223372036854775807"]=BigInt("9223372036854775807"),u["18446744073709551616"]=BigInt("18446744073709551616")}catch(e){}const d=32768,h=function(e){if(e.length<=d)return String.fromCharCode(...e);let t="";for(let n=0;n<e.length;n+=d)t+=String.fromCharCode(...e.slice(n,n+d));return t};class p extends Uint8Array{constructor(...e){"string"==typeof e[0]?(super(p.byteLength(e[0])),p.from(e[0],e[1]).copy(this)):super(...e)}compare(e,t=0,n=e.length,r=0,i=this.length){if(!(e instanceof Uint8Array))throw new TypeError("Comparison target must be a Uint8Array or Buffer");let s=0,o=t;for(let t=r;t<i;t+=1){if(o>=n){s=1;break}const r=this[t],i=e[o];if(r>i){s=1;break}if(r<i){s=-1;break}o+=1}return 0===s&&n-t>i-r&&(s=-1),s}copy(e,t=0,n=0,r=this.length){let i=0===n&&r===this.length?this:this.subarray(n,r);return t+i.length>e.length&&(i=i.subarray(0,i.length-(t+i.length-e.length))),e.set(i,t),i.length}equals(e){if(!(e instanceof Uint8Array))throw new TypeError('The "otherBuffer" argument must be an instance of Buffer or Uint8Array');if(e===this)return!0;if(e.length!==this.length)return!1;if(0===this.length)return!0;if(this.length>=4&&this.byteOffset%4==0&&e.byteOffset%4==0){const t=this.length-this.length%4,n=new Uint32Array(this.buffer,this.byteOffset,t/4),r=new Uint32Array(e.buffer,e.byteOffset,n.length);for(let e=0;e<n.length;e+=1)if(n[e]!==r[e])return!1;for(let n=t;n<this.length;n+=1)if(this[n]!==e[n])return!1}else for(let t=0;t<this.length;t+=1)if(this[t]!==e[t])return!1;return!0}fill(e,t=0,n=this.length,r="utf8"){if("number"==typeof e)super.fill(e,t,n);else{if("string"==typeof e&&(e=p.from(e,r)),!(e instanceof Uint8Array))throw new TypeError("fill value must be a number, string, Buffer, or Uint8Array");e instanceof p||(e=new p(e.buffer,e.byteOffset,e.length));const i=n-t;let s=0;for(let r=t;r<=n-e.length;r+=e.length)s+=e.length,e.copy(this,r);e.copy(this,t+s,0,i-s)}return this}includes(e,t=0,n="utf8"){return-1!==this.indexOf(e,t,n)}indexOf(e,t=0,n="utf8"){if(t<0&&(t=this.length+t),"number"==typeof e)return super.indexOf(e,t);if("string"==typeof e)e=p.from(e,n);else if(!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be one of type number or string or an instance of Buffer or Uint8Array.');for(let n=t;n<=this.length-e.length;n+=1)if(this.subarray(n,n+e.length).equals(e))return n;return-1}lastIndexOf(e,t=this.length,n="utf8"){if(t<0&&(t=this.length+t),"number"==typeof e)return super.lastIndexOf(e,t);if("string"==typeof e)e=p.from(e,n);else if(!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be one of type number or string or an instance of Buffer or Uint8Array.');for(let n=t;n>=0;n-=1)if(this.subarray(n,n+e.length).equals(e))return n;return-1}map(...e){const t=super.map(...e);return new p(t.buffer,t.byteOffset,t.byteLength)}readBigInt64BE(e=0){let t=this.readBigUInt64BE(e);return t>u["9223372036854775807"]&&(t-=u["18446744073709551616"]),t}readBigInt64LE(e=0){let t=this.readBigUInt64LE(e);return t>u["9223372036854775807"]&&(t-=u["18446744073709551616"]),t}readBigUInt64BE(e=0){if(e<0||e+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let t=BigInt(this[e+7]);return t+=BigInt(this[e+6])<<u[8],t+=BigInt(this[e+5])<<u[16],t+=BigInt(this[e+4])<<u[24],t+=BigInt(this[e+3])<<u[32],t+=BigInt(this[e+2])<<u[40],t+=BigInt(this[e+1])<<u[48],t+=BigInt(this[e])<<u[56],t}readBigUInt64LE(e=0){if(e<0||e+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let t=BigInt(this[e]);return t+=BigInt(this[e+1])<<u[8],t+=BigInt(this[e+2])<<u[16],t+=BigInt(this[e+3])<<u[24],t+=BigInt(this[e+4])<<u[32],t+=BigInt(this[e+5])<<u[40],t+=BigInt(this[e+6])<<u[48],t+=BigInt(this[e+7])<<u[56],t}readDoubleBE(e=0){if(e<0||e+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");for(let t=0;t<8;t+=1)r[t]=this[t+e];return r.reverse(),o[0]}readDoubleLE(e=0){if(e<0||e+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");for(let t=0;t<8;t+=1)r[t]=this[t+e];return o[0]}readFloatBE(e=0){if(e<0||e+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");for(let t=0;t<4;t+=1)i[t]=this[t+e];return i.reverse(),a[0]}readFloatLE(e=0){if(e<0||e+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");for(let t=0;t<4;t+=1)i[t]=this[t+e];return a[0]}readInt8(e=0){if(e<0||e>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let t=this[e];return t>127&&(t-=256),t}readInt16BE(e=0){let t=this.readUInt16BE(e);return t>32767&&(t-=65536),t}readInt16LE(e=0){let t=this.readUInt16LE(e);return t>32767&&(t-=65536),t}readInt32BE(e=0){let t=this.readUInt32BE(e);return t>2147483647&&(t-=4294967296),t}readInt32LE(e=0){let t=this.readUInt32LE(e);return t>2147483647&&(t-=4294967296),t}readIntBE(e=0,t){let n=this.readUIntBE(e,t);return n>2**(8*t-1)&&(n-=2**(8*t)),n}readIntLE(e=0,t){let n=this.readUIntLE(e,t);return n>2**(8*t-1)&&(n-=2**(8*t)),n}readUInt8(e=0){if(e<0||e>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[e]}readUInt16BE(e=0){if(e<0||e+1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let t=this[e+1];return t+=this[e]<<8,t}readUInt16LE(e=0){if(e<0||e+1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let t=this[e];return t+=this[e+1]<<8,t}readUInt32BE(e=0){if(e<0||e+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let t=this[e+3];return t+=this[e+2]<<8,t+=this[e+1]<<16,t+=16777216*this[e],t}readUInt32LE(e=0){if(e<0||e+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let t=this[e];return t+=this[e+1]<<8,t+=this[e+2]<<16,t+=16777216*this[e+3],t}readUIntBE(e,t){if("number"!=typeof t)throw new TypeError('"byteLength" must be a number');if(e<0||e+t-1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let n=1,r=0;for(let i=t-1;i>=0;i-=1)r+=this[e+i]*n,n*=256;return r}readUIntLE(e,t){if("number"!=typeof t)throw new TypeError('"byteLength" must be a number');if(e<0||e+t-1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let n=1,r=0;for(let i=0;i<t;i+=1)r+=this[e+i]*n,n*=256;return r}subarray(e=0,t=this.length){const n=super.subarray(e,t);return new p(n.buffer,n.byteOffset,n.byteLength)}slice(e=0,t=this.length){return this.subarray(e,t)}swap16(){if(this.length%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<this.length;e+=2)s[0]=this[e],this[e]=this[e+1],this[e+1]=s[0];return this}swap32(){if(this.length%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<this.length;e+=4)i[0]=this[e],i[1]=this[e+1],i[2]=this[e+2],i[3]=this[e+3],this[e]=i[3],this[e+1]=i[2],this[e+2]=i[1],this[e+3]=i[0];return this}swap64(){if(this.length%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<this.length;e+=8){for(let t=0;t<8;t+=1)r[t]=this[e+t];r.reverse();for(let t=0;t<8;t+=1)this[e+t]=r[t]}return this}toJSON(){return{data:[...this],type:"Buffer"}}toString(e="utf8",t=0,n=this.length){const r=this.subarray(t,n);switch(e.toLowerCase()){case"utf8":case"utf-8":return l.decode(r);case"utf16le":case"utf-16le":case"ucs2":return h(new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2));case"latin1":case"binary":return h(r);case"ascii":return h(r.map((e=>127&e)));case"base64":return btoa(h(r));case"base64url":{const e=btoa(h(r));let t=e.length;for(;t>1&&"="===e[t-1];)t-=1;return e.substring(0,t).replace(/\+/g,"-").replace(/\//g,"_")}case"hex":{let e="";for(let t=0;t<r.length;t+=1){const n=r[t];n<16&&(e+="0"),e+=n.toString(16)}return e}default:throw new Error("Unknown encoding: "+e)}}write(e,t=0,n=this.length-t,r="utf8"){if("string"!=typeof e)throw new TypeError("argument must be a string");const i=p.from(e,r);return i.copy(this,t,0,n),i.length<n?i.length:n}writeBigInt64BE(e,t=0){return e<0&&(e=u["18446744073709551616"]+e),this.writeBigUInt64BE(e,t)}writeBigInt64LE(e,t=0){return e<0&&(e=u["18446744073709551616"]+e),this.writeBigUInt64LE(e,t)}writeBigUInt64BE(e,t=0){if(t<0||t+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[t+7]=Number(e&u[255]),this[t+6]=Number(e>>u[8]&u[255]),this[t+5]=Number(e>>u[16]&u[255]),this[t+4]=Number(e>>u[24]&u[255]),this[t+3]=Number(e>>u[32]&u[255]),this[t+2]=Number(e>>u[40]&u[255]),this[t+1]=Number(e>>u[48]&u[255]),this[t]=Number(e>>u[56]&u[255]),t+8}writeBigUInt64LE(e,t=0){if(t<0||t+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[t]=Number(e&u[255]),this[t+1]=Number(e>>u[8]&u[255]),this[t+2]=Number(e>>u[16]&u[255]),this[t+3]=Number(e>>u[24]&u[255]),this[t+4]=Number(e>>u[32]&u[255]),this[t+5]=Number(e>>u[40]&u[255]),this[t+6]=Number(e>>u[48]&u[255]),this[t+7]=Number(e>>u[56]&u[255]),t+8}writeDoubleBE(e,t=0){if(t<0||t+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");o[0]=e,r.reverse();for(let e=0;e<8;e+=1)this[t+e]=r[e];return t+8}writeDoubleLE(e,t=0){if(t<0||t+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");o[0]=e;for(let e=0;e<8;e+=1)this[t+e]=r[e];return t+8}writeFloatBE(e,t=0){if(t<0||t+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");a[0]=e,i.reverse();for(let e=0;e<4;e+=1)this[t+e]=i[e];return t+4}writeFloatLE(e,t=0){if(t<0||t+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");a[0]=e;for(let e=0;e<4;e+=1)this[t+e]=i[e];return t+4}writeInt8(e,t=0){if(t<0||t>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return e<0&&(e=256+e),this[t]=e,t+1}writeInt16BE(e,t=0){return e<0&&(e=65536+e),this.writeUInt16BE(e,t),t+2}writeInt16LE(e,t=0){return e<0&&(e=65536+e),this.writeUInt16LE(e,t),t+2}writeInt32BE(e,t=0){return e<0&&(e=4294967296+e),this.writeUInt32BE(e,t),t+4}writeInt32LE(e,t=0){return e<0&&(e=4294967296+e),this.writeUInt32LE(e,t),t+4}writeIntBE(e,t,n){return e<0&&(e=2**(8*n)+e),this.writeUIntBE(e,t,n)}writeIntLE(e,t,n){return e<0&&(e=2**(8*n)+e),this.writeUIntLE(e,t,n)}writeUInt8(e,t=0){if(t<0||t>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[t]=e,t+1}writeUInt16BE(e,t=0){if(t<0||t+1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[t+1]=255&e,this[t]=e>>8&255,t+2}writeUInt16LE(e,t=0){if(t<0||t+1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[t]=255&e,this[t+1]=e>>8&255,t+2}writeUInt32BE(e,t=0){if(t<0||t+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[t+3]=255&e,this[t+2]=e>>8&255,this[t+1]=e>>16&255,this[t]=e>>24&255,t+4}writeUInt32LE(e,t=0){if(t<0||t+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[t]=255&e,this[t+1]=e>>8&255,this[t+2]=e>>16&255,this[t+3]=e>>24&255,t+4}writeUIntBE(e,t,n){if("number"!=typeof n)throw new TypeError('"byteLength" must be a number');if("number"!=typeof t)throw new TypeError('"offset" must be a number');if(t<0||t+n-1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let r=256**n;for(let i=0;i<n;i+=1)r/=256,this[t+i]=255&Math.floor(e/r);return t+n}writeUIntLE(e,t,n){if("number"!=typeof n)throw new TypeError('"byteLength" must be a number');if("number"!=typeof t)throw new TypeError('"offset" must be a number');if(t<0||t+n-1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let r=1;for(let i=0;i<n;i+=1)this[t+i]=255&Math.floor(e/r),r*=256;return t+n}}const f=function(e,t,n){return 0!==t&&e.fill(t,0,e.length,n),e};let g=new p(8192),m=0;p.alloc=function(e,t=0,n="utf8"){if("number"!=typeof e)throw new TypeError("size argument must be a number");if(0===e)return new p(0);if(e>=p.poolSize/2)return f(new p(e),t,n);m+e>p.poolSize&&(g=new p(p.poolSize),m=0);const r=g.subarray(m,m+e);return m+=e,m%8!=0&&(m+=8-m%8),f(r,t,n)},p.allocUnsafe=p.alloc,p.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("size argument must be a number");return new p(e)},p.byteLength=function(e,t="utf8"){if("string"!=typeof e)return e.length;switch(t){case"utf8":case"utf-8":return function(e){let t=0;for(let n=0;n<e.length;n+=1){const r=e.codePointAt(n);r<=127?t+=1:r<=2047?t+=2:r<=65535?t+=3:(n+=1,t+=4)}return t}(e);case"latin1":case"binary":case"ascii":return e.length;case"utf16le":case"utf-16le":case"ucs2":return 2*e.length;case"base64":case"base64url":return function(e){let t=e.length;for(;t>1&&"="===e[t-1];)t-=1;return Math.floor(.75*t)}(e);case"hex":return e.length/2;default:throw new Error("Unknown encoding: "+t)}},p.compare=function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("buf1 must be a Buffer or Uint8Array");return p.isBuffer(e)?e.compare(t):p.prototype.compare.call(e,t)},p.concat=function(e,t){if(!Array.isArray(e))throw new TypeError("list argument must be an Array");if(void 0===t){t=0;for(let n=0;n<e.length;n+=1)t+=e[n].length}let n=0;const r=p.alloc(t);for(let t=0;t<e.length;t+=1){const i=e[t];if(!(i instanceof Uint8Array))throw new TypeError('"list['+t+']" must be an instance of Buffer or Uint8Array');r.set(i,n),n+=i.length}return r};const w="The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object";p.from=function(e,t,n){if("object"==typeof e){if("number"==typeof e.length&&"function"==typeof e[Symbol.iterator])return new p(e);if(e instanceof ArrayBuffer)return new p(e,t,n);if("Buffer"!==e.type||!Array.isArray(e.data))throw new TypeError(w);return new p(e.data)}if("string"==typeof e)switch("string"!=typeof t&&(t="utf8"),t.toLowerCase()){case"utf8":case"utf-8":return new p(c.encode(e));case"utf16le":case"utf-16le":case"ucs2":return new p(new Uint16Array([...e].map((e=>e.charCodeAt(0)))).buffer);case"latin1":case"binary":case"ascii":return new p([...e].map((e=>e.charCodeAt(0))));case"base64":case"base64url":return new p([...atob(e.replace(/-/g,"+").replace(/_/g,"/"))].map((e=>e.charCodeAt(0))));case"hex":{const t=new p(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.substring(n,n+2),16);return t}default:throw new Error("Unknown encoding: "+t)}throw new TypeError(w)},p.copyBytesFrom=function(e,t=0,n=e.length-t){const r=e instanceof Uint8Array||e instanceof Int8Array||e instanceof Uint8ClampedArray?1:e instanceof Int16Array||e instanceof Uint16Array?2:e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array?4:e instanceof Float64Array||"undefined"!=typeof BigInt64Array&&e instanceof BigInt64Array||"undefined"!=typeof BigInt64Array&&e instanceof BigUint64Array?8:1,i=new Uint8Array(e.buffer,e.byteOffset+t*r,n*r);return p.from(i)},p.isBuffer=function(e){return e instanceof p},p.isEncoding=function(e){return"string"==typeof e&&t.has(e.toLowerCase())},p.poolSize=8192,e.exports={Buffer:p,SlowBuffer:function(e){return p.alloc(e)},INSPECT_MAX_BYTES:0,kMaxLength:2147483647}},796:(e,t,n)=>{"use strict";var r=n(4),i=n(84).some;r({target:"Array",proto:!0,forced:!n(105)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},797:(e,t,n)=>{"use strict";n(798)},798:(e,t,n)=>{"use strict";var r=n(4),i=n(179),s=n(31),o=n(47),a=n(205);r({target:"Iterator",proto:!0,real:!0},{some:function(e){o(this),s(e);var t=a(this),n=0;return i(t,(function(t,r){if(e(t,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},799:(e,t,n)=>{"use strict";var r=n(459),i=n(377);t.Ay=void 0;var s=i(n(378)),o=i(n(389)),a=r(n(228)),c=(i(n(392)),i(n(382))),l=(n(391),i(n(800))),u=i(n(376)),d=a.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,i=e.fullWidth,u=void 0!==i&&i,d=e.inputComponent,h=void 0===d?"input":d,p=e.multiline,f=void 0!==p&&p,g=e.type,m=void 0===g?"text":g,w=(0,o.default)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(l.default,(0,s.default)({classes:(0,s.default)({},r,{root:(0,c.default)(r.root,!n&&r.underline),underline:null}),fullWidth:u,inputComponent:h,multiline:f,ref:t,type:m},w))}));d.muiName="Input";var h=(0,u.default)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(d);t.Ay=h},800:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(763)},801:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},813:(e,t,n)=>{"use strict";var r=n(377),i=n(459);t.A=void 0;var s=i(n(228)),o=(0,r(n(460)).default)(s.createElement("path",{d:"M5.2496 8.0688l2.83-2.8268 14.134 14.15-2.83 2.8268zM9.4857 3.8272l2.828-2.8288 5.6576 5.656-2.828 2.8288zM.9989 12.3147l2.8284-2.8284L9.484 15.143l-2.8284 2.8284zM1 21h12v2H1z"}),"Gavel");t.A=o},814:(e,t,n)=>{"use strict";var r=n(377),i=n(459);t.A=void 0;var s=i(n(228)),o=(0,r(n(460)).default)(s.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.A=o},847:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(215),i=n(237),s=n(228),o=n(382),a=n(772),c=n(462);const l=(0,c.A)(s.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),u=(0,c.A)(s.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");var d=n(264);const h=(0,c.A)(s.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var p=n(439),f=n(235),g=s.createElement(u,null),m=s.createElement(l,null),w=s.createElement(h,null),b=s.forwardRef((function(e,t){var n=e.checkedIcon,c=void 0===n?g:n,l=e.classes,u=e.color,d=void 0===u?"secondary":u,h=e.icon,f=void 0===h?m:h,b=e.indeterminate,y=void 0!==b&&b,_=e.indeterminateIcon,v=void 0===_?w:_,E=e.inputProps,A=e.size,k=void 0===A?"medium":A,x=(0,i.A)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),B=y?v:f,I=y?v:c;return s.createElement(a.A,(0,r.A)({type:"checkbox",classes:{root:(0,o.default)(l.root,l["color".concat((0,p.A)(d))],y&&l.indeterminate),checked:l.checked,disabled:l.disabled},color:d,inputProps:(0,r.A)({"data-indeterminate":y},E),icon:s.cloneElement(B,{fontSize:void 0===B.props.fontSize&&"small"===k?k:B.props.fontSize}),checkedIcon:s.cloneElement(I,{fontSize:void 0===I.props.fontSize&&"small"===k?k:I.props.fontSize}),ref:t},x))}));const y=(0,f.A)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,d.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,d.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(b)}}]);