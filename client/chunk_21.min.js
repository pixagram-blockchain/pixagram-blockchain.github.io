/*! For license information please see chunk_21.min.js.LICENSE.txt */
(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([[21],{926:(e,t,n)=>{"use strict";var s=n(377),i=n(459);t.A=void 0;var o=i(n(228)),a=(0,s(n(460)).default)(o.createElement(o.Fragment,null,o.createElement("circle",{cx:"12",cy:"12",r:"3"}),o.createElement("path",{d:"M20 4h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65H9.88c-.56 0-1.1.24-1.48.65L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCameraRounded");t.A=a},927:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var s=n(237),i=n(215),o=n(228),a=n(382),r=n(235),c=n(456),l=n(439),d=o.forwardRef((function(e,t){var n=e.children,r=e.classes,d=e.className,u=e.color,p=void 0===u?"default":u,h=e.component,_=void 0===h?"button":h,f=e.disabled,g=void 0!==f&&f,m=e.disableFocusRipple,w=void 0!==m&&m,b=e.focusVisibleClassName,y=e.size,v=void 0===y?"large":y,k=e.variant,x=void 0===k?"circular":k,E=(0,s.A)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return o.createElement(c.A,(0,i.A)({className:(0,a.default)(r.root,d,"large"!==v&&r["size".concat((0,l.A)(v))],g&&r.disabled,"extended"===x&&r.extended,{primary:r.primary,secondary:r.secondary,inherit:r.colorInherit}[p]),component:_,disabled:g,focusRipple:!w,focusVisibleClassName:(0,a.default)(r.focusVisible,b),ref:t},E),o.createElement("span",{className:r.label},n))}));const u=(0,r.A)((function(e){return{root:(0,i.A)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(d)},939:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var s=n(215),i=n(237),o=n(228),a=n(382),r=n(940),c=n(235),l=n(657),d=n(439),u=o.forwardRef((function(e,t){e.checked;var n=e.classes,c=e.className,u=e.control,p=e.disabled,h=(e.inputRef,e.label),_=e.labelPlacement,f=void 0===_?"end":_,g=(e.name,e.onChange,e.value,(0,i.A)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),m=(0,r.A)(),w=p;void 0===w&&void 0!==u.props.disabled&&(w=u.props.disabled),void 0===w&&m&&(w=m.disabled);var b={disabled:w};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===u.props[t]&&void 0!==e[t]&&(b[t]=e[t])})),o.createElement("label",(0,s.A)({className:(0,a.default)(n.root,c,"end"!==f&&n["labelPlacement".concat((0,d.A)(f))],w&&n.disabled),ref:t},g),o.cloneElement(u,b),o.createElement(l.A,{component:"span",className:(0,a.default)(n.label,w&&n.disabled)},h))}));const p=(0,c.A)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(u)},942:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var s=n(215),i=n(266),o=n(237),a=n(228),r=n(382),c=n(454),l=n(940),d=n(235),u=n(455),p=a.forwardRef((function(e,t){var n=e.autoFocus,d=e.checked,p=e.checkedIcon,h=e.classes,_=e.className,f=e.defaultChecked,g=e.disabled,m=e.icon,w=e.id,b=e.inputProps,y=e.inputRef,v=e.name,k=e.onBlur,x=e.onChange,E=e.onFocus,S=e.readOnly,$=e.required,C=e.tabIndex,A=e.type,z=e.value,O=(0,o.A)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),T=(0,c.A)({controlled:d,default:Boolean(f),name:"SwitchBase",state:"checked"}),j=(0,i.A)(T,2),R=j[0],N=j[1],P=(0,l.A)(),D=g;P&&void 0===D&&(D=P.disabled);var B="checkbox"===A||"radio"===A;return a.createElement(u.A,(0,s.A)({component:"span",className:(0,r.default)(h.root,_,R&&h.checked,D&&h.disabled),disabled:D,tabIndex:null,role:void 0,onFocus:function(e){E&&E(e),P&&P.onFocus&&P.onFocus(e)},onBlur:function(e){k&&k(e),P&&P.onBlur&&P.onBlur(e)},ref:t},O),a.createElement("input",(0,s.A)({autoFocus:n,checked:d,defaultChecked:f,className:h.input,disabled:D,id:B&&w,name:v,onChange:function(e){var t=e.target.checked;N(t),x&&x(e,t)},readOnly:S,ref:y,required:$,tabIndex:C,type:A,value:z},b)),R?p:m)}));const h=(0,d.A)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(p)},953:(e,t,n)=>{"use strict";var s=n(377),i=n(459);t.A=void 0;var o=i(n(228)),a=(0,s(n(460)).default)(o.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}),"InsertDriveFileOutlined");t.A=a},954:(e,t,n)=>{"use strict";var s=n(377),i=n(459);t.A=void 0;var o=i(n(228)),a=(0,s(n(460)).default)(o.createElement("path",{d:"M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-6v6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"Compare");t.A=a},955:(e,t,n)=>{"use strict";var s=n(377),i=n(459);t.A=void 0;var o=i(n(228)),a=(0,s(n(460)).default)(o.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.A=a},961:(e,t,n)=>{"use strict";n.d(t,{Kj:()=>de});var s=n(494),i=(n(493).Buffer,Object.defineProperty),o=e=>{throw TypeError(e)},a=(e,t,n)=>((e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),r=(e,t,n)=>t.has(e)||o("Cannot "+n),c=(e,t,n)=>(r(e,t,"read from private field"),n?n.call(e):t.get(e)),l=new Intl.Collator(0,{numeric:1}).compare;function d(e,t,n){return e=e.split("."),t=t.split("."),l(e[0],t[0])||l(e[1],t[1])||(t[2]=t.slice(2).join("."),(n=/[.-]/.test(e[2]=e.slice(2).join(".")))==/[.-]/.test(t[2])?l(e[2],t[2]):n?-1:1)}const u="host",p="queue/data",h="upload",_="login",f="config",g="This application is currently busy. Please try again. ",m="Connection errored out. ",w="Could not resolve app config. ",b="Space metadata could not be loaded. ",y="Not authorized to access this space. ",v="Invalid credentials. Could not login. ",k="Login credentials are required to access this space.",x="File system access is only available in Node.js environments",E="Root URL not found in client config";async function S(e,t,n){try{return(await(await fetch(`https://huggingface.co/api/spaces/${e}/jwt`,{headers:{Authorization:`Bearer ${t}`,...n?{Cookie:n}:{}}})).json()).token||!1}catch{return!1}}async function $(e){const t=this.options.hf_token?{Authorization:`Bearer ${this.options.hf_token}`}:{};if(t["Content-Type"]="application/json",typeof window<"u"&&window.gradio_config&&"http://localhost:9876"!==location.origin){if(window.gradio_config.current_page&&(e=e.substring(0,e.lastIndexOf("/"))),window.gradio_config.dev_mode){let n=P(e,this.deep_link?f+"?deep_link="+this.deep_link:f);const s=await this.fetch(n,{headers:t,credentials:"include"}),i=await C(s,e,!!this.options.auth);window.gradio_config={...i,current_page:window.gradio_config.current_page}}return window.gradio_config.root=e,{...window.gradio_config}}if(e){let n=P(e,this.deep_link?f+"?deep_link="+this.deep_link:f);return C(await this.fetch(n,{headers:t,credentials:"include"}),e,!!this.options.auth)}throw new Error(w)}async function C(e,t,n){var s,i;if(401===(null==e?void 0:e.status)&&!n){const t=await e.json(),n=null==(s=null==t?void 0:t.detail)?void 0:s.auth_message;throw new Error(n||k)}if(401===(null==e?void 0:e.status)&&n)throw new Error(v);if(200===(null==e?void 0:e.status)){let n=await e.json();return n.root=t,null==(i=n.dependencies)||i.forEach(((e,t)=>{void 0===e.id&&(e.id=t)})),n}if(401===(null==e?void 0:e.status))throw new Error(y);throw new Error(w)}async function A(){const{http_protocol:e,host:t}=await N(this.app_reference,this.options.hf_token);try{if(this.options.auth){const n=await z(e,t,this.options.auth,this.fetch,this.options.hf_token);n&&this.set_cookies(n)}}catch(e){throw Error(e.message)}}async function z(e,t,n,s,i){const o=new FormData;o.append("username",null==n?void 0:n[0]),o.append("password",null==n?void 0:n[1]);let a={};i&&(a.Authorization=`Bearer ${i}`);const r=await s(`${e}//${t}/${_}`,{headers:a,method:"POST",body:o,credentials:"include"});if(200===r.status)return r.headers.get("set-cookie");throw 401===r.status?new Error(v):new Error(b)}function O(e){if(e.startsWith("http")){const{protocol:t,host:n,pathname:s}=new URL(e);return{ws_protocol:"https:"===t?"wss":"ws",http_protocol:t,host:n+("/"!==s?s:"")}}return{ws_protocol:"wss",http_protocol:"https:",host:new URL(e).host}}const T=e=>{let t=[];return e.split(/,(?=\s*[^\s=;]+=[^\s=;]+)/).forEach((e=>{const[n,s]=e.split(";")[0].split("=");n&&s&&t.push(`${n.trim()}=${s.trim()}`)})),t},j=/^[a-zA-Z0-9_\-\.]+\/[a-zA-Z0-9_\-\.]+$/,R=/.*hf\.space\/{0,1}.*$/;async function N(e,t){const n={};t&&(n.Authorization=`Bearer ${t}`);const s=e.trim().replace(/\/$/,"");if(j.test(s))try{return{space_id:e,...O((await(await fetch(`https://huggingface.co/api/spaces/${s}/${u}`,{headers:n})).json()).host)}}catch{throw new Error(b)}if(R.test(s)){const{ws_protocol:e,http_protocol:t,host:n}=O(s);return{space_id:n.split("/")[0].replace(".hf.space",""),ws_protocol:e,http_protocol:t,host:n}}return{space_id:!1,...O(s)}}const P=(...e)=>{try{return e.reduce(((e,t)=>(e=e.replace(/\/+$/,""),t=t.replace(/^\/+/,""),new URL(t,e+"/").toString())))}catch{throw new Error("Invalid URL. A full URL path is required.")}};function D(e,t,n,s){if("Api"===t)return e.type;switch(null==e?void 0:e.type){case"string":return"string";case"boolean":return"boolean";case"number":return"number"}return"JSONSerializable"===n||"StringSerializable"===n?"any":"ListStringSerializable"===n?"string[]":"Image"===t?"parameter"===s?"Blob | File | Buffer":"string":"FileSerializable"===n?"array"===(null==e?void 0:e.type)?"parameter"===s?"(Blob | File | Buffer)[]":"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}[]":"parameter"===s?"Blob | File | Buffer":"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}":"GallerySerializable"===n?"parameter"===s?"[(Blob | File | Buffer), (string | null)][]":"[{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}, (string | null))][]":void 0}function B(e,t){return"GallerySerializable"===t?"array of [file, label] tuples":"ListStringSerializable"===t?"array of strings":"FileSerializable"===t?"array of files or single file":null==e?void 0:e.description}function q(e,t){switch(e.msg){case"send_data":return{type:"data"};case"send_hash":return{type:"hash"};case"queue_full":return{type:"update",status:{queue:!0,message:g,stage:"error",code:e.code,success:e.success}};case"heartbeat":return{type:"heartbeat"};case"unexpected_error":return{type:"unexpected_error",status:{queue:!0,message:e.message,session_not_found:e.session_not_found,stage:"error",success:!1}};case"broken_connection":return{type:"broken_connection",status:{queue:!0,message:e.message,stage:"error",success:!1}};case"estimation":return{type:"update",status:{queue:!0,stage:t||"pending",code:e.code,size:e.queue_size,position:e.rank,eta:e.rank_eta,success:e.success}};case"progress":return{type:"update",status:{queue:!0,stage:"pending",code:e.code,progress_data:e.progress_data,success:e.success}};case"log":return{type:"log",data:e};case"process_generating":return{type:"generating",status:{queue:!0,message:e.success?null:e.output.error,stage:e.success?"generating":"error",code:e.code,progress_data:e.progress_data,eta:e.average_duration,changed_state_ids:e.success?e.output.changed_state_ids:void 0},data:e.success?e.output:null};case"process_streaming":return{type:"streaming",status:{queue:!0,message:e.output.error,stage:"streaming",time_limit:e.time_limit,code:e.code,progress_data:e.progress_data,eta:e.eta},data:e.output};case"process_completed":return"error"in e.output?{type:"update",status:{queue:!0,title:e.output.title,message:e.output.error,visible:e.output.visible,duration:e.output.duration,stage:"error",code:e.code,success:e.success}}:{type:"complete",status:{queue:!0,message:e.success?void 0:e.output.error,stage:e.success?"complete":"error",code:e.code,progress_data:e.progress_data,changed_state_ids:e.success?e.output.changed_state_ids:void 0},data:e.success?e.output:null};case"process_starts":return{type:"update",status:{queue:!0,stage:"pending",code:e.code,size:e.rank,position:0,success:e.success,eta:e.eta},original_msg:"process_starts"}}return{type:"none",status:{stage:"error",queue:!0}}}async function I(){if(this.api_info)return this.api_info;const{hf_token:e}=this.options,{config:t}=this,n={"Content-Type":"application/json"};if(e&&(n.Authorization=`Bearer ${e}`),t)try{let e,s;if(typeof window<"u"&&window.gradio_api_info)s=window.gradio_api_info;else{if(d((null==t?void 0:t.version)||"2.0.0","3.30")<0)e=await this.fetch("https://gradio-space-api-fetcher-v2.hf.space/api",{method:"POST",body:JSON.stringify({serialize:!1,config:JSON.stringify(t)}),headers:n,credentials:"include"});else{const s=P(t.root,this.api_prefix,"info");e=await this.fetch(s,{headers:n,credentials:"include"})}if(!e.ok)throw new Error(m);s=await e.json()}return"api"in s&&(s=s.api),s.named_endpoints["/predict"]&&!s.unnamed_endpoints[0]&&(s.unnamed_endpoints[0]=s.named_endpoints["/predict"]),function(e,t,n){const s={named_endpoints:{},unnamed_endpoints:{}};return Object.keys(e).forEach((i=>{("named_endpoints"===i||"unnamed_endpoints"===i)&&(s[i]={},Object.entries(e[i]).forEach((([e,{parameters:o,returns:a}])=>{var r,c,l,d;const u=(null==(r=t.dependencies.find((t=>t.api_name===e||t.api_name===e.replace("/",""))))?void 0:r.id)||n[e.replace("/","")]||-1,p=-1!==u?null==(c=t.dependencies.find((e=>e.id==u)))?void 0:c.types:{generator:!1,cancel:!1};if(-1!==u&&(null==(d=null==(l=t.dependencies.find((e=>e.id==u)))?void 0:l.inputs)?void 0:d.length)!==o.length){const e=t.dependencies.find((e=>e.id==u)).inputs.map((e=>{var n;return null==(n=t.components.find((t=>t.id===e)))?void 0:n.type}));try{e.forEach(((e,t)=>{if("state"===e){const e={component:"state",example:null,parameter_default:null,parameter_has_default:!0,parameter_name:null,hidden:!0};o.splice(t,0,e)}}))}catch(e){}}const h=(e,t,n,s)=>({...e,description:B(null==e?void 0:e.type,n),type:D(null==e?void 0:e.type,t,n,s)||""});s[i][e]={parameters:o.map((e=>h(e,null==e?void 0:e.component,null==e?void 0:e.serializer,"parameter"))),returns:a.map((e=>h(e,null==e?void 0:e.component,null==e?void 0:e.serializer,"return"))),type:p}})))})),s}(s,t,this.api_map)}catch(e){throw new Error("Could not get API info. "+e.message)}}async function L(e,t,n){var s;const i={};null!=(s=null==this?void 0:this.options)&&s.hf_token&&(i.Authorization=`Bearer ${this.options.hf_token}`);const o=[];let a;for(let s=0;s<t.length;s+=1e3){const r=t.slice(s,s+1e3),c=new FormData;r.forEach((e=>{c.append("files",e)}));try{const t=n?`${e}${this.api_prefix}/${h}?upload_id=${n}`:`${e}${this.api_prefix}/${h}`;a=await this.fetch(t,{method:"POST",body:c,headers:i,credentials:"include"})}catch(e){throw new Error(m+e.message)}if(!a.ok){const e=await a.text();return{error:`HTTP ${a.status}: ${e}`}}const l=await a.json();l&&o.push(...l)}return{files:o}}async function F(e,t,n,s){let i=(Array.isArray(e)?e:[e]).map((e=>e.blob));const o=i.filter((e=>e.size>(s??1/0)));if(o.length)throw new Error(`File size exceeds the maximum allowed size of ${s} bytes: ${o.map((e=>e.name)).join(", ")}`);return await Promise.all(await this.upload_files(t,i,n).then((async n=>{if(n.error)throw new Error(n.error);return n.files?n.files.map(((n,s)=>new U({...e[s],path:n,url:`${t}${this.api_prefix}/file=${n}`}))):[]})))}class U{constructor({path:e,url:t,orig_name:n,size:s,blob:i,is_stream:o,mime_type:r,alt_text:c,b64:l}){a(this,"path"),a(this,"url"),a(this,"orig_name"),a(this,"size"),a(this,"blob"),a(this,"is_stream"),a(this,"mime_type"),a(this,"alt_text"),a(this,"b64"),a(this,"meta",{_type:"gradio.FileData"}),this.path=e,this.url=t,this.orig_name=n,this.size=s,this.blob=t?void 0:i,this.is_stream=o,this.mime_type=r,this.alt_text=c,this.b64=l}}class M{constructor(e,t){a(this,"type"),a(this,"command"),a(this,"meta"),a(this,"fileData"),this.type="command",this.command=e,this.meta=t}}function W(e,t,n){for(;n.length>1;){const t=n.shift();if("string"!=typeof t&&"number"!=typeof t)throw new Error("Invalid key type");e=e[t]}const s=n.shift();if("string"!=typeof s&&"number"!=typeof s)throw new Error("Invalid key type");e[s]=t}async function H(e,t=void 0,n=[],s=!1,i=void 0){if(Array.isArray(e)){let o=[];return await Promise.all(e.map((async(a,r)=>{var c;let l=n.slice();l.push(String(r));const d=await H(e[r],s?(null==(c=null==i?void 0:i.parameters[r])?void 0:c.component)||void 0:t,l,!1,i);o=o.concat(d)}))),o}if(globalThis.Buffer&&e instanceof globalThis.Buffer||e instanceof Blob)return[{path:n,blob:new Blob([e]),type:t}];if("object"==typeof e&&null!==e){let t=[];for(const s of Object.keys(e)){const o=[...n,s],a=e[s];t=t.concat(await H(a,void 0,o,!1,i))}return t}return[]}function J(e,t,n,s,i=!1){if("input"===s&&!i)throw new Error("Invalid code path. Cannot skip state inputs for input.");if("output"===s&&i)return e;let o=[],a=0;const r="input"===s?t.inputs:t.outputs;for(let t=0;t<r.length;t++){const s=r[t],c=n.find((e=>e.id===s));if("state"!==(null==c?void 0:c.type)){const t=e[a];o.push(t),a++}else{if(!i){a++;continue}if(e.length===r.length){const t=e[a];o.push(t),a++}else o.push(null)}}return o}async function V(e,t,n){const s=this;await async function(e,t){var n,s;if(!(null==(n=e.config)?void 0:n.root)&&!(null==(s=e.config)?void 0:s.root_url))throw new Error(E);await G(e,t)}(s,t);const i=await H(t,void 0,[],!0,n);return(await Promise.all(i.map((async({path:t,blob:n,type:i})=>{if(!n)return{path:t,type:i};const o=await s.upload_files(e,[n]);return{path:t,file_url:o.files&&o.files[0],type:i,name:typeof File<"u"&&n instanceof File?null==n?void 0:n.name:void 0}})))).forEach((({path:e,file_url:n,type:s,name:i})=>{if("Gallery"===s)W(t,n,e);else if(n){const s=new U({path:n,orig_name:i});W(t,s,e)}})),t}async function G(e,t,n=[]){for(const s in t)t[s]instanceof M?await X(e,t,s):"object"==typeof t[s]&&null!==t[s]&&await G(e,t[s],[...n,s])}async function X(e,t,i){var o,a;let r=t[i];const c=(null==(o=e.config)?void 0:o.root)||(null==(a=e.config)?void 0:a.root_url);if(!c)throw new Error(E);try{let o,a;if(!(typeof s<"u"&&s.versions&&s.versions.node))throw new Error(x);{const e=await n.e(50).then(n.bind(n,2184));a=(await n.e(50).then(n.bind(n,2184))).resolve(s.cwd(),r.meta.path),o=await e.readFile(a)}const l=new Blob([o],{type:"application/octet-stream"}),d=await e.upload_files(c,[l]),u=d.files&&d.files[0];if(u){const e=new U({path:u,orig_name:r.meta.name||""});t[i]=e}}catch(e){}}async function Y(e,t,n){const s={"Content-Type":"application/json"};this.options.hf_token&&(s.Authorization=`Bearer ${this.options.hf_token}`);try{var i=await this.fetch(e,{method:"POST",body:JSON.stringify(t),headers:{...s,...n},credentials:"include"})}catch{return[{error:m},500]}let o,a;try{o=await i.json(),a=i.status}catch(e){o={error:`Could not parse server response: ${e}`},a=500}return[o,a]}async function K(e,t={}){let n=!1,s=!1;if(!this.config)throw new Error("Could not resolve app config");if("number"==typeof e)this.config.dependencies.find((t=>t.id==e));else{const t=e.replace(/^\//,"");this.config.dependencies.find((e=>e.id==this.api_map[t]))}return new Promise((async(i,o)=>{const a=this.submit(e,t,null,null,!0);let r;for await(const e of a)"data"===e.type&&(s&&i(r),n=!0,r=e),"status"===e.type&&("error"===e.stage&&o(e),"complete"===e.stage&&(s=!0,n&&i(r)))}))}async function Z(e,t,n){let s,i,o="subdomain"===t?`https://huggingface.co/api/spaces/by-subdomain/${e}`:`https://huggingface.co/api/spaces/${e}`;try{if(s=await fetch(o),i=s.status,200!==i)throw new Error;s=await s.json()}catch{return void n({status:"error",load_status:"error",message:"Could not get space status. ",detail:"NOT_FOUND"})}if(!s||200!==i)return;const{runtime:{stage:a},id:r}=s;switch(a){case"STOPPED":case"SLEEPING":n({status:"sleeping",load_status:"pending",message:"Space is asleep. Waking it up...",detail:a}),setTimeout((()=>{Z(e,t,n)}),1e3);break;case"PAUSED":n({status:"paused",load_status:"error",message:"This space has been paused by the author. If you would like to try this demo, consider duplicating the space.",detail:a,discussions_enabled:await te(r)});break;case"RUNNING":case"RUNNING_BUILDING":n({status:"running",load_status:"complete",message:"Space is running.",detail:a});break;case"BUILDING":n({status:"building",load_status:"pending",message:"Space is building...",detail:a}),setTimeout((()=>{Z(e,t,n)}),1e3);break;case"APP_STARTING":n({status:"starting",load_status:"pending",message:"Space is starting...",detail:a}),setTimeout((()=>{Z(e,t,n)}),1e3);break;default:n({status:"space_error",load_status:"error",message:"This space is experiencing an issue.",detail:a,discussions_enabled:await te(r)})}}typeof s<"u"&&s.versions&&s.versions.node;const Q=async(e,t)=>{let n=0;return new Promise((s=>{Z(e,j.test(e)?"space_name":"subdomain",(i=>{t(i),"running"===i.status||"error"===i.status||"paused"===i.status||"space_error"===i.status?s():("sleeping"===i.status||"building"===i.status)&&(n<12?(n++,setTimeout((()=>{Q(e,t).then(s)}),5e3)):s())}))}))},ee=/^(?=[^]*\b[dD]iscussions{0,1}\b)(?=[^]*\b[dD]isabled\b)[^]*$/;async function te(e){try{const t=await fetch(`https://huggingface.co/api/spaces/${e}/discussions`,{method:"HEAD"}),n=t.headers.get("x-error-message");return!(!t.ok||n&&ee.test(n))}catch{return!1}}const ne=["cpu-basic","cpu-upgrade","cpu-xl","t4-small","t4-medium","a10g-small","a10g-large","a10g-largex2","a10g-largex4","a100-large","zero-a10g","h100","h100x8"];var se;class ie extends TransformStream{constructor(e={allowCR:!1}){var t,n;super({transform:(t,n)=>{for(t=c(this,se)+t;;){const s=t.indexOf("\n"),i=e.allowCR?t.indexOf("\r"):-1;if(-1!==i&&i!==t.length-1&&(-1===s||s-1>i)){n.enqueue(t.slice(0,i)),t=t.slice(i+1);continue}if(-1===s)break;const o="\r"===t[s-1]?s-1:s;n.enqueue(t.slice(0,o)),t=t.slice(s+1)}((e,t,n)=>{r(e,t,"write to private field"),t.set(e,n)})(this,se,t)},flush:t=>{if(""===c(this,se))return;const n=e.allowCR&&c(this,se).endsWith("\r")?c(this,se).slice(0,-1):c(this,se);t.enqueue(n)}}),t=this,(n=se).has(t)?o("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,"")}}function oe(e){let t=/[:]\s*/.exec(e),n=t&&t.index;if(n)return[e.substring(0,n),e.substring(n+t[0].length)]}function ae(e,t,n){e.get(t)||e.set(t,n)}async function re(){let{event_callbacks:e,unclosed_events:t,pending_stream_messages:n,stream_status:s,config:i,jwt:o}=this;const a=this;if(!i)throw new Error("Could not resolve app config");s.open=!0;let r=null,c=new URLSearchParams({session_hash:this.session_hash}).toString(),l=new URL(`${i.root}${this.api_prefix}/${p}?${c}`);o&&l.searchParams.set("__sign",o),r=this.stream(l),r&&(r.onmessage=async function(o){let r=JSON.parse(o.data);if("close_stream"===r.msg)return void ce(s,a.abort_controller);const c=r.event_id;if(c)if(e[c]&&i){"process_completed"===r.msg&&["sse","sse_v1","sse_v2","sse_v2.1","sse_v3"].includes(i.protocol)&&t.delete(c);let n=e[c];typeof window<"u"&&typeof document<"u"?setTimeout(n,0,r):n(r)}else n[c]||(n[c]=[]),n[c].push(r);else await Promise.all(Object.keys(e).map((t=>e[t](r))))},r.onerror=async function(t){await Promise.all(Object.keys(e).map((t=>e[t]({msg:"broken_connection",message:m}))))})}function ce(e,t){e&&(e.open=!1,null==t||t.abort())}function le(e,t={},n,s,i){var o;try{let a=function(e){(i||Y[e.type])&&u(e)},r=function(){for(ee=!0;ne.length>0;)ne.shift()({value:void 0,done:!0})},c=function(e){ne.length>0?ne.shift()(e):te.push(e)},l=function(e){c(function(e){return{then:(t,n)=>n(e)}}(e)),r()},u=function(e){c({value:e,done:!1})},h=function(){return te.length>0?Promise.resolve(te.shift()):new Promise((e=>ne.push(e)))};const{hf_token:_}=this.options,{fetch:f,app_reference:w,config:b,session_hash:y,api_info:v,api_map:k,stream_status:x,pending_stream_messages:E,pending_diff_streams:S,event_callbacks:$,unclosed_events:C,post_data:A,options:z,api_prefix:O}=this,T=this;if(!v)throw new Error("No API found");if(!b)throw new Error("Could not resolve app config");let j,R,{fn_index:P,endpoint_info:D,dependency:B}=function(e,t,n,s){let i,o,a;if("number"==typeof t)i=t,o=e.unnamed_endpoints[i],a=s.dependencies.find((e=>e.id==t));else{const r=t.replace(/^\//,"");i=n[r],o=e.named_endpoints[t.trim()],a=s.dependencies.find((e=>e.id==n[r]))}if("number"!=typeof i)throw new Error("There is no endpoint matching that name of fn_index matching that number.");return{fn_index:i,endpoint_info:o,dependency:a}}(v,e,k,b),I=((e=[],t)=>{const n=t?t.parameters:[];if(Array.isArray(e))return t&&n.length>0&&(e.length,n.length),e;const s=[],i=Object.keys(e);return n.forEach(((t,n)=>{if(e.hasOwnProperty(t.parameter_name))s[n]=e[t.parameter_name];else{if(!t.parameter_has_default)throw new Error(`No value provided for required parameter: ${t.parameter_name}`);s[n]=t.parameter_default}})),i.forEach((e=>{if(!n.some((t=>t.parameter_name===e)))throw new Error(`Parameter \`${e}\` is not a valid keyword argument. Please refer to the API for usage.`)})),s.forEach(((e,t)=>{if(void 0===e&&!n[t].parameter_has_default)throw new Error(`No value provided for required parameter: ${n[t].parameter_name}`)})),s})(t,D),L=b.protocol??"ws",F="",U=()=>F;const M="number"==typeof e?"/predict":e;let W,H=null,V=!1,G={},X=typeof window<"u"&&typeof document<"u"?new URLSearchParams(window.location.search).toString():"";const Y=(null==(o=null==z?void 0:z.events)?void 0:o.reduce(((e,t)=>(e[t]=!0,e)),{}))||{};async function K(){let e={},t={};"ws"===L?(j&&0===j.readyState?j.addEventListener("open",(()=>{j.close()})):j.close(),e={fn_index:P,session_hash:y}):(e={event_id:H},t={event_id:H,session_hash:y,fn_index:P});try{if(!b)throw new Error("Could not resolve app config");"event_id"in t&&await f(`${b.root}${O}/cancel`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}),await f(`${b.root}${O}/reset`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)})}catch{}}const Z=async e=>{await this._resolve_heartbeat(e)};async function Q(e){if(!b)return;let t=e.render_id;b.components=[...b.components.filter((e=>e.props.rendered_in!==t)),...e.components],b.dependencies=[...b.dependencies.filter((e=>e.rendered_in!==t)),...e.dependencies];const n=b.components.some((e=>"state"===e.type)),s=b.dependencies.some((e=>e.targets.some((e=>"unload"===e[1]))));b.connect_heartbeat=n||s,await Z(b),a({type:"render",data:e,endpoint:M,fn_index:P})}this.handle_blob(b.root,I,D).then((async e=>{var t;if(W={data:J(e,B,b.components,"input",!0)||[],event_data:n,fn_index:P,trigger_id:s},function(e,t){var n,s;let i=null==(s=null==(n=null==t?void 0:t.dependencies)?void 0:n.find((t=>t.id==e)))?void 0:s.queue;return null!=i?!i:!t.enable_queue}(P,b))a({type:"status",endpoint:M,stage:"pending",queue:!1,fn_index:P,time:new Date}),A(`${b.root}${O}/run${M.startsWith("/")?M:`/${M}`}${X?"?"+X:""}`,{...W,session_hash:y}).then((([e,t])=>{const i=e.data;200==t?(a({type:"data",endpoint:M,fn_index:P,data:J(i,B,b.components,"output",z.with_null_state),time:new Date,event_data:n,trigger_id:s}),e.render_config&&Q(e.render_config),a({type:"status",endpoint:M,fn_index:P,stage:"complete",eta:e.average_duration,queue:!1,time:new Date})):a({type:"status",stage:"error",endpoint:M,fn_index:P,message:e.error,queue:!1,time:new Date})})).catch((e=>{a({type:"status",stage:"error",message:e.message,endpoint:M,fn_index:P,queue:!1,time:new Date})}));else if("ws"==L){const{ws_protocol:e,host:t}=await N(w,_);a({type:"status",stage:"pending",queue:!0,endpoint:M,fn_index:P,time:new Date});let i=new URL(`${e}://${function(e,t){return t.startsWith("http://")||t.startsWith("https://")?e:e+t}(t,b.root)}/queue/join${X?"?"+X:""}`);this.jwt&&i.searchParams.set("__sign",this.jwt),j=new WebSocket(i),j.onclose=e=>{e.wasClean||a({type:"status",stage:"error",broken:!0,message:m,queue:!0,endpoint:M,fn_index:P,time:new Date})},j.onmessage=function(e){const t=JSON.parse(e.data),{type:i,status:o,data:r}=q(t,G[P]);if("update"===i&&o&&!V)a({type:"status",endpoint:M,fn_index:P,time:new Date,...o}),"error"===o.stage&&j.close();else{if("hash"===i)return void j.send(JSON.stringify({fn_index:P,session_hash:y}));"data"===i?j.send(JSON.stringify({...W,session_hash:y})):"complete"===i?V=o:"log"===i?a({type:"log",title:r.title,log:r.log,level:r.level,endpoint:M,duration:r.duration,visible:r.visible,fn_index:P}):"generating"===i&&a({type:"status",time:new Date,...o,stage:null==o?void 0:o.stage,queue:!0,endpoint:M,fn_index:P})}r&&(a({type:"data",time:new Date,data:J(r.data,B,b.components,"output",z.with_null_state),endpoint:M,fn_index:P,event_data:n,trigger_id:s}),V&&(a({type:"status",time:new Date,...V,stage:null==o?void 0:o.stage,queue:!0,endpoint:M,fn_index:P}),j.close()))},d(b.version||"2.0.0","3.6")<0&&addEventListener("open",(()=>j.send(JSON.stringify({hash:y}))))}else if("sse"==L){a({type:"status",stage:"pending",queue:!0,endpoint:M,fn_index:P,time:new Date});var i=new URLSearchParams({fn_index:P.toString(),session_hash:y}).toString();let e=new URL(`${b.root}${O}/${p}?${X?X+"&":""}${i}`);if(this.jwt&&e.searchParams.set("__sign",this.jwt),R=this.stream(e),!R)return Promise.reject(new Error("Cannot connect to SSE endpoint: "+e.toString()));R.onmessage=async function(e){const t=JSON.parse(e.data),{type:i,status:o,data:c}=q(t,G[P]);if("update"===i&&o&&!V)a({type:"status",endpoint:M,fn_index:P,time:new Date,...o}),"error"===o.stage&&(null==R||R.close(),r());else if("data"===i){let[e,t]=await A(`${b.root}${O}/queue/data`,{...W,session_hash:y,event_id:H});200!==t&&(a({type:"status",stage:"error",message:m,queue:!0,endpoint:M,fn_index:P,time:new Date}),null==R||R.close(),r())}else"complete"===i?V=o:"log"===i?a({type:"log",title:c.title,log:c.log,level:c.level,endpoint:M,duration:c.duration,visible:c.visible,fn_index:P}):("generating"===i||"streaming"===i)&&a({type:"status",time:new Date,...o,stage:null==o?void 0:o.stage,queue:!0,endpoint:M,fn_index:P});c&&(a({type:"data",time:new Date,data:J(c.data,B,b.components,"output",z.with_null_state),endpoint:M,fn_index:P,event_data:n,trigger_id:s}),V&&(a({type:"status",time:new Date,...V,stage:null==o?void 0:o.stage,queue:!0,endpoint:M,fn_index:P}),null==R||R.close(),r()))}}else if("sse_v1"==L||"sse_v2"==L||"sse_v2.1"==L||"sse_v3"==L){a({type:"status",stage:"pending",queue:!0,endpoint:M,fn_index:P,time:new Date});let e="";typeof window<"u"&&typeof document<"u"&&(e=null==(t=null==window?void 0:window.location)?void 0:t.hostname);const n=e.includes(".dev.")?`https://moon-${e.split(".")[1]}.dev.spaces.huggingface.tech`:"https://huggingface.co";(typeof window<"u"&&typeof document<"u"&&window.parent!=window&&window.supports_zerogpu_headers?function(e,t){return new Promise(((e,n)=>{const s=new MessageChannel;s.port1.onmessage=({data:t})=>{s.port1.close(),e(t)},window.parent.postMessage("zerogpu-headers",t,[s.port2])}))}(0,n):Promise.resolve(null)).then((e=>A(`${b.root}${O}/queue/join?${X}`,{...W,session_hash:y},e))).then((async([e,t])=>{if(503===t)a({type:"status",stage:"error",message:g,queue:!0,endpoint:M,fn_index:P,time:new Date});else if(422===t)a({type:"status",stage:"error",message:e.detail,queue:!0,endpoint:M,fn_index:P,code:"validation_error",time:new Date}),r();else if(200!==t)a({type:"status",stage:"error",broken:!1,message:e.detail,queue:!0,endpoint:M,fn_index:P,time:new Date});else{H=e.event_id,F=H;let t=async function(e){try{const{type:t,status:n,data:s,original_msg:i}=q(e,G[P]);if("heartbeat"==t)return;if("update"===t&&n&&!V)a({type:"status",endpoint:M,fn_index:P,time:new Date,original_msg:i,...n});else if("complete"===t)V=n;else if("unexpected_error"==t||"broken_connection"==t){const e="broken_connection"===t;a({type:"status",stage:"error",message:(null==n?void 0:n.message)||"An Unexpected Error Occurred!",queue:!0,endpoint:M,broken:e,session_not_found:null==n?void 0:n.session_not_found,fn_index:P,time:new Date})}else{if("log"===t)return void a({type:"log",title:s.title,log:s.log,level:s.level,endpoint:M,duration:s.duration,visible:s.visible,fn_index:P});("generating"===t||"streaming"===t)&&(a({type:"status",time:new Date,...n,stage:null==n?void 0:n.stage,queue:!0,endpoint:M,fn_index:P}),s&&"stream"!==B.connection&&["sse_v2","sse_v2.1","sse_v3"].includes(L)&&function(e,t,n){e[t]?n.data.forEach(((s,i)=>{let o=function(e,t){return t.forEach((([t,n,s])=>{e=function(e,t,n,s){if(0===t.length){if("replace"===n)return s;if("append"===n)return e+s;throw new Error(`Unsupported action: ${n}`)}let i=e;for(let e=0;e<t.length-1;e++)i=i[t[e]];const o=t[t.length-1];switch(n){case"replace":i[o]=s;break;case"append":i[o]+=s;break;case"add":Array.isArray(i)?i.splice(Number(o),0,s):i[o]=s;break;case"delete":Array.isArray(i)?i.splice(Number(o),1):delete i[o];break;default:throw new Error(`Unknown action: ${n}`)}return e}(e,n,t,s)})),e}(e[t][i],s);e[t][i]=o,n.data[i]=o})):(e[t]=[],n.data.forEach(((n,s)=>{e[t][s]=n})))}(S,H,s))}s&&(a({type:"data",time:new Date,data:J(s.data,B,b.components,"output",z.with_null_state),endpoint:M,fn_index:P}),s.render_config&&await Q(s.render_config),V&&(a({type:"status",time:new Date,...V,stage:null==n?void 0:n.stage,queue:!0,endpoint:M,fn_index:P}),r())),("complete"===(null==n?void 0:n.stage)||"error"===(null==n?void 0:n.stage))&&($[H]&&delete $[H],H in S&&delete S[H])}catch(e){a({type:"status",stage:"error",message:"An Unexpected Error Occurred!",queue:!0,endpoint:M,fn_index:P,time:new Date}),["sse_v2","sse_v2.1","sse_v3"].includes(L)&&(ce(x,T.abort_controller),x.open=!1,r())}};H in E&&(E[H].forEach((e=>t(e))),delete E[H]),$[H]=t,C.add(H),x.open||await this.open_stream()}}))}}));let ee=!1;const te=[],ne=[],se={[Symbol.asyncIterator]:()=>se,next:h,throw:async e=>(l(e),h()),return:async()=>(r(),h()),cancel:K,event_id:U};return se}catch(ie){throw ie}}se=new WeakMap;class de{constructor(e,t={events:["data"]}){var n;a(this,"app_reference"),a(this,"options"),a(this,"deep_link",null),a(this,"config"),a(this,"api_prefix",""),a(this,"api_info"),a(this,"api_map",{}),a(this,"session_hash",Math.random().toString(36).substring(2)),a(this,"jwt",!1),a(this,"last_status",{}),a(this,"cookies",null),a(this,"stream_status",{open:!1}),a(this,"closed",!1),a(this,"pending_stream_messages",{}),a(this,"pending_diff_streams",{}),a(this,"event_callbacks",{}),a(this,"unclosed_events",new Set),a(this,"heartbeat_event",null),a(this,"abort_controller",null),a(this,"stream_instance",null),a(this,"current_payload"),a(this,"ws_map",{}),a(this,"view_api"),a(this,"upload_files"),a(this,"upload"),a(this,"handle_blob"),a(this,"post_data"),a(this,"submit"),a(this,"predict"),a(this,"open_stream"),a(this,"resolve_config"),a(this,"resolve_cookies"),this.app_reference=e,this.deep_link=(null==(n=t.query_params)?void 0:n.deep_link)||null,t.events||(t.events=["data"]),this.options=t,this.current_payload={},this.view_api=I.bind(this),this.upload_files=L.bind(this),this.handle_blob=V.bind(this),this.post_data=Y.bind(this),this.submit=le.bind(this),this.predict=K.bind(this),this.open_stream=re.bind(this),this.resolve_config=$.bind(this),this.resolve_cookies=A.bind(this),this.upload=F.bind(this),this.fetch=this.fetch.bind(this),this.handle_space_success=this.handle_space_success.bind(this),this.stream=this.stream.bind(this)}get_url_config(e=null){if(!this.config)throw new Error(w);null===e&&(e=window.location.href);const t=e=>e.replace(/^\/+|\/+$/g,"");let n,s=t(new URL(this.config.root).pathname),i=t(new URL(e).pathname);return n=i.startsWith(s)?t(i.substring(s.length)):"",this.get_page_config(n)}get_page_config(e){if(!this.config)throw new Error(w);let t=this.config;return e in t.page||(e=""),{...t,current_page:e,layout:t.page[e].layout,components:t.components.filter((n=>t.page[e].components.includes(n.id))),dependencies:this.config.dependencies.filter((n=>t.page[e].dependencies.includes(n.id)))}}fetch(e,t){const n=new Headers((null==t?void 0:t.headers)||{});if(this&&this.cookies&&n.append("Cookie",this.cookies),this&&this.options.headers)for(const e in this.options.headers)n.append(e,this.options.headers[e]);return fetch(e,{...t,headers:n})}stream(e){const t=new Headers;if(this&&this.cookies&&t.append("Cookie",this.cookies),this&&this.options.headers)for(const e in this.options.headers)t.append(e,this.options.headers[e]);return this&&this.options.hf_token&&t.append("Authorization",`Bearer ${this.options.hf_token}`),this.abort_controller=new AbortController,this.stream_instance=function(e,t={}){const n={close:()=>{},onerror:null,onmessage:null,onopen:null,readyState:0,url:e.toString(),withCredentials:!1,CONNECTING:0,OPEN:1,CLOSED:2,addEventListener:()=>{throw new Error("Method not implemented.")},dispatchEvent:()=>{throw new Error("Method not implemented.")},removeEventListener:()=>{throw new Error("Method not implemented.")}};return async function(e,t){let n=new Request(e,t);ae(n.headers,"Accept","text/event-stream"),ae(n.headers,"Content-Type","application/json");let s=await fetch(n);if(!s.ok)throw s;return async function*(e,t){if(!e.body)return;let n,s,i=function(e){let t=new TextDecoderStream,n=new ie({allowCR:!0});return e.pipeThrough(t).pipeThrough(n)}(e.body),o=i.getReader();for(;;){if(t&&t.aborted)return o.cancel();if(n=await o.read(),n.done)return;if(!n.value){s&&(yield s),s=void 0;continue}let[e,i]=oe(n.value)||[];e&&("data"===e?(s||(s={}),s[e]=s[e]?s[e]+"\n"+i:i):"event"===e?(s||(s={}),s[e]=i):"id"===e?(s||(s={}),s[e]=+i||i):"retry"===e&&(s||(s={}),s[e]=+i||void 0))}}(s,n.signal)}(e,t).then((async e=>{n.readyState=n.OPEN;try{for await(const t of e)n.onmessage&&n.onmessage(t);n.readyState=n.CLOSED}catch(e){n.onerror&&n.onerror(e),n.readyState=n.CLOSED}})).catch((e=>{n.onerror&&n.onerror(e),n.readyState=n.CLOSED})),n}(e.toString(),{credentials:"include",headers:t,signal:this.abort_controller.signal}),this.stream_instance}async init(){var e;this.options.auth&&await this.resolve_cookies(),await this._resolve_config().then((({config:e})=>this._resolve_heartbeat(e))),this.api_info=await this.view_api(),this.api_map=function(e){let t={};return e.forEach((({api_name:e,id:n})=>{e&&(t[e]=n)})),t}((null==(e=this.config)?void 0:e.dependencies)||[])}async _resolve_heartbeat(e){if(e&&(this.config=e,this.api_prefix=e.api_prefix||"",this.config&&this.config.connect_heartbeat&&this.config.space_id&&this.options.hf_token&&(this.jwt=await S(this.config.space_id,this.options.hf_token,this.cookies))),e.space_id&&this.options.hf_token&&(this.jwt=await S(e.space_id,this.options.hf_token)),this.config&&this.config.connect_heartbeat){const e=new URL(`${this.config.root}${this.api_prefix}/heartbeat/${this.session_hash}`);this.jwt&&e.searchParams.set("__sign",this.jwt),this.heartbeat_event||(this.heartbeat_event=this.stream(e))}}static async connect(e,t={events:["data"]}){const n=new this(e,t);return t.session_hash&&(n.session_hash=t.session_hash),await n.init(),n}async reconnect(){const e=new URL(`${this.config.root}${this.api_prefix}/app_id`);let t;try{const n=await this.fetch(e);if(!n.ok)throw new Error;t=(await n.json()).app_id}catch{return"broken"}return t!==this.config.app_id?"changed":"connected"}close(){this.closed=!0,ce(this.stream_status,this.abort_controller)}set_current_payload(e){this.current_payload=e}static async duplicate(e,t={events:["data"]}){return async function(e,t){const{hf_token:n,private:s,hardware:i,timeout:o,auth:a}=t;if(i&&!ne.includes(i))throw new Error(`Invalid hardware type provided. Valid types are: ${ne.map((e=>`"${e}"`)).join(",")}.`);const{http_protocol:r,host:c}=await N(e,n);let l=null;if(a){const e=await z(r,c,a,fetch);e&&(l=T(e))}const d={Authorization:`Bearer ${n}`,"Content-Type":"application/json",...l?{Cookie:l.join("; ")}:{}},u=(await(await fetch("https://huggingface.co/api/whoami-v2",{headers:d})).json()).name,p=e.split("/")[1],h={repository:`${u}/${p}`};let _;s&&(h.private=!0);try{i||(_=await async function(e,t){const n={};t&&(n.Authorization=`Bearer ${t}`);try{const t=await fetch(`https://huggingface.co/api/spaces/${e}/runtime`,{headers:n});if(200!==t.status)throw new Error("Space hardware could not be obtained.");const{hardware:s}=await t.json();return s.current}catch(e){throw new Error(e.message)}}(e,n))}catch(e){throw Error(b+e.message)}const f=i||_||"cpu-basic";h.hardware=f;try{const s=await fetch(`https://huggingface.co/api/spaces/${e}/duplicate`,{method:"POST",headers:d,body:JSON.stringify(h)});if(409===s.status)try{return await de.connect(`${u}/${p}`,t)}catch(e){throw e}else if(200!==s.status)throw new Error(s.statusText);const i=await s.json();return await async function(e,t,n){const s={};n&&(s.Authorization=`Bearer ${n}`);const i={seconds:t};try{const t=await fetch(`https://huggingface.co/api/spaces/${e}/sleeptime`,{method:"POST",headers:{"Content-Type":"application/json",...s},body:JSON.stringify(i)});if(200!==t.status)throw new Error("Could not set sleep timeout on duplicated Space. Please visit *ADD HF LINK TO SETTINGS* to set a timeout manually to reduce billing charges.");return await t.json()}catch(e){throw new Error(e.message)}}(`${u}/${p}`,o||300,n),await de.connect(function(e){const t=e.match(/https:\/\/huggingface.co\/spaces\/([^/]+\/[^/]+)/);if(t)return t[1]}(i.url),t)}catch(e){throw new Error(e)}}(e,t)}async _resolve_config(){const{http_protocol:e,host:t,space_id:n}=await N(this.app_reference,this.options.hf_token),{status_callback:s}=this.options;let i;n&&s&&await Q(n,s);try{let n=`${e}//${t}`;if(i=await this.resolve_config(n),!i)throw new Error(w);return this.config_success(i)}catch(e){if(!n||!s)throw s&&s({status:"error",message:"Could not load this space.",load_status:"error",detail:"NOT_FOUND"}),Error(e);Z(n,j.test(n)?"space_name":"subdomain",this.handle_space_success)}}async config_success(e){if(this.config=e,this.api_prefix=e.api_prefix||"",this.config.auth_required)return this.prepare_return_obj();try{this.api_info=await this.view_api()}catch(e){}return this.prepare_return_obj()}async handle_space_success(e){var t;if(!this)throw new Error(w);const{status_callback:n}=this.options;if(n&&n(e),"running"===e.status)try{if(this.config=await this._resolve_config(),this.api_prefix=(null==(t=null==this?void 0:this.config)?void 0:t.api_prefix)||"",!this.config)throw new Error(w);return await this.config_success(this.config)}catch(e){throw n&&n({status:"error",message:"Could not load this space.",load_status:"error",detail:"NOT_FOUND"}),e}}async component_server(e,t,n){var s;if(!this.config)throw new Error(w);const i={},{hf_token:o}=this.options,{session_hash:a}=this;o&&(i.Authorization=`Bearer ${this.options.hf_token}`);let r,c,l=this.config.components.find((t=>t.id===e));if(r=null!=(s=null==l?void 0:l.props)&&s.root_url?l.props.root_url:this.config.root,"binary"in n){c=new FormData;for(const e in n.data)"binary"!==e&&c.append(e,n.data[e]);c.set("component_id",e.toString()),c.set("fn_name",t),c.set("session_hash",a)}else c=JSON.stringify({data:n,component_id:e,fn_name:t,session_hash:a}),i["Content-Type"]="application/json";o&&(i.Authorization=`Bearer ${o}`);try{const e=await this.fetch(`${r}${this.api_prefix}/component_server/`,{method:"POST",body:c,headers:i,credentials:"include"});if(!e.ok)throw new Error("Could not connect to component server: "+e.statusText);return await e.json()}catch(e){}}set_cookies(e){this.cookies=T(e).join("; ")}prepare_return_obj(){return{config:this.config,predict:this.predict,submit:this.submit,view_api:this.view_api,component_server:this.component_server}}async connect_ws(e){return new Promise(((t,n)=>{let s;try{s=new WebSocket(e)}catch{return void(this.ws_map[e]="failed")}this.ws_map[e]="pending",s.onopen=()=>{this.ws_map[e]=s,t()},s.onerror=n=>{this.close_ws(e),this.ws_map[e]="failed",t()},s.onclose=()=>{this.ws_map[e]="closed"},s.onmessage=e=>{}}))}async send_ws_message(e,t){if(e in this.ws_map){if("pending"===this.ws_map[e]||"closed"===this.ws_map[e]||"failed"===this.ws_map[e])return}else await this.connect_ws(e);const n=this.ws_map[e];n instanceof WebSocket?n.send(JSON.stringify(t)):this.post_data(e,t)}async close_ws(e){if(e in this.ws_map){const t=this.ws_map[e];t instanceof WebSocket&&(t.close(),delete this.ws_map[e])}}}},964:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{dW:()=>o.dW,ng:()=>o.ng});var i=n(965),o=n(966),a=e([i]);i=(a.then?(await a)():a)[0],(0,o.lI)(i),i.__wbindgen_start(),s()}catch(e){s(e)}}))},965:(e,t,n)=>{"use strict";var s=n(966);e.exports=n.v(t,e.id,"a30d0ad34017e316b14d",{"./smart_downscaler_bg.js":{__wbg_log_1d990106d99dacb7:s.iq,__wbg_length_22ac23eaec9d8053:s.hi,__wbg_prototypesetcall_dfe9b766cdc1f1fd:s.me,__wbg_new_6421f6084cc5bc5a:s.kH,__wbg_new_with_length_aa5eaf41d35235e5:s.di,__wbg_new_from_slice_f9c22b9153b26992:s.bS,__wbg_new_from_slice_de10fccb49c7f3c0:s.Cv,__wbg___wbindgen_throw_dd24417ed36fc46e:s.Yh,__wbindgen_init_externref_table:s.bL,__wbindgen_cast_2241b6af4c4b2941:s.pY}})},966:(e,t,n)=>{"use strict";let s;function i(e){s=e}function o(e,t){return e>>>=0,c().subarray(e/1,e/1+t)}function a(e,t){return function(e,t){return u+=t,u>=d&&(l=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),l.decode(),u=t),l.decode(c().subarray(e,e+t))}(e>>>=0,t)}n.d(t,{Cv:()=>x,Yh:()=>b,bL:()=>A,bS:()=>E,dW:()=>w,di:()=>S,hi:()=>y,iq:()=>v,kH:()=>k,lI:()=>i,me:()=>$,ng:()=>g,pY:()=>C});let r=null;function c(){return null!==r&&0!==r.byteLength||(r=new Uint8Array(s.memory.buffer)),r}let l=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});l.decode();const d=2146435072;let u=0;const p=new TextEncoder;"encodeInto"in p||(p.encodeInto=function(e,t){const n=p.encode(e);return t.set(n),{read:e.length,written:n.length}});let h=0;const _="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>s.__wbg_wasmdownscaleconfig_free(e>>>0,1))),f="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>s.__wbg_wasmdownscaleresult_free(e>>>0,1)));class g{static __wrap(e){e>>>=0;const t=Object.create(g.prototype);return t.__wbg_ptr=e,_.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,_.unregister(this),e}free(){const e=this.__destroy_into_raw();s.__wbg_wasmdownscaleconfig_free(e,0)}get palette_size(){return s.__wbg_get_wasmdownscaleconfig_palette_size(this.__wbg_ptr)>>>0}set palette_size(e){s.__wbg_set_wasmdownscaleconfig_palette_size(this.__wbg_ptr,e)}get kmeans_iterations(){return s.__wbg_get_wasmdownscaleconfig_kmeans_iterations(this.__wbg_ptr)>>>0}set kmeans_iterations(e){s.__wbg_set_wasmdownscaleconfig_kmeans_iterations(this.__wbg_ptr,e)}get neighbor_weight(){return s.__wbg_get_wasmdownscaleconfig_neighbor_weight(this.__wbg_ptr)}set neighbor_weight(e){s.__wbg_set_wasmdownscaleconfig_neighbor_weight(this.__wbg_ptr,e)}get region_weight(){return s.__wbg_get_wasmdownscaleconfig_region_weight(this.__wbg_ptr)}set region_weight(e){s.__wbg_set_wasmdownscaleconfig_region_weight(this.__wbg_ptr,e)}get two_pass_refinement(){return 0!==s.__wbg_get_wasmdownscaleconfig_two_pass_refinement(this.__wbg_ptr)}set two_pass_refinement(e){s.__wbg_set_wasmdownscaleconfig_two_pass_refinement(this.__wbg_ptr,e)}get refinement_iterations(){return s.__wbg_get_wasmdownscaleconfig_refinement_iterations(this.__wbg_ptr)>>>0}set refinement_iterations(e){s.__wbg_set_wasmdownscaleconfig_refinement_iterations(this.__wbg_ptr,e)}get edge_weight(){return s.__wbg_get_wasmdownscaleconfig_edge_weight(this.__wbg_ptr)}set edge_weight(e){s.__wbg_set_wasmdownscaleconfig_edge_weight(this.__wbg_ptr,e)}get slic_superpixels(){return s.__wbg_get_wasmdownscaleconfig_slic_superpixels(this.__wbg_ptr)>>>0}set slic_superpixels(e){s.__wbg_set_wasmdownscaleconfig_slic_superpixels(this.__wbg_ptr,e)}get slic_compactness(){return s.__wbg_get_wasmdownscaleconfig_slic_compactness(this.__wbg_ptr)}set slic_compactness(e){s.__wbg_set_wasmdownscaleconfig_slic_compactness(this.__wbg_ptr,e)}get hierarchy_threshold(){return s.__wbg_get_wasmdownscaleconfig_hierarchy_threshold(this.__wbg_ptr)}set hierarchy_threshold(e){s.__wbg_set_wasmdownscaleconfig_hierarchy_threshold(this.__wbg_ptr,e)}get hierarchy_min_size(){return s.__wbg_get_wasmdownscaleconfig_hierarchy_min_size(this.__wbg_ptr)>>>0}set hierarchy_min_size(e){s.__wbg_set_wasmdownscaleconfig_hierarchy_min_size(this.__wbg_ptr,e)}constructor(){const e=s.wasmdownscaleconfig_new();return this.__wbg_ptr=e>>>0,_.register(this,this.__wbg_ptr,this),this}set segmentation_method(e){const t=function(e,t,n){if(void 0===n){const n=p.encode(e),s=t(n.length,1)>>>0;return c().subarray(s,s+n.length).set(n),h=n.length,s}let s=e.length,i=t(s,1)>>>0;const o=c();let a=0;for(;a<s;a++){const t=e.charCodeAt(a);if(t>127)break;o[i+a]=t}if(a!==s){0!==a&&(e=e.slice(a)),i=n(i,s,s=a+3*e.length,1)>>>0;const t=c().subarray(i+a,i+s);a+=p.encodeInto(e,t).written,i=n(i,s,a,1)>>>0}return h=a,i}(e,s.__wbindgen_malloc,s.__wbindgen_realloc),n=h;s.wasmdownscaleconfig_set_segmentation_method(this.__wbg_ptr,t,n)}get segmentation_method(){let e,t;try{const n=s.wasmdownscaleconfig_segmentation_method(this.__wbg_ptr);return e=n[0],t=n[1],a(n[0],n[1])}finally{s.__wbindgen_free(e,t,1)}}static fast(){const e=s.wasmdownscaleconfig_fast();return g.__wrap(e)}static quality(){const e=s.wasmdownscaleconfig_quality();return g.__wrap(e)}}Symbol.dispose&&(g.prototype[Symbol.dispose]=g.prototype.free);class m{static __wrap(e){e>>>=0;const t=Object.create(m.prototype);return t.__wbg_ptr=e,f.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,f.unregister(this),e}free(){const e=this.__destroy_into_raw();s.__wbg_wasmdownscaleresult_free(e,0)}get width(){return s.wasmdownscaleresult_width(this.__wbg_ptr)>>>0}get height(){return s.wasmdownscaleresult_height(this.__wbg_ptr)>>>0}get data(){return s.wasmdownscaleresult_data(this.__wbg_ptr)}rgb_data(){return s.wasmdownscaleresult_rgb_data(this.__wbg_ptr)}get palette(){return s.wasmdownscaleresult_palette(this.__wbg_ptr)}get indices(){return s.wasmdownscaleresult_indices(this.__wbg_ptr)}get palette_size(){return s.wasmdownscaleresult_palette_size(this.__wbg_ptr)>>>0}get_palette_color(e){return s.wasmdownscaleresult_get_palette_color(this.__wbg_ptr,e)}}function w(e,t,n,i,o,a){let r=0;null==a||(function(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}(a,g),r=a.__destroy_into_raw());const c=s.downscale(e,t,n,i,o,r);if(c[2])throw function(e){const t=s.__wbindgen_externrefs.get(e);return s.__externref_table_dealloc(e),t}(c[1]);return m.__wrap(c[0])}function b(e,t){throw new Error(a(e,t))}function y(e){return e.length}function v(e){}function k(e){return new Uint8Array(e)}function x(e,t){return new Uint8ClampedArray(o(e,t))}function E(e,t){return new Uint8Array(o(e,t))}function S(e){return new Uint8Array(e>>>0)}function $(e,t,n){Uint8Array.prototype.set.call(o(e,t),n)}function C(e,t){return a(e,t)}function A(){const e=s.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}Symbol.dispose&&(m.prototype[Symbol.dispose]=m.prototype.free)},968:(e,t,n)=>{"use strict";var s=n(4),i=n(84).some;s({target:"Array",proto:!0,forced:!n(105)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},969:(e,t,n)=>{"use strict";n(970)},970:(e,t,n)=>{"use strict";var s=n(4),i=n(179),o=n(31),a=n(47),r=n(205);s({target:"Iterator",proto:!0,real:!0},{some:function(e){a(this),o(e);var t=r(this),n=0;return i(t,(function(t,s){if(e(t,n++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},971:(e,t,n)=>{"use strict";var s=n(459),i=n(377);t.Ay=void 0;var o=i(n(378)),a=i(n(389)),r=s(n(228)),c=(i(n(392)),i(n(382))),l=(n(391),i(n(972))),d=i(n(376)),u=r.forwardRef((function(e,t){var n=e.disableUnderline,s=e.classes,i=e.fullWidth,d=void 0!==i&&i,u=e.inputComponent,p=void 0===u?"input":u,h=e.multiline,_=void 0!==h&&h,f=e.type,g=void 0===f?"text":f,m=(0,a.default)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return r.createElement(l.default,(0,o.default)({classes:(0,o.default)({},s,{root:(0,c.default)(s.root,!n&&s.underline),underline:null}),fullWidth:d,inputComponent:p,multiline:_,ref:t,type:g},m))}));u.muiName="Input";var p=(0,d.default)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:s,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:s}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(u);t.Ay=p},972:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s.A});var s=n(933)},973:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var r in n)s.call(n,r)&&n[r]&&e.push(r)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},984:(e,t,n)=>{"use strict";var s=n(377),i=n(459);t.A=void 0;var o=i(n(228)),a=(0,s(n(460)).default)(o.createElement("path",{d:"M5.2496 8.0688l2.83-2.8268 14.134 14.15-2.83 2.8268zM9.4857 3.8272l2.828-2.8288 5.6576 5.656-2.828 2.8288zM.9989 12.3147l2.8284-2.8284L9.484 15.143l-2.8284 2.8284zM1 21h12v2H1z"}),"Gavel");t.A=a},985:(e,t,n)=>{"use strict";var s=n(377),i=n(459);t.A=void 0;var o=i(n(228)),a=(0,s(n(460)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.A=a},1015:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var s=n(215),i=n(237),o=n(228),a=n(382),r=n(942),c=n(462);const l=(0,c.A)(o.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),d=(0,c.A)(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");var u=n(264);const p=(0,c.A)(o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var h=n(439),_=n(235),f=o.createElement(d,null),g=o.createElement(l,null),m=o.createElement(p,null),w=o.forwardRef((function(e,t){var n=e.checkedIcon,c=void 0===n?f:n,l=e.classes,d=e.color,u=void 0===d?"secondary":d,p=e.icon,_=void 0===p?g:p,w=e.indeterminate,b=void 0!==w&&w,y=e.indeterminateIcon,v=void 0===y?m:y,k=e.inputProps,x=e.size,E=void 0===x?"medium":x,S=(0,i.A)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),$=b?v:_,C=b?v:c;return o.createElement(r.A,(0,s.A)({type:"checkbox",classes:{root:(0,a.default)(l.root,l["color".concat((0,h.A)(u))],b&&l.indeterminate),checked:l.checked,disabled:l.disabled},color:u,inputProps:(0,s.A)({"data-indeterminate":b},k),icon:o.cloneElement($,{fontSize:void 0===$.props.fontSize&&"small"===E?E:$.props.fontSize}),checkedIcon:o.cloneElement(C,{fontSize:void 0===C.props.fontSize&&"small"===E?E:C.props.fontSize}),ref:t},S))}));const b=(0,_.A)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,u.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,u.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(w)}}]);