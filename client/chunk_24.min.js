/*! For license information please see chunk_24.min.js.LICENSE.txt */
"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([[24],{955:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(417),o=n(416),a=n(414),i=n(418),s=n(419),c=n(420),u=n(422),l=n(421),f=n(423),h=n(424),d=n(265),p=n(425),v=n(215),m=n(381),y=n(260),b=(0,r.h)((0,o.A)(a.Ay,i.Ay,s.Ay,c.Ay,u.Ay,l.Ay,f.A,h.Ay,d.A,p.Ay));const g=(w=(0,m.A)("div"),function(e,t){return w(e,(0,v.A)({defaultTheme:y.A},t))})(b,{name:"MuiBox"});var w},1663:(e,t,n)=>{n.d(t,{default:()=>L}),n(2),n(98),n(99),n(273),n(101),n(106),n(118),n(119),n(475),n(216),n(130),n(134),n(135),n(137),n(145),n(147),n(152),n(154),n(155),n(157),n(186),n(192),n(193),n(199),n(201),n(203),n(223),n(213),n(371);var r=n(228),o=n(376),a=n(659),i=n(661),s=n(664),c=n(455),u=n(955),l=n(967),f=n(674),h=n(956),d=n(964),p=n(449),v=n(666),m=n(465),y=n(1664),b=n(1665),g=n(1666),w=(n(100),n(103),n(116),n(278),n(287),n(288),n(132),n(138),n(153),n(195),n(492),n(318),n(320),n(321),n(322),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(333),n(335),n(337),n(338),n(339),n(340),n(341),n(342),n(347),n(348),n(349),n(208),n(369),n(210),n(1667));function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return C(u,"_invoke",function(n,r,o){var a,s,c,u=0,l=o||[],f=!1,h={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return a=t,s=0,c=e,h.n=n,i}};function d(n,r){for(s=n,c=r,t=0;!f&&u&&!o&&t<l.length;t++){var o,a=l[t],d=h.p,p=a[2];n>3?(o=p===r)&&(c=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=n<2&&d<a[1])?(s=0,h.v=r,h.n=a[1]):d<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,h.n=p,s=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,p),s=l,c=p;(t=s<2?e:c)||!f;){a||(s?s<3?(s>1&&(h.n=-1),d(s,c)):h.n=c:h.v=c);try{if(u=2,a){if(s||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=e}else if((t=(f=h.n<0)?c:n.call(r,h))!==i)break}catch(t){a=e,s=1,c=t}finally{u=1}}return{value:t,done:f}}}(n,o,a),!0),u}var i={};function s(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(C(t={},r,(function(){return this})),t),f=u.prototype=s.prototype=Object.create(l);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,C(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=u,C(f,"constructor",u),C(u,"constructor",c),c.displayName="GeneratorFunction",C(u,o,"GeneratorFunction"),C(f),C(f,o,"Generator"),C(f,r,(function(){return this})),C(f,"toString",(function(){return"[object Generator]"})),(k=function(){return{w:a,m:h}})()}function C(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}C=function(e,t,n,r){function a(t,n){C(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},C(e,t,n,r)}function A(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){A(a,r,o,i,s,"next",e)}function s(e){A(a,r,o,i,s,"throw",e)}i(void 0)}))}}function E(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}var S=function(){return e=function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.displayCanvas=document.getElementById(t),this.displayCtx=null===(n=this.displayCanvas)||void 0===n?void 0:n.getContext("bitmaprenderer"),this.analysisCanvas=document.createElement("canvas"),this.analysisCtx=this.analysisCanvas.getContext("2d",{willReadFrequently:!0}),this.video=document.createElement("video"),this.video.setAttribute("playsinline","true"),this.video.setAttribute("webkit-playsinline","true"),this.video.setAttribute("muted","true"),this.video.autoplay=!0,this.processor=null,this.memory=null,this.stream=null,this.isRunning=!1,this.isDestroyed=!1,this.lastScanTime=0,this.scanInterval=500,this.animationFrameId=null,this.onResult=null},t=[{key:"init",value:(i=x(k().m((function e(){var t,n,r=arguments;return k().w((function(e){for(;;)switch(e.n){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:"mixed",!this.isDestroyed){e.n=1;break}throw new Error("Scanner has been destroyed");case 1:if(this.processor){e.n=3;break}return e.n=2,(0,w.Ay)();case 2:n=e.v,this.memory=n.memory,this.processor=w.wG.new(1920,1920),this.setScanMode(t);case 3:return e.a(2)}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"setScanMode",value:function(e){if(this.processor){var t={normal:0,both:1,reversed:2,mixed:3};Object.prototype.hasOwnProperty.call(t,e)&&this.processor.set_mode(t[e])}}},{key:"start",value:(a=x(k().m((function e(){var t,n,r,o=this,a=arguments;return k().w((function(e){for(;;)switch(e.p=e.n){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,!this.isDestroyed){e.n=1;break}throw new Error("Scanner has been destroyed");case 1:return this.stopStream(),n={audio:!1,video:{deviceId:t?{exact:t}:void 0,facingMode:t?void 0:"environment",width:{ideal:1920},height:{ideal:1920}}},e.p=2,e.n=3,navigator.mediaDevices.getUserMedia(n);case 3:if(this.stream=e.v,!this.isDestroyed){e.n=4;break}return this.stopStream(),e.a(2,!1);case 4:return this.video.srcObject=this.stream,this.applyFocusMode(),e.n=5,new Promise((function(e,t){var n=setTimeout((function(){return t(new Error("Video metadata timeout"))}),1e4);o.video.readyState>=1?(clearTimeout(n),e()):(o.video.onloadedmetadata=function(){clearTimeout(n),e()},o.video.onerror=function(){clearTimeout(n),t(new Error("Video loading error"))})}));case 5:if(!this.isDestroyed){e.n=6;break}return this.stopStream(),e.a(2,!1);case 6:return e.n=7,this.video.play();case 7:return this.setupResolution(),this.isRunning=!0,this.loop(),e.a(2,!0);case 8:if(e.p=8,r=e.v,this.stopStream(),t){e.n=9;break}return e.a(2,this.startBasic());case 9:throw r;case 10:return e.a(2)}}),e,this,[[2,8]])}))),function(){return a.apply(this,arguments)})},{key:"startBasic",value:(o=x(k().m((function e(){return k().w((function(e){for(;;)switch(e.p=e.n){case 0:if(!this.isDestroyed){e.n=1;break}return e.a(2,!1);case 1:return e.p=1,e.n=2,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});case 2:if(this.stream=e.v,!this.isDestroyed){e.n=3;break}return this.stopStream(),e.a(2,!1);case 3:return this.video.srcObject=this.stream,e.n=4,this.video.play();case 4:return this.setupResolution(),this.isRunning=!0,this.loop(),e.a(2,!0);case 5:return e.p=5,e.v,e.a(2,!1)}}),e,this,[[1,5]])}))),function(){return o.apply(this,arguments)})},{key:"setupResolution",value:function(){var e=this.video.videoWidth,t=this.video.videoHeight;if(0!==e&&0!==t){var n=Math.min(1,1280/e);this.displayCanvas.width=e*n|0,this.displayCanvas.height=t*n|0;var r=Math.min(1,1920/e);this.analysisCanvas.width=e*r|0,this.analysisCanvas.height=t*r|0,this.processor&&this.processor.resize(this.analysisCanvas.width,this.analysisCanvas.height)}}},{key:"applyFocusMode",value:(r=x(k().m((function e(){var t,n;return k().w((function(e){for(;;)switch(e.p=e.n){case 0:if(this.stream){e.n=1;break}return e.a(2);case 1:if(t=this.stream.getVideoTracks()[0]){e.n=2;break}return e.a(2);case 2:if(e.p=2,!(n=t.getCapabilities()).focusMode||!n.focusMode.includes("continuous")){e.n=3;break}return e.n=3,t.applyConstraints({advanced:[{focusMode:"continuous"}]});case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:return e.a(2)}}),e,this,[[2,4]])}))),function(){return r.apply(this,arguments)})},{key:"stopStream",value:function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.isRunning=!1,this.stream&&(this.stream.getTracks().forEach((function(e){e.stop()})),this.stream=null),this.video.pause(),this.video.srcObject=null,this.video.onloadedmetadata=null,this.video.onerror=null}},{key:"stop",value:function(){this.stopStream()}},{key:"destroy",value:function(){if(this.stop(),this.isDestroyed=!0,this.onResult=null,this.processor&&"function"==typeof this.processor.free)try{this.processor.free()}catch(e){}this.processor=null,this.memory=null,this.displayCanvas=null,this.displayCtx=null,this.analysisCanvas=null,this.analysisCtx=null}},{key:"toggleFlashlight",value:function(e){if(!this.stream)return Promise.resolve(!1);var t=this.stream.getVideoTracks()[0];return t?t.applyConstraints({advanced:[{torch:e}]}).then((function(){return!0})).catch((function(){return!1})):Promise.resolve(!1)}},{key:"loop",value:(n=x(k().m((function e(){var t,n,r=this;return k().w((function(e){for(;;)switch(e.p=e.n){case 0:if(this.isRunning&&!this.isDestroyed){e.n=1;break}return e.a(2);case 1:if(!(this.video.videoWidth>0&&this.displayCanvas)){e.n=6;break}return e.p=2,e.n=3,createImageBitmap(this.video,{resizeWidth:this.displayCanvas.width,resizeHeight:this.displayCanvas.height});case 3:t=e.v,this.displayCtx&&this.isRunning&&this.displayCtx.transferFromImageBitmap(t),e.n=5;break;case 4:e.p=4,e.v;case 5:(n=performance.now())-this.lastScanTime>this.scanInterval&&(this.lastScanTime=n,this.scanFrame());case 6:this.isRunning&&!this.isDestroyed&&(this.animationFrameId=requestAnimationFrame((function(){return r.loop()})));case 7:return e.a(2)}}),e,this,[[2,4]])}))),function(){return n.apply(this,arguments)})},{key:"scanFrame",value:function(){if(this.isRunning&&!this.isDestroyed&&this.processor&&this.memory){var e=this.analysisCanvas.width,t=this.analysisCanvas.height;if(0!==e&&0!==t)try{this.analysisCtx.drawImage(this.video,0,0,e,t);var n=this.analysisCtx.getImageData(0,0,e,t),r=this.processor.get_buffer_ptr();new Uint8Array(this.memory.buffer,r,e*t*4).set(n.data);var o=this.processor.scan_stream(),a=JSON.parse(o);a.found&&this.onResult&&a.content&&"Decoding..."!==a.content&&this.onResult(a.content)}catch(e){}}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o,a,i}();function O(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return R(u,"_invoke",function(n,r,o){var a,s,c,u=0,l=o||[],f=!1,h={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return a=t,s=0,c=e,h.n=n,i}};function d(n,r){for(s=n,c=r,t=0;!f&&u&&!o&&t<l.length;t++){var o,a=l[t],d=h.p,p=a[2];n>3?(o=p===r)&&(c=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=n<2&&d<a[1])?(s=0,h.v=r,h.n=a[1]):d<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,h.n=p,s=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,p),s=l,c=p;(t=s<2?e:c)||!f;){a||(s?s<3?(s>1&&(h.n=-1),d(s,c)):h.n=c:h.v=c);try{if(u=2,a){if(s||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=e}else if((t=(f=h.n<0)?c:n.call(r,h))!==i)break}catch(t){a=e,s=1,c=t}finally{u=1}}return{value:t,done:f}}}(n,o,a),!0),u}var i={};function s(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(R(t={},r,(function(){return this})),t),f=u.prototype=s.prototype=Object.create(l);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,R(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=u,R(f,"constructor",u),R(u,"constructor",c),c.displayName="GeneratorFunction",R(u,o,"GeneratorFunction"),R(f),R(f,o,"Generator"),R(f,r,(function(){return this})),R(f,"toString",(function(){return"[object Generator]"})),(O=function(){return{w:a,m:h}})()}function R(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}R=function(e,t,n,r){function a(t,n){R(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},R(e,t,n,r)}function M(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){M(a,r,o,i,s,"next",e)}function s(e){M(a,r,o,i,s,"throw",e)}i(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=(0,r.memo)((function(e){var t=e.containerWidth,n=void 0===t?400:t,o=e.containerHeight,a=void 0===o?300:o,i=e.maskSize,s=void 0===i?200:i,c=e.cornerLength,u=void 0===c?30:c,l=e.cornerRadius,f=void 0===l?12:l,h=e.lineWidth,d=void 0===h?6:h,p=e.lineColor,v=void 0===p?"#ffffff":p,m=e.maskColor,y=void 0===m?"rgba(0, 0, 0, 0.6)":m,b=Math.min(f,u),g=n/2,w=a/2,_=s/2,k=g-_,C=w-_,A=g+_,x=w+_,E=b,S=Math.min(u,s/2),O=["M ".concat(k," ").concat(C+S," L ").concat(k," ").concat(C+E," Q ").concat(k," ").concat(C," ").concat(k+E," ").concat(C," L ").concat(k+S," ").concat(C),"M ".concat(A-S," ").concat(C," L ").concat(A-E," ").concat(C," Q ").concat(A," ").concat(C," ").concat(A," ").concat(C+E," L ").concat(A," ").concat(C+S),"M ".concat(A," ").concat(x-S," L ").concat(A," ").concat(x-E," Q ").concat(A," ").concat(x," ").concat(A-E," ").concat(x," L ").concat(A-S," ").concat(x),"M ".concat(k+S," ").concat(x," L ").concat(k+E," ").concat(x," Q ").concat(k," ").concat(x," ").concat(k," ").concat(x-E," L ").concat(k," ").concat(x-S)].join(" "),R="scannerMaskPixels-".concat(n,"-").concat(a);return r.createElement("svg",{width:n,height:a,viewBox:"0 0 ".concat(n," ").concat(a),style:{position:"absolute",top:0,left:0,pointerEvents:"none"}},r.createElement("defs",null,r.createElement("mask",{id:R},r.createElement("rect",{x:"0",y:"0",width:n,height:a,fill:"white"}),r.createElement("rect",{x:k,y:C,width:s,height:s,rx:b,ry:b,fill:"black"}))),r.createElement("rect",{x:"0",y:"0",width:n,height:a,fill:y,mask:"url(#".concat(R,")")}),r.createElement("path",{d:O,fill:"none",stroke:v,strokeWidth:d,strokeLinecap:"round",strokeLinejoin:"round"}))})),F=(0,r.memo)((function(e){var t=e.classes,n=e.onCanvasReady,o=e.isLoading,a=(0,r.useRef)(null),i=T((0,r.useState)({width:400,height:300}),2),s=i[0],c=i[1];(0,r.useEffect)((function(){var e=function(){if(a.current){var e=a.current,t=e.offsetWidth,n=e.offsetHeight;t>0&&n>0&&c({width:t,height:n})}};e();var t=new ResizeObserver(e);return a.current&&t.observe(a.current),function(){return t.disconnect()}}),[]);var u=.75*Math.min(s.width,s.height);return r.createElement("div",{className:t.canvasContainer,ref:a},o&&r.createElement(p.A,{in:!0,timeout:500},r.createElement(v.A,{style:{color:"#fff",position:"absolute",zIndex:20}})),r.createElement("canvas",{id:"qr-scanner-canvas",className:t.canvas,ref:n}),!o&&r.createElement(P,{containerWidth:s.width,containerHeight:s.height,maskSize:u,cornerLength:64,cornerRadius:24,lineWidth:12,lineColor:"#ffffff",maskColor:"rgba(0, 0, 0, 0.6)"}))}),(function(e,t){return e.isLoading===t.isLoading}));const L=(0,o.default)((function(e){return{dialog:{"& .MuiDialogContent-root":{padding:"8px 24px 0px 24px"}},canvasContainer:{width:"100%",backgroundColor:"#eee",borderRadius:"21px",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",contain:"paint style layout"},canvas:{width:"100%",maxWidth:"100%",maxHeight:"100%",display:"block"},scannerOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:10},controlsRow:{marginTop:e.spacing(2),marginBottom:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center",gap:e.spacing(2)},selectDropdown:{"& .MuiOutlinedInput-root":{borderRadius:"12px",backgroundColor:"rgba(0,0,0,0.05)",color:"#000000","&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#666"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#000000"}},"& .MuiSelect-icon":{color:"#333"},"& .MuiInputLabel-root":{color:"#333"},"& .MuiInputLabel-root.Mui-focused":{color:"#000"}},flashBtn:{backgroundColor:"rgba(0,0,0,0.05)",color:"#000",padding:"12px","&:hover":{backgroundColor:"rgba(0,0,0,0.15)"}}}}))((function(e){var t=e.classes,n=e.open,o=e.onClose,p=e.onScanResult,v=T((0,r.useState)([]),2),w=v[0],_=v[1],k=T((0,r.useState)(""),2),C=k[0],A=k[1],x=T((0,r.useState)(!1),2),E=x[0],R=x[1],M=T((0,r.useState)(!0),2),I=M[0],P=M[1],L=T((0,r.useState)(!1),2),D=L[0],z=L[1],W=(0,r.useRef)(null),B=(0,r.useRef)(null),G=(0,r.useRef)(0),N=(0,r.useRef)(!1),H=(0,r.useCallback)((function(){var e=B.current;if(e){try{e.stop(),e.onResult=null}catch(e){}B.current=null}}),[]),U=(0,r.useCallback)((function(){_([]),A(""),R(!1),P(!0),z(!1),N.current=!1}),[]);(0,r.useEffect)((function(){if(!n)return H(),void U();var e=++G.current;N.current=!1;var t=function(){return e===G.current},r=function(){var e=j(O().m((function e(){var n,r,a,i,s,c;return O().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,new Promise((function(e){return setTimeout(e,50)}));case 1:if(t()){e.n=2;break}return e.a(2);case 2:if(W.current){e.n=3;break}return e.a(2);case 3:if(e.p=3,P(!0),z(!1),n=new S("qr-scanner-canvas"),t()){e.n=4;break}return e.a(2);case 4:return e.n=5,n.init();case 5:if(t()){e.n=6;break}return n.stop(),e.a(2);case 6:return n.onResult=function(e){t()&&!N.current&&(N.current=!0,navigator.vibrate&&navigator.vibrate(200),n.stop(),p(e),o())},e.n=7,n.start();case 7:if(t()){e.n=8;break}return n.stop(),e.a(2);case 8:return B.current=n,e.n=9,navigator.mediaDevices.enumerateDevices();case 9:if(r=e.v,a=r.filter((function(e){return"videoinput"===e.kind})),t()){e.n=10;break}return n.stop(),B.current=null,e.a(2);case 10:_(a),i="",n.stream&&(s=n.stream.getVideoTracks()).length>0&&(c=s[0].getSettings(),i=c.deviceId||""),i?A(i):a.length>0&&A(a[a.length-1].deviceId),P(!1),e.n=12;break;case 11:e.p=11,e.v,t()&&(z(!0),P(!1));case 12:return e.a(2)}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return r(),function(){G.current++,H()}}),[n,p,o,H,U]),(0,r.useEffect)((function(){return function(){G.current++,H()}}),[H]);var V=(0,r.useCallback)((function(){G.current++,H(),U(),o()}),[H,U,o]),q=(0,r.useCallback)(function(){var e=j(O().m((function e(t){var n,r;return O().w((function(e){for(;;)switch(e.p=e.n){case 0:if(n=t.target.value,A(n),!(r=B.current)){e.n=5;break}return e.p=1,P(!0),e.n=2,r.start(n);case 2:R(!1),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,P(!1),e.f(4);case 5:return e.a(2)}}),e,null,[[1,3,4,5]])})));return function(t){return e.apply(this,arguments)}}(),[]),Q=(0,r.useCallback)(j(O().m((function e(){var t,n;return O().w((function(e){for(;;)switch(e.n){case 0:if(!(t=B.current)){e.n=2;break}return n=!E,e.n=1,t.toggleFlashlight(n);case 1:R(n);case 2:return e.a(2)}}),e)}))),[E]),J=(0,r.useCallback)((function(e){W.current=e}),[]);return r.createElement(a.A,{className:t.dialog,open:n,maxWidth:!1,onClose:V,PaperProps:{style:{width:"min(calc(100% - 32px), 800px)",maxWidth:"none",backgroundColor:"#ffffff",color:"#000000"}}},r.createElement(i.A,{style:{position:"relative",overflow:"hidden"}},r.createElement(c.A,{onClick:V,style:{position:"absolute",right:8,top:8,color:"#000000",zIndex:100}},r.createElement(m.A,null)),r.createElement(s.A,{style:{marginTop:8,marginBottom:16},component:"h2",variant:"h6"},"Scan QR Code"),D?r.createElement(u.A,{className:t.canvasContainer,style:{flexDirection:"column",gap:16,border:"2px dashed #555",minHeight:300}},r.createElement(g.A,{style:{fontSize:48,color:"#000000"}}),r.createElement(s.A,{variant:"h6"},"Camera Blocked"),r.createElement(s.A,{variant:"body2",style:{color:"#101010",padding:"0 24px",textAlign:"center"}},"Please check browser permissions.")):r.createElement(F,{classes:t,isLoading:I,onCanvasReady:J}),r.createElement(u.A,{className:t.controlsRow},r.createElement(h.A,{variant:"outlined",className:t.selectDropdown,size:"small",style:{flexGrow:1}},r.createElement(d.A,null,"Camera"),r.createElement(l.A,{value:C,onChange:q,label:"Camera",disabled:0===w.length,MenuProps:{PaperProps:{style:{backgroundColor:"#eee",color:"#202020"}}}},w.map((function(e,t){return r.createElement(f.A,{key:e.deviceId||t,value:e.deviceId},e.label||"Camera ".concat(t+1))})))),r.createElement(c.A,{className:t.flashBtn,onClick:Q,disabled:I||D},E?r.createElement(y.A,{style:{color:"#000000"}}):r.createElement(b.A,{style:{color:"#202020"}})))))}))},1664:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var a=o(n(228)),i=(0,r(n(460)).default)(a.createElement("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"}),"FlashOn");t.A=i},1665:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var a=o(n(228)),i=(0,r(n(460)).default)(a.createElement("path",{d:"M3.27 3L2 4.27l5 5V13h3v9l3.58-6.14L17.73 20 19 18.73 3.27 3zM17 10h-4l4-8H7v2.18l8.46 8.46L17 10z"}),"FlashOff");t.A=i},1666:(e,t,n)=>{var r=n(377),o=n(459);t.A=void 0;var a=o(n(228)),i=(0,r(n(460)).default)(a.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");t.A=i},1667:(e,t,n)=>{let r;function o(e,t){return function(e,t){return c+=t,c>=s&&(i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),i.decode(),c=t),i.decode((null!==a&&0!==a.byteLength||(a=new Uint8Array(r.memory.buffer)),a).subarray(e,e+t))}(e>>>=0,t)}n.d(t,{Ay:()=>h,wG:()=>l});let a=null,i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();const s=2146435072;let c=0;const u="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>r.__wbg_cameraprocessor_free(e>>>0,1)));class l{static __wrap(e){e>>>=0;const t=Object.create(l.prototype);return t.__wbg_ptr=e,u.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,u.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_cameraprocessor_free(e,0)}static new(e,t){const n=r.cameraprocessor_new(e,t);return l.__wrap(n)}resize(e,t){r.cameraprocessor_resize(this.__wbg_ptr,e,t)}set_mode(e){r.cameraprocessor_set_mode(this.__wbg_ptr,e)}get_buffer_ptr(){return r.cameraprocessor_get_buffer_ptr(this.__wbg_ptr)>>>0}scan_stream(){let e,t;try{const n=r.cameraprocessor_scan_stream(this.__wbg_ptr);return e=n[0],t=n[1],o(n[0],n[1])}finally{r.__wbindgen_free(e,t,1)}}}Symbol.dispose&&(l.prototype[Symbol.dispose]=l.prototype.free);const f=new Set(["basic","cors","default"]),h=async function e(t){if(void 0!==r)return r;void 0!==t&&Object.getPrototypeOf(t)===Object.prototype&&({module_or_path:t}=t),void 0===t&&(t=new URL(n(1668),n.b));const i=function(){const e={wbg:{}};return e.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(e,t){throw new Error(o(e,t))},e.wbg.__wbindgen_init_externref_table=function(){const e=r.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e}();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:s,module:c}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(!e.ok||!f.has(e.type)||"application/wasm"===e.headers.get("Content-Type"))throw t}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,i);return function(t,n){return r=t.exports,e.__wbindgen_wasm_module=n,a=null,r.__wbindgen_start(),r}(s,c)}},1668:(e,t,n)=>{e.exports=n.p+"b35aab6fbd806429cdad.wasm"}}]);