/*! For license information please see chunk_34.min.js.LICENSE.txt */
"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([[34],{1575:(e,t,n)=>{n.d(t,{A:()=>m}),n(2),n(98),n(99),n(100),n(119),n(132),n(135),n(138),n(145),n(147),n(152),n(154),n(155),n(298),n(199),n(213);var r=n(228),a=n(463),o=n(235);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}function c(e,t,n){return t=s(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.default.createElement(a.A,this.props,r.default.createElement("path",{d:"M17 17H14V19H17V22H19V19H22V17H19V14H17V17M12 18C12 14.69 14.69 12 18 12C18.77 12 19.5 12.15 20.17 12.41C21.63 7.9 20.7 3.3 20.7 3.3S19.3 3 17.2 3C11.7 3 1.6 5.1 3.2 20.8C4.3 20.9 5.4 21 6.4 21C8.76 21 10.74 20.69 12.41 20.15C12.15 19.5 12 18.76 12 18M7 17C7 17 7 7 17 7C17 7 11 9 7 17Z"}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r.default.PureComponent);const m=(0,o.A)((function(e){return{}}))(f)},1709:(e,t,n)=>{n.d(t,{default:()=>dr}),n(2),n(98),n(99),n(100),n(273),n(101),n(103),n(106),n(116),n(118),n(119),n(216),n(130),n(131),n(132),n(134),n(135),n(137),n(138),n(145),n(146),n(147),n(150),n(151),n(152),n(153),n(154),n(155),n(970),n(157),n(298),n(186),n(192),n(193),n(195),n(199),n(300),n(217),n(305),n(221),n(201),n(203),n(208),n(223),n(210),n(213),n(371);var r=n(228),a=n(376),o=(n(226),n(1710)),i=n(1714),l=n(1722),c=n(1723),u=n(1724),s=n(1711),d=n(1725),f=n(1727),m=n(1729),h=n(1731),p=n(1733),g=n(1719),v=n(1728),b=n(1735),y=n(1730),E=n(1732),w=n(1712),A=n(1721),C=n(1734),x=(n(473),n(860),n(1753),n(299),n(993),n(1752));function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return(t=function(e){var t=function(e){if("object"!=M(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==M(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _=[{dependencies:[g.jL],export:function(e,t){if("heading"!==e.getType())return null;var n=e.getTag().replace("h","");return"#".repeat(parseInt(n))+" "+t(e)},regExp:/^(#{1,6})\s/,replace:function(e,t,n){var r=n[1].length,a="h".concat(r),o=(0,g.fi)(a);t&&t.length>0&&o.append.apply(o,D(t)),e.replace(o)},type:"element"},{dependencies:[g.dJ],export:function(e,t){return"quote"!==e.getType()?null:"> "+t(e)},regExp:/^>\s/,replace:function(e,t){var n=(0,g.xi)();t&&t.length>0&&n.append.apply(n,D(t)),e.replace(n)},type:"element"},{dependencies:[v.v5,v.YW],export:function(e,t){if("listitem"!==e.getType())return null;var n=e.getParent();return n&&"bullet"===n.getListType()?"- "+t(e):null},regExp:/^[-*+]\s/,replace:function(e,t){var n=(0,v.i)();t&&t.length>0&&n.append.apply(n,D(t));var r=e.getPreviousSibling();if(r&&"list"===r.getType()&&"bullet"===r.getListType())r.append(n),e.remove();else{var a=(0,v.DE)("bullet");a.append(n),e.replace(a)}},type:"element"},{dependencies:[v.v5,v.YW],export:function(e,t){if("listitem"!==e.getType())return null;var n=e.getParent();if(!n||"number"!==n.getListType())return null;var r=n.getChildren().indexOf(e)+1;return"".concat(r,". ")+t(e)},regExp:/^\d+\.\s/,replace:function(e,t){var n=(0,v.i)();t&&t.length>0&&n.append.apply(n,D(t));var r=e.getPreviousSibling();if(r&&"list"===r.getType()&&"number"===r.getListType())r.append(n),e.remove();else{var a=(0,v.DE)("number");a.append(n),e.replace(a)}},type:"element"},{dependencies:[b.iK,b.yy],export:function(e){return"code"!==e.getType()?null:"```"+(e.getLanguage()||"")+"\n"+e.getTextContent()+"\n```"},regExp:/^```(\w+)?/,replace:function(e,t,n){var r=(0,b.QC)(n?n[1]:void 0);e.replace(r)},type:"element"},{dependencies:[x.fS],export:function(e){return"horizontalrule"!==e.getType()?null:"---"},regExp:/^(?:---|\*\*\*|___)$/,replace:function(e){var t=(0,x.PL)();e.replace(t)},type:"element"},{format:["bold"],tag:"**",type:"text-format"},{format:["italic"],tag:"_",type:"text-format"},{format:["strikethrough"],tag:"~~",type:"text-format"},{format:["underline"],tag:"++",type:"text-format"},{format:["code"],tag:"`",type:"text-format"},{dependencies:[y.Db],export:function(e,t){if("link"!==e.getType())return null;var n=e.getURL();return"[".concat(t(e),"](").concat(n,")")},importRegExp:/\[([^\]]+)\]\(([^)]+)\)/,regExp:/\[([^\]]+)\]\(([^)]+)\)/,replace:function(e,t){var n=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,a,o,i=[],l=!0,c=!1;try{for(a=(t=t.call(e)).next;!(l=(n=a.call(t)).done)&&(i.push(n.value),3!==i.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return i}}(e)||P(e,3)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t),r=n[1],a=n[2],o=(0,y.zA)(a);o.append((0,w.sTu)(r)),e.replace(o)},type:"text-match"}].concat(D(C.Rm)),O={gfm:!0,tables:!0,preserveNewlines:!1};function R(e){var t=e.trim().split("\n");if(t.length<3)return null;var n=t[0],r=t[1];return n.includes("|")&&r.includes("|")&&/[-:]/.test(r)?{headers:n.replace(/^\||\|$/g,"").split("|").map((function(e){return e.trim()})),alignments:r.replace(/^\||\|$/g,"").split("|").map((function(e){var t=e.trim();return t.startsWith(":")&&t.endsWith(":")?"center":t.endsWith(":")?"right":"left"})),rows:t.slice(2).filter((function(e){return e.trim()&&e.includes("|")})).map((function(e){return e.replace(/^\||\|$/g,"").split("|").map((function(e){return e.trim()}))}))}:null}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=k(k({},O),t);if(e&&""!==e.trim()){var r=function(e,t){if(!t.tables)return{markdown:e,tables:[]};for(var n=[],r=e.split("\n"),a=[],o=0;o<r.length;){var i=r[o];if(i.includes("|")&&o+1<r.length&&r[o+1].includes("|")&&/[-:]/.test(r[o+1])){var l=[i,r[o+1]];for(o+=2;o<r.length&&r[o].trim()&&r[o].includes("|");)l.push(r[o]),o++;var c=R(l.join("\n"));if(c){var u="__TABLE_PLACEHOLDER_".concat(n.length,"__");n.push(c),a.push(u)}else a.push.apply(a,l)}else a.push(i),o++}return{markdown:a.join("\n"),tables:n}}(e,n),a=r.markdown,o=r.tables,i=n.gfm?_:C.Rm;try{(0,C.Wn)(a,i)}catch(t){var l=(0,w.NiT)();l.clear();var c=(0,w.lJ7)();return c.append((0,w.sTu)(e)),void l.append(c)}o.length>0&&(0,w.NiT)().getChildren().forEach((function(e){if("paragraph"===e.getType()){var t=e.getTextContent().match(/__TABLE_PLACEHOLDER_(\d+)__/);if(t){var n=parseInt(t[1]),r=o[n];if(r){var a=function(e){var t=e.headers,n=(e.alignments,e.rows),r=(0,E.pK)(),a=(0,E.hx)();return t.forEach((function(e,t){var n=(0,E.np)(1);n.append((0,w.sTu)(e)),a.append(n)})),r.append(a),n.forEach((function(e){var t=(0,E.hx)();e.forEach((function(e,n){var r=(0,E.np)(0);r.append((0,w.sTu)(e)),t.append(r)})),r.append(t)})),r}(r);e.replace(a)}}}}))}else{var u=(0,w.NiT)();u.clear();var s=(0,w.lJ7)();u.append(s)}}var z,N=n(1715);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function B(e){for(var t=0,n=e.getParent();n;)(0,v.HY)(n)&&t++,n=n.getParent();return Math.max(0,t-1)}[{dependencies:[],export:function(e,t){if(!(0,g.Pi)(e))return null;var n=e.getTag(),r=parseInt(n.replace("h",""));return"#".repeat(r)+" "+t(e)},regExp:/^(#{1,6})\s/,replace:function(){},type:"element"},{dependencies:[],export:function(e,t){return(0,g.jd)(e)?"> "+t(e):null},regExp:/^>\s/,replace:function(){},type:"element"},{dependencies:[],export:function(e,t,n){if(!(0,v.Mz)(e))return null;var r=e.getParent();if(!r||!(0,v.HY)(r)||"bullet"!==r.getListType())return null;var a=B(e);return"  ".repeat(a)+"- "+t(e)},regExp:/^[-*+]\s/,replace:function(){},type:"element"},{dependencies:[],export:function(e,t){if(!(0,v.Mz)(e))return null;var n=e.getParent();if(!n||!(0,v.HY)(n)||"number"!==n.getListType())return null;var r=B(e),a="  ".repeat(r),o=n.getChildren().indexOf(e)+1;return a+"".concat(o,". ")+t(e)},regExp:/^\d+\.\s/,replace:function(){},type:"element"},{dependencies:[],export:function(e){return(0,b.a5)(e)?"```"+(e.getLanguage()||"")+"\n"+e.getTextContent()+"\n```":null},regExp:/^```(\w+)?/,replace:function(){},type:"element"},{dependencies:[],export:function(e){return(0,N.Hd)(e)?"---":null},regExp:/^---$/,replace:function(){},type:"element"},{dependencies:[],export:function(e,t){if(!(0,y.FJ)(e))return null;var n=e.getURL(),r=t(e);return"[".concat(r,"](").concat(n,")")},importRegExp:/\[([^\]]+)\]\(([^)]+)\)/,regExp:/\[([^\]]+)\]\(([^)]+)\)/,replace:function(){},type:"text-match"},{format:["bold"],tag:"**",type:"text-format"},{format:["italic"],tag:"_",type:"text-format"},{format:["strikethrough"],tag:"~~",type:"text-format"},{format:["underline"],tag:"++",type:"text-format"},{format:["code"],tag:"`",type:"text-format"}].concat(function(e){if(Array.isArray(e))return H(e)}(z=C.Rm)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(z)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(z)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var L=n(1014),W=n(1025),G=n(652),U=(n(474),n(482),n(1596),n(878),n(884),n(885),n(653)),V=n(654),F=n(656),Y=n(655),X=n(657),q=n(997),J=n(956),Q=n(963),$=n(962),Z=n(667),K=n(951),ee=n(959),te=n(665),ne=n(950),re=n(1754),ae=n(1755),oe=n(449),ie=n(985),le=n(987),ce=n(988),ue=n(989),se=n(1659),de=n(1660),fe=n(674);function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ee(r.key),r)}}function ye(e,t,n){return(t=Ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e){var t=function(e){if("object"!=me(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==me(t)?t:t+""}n(859);var we=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hex="#000000",this.rgb_r=0,this.rgb_g=0,this.rgb_b=0,this.xyz_x=0,this.xyz_y=0,this.xyz_z=0,this.luv_l=0,this.luv_u=0,this.luv_v=0,this.lch_l=0,this.lch_c=0,this.lch_h=0,this.hsluv_h=0,this.hsluv_s=0,this.hsluv_l=0,this.hpluv_h=0,this.hpluv_p=0,this.hpluv_l=0,this.r0s=0,this.r0i=0,this.r1s=0,this.r1i=0,this.g0s=0,this.g0i=0,this.g1s=0,this.g1i=0,this.b0s=0,this.b0i=0,this.b1s=0,this.b1i=0}return function(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"rgbToHex",value:function(){this.hex="#",this.hex+=e.rgbChannelToHex(this.rgb_r),this.hex+=e.rgbChannelToHex(this.rgb_g),this.hex+=e.rgbChannelToHex(this.rgb_b)}},{key:"xyzToRgb",value:function(){this.rgb_r=e.fromLinear(e.m_r0*this.xyz_x+e.m_r1*this.xyz_y+e.m_r2*this.xyz_z),this.rgb_g=e.fromLinear(e.m_g0*this.xyz_x+e.m_g1*this.xyz_y+e.m_g2*this.xyz_z),this.rgb_b=e.fromLinear(e.m_b0*this.xyz_x+e.m_b1*this.xyz_y+e.m_b2*this.xyz_z)}},{key:"rgbToXyz",value:function(){var t=e.toLinear(this.rgb_r),n=e.toLinear(this.rgb_g),r=e.toLinear(this.rgb_b);this.xyz_x=.41239079926595*t+.35758433938387*n+.18048078840183*r,this.xyz_y=.21263900587151*t+.71516867876775*n+.072192315360733*r,this.xyz_z=.019330818715591*t+.11919477979462*n+.95053215224966*r}},{key:"xyzToLuv",value:function(){var t=this.xyz_x+15*this.xyz_y+3*this.xyz_z,n=4*this.xyz_x,r=9*this.xyz_y;0!==t?(n/=t,r/=t):(n=NaN,r=NaN),this.luv_l=e.yToL(this.xyz_y),0===this.luv_l?(this.luv_u=0,this.luv_v=0):(this.luv_u=13*this.luv_l*(n-e.refU),this.luv_v=13*this.luv_l*(r-e.refV))}},{key:"luvToXyz",value:function(){if(0===this.luv_l)return this.xyz_x=0,this.xyz_y=0,void(this.xyz_z=0);var t=this.luv_u/(13*this.luv_l)+e.refU,n=this.luv_v/(13*this.luv_l)+e.refV;this.xyz_y=e.lToY(this.luv_l),this.xyz_x=0-9*this.xyz_y*t/((t-4)*n-t*n),this.xyz_z=(9*this.xyz_y-15*n*this.xyz_y-n*this.xyz_x)/(3*n)}},{key:"luvToLch",value:function(){if(this.lch_l=this.luv_l,this.lch_c=Math.sqrt(this.luv_u*this.luv_u+this.luv_v*this.luv_v),this.lch_c<1e-8)this.lch_h=0;else{var e=Math.atan2(this.luv_v,this.luv_u);this.lch_h=180*e/Math.PI,this.lch_h<0&&(this.lch_h=360+this.lch_h)}}},{key:"lchToLuv",value:function(){var e=this.lch_h/180*Math.PI;this.luv_l=this.lch_l,this.luv_u=Math.cos(e)*this.lch_c,this.luv_v=Math.sin(e)*this.lch_c}},{key:"calculateBoundingLines",value:function(t){var n=Math.pow(t+16,3)/1560896,r=n>e.epsilon?n:t/e.kappa,a=r*(284517*e.m_r0-94839*e.m_r2),o=r*(838422*e.m_r2+769860*e.m_r1+731718*e.m_r0),i=r*(632260*e.m_r2-126452*e.m_r1),l=r*(284517*e.m_g0-94839*e.m_g2),c=r*(838422*e.m_g2+769860*e.m_g1+731718*e.m_g0),u=r*(632260*e.m_g2-126452*e.m_g1),s=r*(284517*e.m_b0-94839*e.m_b2),d=r*(838422*e.m_b2+769860*e.m_b1+731718*e.m_b0),f=r*(632260*e.m_b2-126452*e.m_b1);this.r0s=a/i,this.r0i=o*t/i,this.r1s=a/(i+126452),this.r1i=(o-769860)*t/(i+126452),this.g0s=l/u,this.g0i=c*t/u,this.g1s=l/(u+126452),this.g1i=(c-769860)*t/(u+126452),this.b0s=s/f,this.b0i=d*t/f,this.b1s=s/(f+126452),this.b1i=(d-769860)*t/(f+126452)}},{key:"calcMaxChromaHsluv",value:function(t){var n=t/360*Math.PI*2,r=e.distanceFromOriginAngle(this.r0s,this.r0i,n),a=e.distanceFromOriginAngle(this.r1s,this.r1i,n),o=e.distanceFromOriginAngle(this.g0s,this.g0i,n),i=e.distanceFromOriginAngle(this.g1s,this.g1i,n),l=e.distanceFromOriginAngle(this.b0s,this.b0i,n),c=e.distanceFromOriginAngle(this.b1s,this.b1i,n);return e.min6(r,a,o,i,l,c)}},{key:"hsluvToLch",value:function(){if(this.hsluv_l>99.9999999)this.lch_l=100,this.lch_c=0;else if(this.hsluv_l<1e-8)this.lch_l=0,this.lch_c=0;else{this.lch_l=this.hsluv_l,this.calculateBoundingLines(this.hsluv_l);var e=this.calcMaxChromaHsluv(this.hsluv_h);this.lch_c=e/100*this.hsluv_s}this.lch_h=this.hsluv_h}},{key:"lchToHsluv",value:function(){if(this.lch_l>99.9999999)this.hsluv_s=0,this.hsluv_l=100;else if(this.lch_l<1e-8)this.hsluv_s=0,this.hsluv_l=0;else{this.calculateBoundingLines(this.lch_l);var e=this.calcMaxChromaHsluv(this.lch_h);this.hsluv_s=this.lch_c/e*100,this.hsluv_l=this.lch_l}this.hsluv_h=this.lch_h}},{key:"hsluvToRgb",value:function(){this.hsluvToLch(),this.lchToLuv(),this.luvToXyz(),this.xyzToRgb()}},{key:"rgbToHsluv",value:function(){this.rgbToXyz(),this.xyzToLuv(),this.luvToLch(),this.lchToHsluv()}},{key:"hsluvToHex",value:function(){this.hsluvToRgb(),this.rgbToHex()}}],[{key:"fromLinear",value:function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}},{key:"toLinear",value:function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92}},{key:"yToL",value:function(t){return t<=e.epsilon?t/e.refY*e.kappa:116*Math.pow(t/e.refY,1/3)-16}},{key:"lToY",value:function(t){return t<=8?e.refY*t/e.kappa:e.refY*Math.pow((t+16)/116,3)}},{key:"rgbChannelToHex",value:function(t){var n=Math.round(255*t),r=n%16,a=(n-r)/16|0;return e.hexChars.charAt(a)+e.hexChars.charAt(r)}},{key:"distanceFromOriginAngle",value:function(e,t,n){var r=t/(Math.sin(n)-e*Math.cos(n));return r<0?1/0:r}},{key:"min6",value:function(e,t,n,r,a,o){return Math.min(e,Math.min(t,Math.min(n,Math.min(r,Math.min(a,o)))))}}])}();ye(we,"hexChars","0123456789abcdef"),ye(we,"refY",1),ye(we,"refU",.19783000664283),ye(we,"refV",.46831999493879),ye(we,"kappa",903.2962962),ye(we,"epsilon",.0088564516),ye(we,"m_r0",3.240969941904521),ye(we,"m_r1",-1.537383177570093),ye(we,"m_r2",-.498610760293),ye(we,"m_g0",-.96924363628087),ye(we,"m_g1",1.87596750150772),ye(we,"m_g2",.041555057407175),ye(we,"m_b0",.055630079696993),ye(we,"m_b1",-.20397695888897),ye(we,"m_b2",1.056971514242878);var Ae=null,Ce=function(){return Ae||(Ae=new we),Ae},xe=function(e,t,n){var r=Ce();return r.hsluv_h=e,r.hsluv_s=t,r.hsluv_l=n,r.hsluvToHex(),r.hex.toUpperCase()};const Me=function(e){var t=e.color,n=void 0===t?{r:0,g:150,b:255,a:1}:t,a=e.onChange,o=(e.onConfirm,e.size),i=void 0===o?280:o,l=Math.max(128,Math.min(1024,i||280)),c=(0,r.useState)((function(){var e=function(e,t,n){var r=Ce();return r.rgb_r=e/255,r.rgb_g=t/255,r.rgb_b=n/255,r.rgbToHsluv(),[r.hsluv_h,r.hsluv_s,r.hsluv_l]}(n.r,n.g,n.b),t=ge(e,3);return{h:t[0],s:t[1],l:t[2]}})),u=ge(c,2),s=u[0],d=u[1],f=ge((0,r.useState)(null),2),m=f[0],h=f[1],p=(0,r.useRef)(null),g=(0,r.useRef)(null),v=l,b=v/2,y=v/2,E=v/280,w=24*E,A=24*E,C=36*E+12*E,x=C+w,M=x+12*E,S=M+A,k=100,T=260,D=-80,P=80,I=(0,r.useCallback)((function(){var e,t,n,r,o=(e=s.h,t=s.s,n=s.l,(r=Ce()).hsluv_h=e,r.hsluv_s=t,r.hsluv_l=n,r.hsluvToRgb(),{r:Math.round(255*r.rgb_r),g:Math.round(255*r.rgb_g),b:Math.round(255*r.rgb_b),a:1});a&&a(o)}),[s,a]);(0,r.useEffect)((function(){I()}),[I]),(0,r.useMemo)((function(){return xe(s.h,s.s,s.l)}),[s]);var _=(0,r.useCallback)((function(e,t){if(p.current){var n=p.current.getBoundingClientRect(),r=e.touches?e.touches[0].clientX:e.clientX,a=e.touches?e.touches[0].clientY:e.clientY,o=r-n.left-b,i=a-n.top-y;if("hue"===t){var l=Math.atan2(i,o)*(180/Math.PI);l=(l+360)%360,d((function(e){return pe(pe({},e),{},{h:Math.round(l)})}))}else if("lightness"===t){var c=Math.atan2(i,o)*(180/Math.PI);c<0&&(c+=360),c<k&&(c=k),c>T&&(c=T);var u=(c-k)/160;d((function(e){return pe(pe({},e),{},{l:Math.round(100*(1-u))})}))}else if("saturation"===t){var s=Math.atan2(i,o)*(180/Math.PI);s<D&&(s=D),s>P&&(s=P);var f=(s-D)/160;d((function(e){return pe(pe({},e),{},{s:Math.round(100*(1-f))})}))}}}),[b,y,k,T,D,P]),O=(0,r.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation(),h(t),e.target.setPointerCapture&&e.target.setPointerCapture(e.pointerId),_(e,t)}),[_]),R=(0,r.useCallback)((function(e){m&&(e.preventDefault(),_(e,m))}),[m,_]),j=(0,r.useCallback)((function(e){e.target.releasePointerCapture&&e.target.releasePointerCapture(e.pointerId),h(null)}),[]);(0,r.useEffect)((function(){if(m){var e=function(e){e.preventDefault(),_(e,m)},t=function(){h(null)};return document.addEventListener("pointermove",e,{passive:!1}),document.addEventListener("pointerup",t),document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",t),function(){document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",t),document.removeEventListener("touchmove",e),document.removeEventListener("touchend",t)}}}),[m,_]);var z=(0,r.useMemo)((function(){var e=s.h*Math.PI/180,t=b+Math.cos(e)*(C+w/2),n=y+Math.sin(e)*(C+w/2),r=(k+160*(1-s.l/100))*Math.PI/180,a=b+Math.cos(r)*(M+A/2),o=y+Math.sin(r)*(M+A/2),i=(P-s.s/100*160)*Math.PI/180;return{hueIndicatorX:t,hueIndicatorY:n,lightIndicatorX:a,lightIndicatorY:o,satIndicatorX:b+Math.cos(i)*(M+A/2),satIndicatorY:y+Math.sin(i)*(M+A/2)}}),[s,b,y,C,w,k,T,D,P,M,A]),N=(0,r.useMemo)((function(){return{light:"light-".concat(Math.round(s.h),"-").concat(Math.round(s.s)),sat:"sat-".concat(Math.round(s.h),"-").concat(Math.round(s.l))}}),[s]),H=(0,r.useMemo)((function(){return Array.from({length:20},(function(e,t){var n=t/19*100,r=100-n;return{offset:n,color:xe(s.h,s.s,r)}}))}),[s.h,s.s]),B=(0,r.useMemo)((function(){return Array.from({length:20},(function(e,t){var n=t/19*100,r=100-n;return{offset:n,color:xe(s.h,r,s.l)}}))}),[s.h,s.l]),L=(0,r.useMemo)((function(){return Array.from({length:90},(function(e,t){var n=4*t,r=4*(t+1),a=n*Math.PI/180,o=r*Math.PI/180,i=xe(n+2,s.s,s.l);return{key:t,path:"\n                    M ".concat(b+Math.cos(a)*C," ").concat(y+Math.sin(a)*C,"\n                    A ").concat(C," ").concat(C," 0 0 1 ").concat(b+Math.cos(o)*C," ").concat(y+Math.sin(o)*C,"\n                    L ").concat(b+Math.cos(o)*x," ").concat(y+Math.sin(o)*x,"\n                    A ").concat(x," ").concat(x," 0 0 0 ").concat(b+Math.cos(a)*x," ").concat(y+Math.sin(a)*x,"\n                    Z\n                "),fill:i}}))}),[s.s,s.l,b,y,C,x]),W=6*E;return r.default.createElement("div",{ref:g,style:{width:v,height:v,margin:"0 auto",touchAction:"none",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",position:"relative"}},r.default.createElement("svg",{ref:p,width:v,height:v,style:{position:"absolute",top:0,left:0,cursor:m?"grabbing":"grab",touchAction:"none"}},r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:N.light,gradientUnits:"userSpaceOnUse",x1:b+Math.cos(k*Math.PI/180)*(M+A/2),y1:y+Math.sin(k*Math.PI/180)*(M+A/2),x2:b+Math.cos(T*Math.PI/180)*(M+A/2),y2:y+Math.sin(T*Math.PI/180)*(M+A/2)},H.map((function(e,t){return r.default.createElement("stop",{key:t,offset:"".concat(e.offset,"%"),stopColor:e.color})}))),r.default.createElement("linearGradient",{id:N.sat,gradientUnits:"userSpaceOnUse",x1:b+Math.cos(D*Math.PI/180)*(M+A/2),y1:y+Math.sin(D*Math.PI/180)*(M+A/2),x2:b+Math.cos(P*Math.PI/180)*(M+A/2),y2:y+Math.sin(P*Math.PI/180)*(M+A/2)},B.map((function(e,t){return r.default.createElement("stop",{key:t,offset:"".concat(e.offset,"%"),stopColor:e.color})}))),r.default.createElement("filter",{id:"centerGlow"},r.default.createElement("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.default.createElement("feMerge",null,r.default.createElement("feMergeNode",{in:"coloredBlur"}),r.default.createElement("feMergeNode",{in:"SourceGraphic"}))),r.default.createElement("filter",{id:"indicatorShadow"},r.default.createElement("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodOpacity:"0.3"}))),r.default.createElement("g",{style:{pointerEvents:"all"},onPointerDown:function(e){return O(e,"hue")},onPointerMove:R,onPointerUp:j},L.map((function(e){return r.default.createElement("path",{key:e.key,d:e.path,fill:e.fill,stroke:e.fill,strokeWidth:"1"})}))),r.default.createElement("g",{style:{pointerEvents:"all"},onPointerDown:function(e){return O(e,"lightness")},onPointerMove:R,onPointerUp:j},r.default.createElement("path",{d:"\n                            M ".concat(b+Math.cos(k*Math.PI/180)*M," ").concat(y+Math.sin(k*Math.PI/180)*M,"\n                            A ").concat(M," ").concat(M," 0 0 1 ").concat(b+Math.cos(T*Math.PI/180)*M," ").concat(y+Math.sin(T*Math.PI/180)*M,"\n                            L ").concat(b+Math.cos(T*Math.PI/180)*S," ").concat(y+Math.sin(T*Math.PI/180)*S,"\n                            A ").concat(S," ").concat(S," 0 0 0 ").concat(b+Math.cos(k*Math.PI/180)*S," ").concat(y+Math.sin(k*Math.PI/180)*S,"\n                            Z\n                        "),fill:"url(#".concat(N.light,")"),stroke:"none"}),r.default.createElement("circle",{cx:b+Math.cos(k*Math.PI/180)*(M+A/2),cy:y+Math.sin(k*Math.PI/180)*(M+A/2),r:A/2,fill:xe(s.h,s.s,100),stroke:"none"}),r.default.createElement("circle",{cx:b+Math.cos(T*Math.PI/180)*(M+A/2),cy:y+Math.sin(T*Math.PI/180)*(M+A/2),r:A/2,fill:xe(s.h,s.s,0),stroke:"none"})),r.default.createElement("g",{style:{pointerEvents:"all"},onPointerDown:function(e){return O(e,"saturation")},onPointerMove:R,onPointerUp:j},r.default.createElement("path",{d:"\n                            M ".concat(b+Math.cos(D*Math.PI/180)*M," ").concat(y+Math.sin(D*Math.PI/180)*M,"\n                            A ").concat(M," ").concat(M," 0 0 1 ").concat(b+Math.cos(P*Math.PI/180)*M," ").concat(y+Math.sin(P*Math.PI/180)*M,"\n                            L ").concat(b+Math.cos(P*Math.PI/180)*S," ").concat(y+Math.sin(P*Math.PI/180)*S,"\n                            A ").concat(S," ").concat(S," 0 0 0 ").concat(b+Math.cos(D*Math.PI/180)*S," ").concat(y+Math.sin(D*Math.PI/180)*S,"\n                            Z\n                        "),fill:"url(#".concat(N.sat,")"),stroke:"none"}),r.default.createElement("circle",{cx:b+Math.cos(D*Math.PI/180)*(M+A/2),cy:y+Math.sin(D*Math.PI/180)*(M+A/2),r:A/2,fill:xe(s.h,100,s.l),stroke:"none"}),r.default.createElement("circle",{cx:b+Math.cos(P*Math.PI/180)*(M+A/2),cy:y+Math.sin(P*Math.PI/180)*(M+A/2),r:A/2,fill:xe(s.h,0,s.l),stroke:"none"})),r.default.createElement("circle",{cx:z.hueIndicatorX,cy:z.hueIndicatorY,r:W,fill:"white",stroke:"rgba(0,0,0,0.5)",strokeWidth:"1.5",filter:"url(#indicatorShadow)",style:{pointerEvents:"none"}}),r.default.createElement("circle",{cx:z.lightIndicatorX,cy:z.lightIndicatorY,r:W,fill:"white",stroke:"rgba(0,0,0,0.5)",strokeWidth:"1.5",filter:"url(#indicatorShadow)",style:{pointerEvents:"none"}}),r.default.createElement("circle",{cx:z.satIndicatorX,cy:z.satIndicatorY,r:W,fill:"white",stroke:"rgba(0,0,0,0.5)",strokeWidth:"1.5",filter:"url(#indicatorShadow)",style:{pointerEvents:"none"}})))};var Se=n(1756);function ke(e,t,n){return t=De(t),function(e,t){if(t&&("object"==_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Te()?Reflect.construct(t,n||[],De(e).constructor):t.apply(e,n))}function Te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Te=function(){return!!e})()}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}function Ie(e,t,n){return(t=He(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Oe(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Re(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,He(r.key),r)}}function Ne(e,t,n){return t&&ze(e.prototype,t),n&&ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function He(e){var t=function(e){if("object"!=_e(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_e(t)?t:t+""}var Be=function(){return Ne((function e(){je(this,e)}),null,[{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},{key:"rgbToHex",value:function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}},{key:"rgbToHsl",value:function(e,t,n){e/=255,t/=255,n/=255;var r,a,o=Math.max(e,t,n),i=Math.min(e,t,n),l=(o+i)/2;if(o===i)r=a=0;else{var c=o-i;switch(a=l>.5?c/(2-o-i):c/(o+i),o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:360*r,s:100*a,l:100*l}}},{key:"hslToRgb",value:function(e,t,n){e/=360,n/=100;var r,a,o,i=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e};if(0==(t/=100))r=a=o=n;else{var l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=i(c,l,e+1/3),a=i(c,l,e),o=i(c,l,e-1/3)}return{r:Math.round(255*r),g:Math.round(255*a),b:Math.round(255*o)}}},{key:"generateMonotone",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=this.hexToRgb(e),r=this.rgbToHsl(n.r,n.g,n.b),a=[],o=0;o<t;o++){var i=20+80*o/(t-1),l=20+60*o/(t-1),c=this.hslToRgb(r.h,i,l);a.push(this.rgbToHex(c.r,c.g,c.b))}return a}},{key:"generateComplementary",value:function(e){var t=this.hexToRgb(e),n=this.rgbToHsl(t.r,t.g,t.b),r=(n.h+180)%360,a=this.hslToRgb(r,n.s,n.l);return[e,this.rgbToHex(a.r,a.g,a.b)]}},{key:"generateDarkerTones",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=this.hexToRgb(e),r=this.rgbToHsl(n.r,n.g,n.b),a=[],o=0;o<t;o++){var i=Math.max(10,r.l-15*o),l=this.hslToRgb(r.h,r.s,i);a.push(this.rgbToHex(l.r,l.g,l.b))}return a}},{key:"generateLighterTones",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=this.hexToRgb(e),r=this.rgbToHsl(n.r,n.g,n.b),a=[],o=0;o<t;o++){var i=Math.min(90,r.l+15*o),l=this.hslToRgb(r.h,r.s,i);a.push(this.rgbToHex(l.r,l.g,l.b))}return a}},{key:"interpolateColors",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.hexToRgb(e),o=this.hexToRgb(t),i=this.rgbToHsl(a.r,a.g,a.b),l=this.rgbToHsl(o.r,o.g,o.b),c=[],u=l.h-i.h;r?Math.abs(u)<180&&(u=u>0?u-360:u+360):(u>180&&(u-=360),u<-180&&(u+=360));for(var s=0;s<n;s++){var d=s/(n-1),f=(i.h+u*d+360)%360,m=i.s+(l.s-i.s)*d,h=i.l+(l.l-i.l)*d,p=this.hslToRgb(f,m,h);c.push(this.rgbToHex(p.r,p.g,p.b))}return c}},{key:"generateTriadic",value:function(e,t){var n=this.hexToRgb(e),r=this.hexToRgb(t),a=this.rgbToHsl(n.r,n.g,n.b),o=this.rgbToHsl(r.r,r.g,r.b),i=((a.h+o.h)/2+120)%360,l=(a.s+o.s)/2,c=(a.l+o.l)/2,u=this.hslToRgb(i,l,c);return[e,t,this.rgbToHex(u.r,u.g,u.b)]}},{key:"interpolateThreeColors",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:7,o=this.interpolateColors(e,t,Math.ceil(a/2)+1,r),i=this.interpolateColors(t,n,Math.floor(a/2)+1,r);return[].concat(Oe(o.slice(0,-1)),Oe(i.slice(1)))}},{key:"generateRandomColor",value:function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16).padStart(6,"0"))}}])}(),Le=function(){return Ne((function e(){je(this,e)}),null,[{key:"optimizeSVG",value:function(e){return(0,Se.ky)(e,{multipass:!0,plugins:[{name:"cleanupNumericValues",params:{floatPrecision:1,transformPrecision:0}}],js2svg:{indent:0,pretty:!1}}).data}},{key:"seededRandom",value:function(e){var t=2147483648,n=e||Math.floor(Math.random()*(t-1));return function(){return(n=(1103515245*n+12345)%t)/(t-1)}}},{key:"createLinearGradient",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:45,n=50+50*Math.cos((90-t)*Math.PI/180),r=50+50*Math.sin((90-t)*Math.PI/180),a=50-50*Math.cos((90-t)*Math.PI/180),o=50-50*Math.sin((90-t)*Math.PI/180);return{type:"linear",x1:"".concat(n,"%"),y1:"".concat(r,"%"),x2:"".concat(a,"%"),y2:"".concat(o,"%"),colors:e,angle:t}}},{key:"createRadialGradient",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50;return{type:"radial",cx:"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,"%"),cy:"".concat(t,"%"),rx:"".concat(n,"%"),ry:"".concat(r,"%"),colors:e}}},{key:"createBlobGradient",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:60,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===o&&(o=1e4*Math.random());for(var i=this.seededRandom(o),l=[],c=0;c<Math.min(t,e.length);c++){var u=c/t*2*Math.PI+(i()-.5)*Math.PI,s=15+i()*i()*40,d=50+Math.cos(u)*s,f=50+Math.sin(u)*s,m=1.5*r+Math.pow(i(),.7)*(a-1.5*r);l.push({cx:Math.max(5,Math.min(95,d)),cy:Math.max(5,Math.min(95,f)),r:m,color:e[c],opacity:.75+.25*i(),layer:0})}for(var h=Math.min(e.length,t+2),p=0;p<h;p++){var g=Math.floor(i()*e.length),v=2*i()*Math.PI,b=35*i();l.push({cx:50+Math.cos(v)*b,cy:50+Math.sin(v)*b,r:.6*r+i()*r*.8,color:e[g],opacity:.65+.25*i(),layer:1})}for(var y=Math.min(2*e.length,8),E=0;E<y;E++){var w=Math.floor(i()*e.length);l.push({cx:10+80*i(),cy:10+80*i(),r:.3*r+i()*r*.4,color:e[w],opacity:.5+.4*i(),layer:2})}return l.sort((function(e,t){return e.layer-t.layer})),{type:"blob",blobs:l,smoothness:n,seed:o}}},{key:"createMeshGradient",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null===r&&(r=1e4*Math.random());for(var a=[],o=this.seededRandom(r),i=Math.min(t,e.length),l=0;l<i;l++){var c=l/i*2*Math.PI+o()*Math.PI*.3,u=25+25*o(),s=50+Math.cos(c)*u,d=50+Math.sin(c)*u;a.push({cx:Math.max(0,Math.min(100,s+20*(o()-.5))),cy:Math.max(0,Math.min(100,d+20*(o()-.5))),r:35+25*o(),color:e[l%e.length],opacity:.7+.2*o(),layer:0})}for(var f=100/(t-1),m=0;m<t;m++)for(var h=0;h<t;h++)if(o()>.4){var p=h*f,g=m*f,v=(o()-.5)*f*1.2,b=(o()-.5)*f*1.2,y=Math.floor(o()*e.length),E=15+20*o();a.push({cx:Math.max(0,Math.min(100,p+v)),cy:Math.max(0,Math.min(100,g+b)),r:E,color:e[y],opacity:.5+.3*o(),layer:1})}for(var w=3*e.length,A=0;A<w;A++){var C=Math.floor(o()*e.length);a.push({cx:100*o(),cy:100*o(),r:8+12*o(),color:e[C],opacity:.4+.4*o(),layer:2})}return a.sort((function(e,t){return e.layer-t.layer})),{type:"mesh",meshPoints:a,gridSize:t,blurIntensity:n,seed:r}}}])}(),We=function(e){function t(e){var n;return je(this,t),Ie(n=ke(this,t,[e]),"handleDialogEnter",(function(){n.newSeed()})),Ie(n,"handleDialogEntered",(function(){n.syncPreviewSize(),n.generateNewGradient()})),Ie(n,"handlePanelChange",(function(e){return function(t,r){n.setState({expandedPanel:!!r&&e})}})),Ie(n,"getPreview",(function(){return n.previewRef.current})),Ie(n,"getPreviewWrap",(function(){var e;return(null===(e=n.previewRef.current)||void 0===e?void 0:e.parentElement)||null})),Ie(n,"syncPreviewSize",(function(){var e=n.getPreview(),t=n.getPreviewWrap();if(e&&t){var r=n.state,a=r.canvasWidth,o=r.canvasHeight,i=Number(o)/Number(a||1),l=t.clientWidth,c=Math.max(1,Math.round(l*i));e.style.height="".concat(c,"px")}})),Ie(n,"hexToRgb",(function(e){var t=String(e||"").trim();if("#"===t[0]&&(t=t.slice(1)),3===t.length&&(t=t.split("").map((function(e){return e+e})).join("")),!/^[0-9a-fA-F]{6}$/.test(t))return{r:0,g:0,b:0};var n=parseInt(t,16);return{r:n>>16&255,g:n>>8&255,b:255&n}})),Ie(n,"rgbToHex",(function(e){var t=e.r,n=e.g,r=e.b,a=function(e){return Math.max(0,Math.min(255,Math.round(e))).toString(16).padStart(2,"0")};return("#"+a(t)+a(n)+a(r)).toUpperCase()})),Ie(n,"luminance",(function(e){var t=[e.r,e.g,e.b].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*t[0]+.7152*t[1]+.0722*t[2]})),Ie(n,"generatePalette",(function(){var e=n.state,t=e.colorCount,r=e.primaryColor,a=e.secondaryColor,o=e.tertiaryColor,i=e.paletteType,l=[];try{if(1===t)switch(i){case"monotone":l=Be.generateMonotone(r,5);break;case"complementary":l=Be.generateComplementary(r);break;case"darker":l=Be.generateDarkerTones(r,5);break;case"lighter":l=Be.generateLighterTones(r,5);break;default:l=[r]}else if(2===t){var c="longHue"===i;switch(i){case"interpolate":case"shortHue":case"longHue":l=Be.interpolateColors(r,a,5,c);break;case"triadic":l=Be.generateTriadic(r,a);break;default:l=Be.interpolateColors(r,a,5,!1)}}else if(3===t){var u="longHue"===i;l=Be.interpolateThreeColors(r,a,o,u,7)}0===l.length&&(l=[r])}catch(e){l=[r]}return n.currentPalette=l,l})),Ie(n,"createSVGFilter",(function(e,t,n){var r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"filter");if(a.setAttribute("id",e),a.setAttribute("filterUnits","userSpaceOnUse"),a.setAttribute("x","-50%"),a.setAttribute("y","-50%"),a.setAttribute("width","200%"),a.setAttribute("height","200%"),"blob"===t){var o=50+200*n.smoothness,i=document.createElementNS(r,"feGaussianBlur");i.setAttribute("in","SourceGraphic"),i.setAttribute("stdDeviation",o),a.appendChild(i)}else if("mesh"===t){var l=document.createElementNS(r,"feGaussianBlur");l.setAttribute("in","SourceGraphic"),l.setAttribute("stdDeviation",n.blurIntensity),a.appendChild(l)}return a})),Ie(n,"generateSVG",(function(e){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");r.setAttribute("xmlns",t),r.setAttribute("viewBox","0 0 ".concat(n.state.canvasWidth," ").concat(n.state.canvasHeight)),r.setAttribute("width","100%"),r.setAttribute("height","100%");var a=document.createElementNS(t,"defs");switch(r.appendChild(a),e.type){case"linear":var o=document.createElementNS(t,"linearGradient");o.setAttribute("id","gradient"),o.setAttribute("x1",e.x1),o.setAttribute("y1",e.y1),o.setAttribute("x2",e.x2),o.setAttribute("y2",e.y2),e.colors.forEach((function(n,r){var a=document.createElementNS(t,"stop");a.setAttribute("offset","".concat(r/(e.colors.length-1)*100,"%")),a.setAttribute("stop-color",n),o.appendChild(a)})),a.appendChild(o);var i=document.createElementNS(t,"rect");i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("fill","url(#gradient)"),r.appendChild(i);break;case"radial":var l=document.createElementNS(t,"radialGradient");l.setAttribute("id","gradient"),l.setAttribute("cx",e.cx),l.setAttribute("cy",e.cy),l.setAttribute("r",e.rx),e.colors.forEach((function(n,r){var a=document.createElementNS(t,"stop");a.setAttribute("offset","".concat(r/(e.colors.length-1)*100,"%")),a.setAttribute("stop-color",n),l.appendChild(a)})),a.appendChild(l);var c=document.createElementNS(t,"rect");c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("fill","url(#gradient)"),r.appendChild(c);break;case"blob":var u,s=n.createSVGFilter("blobFilter","blob",{smoothness:e.smoothness});a.appendChild(s);var d=document.createElementNS(t,"rect");d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("fill",(null===(u=e.blobs[0])||void 0===u?void 0:u.color)||"#ffffff"),r.appendChild(d);var f=document.createElementNS(t,"g");f.setAttribute("filter","url(#blobFilter)"),e.blobs.forEach((function(e){var n=document.createElementNS(t,"circle");n.setAttribute("cx","".concat(e.cx,"%")),n.setAttribute("cy","".concat(e.cy,"%")),n.setAttribute("r","".concat(e.r,"%")),n.setAttribute("fill",e.color),n.setAttribute("opacity",e.opacity),f.appendChild(n)})),r.appendChild(f);break;case"mesh":var m,h=n.createSVGFilter("meshFilter","mesh",{blurIntensity:e.blurIntensity});a.appendChild(h);var p=document.createElementNS(t,"rect");p.setAttribute("width","100%"),p.setAttribute("height","100%"),p.setAttribute("fill",(null===(m=e.meshPoints[0])||void 0===m?void 0:m.color)||"#ffffff"),r.appendChild(p);var g=document.createElementNS(t,"g");g.setAttribute("filter","url(#meshFilter)"),e.meshPoints.forEach((function(e){var n=document.createElementNS(t,"circle");n.setAttribute("cx","".concat(e.cx,"%")),n.setAttribute("cy","".concat(e.cy,"%")),n.setAttribute("r","".concat(e.r,"%")),n.setAttribute("fill",e.color),n.setAttribute("opacity",e.opacity),g.appendChild(n)})),r.appendChild(g)}var v=new XMLSerializer;return Le.optimizeSVG(v.serializeToString(r))})),Ie(n,"generateNewGradient",(function(){var e,t=n.generatePalette(),r=n.state;switch(r.gradientType){case"linear":default:e=Le.createLinearGradient(t,r.angle);break;case"radial":e=Le.createRadialGradient(t,r.centerX,r.centerY,r.radiusX,r.radiusY);break;case"blob":e=Le.createBlobGradient(t,r.blobCount,r.smoothness/100,r.minSize,r.maxSize,parseInt(r.seed));break;case"mesh":e=Le.createMeshGradient(t,r.gridSize,r.blurIntensity,parseInt(r.seed))}n.currentGradient=e,n.svgContent=n.generateSVG(e),n.updatePreview(),n.updateStats()})),Ie(n,"updatePreview",(function(){var e=n.getPreview();if(e&&n.svgContent){var t=btoa(unescape(encodeURIComponent(n.svgContent))),r="data:image/svg+xml;base64,".concat(t);e.style.backgroundImage='url("'.concat(r,'")'),e.style.backgroundSize="cover",e.style.backgroundPosition="center"}})),Ie(n,"getPaletteOptions",(function(){var e=0|n.state.colorCount;return 1===e?[{value:"monotone",label:"Monotone"},{value:"complementary",label:"Complementary"},{value:"darker",label:"Darker Tones"},{value:"lighter",label:"Lighter Tones"}]:2===e?[{value:"interpolate",label:"Interpolate"},{value:"triadic",label:"Triadic"},{value:"shortHue",label:"Short Hue Path"},{value:"longHue",label:"Long Hue Path"}]:[{value:"shortHue",label:"Short Hue Path"},{value:"longHue",label:"Long Hue Path"}]})),Ie(n,"updateStats",(function(){var e=(new Blob([n.svgContent]).size/1024).toFixed(2)+" KB";n.setState({stats:{svgSizeText:e}})})),Ie(n,"scheduleRegen",(function(){n._regenTimer&&clearTimeout(n._regenTimer),n._regenTimer=setTimeout((function(){requestAnimationFrame(n.generateNewGradient)}),120)})),Ie(n,"handleColorCountChange",(function(e,t){n.setState({colorCount:t},(function(){n.updatePaletteOptions(t),n.generateNewGradient()}))})),Ie(n,"handleColorCountToggle",(function(e,t){null!=t&&n.setState({colorCount:t},(function(){n.updatePaletteOptions(t),n.generateNewGradient()}))})),Ie(n,"updatePaletteOptions",(function(e){var t=n.allowedPaletteTypes(e),r=n.state.paletteType,a=t.includes(r)?r:t[0];a!==r&&n.setState({paletteType:a})})),Ie(n,"handlePaletteTypeChange",(function(e,t){var r=e&&e.target&&void 0!==e.target.value?e.target.value:"string"==typeof e?e:n.state.paletteType,a=n.allowedPaletteTypes(n.state.colorCount),o=a.includes(r)?r:a[0];o!==n.state.paletteType?n.setState({paletteType:o},n.generateNewGradient):n.generateNewGradient()})),Ie(n,"handleChangeGenerate",(function(e){return function(t){var r,a,o=null!==(r=null==t||null===(a=t.target)||void 0===a?void 0:a.value)&&void 0!==r?r:t;n.setState(Ie({},e,o),(function(){"canvasWidth"!==e&&"canvasHeight"!==e||n.syncPreviewSize(),n.generateNewGradient()}))}})),Ie(n,"handleSliderGenerate",(function(e){return function(t,r){n.setState(Ie({},e,r),(function(){n.generateNewGradient()}))}})),Ie(n,"newSeed",(function(){var e=String(Math.floor(1e4+9e4*Math.random()));n.setState({seed:e},n.generateNewGradient)})),Ie(n,"randomize",(function(){var e=1+Math.floor(3*Math.random()),t=["linear","radial","blob","mesh"],r=t[Math.floor(Math.random()*t.length)];n.setState({colorCount:e,primaryColor:Be.generateRandomColor(),secondaryColor:Be.generateRandomColor(),tertiaryColor:Be.generateRandomColor(),gradientType:r,angle:Math.floor(360*Math.random()),centerX:20+Math.floor(60*Math.random()),centerY:20+Math.floor(60*Math.random()),radiusX:30+Math.floor(50*Math.random()),radiusY:30+Math.floor(50*Math.random()),blobCount:2+Math.floor(5*Math.random()),smoothness:60+Math.floor(40*Math.random()),gridSize:2+Math.floor(4*Math.random()),blurIntensity:100+Math.floor(200*Math.random())},(function(){n.updatePaletteOptions(e),n.generateNewGradient()}))})),Ie(n,"downloadSVG",(function(){var e=new Blob([n.svgContent||""],{type:"image/svg+xml"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="gradient-".concat(n.state.seed,".svg"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)})),Ie(n,"openColorMenu",(function(e){return function(t){n.setState({colorMenuWhich:e,colorMenuAnchor:t.currentTarget})}})),Ie(n,"closeColorMenu",(function(){n.setState({colorMenuWhich:null,colorMenuAnchor:null},(function(){n.generateNewGradient()}))})),Ie(n,"onPickerChange",(function(e){var t=n.state.colorMenuWhich;if(t){var r,a=n.rgbToHex(e),o={};if("primary"===t)o.primaryColor=a,o.primaryAlpha=null!==(r=e.a)&&void 0!==r?r:1;else if("secondary"===t){var i;o.secondaryColor=a,o.secondaryAlpha=null!==(i=e.a)&&void 0!==i?i:1}else if("tertiary"===t){var l;o.tertiaryColor=a,o.tertiaryAlpha=null!==(l=e.a)&&void 0!==l?l:1}n.setState(o,(function(){n.scheduleRegen()}))}})),Ie(n,"convertToBase64",(function(){return n.svgContent?"data:image/svg+xml;base64,".concat(btoa(n.svgContent)):""})),Ie(n,"allowedPaletteTypes",(function(e){switch(0|e){case 1:return["monotone","complementary","darker","lighter"];case 2:return["interpolate","triadic","shortHue","longHue"];case 3:return["shortHue","longHue"];default:return["interpolate"]}})),n.state={colorCount:2,primaryColor:"#ff6b6b",primaryAlpha:1,secondaryColor:"#4ecdc4",secondaryAlpha:1,tertiaryColor:"#45b7d1",tertiaryAlpha:1,paletteType:"interpolate",gradientType:"linear",angle:45,centerX:50,centerY:50,radiusX:50,radiusY:50,blobCount:3,smoothness:80,minSize:20,maxSize:60,gridSize:4,blurIntensity:150,seed:"369",canvasWidth:1280,canvasHeight:720,expandedPanel:"colors",colorMenuWhich:null,colorMenuAnchor:null,stats:{svgSizeText:"0 KB"}},n.currentGradient=null,n.currentPalette=[],n.svgContent="",n.previewRef=r.createRef(),n._regenTimer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(t,e),Ne(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.open&&!e.open&&setTimeout((function(){n.newSeed()}),100),t.canvasWidth===this.state.canvasWidth&&t.canvasHeight===this.state.canvasHeight||this.syncPreviewSize(),(t.paletteType!==this.state.paletteType||t.colorCount!==this.state.colorCount||t.primaryColor!==this.state.primaryColor||t.secondaryColor!==this.state.secondaryColor||t.tertiaryColor!==this.state.tertiaryColor)&&this.generateNewGradient()}},{key:"componentDidMount",value:function(){this.generateNewGradient()}},{key:"componentWillUnmount",value:function(){this._regenTimer&&clearTimeout(this._regenTimer)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.open,o=t.size,i=this.state,l=this.hexToRgb(i.primaryColor),c=this.hexToRgb(i.secondaryColor),u=this.hexToRgb(i.tertiaryColor),s=this.luminance(l)<.45?"white":"black",d=this.luminance(c)<.45?"white":"black",f=this.luminance(u)<.45?"white":"black",m={r:l.r,g:l.g,b:l.b,a:i.primaryAlpha},h={r:c.r,g:c.g,b:c.b,a:i.secondaryAlpha},p={r:u.r,g:u.g,b:u.b,a:i.tertiaryAlpha};return r.createElement(G.A,{className:n.dialog,open:a,maxWidth:"md",fullWidth:!0,disablePortal:!1,onClose:function(t){var n,r;return null===(n=(r=e.props).onClose)||void 0===n?void 0:n.call(r,t)},keepMounted:!1,onEnter:this.handleDialogEnter,onEntered:this.handleDialogEntered},r.createElement(F.A,{style:{display:"flex",margin:"0 0 16px 0"}},r.createElement(X.A,{component:"h1",variant:"h4",style:{width:"100%",margin:0}},"Create A New Gradient")),r.createElement(V.A,{scroll:"paper",className:n.dialogContent},r.createElement(q.A,{container:!0,spacing:2},r.createElement(q.A,{item:!0,xs:12,md:8},r.createElement("div",{className:n.previewPanel},r.createElement(oe.A,{in:a,timeout:300,appear:!0},r.createElement("div",{className:n.gradientPreviewWrap},r.createElement("div",{className:n.gradientPreview,ref:this.previewRef}))),r.createElement(oe.A,{in:a,timeout:450,appear:!0},r.createElement(q.A,{container:!0,spacing:1},r.createElement(q.A,{item:!0,xs:12,md:4},r.createElement(Y.A,{fullWidth:!0,variant:"text",onClick:this.newSeed,startIcon:r.createElement(re.A,null)},"New Seed")),r.createElement(q.A,{item:!0,xs:12,md:4},r.createElement(Y.A,{fullWidth:!0,variant:"text",onClick:this.randomize},"Randomize")),r.createElement(q.A,{item:!0,xs:12,md:4},r.createElement(Y.A,{fullWidth:!0,variant:"text",onClick:this.downloadSVG,startIcon:r.createElement(ae.A,null)},"Download (",i.stats.svgSizeText,")")))),r.createElement(oe.A,{in:a,timeout:500,appear:!0},r.createElement("div",{className:n.canvasInputRow},r.createElement(J.A,{label:"Width",type:"number",variant:"outlined",size:"small",value:i.canvasWidth,onChange:function(t){return e.setState({canvasWidth:t.target.value},(function(){e.syncPreviewSize(),e.generateNewGradient()}))},style:{display:o?"block":"none"}}),r.createElement(J.A,{label:"Height",type:"number",variant:"outlined",size:"small",value:i.canvasHeight,onChange:function(t){return e.setState({canvasHeight:t.target.value},(function(){e.syncPreviewSize(),e.generateNewGradient()}))},style:{display:o?"block":"none"}}),r.createElement(J.A,{label:"Seed",variant:"outlined",size:"small",value:i.seed,onChange:this.handleChangeGenerate("seed"),style:{gridColumn:o?"auto":"1 / -1"}}))))),r.createElement(q.A,{item:!0,xs:12,md:4},r.createElement("div",{className:n.controlsPanel},r.createElement(oe.A,{in:a,timeout:300,appear:!0},r.createElement(ie.A,{expanded:"colors"===i.expandedPanel,onChange:this.handlePanelChange("colors")},r.createElement(le.A,{expandIcon:r.createElement(ue.A,null)},r.createElement(X.A,{className:n.sectionTitle,component:"h5"},"Colors")),r.createElement(ce.A,{style:{display:"block"}},r.createElement(q.A,{container:!0,spacing:1,alignItems:"left"},r.createElement(q.A,{item:!0,xs:12},r.createElement(X.A,{gutterBottom:!0,variant:"caption",style:{display:"block",marginBottom:6}},"Primary Color Count"),r.createElement(de.A,{value:i.colorCount,exclusive:!0,size:"small",className:n.colorCount,onChange:this.handleColorCountToggle,"aria-label":"color count",style:{width:"100%"}},r.createElement(se.A,{value:1,"aria-label":"1 color",style:{flex:1,fontWeight:"bold"}},"1"),r.createElement(se.A,{value:2,"aria-label":"2 colors",style:{flex:1,fontWeight:"bold"}},"2"),r.createElement(se.A,{value:3,"aria-label":"3 colors",style:{flex:1,fontWeight:"bold"}},"3"))),r.createElement(q.A,{item:!0,xs:3===i.colorCount?4:2===i.colorCount?6:12},r.createElement(Y.A,{variant:"contained",className:n.colorButton,style:{color:s,background:i.primaryColor},onClick:this.openColorMenu("primary")},"Primary")),i.colorCount>=2&&r.createElement(q.A,{item:!0,xs:3===i.colorCount?4:6},r.createElement(Y.A,{variant:"contained",className:n.colorButton,style:{color:d,background:i.secondaryColor},onClick:this.openColorMenu("secondary")},"Secondary")),i.colorCount>=3&&r.createElement(q.A,{item:!0,xs:4},r.createElement(Y.A,{variant:"contained",className:n.colorButton,style:{color:f,background:i.tertiaryColor},onClick:this.openColorMenu("tertiary")},"Tertiary")),r.createElement(q.A,{item:!0,xs:12},r.createElement(ne.A,{mt:2},r.createElement(K.A,{variant:"outlined",fullWidth:!0},r.createElement(ee.A,{id:"palette-type-label"},"Palette Type"),r.createElement($.A,{labelId:"palette-type-label",id:"palette-type",label:"Palette Type",value:i.paletteType,onChange:this.handlePaletteTypeChange,MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}},this.getPaletteOptions().map((function(e){return r.createElement(Z.A,{key:e.value,value:e.value},e.label)})))))),r.createElement(q.A,{item:!0,xs:12},r.createElement(ne.A,{className:n.palettePreview},this.currentPalette.map((function(e,t){return r.createElement("div",{key:t,className:n.colorSwatch,style:{background:e},title:e})})))))))),r.createElement(oe.A,{in:a,timeout:450,appear:!0},r.createElement(ie.A,{expanded:"gradient"===i.expandedPanel,onChange:this.handlePanelChange("gradient")},r.createElement(le.A,{expandIcon:r.createElement(ue.A,null)},r.createElement(X.A,{className:n.sectionTitle,component:"h5"},"Shapes")),r.createElement(ce.A,{style:{display:"block"}},r.createElement(K.A,{variant:"outlined",fullWidth:!0},r.createElement(ee.A,null,"Type"),r.createElement($.A,{label:"Type",value:i.gradientType,onChange:this.handleChangeGenerate("gradientType")},r.createElement(Z.A,{value:"linear"},"Linear"),r.createElement(Z.A,{value:"radial"},"Radial"),r.createElement(Z.A,{value:"blob"},"Blob"),r.createElement(Z.A,{value:"mesh"},"Mesh"))),r.createElement(te.A,{in:"linear"===i.gradientType},r.createElement(ne.A,{mt:2},r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Angle: ",i.angle,""),r.createElement(Q.A,{min:0,max:360,value:i.angle,onChange:this.handleSliderGenerate("angle")}))),r.createElement(te.A,{in:"radial"===i.gradientType},r.createElement(ne.A,{mt:2},r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Center X: ",i.centerX,"%"),r.createElement(Q.A,{min:0,max:100,value:i.centerX,onChange:this.handleSliderGenerate("centerX")}),r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Center Y: ",i.centerY,"%"),r.createElement(Q.A,{min:0,max:100,value:i.centerY,onChange:this.handleSliderGenerate("centerY")}),r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Radius X: ",i.radiusX,"%"),r.createElement(Q.A,{min:10,max:100,value:i.radiusX,onChange:this.handleSliderGenerate("radiusX")}),r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Radius Y: ",i.radiusY,"%"),r.createElement(Q.A,{min:10,max:100,value:i.radiusY,onChange:this.handleSliderGenerate("radiusY")}))),r.createElement(te.A,{in:"blob"===i.gradientType},r.createElement(ne.A,{mt:2},r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Blob Count: ",i.blobCount),r.createElement(Q.A,{min:2,max:8,value:i.blobCount,onChange:this.handleSliderGenerate("blobCount")}),r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Smoothness: ",i.smoothness),r.createElement(Q.A,{min:50,max:200,value:i.smoothness,onChange:this.handleSliderGenerate("smoothness")}),r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Min Size: ",i.minSize,"%"),r.createElement(Q.A,{min:10,max:50,value:i.minSize,onChange:this.handleSliderGenerate("minSize")}),r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Max Size: ",i.maxSize,"%"),r.createElement(Q.A,{min:30,max:80,value:i.maxSize,onChange:this.handleSliderGenerate("maxSize")}))),r.createElement(te.A,{in:"mesh"===i.gradientType},r.createElement(ne.A,{mt:2},r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Grid Size: ",i.gridSize,"x",i.gridSize),r.createElement(Q.A,{min:2,max:6,value:i.gridSize,onChange:this.handleSliderGenerate("gridSize")}),r.createElement(X.A,{gutterBottom:!0,variant:"caption"},"Blur Intensity: ",i.blurIntensity),r.createElement(Q.A,{min:50,max:300,value:i.blurIntensity,onChange:this.handleSliderGenerate("blurIntensity")})))))))))),r.createElement(U.A,null,r.createElement(Y.A,{onClick:function(t){var n,r;return null===(n=(r=e.props).onClose)||void 0===n?void 0:n.call(r,t)},autoFocus:!0,variant:"text",color:"primary"},"Close"),r.createElement(Y.A,{style:{backgroundColor:"#fff",color:"#000"},onClick:function(t){var n,r;return null===(n=(r=e.props).onAccept)||void 0===n?void 0:n.call(r,e.convertToBase64())},autoFocus:!0,variant:"contained",color:"secondary"},"Accept")),r.createElement(fe.A,{className:n.menu,anchorEl:i.colorMenuAnchor,open:Boolean(i.colorMenuAnchor),onClose:this.closeColorMenu,getContentAnchorEl:null,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},style:{padding:0}},r.createElement(Me,{className:n.materialPicker,color:"secondary"===i.colorMenuWhich?h:"tertiary"===i.colorMenuWhich?p:m,onChange:this.onPickerChange,onConfirm:this.closeColorMenu})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={},r=!1;return e.open!==t.open&&(n.open=e.open,r=!0),e.size!==t.size&&(n.size=e.size,r=!0),r?n:null}}])}(r.Component);const Ge=(0,a.default)((function(e){return{dialog:{"& .MuiDialog-paper":Ie(Ie({zIndex:e.zIndex.drawer+10,backgroundColor:"#0c0c0c",color:"#fff",borderRadius:21},e.breakpoints.down("sm"),{margin:0,maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",borderRadius:0}),e.breakpoints.up("md"),{maxWidth:"75vw",width:1e3,height:"auto"}),"& .MuiDialog-paperScrollPaper":Ie({},e.breakpoints.down("sm"),{maxHeight:"100%"}),"& .MuiDialog-paperFullWidth":Ie({},e.breakpoints.down("sm"),{width:"100% !important"})},dialogContent:{margin:"12px 0 24px 0"},previewPanel:{backgroundColor:"#171717",borderRadius:"21px",paddingBottom:"16px"},gradientPreviewWrap:{position:"relative",marginBottom:"16px"},gradientPreview:{position:"relative",width:"100%",height:405,borderRadius:21,overflow:"hidden",background:"#000"},controlsPanel:{maxHeight:"calc(80vh - 120px)",overflowY:"auto","& div.MuiPaper-rounded":{borderRadius:"21px",backgroundColor:"#171717"},"& .MuiAccordionDetails-root":{overflow:"hidden"},"& .MuiAccordion-root:before, & div.MuiAccordion-root.Mui-expanded:before":{opacity:0},"& .MuiAccordion-root":{margin:"8px 0"},"& .MuiAccordion-rounded:first-child":{borderTopLeftRadius:"21px",borderTopRightRadius:"21px"},"& .MuiAccordion-rounded:last-child":{borderBottomLeftRadius:"21px",borderBottomRightRadius:"21px"}},sectionTitle:{fontSize:16,fontWeight:600,color:"#ccc",letterSpacing:.5},colorCount:{"& .MuiToggleButton-root":{borderRadius:"21px"},"& .MuiToggleButtonGroup-groupedHorizontal:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0},"& .MuiToggleButtonGroup-groupedHorizontal:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},marginBottom:12},menu:{"& .MuiPaper-root":{background:"transparent",padding:0,borderRadius:"50%",boxShadow:"none"},"& .MuiList-padding":{padding:0}},materialPicker:{width:228,height:"auto",margin:4},colorButton:{fontWeight:"bold",borderRadius:"32px !important",height:56,width:"100%",textTransform:"none"},iconButtonSmallGrey:{"&.MuiIconButton-root":{color:"#666"},"&.MuiIconButton-root:hover":{color:"#999"}},colorSwatch:{width:30,height:30,borderRadius:6,border:"2px solid #333",cursor:"pointer",transition:"transform 0.2s ease","&:hover":{transform:"scale(1.1)"}},palettePreview:{display:"flex",gap:5,marginTop:10,flexWrap:"wrap"},canvasInputRow:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8,padding:"0 12px",marginTop:12}}}))(We);var Ue=n(2029),Ve=n(2030),Fe=n(455),Ye=n(450),Xe=n(672),qe=n(673),Je=n(664),Qe=n(659),$e=n(873),Ze=n(1004),Ke=n(875),et=n(471),tt=n(465),nt=n(2031),rt=n(2032),at=n(2033),ot=n(2034),it=n(2035),lt=n(463),ct=n(235);function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function st(e){var t=function(e){if("object"!=ut(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ut(t)?t:t+""}function dt(e,t,n){return t=mt(t),function(e,t){if(t&&("object"==ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ft()?Reflect.construct(t,n||[],mt(e).constructor):t.apply(e,n))}function ft(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ft=function(){return!!e})()}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}function ht(e,t){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ht(e,t)}var pt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ht(e,t)}(t,e),function(e,t){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return r.default.createElement(lt.A,this.props,r.default.createElement("path",{d:"M20.56 18H3.44C2.65 18 2 17.37 2 16.59V7.41C2 6.63 2.65 6 3.44 6H20.56C21.35 6 22 6.63 22 7.41V16.59C22 17.37 21.35 18 20.56 18M6.81 15.19V11.53L8.73 13.88L10.65 11.53V15.19H12.58V8.81H10.65L8.73 11.16L6.81 8.81H4.89V15.19H6.81M19.69 12H17.77V8.81H15.85V12H13.92L16.81 15.28L19.69 12Z"}))}}])}(r.default.PureComponent);const gt=(0,ct.A)((function(e){return{}}))(pt);function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function bt(e){var t=function(e){if("object"!=vt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vt(t)?t:t+""}function yt(e,t,n){return t=wt(t),function(e,t){if(t&&("object"==vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Et()?Reflect.construct(t,n||[],wt(e).constructor):t.apply(e,n))}function Et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Et=function(){return!!e})()}function wt(e){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wt(e)}function At(e,t){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},At(e,t)}var Ct=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yt(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&At(e,t)}(t,e),function(e,t){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bt(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return r.default.createElement(lt.A,this.props,r.default.createElement("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z"}))}}])}(r.default.PureComponent);const xt=(0,ct.A)((function(e){return{}}))(Ct);function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function St(e){var t=function(e){if("object"!=Mt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mt(t)?t:t+""}function kt(e,t,n){return t=Dt(t),function(e,t){if(t&&("object"==Mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tt()?Reflect.construct(t,n||[],Dt(e).constructor):t.apply(e,n))}function Tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tt=function(){return!!e})()}function Dt(e){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dt(e)}function Pt(e,t){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pt(e,t)}var It=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kt(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pt(e,t)}(t,e),function(e,t){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,St(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return r.default.createElement(lt.A,this.props,r.default.createElement("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z"}))}}])}(r.default.PureComponent);const _t=(0,ct.A)((function(e){return{}}))(It);function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function Rt(e){var t=function(e){if("object"!=Ot(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ot(t)?t:t+""}function jt(e,t,n){return t=Nt(t),function(e,t){if(t&&("object"==Ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zt()?Reflect.construct(t,n||[],Nt(e).constructor):t.apply(e,n))}function zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zt=function(){return!!e})()}function Nt(e){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nt(e)}function Ht(e,t){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ht(e,t)}var Bt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jt(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ht(e,t)}(t,e),function(e,t){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rt(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return r.default.createElement(lt.A,this.props,r.default.createElement("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H19A2,2 0 0,1 21,6V16A2,2 0 0,1 19,18H15A2,2 0 0,1 13,16V15H15V16H19V12H15V10H19V6H15V7H13V6A2,2 0 0,1 15,4Z"}))}}])}(r.default.PureComponent);const Lt=(0,ct.A)((function(e){return{}}))(Bt);function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Gt(e){var t=function(e){if("object"!=Wt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wt(t)?t:t+""}function Ut(e,t,n){return t=Ft(t),function(e,t){if(t&&("object"==Wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vt()?Reflect.construct(t,n||[],Ft(e).constructor):t.apply(e,n))}function Vt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vt=function(){return!!e})()}function Ft(e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ft(e)}function Yt(e,t){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yt(e,t)}var Xt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ut(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}(t,e),function(e,t){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gt(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return r.default.createElement(lt.A,this.props,r.default.createElement("path",{d:"M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z"}))}}])}(r.default.PureComponent);const qt=(0,ct.A)((function(e){return{}}))(Xt);var Jt=n(1706),Qt=n(938),$t=n(968),Zt=n(2036),Kt=n(2037),en=n(2038),tn=n(2039),nn=n(2040),rn=n(2041),an=n(998),on=n(1593),ln=n(666),cn=n(2042),un=n(2043),sn=n(965),dn=n(2044),fn=n(2045),mn=n(2046),hn=n(1575),pn=n(1037),gn=n(1589),vn=n(441),bn=n(2047),yn=n(2048),En=n(2049),wn=n(2050),An=n(1569),Cn=n(940),xn=n(1619),Mn=n(991);function Sn(e,t,n){return t=Tn(t),function(e,t){if(t&&("object"==_n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kn()?Reflect.construct(t,n||[],Tn(e).constructor):t.apply(e,n))}function kn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kn=function(){return!!e})()}function Tn(e){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tn(e)}function Dn(e,t){return Dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dn(e,t)}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return In(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return(t=Un(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Nn(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,l=0,c=e,f.n=n,i}};function m(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],m=f.p,h=o[2];n>3?(a=h===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(l=0,f.v=r,f.n=o[1]):m<h&&(a=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,f.n=h,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,h),l=s,c=h;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(f.n=-1),m(l,c)):f.n=c:f.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=f.n<0)?c:n.call(r,f))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Nn(t={},r,(function(){return this})),t),d=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Nn(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Nn(d,"constructor",u),Nn(u,"constructor",c),c.displayName="GeneratorFunction",Nn(u,a,"GeneratorFunction"),Nn(d),Nn(d,a,"Generator"),Nn(d,r,(function(){return this})),Nn(d,"toString",(function(){return"[object Generator]"})),(zn=function(){return{w:o,m:f}})()}function Nn(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Nn=function(e,t,n,r){function o(t,n){Nn(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Nn(e,t,n,r)}function Hn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Hn(o,r,a,i,l,"next",e)}function l(e){Hn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Un(r.key),r)}}function Gn(e,t,n){return t&&Wn(e.prototype,t),n&&Wn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Un(e){var t=function(e){if("object"!=_n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_n(t)?t:t+""}var Vn=function(){return Gn((function e(){Ln(this,e),this.db=null,this.collection=null}),[{key:"init",value:(i=Bn(zn().m((function e(){var t,r,a;return zn().w((function(e){for(;;)switch(e.p=e.n){case 0:if(!this.collection){e.n=1;break}return e.a(2,!0);case 1:return e.p=1,e.n=2,Promise.resolve().then(n.bind(n,226));case 2:return t=e.v,r=t.LacertaDB,a=new r,e.n=3,a.getDatabase("drafts");case 3:return this.db=e.v,e.n=4,this.db.createCollection("documents");case 4:return this.collection=e.v,e.a(2,!0);case 5:return e.p=5,e.v,e.a(2,!1)}}),e,this,[[1,5]])}))),function(){return i.apply(this,arguments)})},{key:"save",value:(o=Bn(zn().m((function e(t,n){var r,a;return zn().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,this.init();case 1:if(r=Rn(Rn({},n),{},{lastModified:Date.now()}),e.p=2,!(a=t)){e.n=4;break}return e.n=3,this.collection.get(t);case 3:a=e.v;case 4:if(!a){e.n=6;break}return e.n=5,this.collection.update(t,r);case 5:return e.a(2,e.v);case 6:return e.n=7,this.collection.add(r);case 7:return e.a(2,e.v);case 8:e.n=10;break;case 9:return e.p=9,e.v,e.a(2,null);case 10:return e.a(2)}}),e,this,[[2,9]])}))),function(e,t){return o.apply(this,arguments)})},{key:"getMostRecent",value:(a=Bn(zn().m((function e(){var t;return zn().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,this.init();case 1:return e.p=1,e.n=2,this.collection.query({},{sort:{lastModified:-1},limit:1});case 2:return t=e.v,e.a(2,(null==t?void 0:t[0])||null);case 3:return e.p=3,e.v,e.a(2,null)}}),e,this,[[1,3]])}))),function(){return a.apply(this,arguments)})},{key:"get",value:(r=Bn(zn().m((function e(t){return zn().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,this.init();case 1:return e.p=1,e.n=2,this.collection.get(t);case 2:return e.a(2,e.v);case 3:return e.p=3,e.v,e.a(2,null)}}),e,this,[[1,3]])}))),function(e){return r.apply(this,arguments)})},{key:"getAll",value:(t=Bn(zn().m((function e(){var t;return zn().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,this.init();case 1:return e.p=1,e.n=2,this.collection.query({},{sort:{lastModified:-1},limit:50});case 2:if(t=e.v){e.n=3;break}t=[];case 3:return e.a(2,t);case 4:return e.p=4,e.v,e.a(2,[])}}),e,this,[[1,4]])}))),function(){return t.apply(this,arguments)})},{key:"delete",value:(e=Bn(zn().m((function e(t){return zn().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,this.init();case 1:return e.p=1,e.n=2,this.collection.delete(t);case 2:return e.a(2,!0);case 3:return e.p=3,e.v,e.a(2,!1)}}),e,this,[[1,3]])}))),function(t){return e.apply(this,arguments)})}]);var e,t,r,a,o,i}(),Fn={ltr:"ltr",rtl:"rtl",paragraph:"public-DraftStyleDefault-block",quote:"public-DraftStyleDefault-blockquote",heading:{h1:"public-DraftStyleDefault-header-one",h2:"public-DraftStyleDefault-header-two",h3:"public-DraftStyleDefault-header-three",h4:"public-DraftStyleDefault-header-four",h5:"public-DraftStyleDefault-header-five",h6:"public-DraftStyleDefault-header-six"},list:{nested:{listitem:"public-DraftStyleDefault-depth0"},ol:"public-DraftStyleDefault-ol",ul:"public-DraftStyleDefault-ul",listitem:"public-DraftStyleDefault-unorderedListItem"},link:"lexical-link",text:{bold:"lexical-bold",italic:"lexical-italic",underline:"lexical-underline",strikethrough:"lexical-strikethrough",code:"lexical-code"},code:"public-DraftStyleDefault-pre",table:"lexical-table",tableCell:"lexical-table-cell",tableCellHeader:"lexical-table-cell-header",tableRow:"lexical-table-row"},Yn=[g.jL,g.dJ,v.v5,v.YW,b.iK,b.yy,y.Db,y.k_,E.HA,E.py,E.B9];function Xn(e){var t=e.editorRef,n=Pn((0,s.DF)(),1)[0];return r.default.useEffect((function(){t&&(t.current=n)}),[n,t]),null}function qn(e){var t=e.onSave,n=Pn((0,s.DF)(),1)[0];return r.default.useEffect((function(){var e=n.registerCommand(w.JjG,(function(){return!1}),w.JjG),r=function(e){(e.metaKey||e.ctrlKey)&&"s"===e.key&&(e.preventDefault(),t&&t())},a=n.getRootElement();return a&&a.addEventListener("keydown",r),function(){e(),a&&a.removeEventListener("keydown",r)}}),[n,t]),null}function Jn(e){var t=e.initialMarkdown,n=e.onInitialized,a=Pn((0,s.DF)(),1)[0],o=Pn(r.default.useState(!1),2),i=o[0],l=o[1];return r.default.useEffect((function(){t&&!i&&(a.update((function(){(0,w.NiT)().clear(),j(t,{gfm:!0,tables:!0})})),l(!0),n&&n())}),[a,t,i,n]),null}var Qn=r.default.memo((function(e){var t=e.classes,n=e.title,a=e.description,o=e.onTitleChange,i=e.onDescriptionChange;return r.default.createElement("div",{className:t.editorHeader},r.default.createElement(J.A,{className:t.titleInput,placeholder:"Title",value:n,onChange:o,fullWidth:!0}),r.default.createElement(J.A,{className:t.descriptionInput,placeholder:"Short Description",value:a,onChange:i,fullWidth:!0,multiline:!0,rows:2}))})),$n=r.default.memo((function(e){var t=e.classes,n=e.editorMode,a=e.tab,o=e.mobile,i=e.editOpened,l=e.hasInlineStyle,c=e.hasBlockType,u=e.onToggleEditMenu,s=e.onToggleInlineStyle,d=e.onToggleBlockType,f=e.onOpenFormatMenu,m=e.onOpenListMenu,h=e.onOpenHeadingMenu,p=e.onOpenLinkDialog,g=e.onInsertImage,v=e.onUndo,b=e.onRedo;return"visual"!==n||o&&1===parseInt(a)?null:r.default.createElement(vn.A,{in:(0===parseInt(a)||!o)&&"visual"===n},r.default.createElement("div",{className:"".concat(t.fixedSidebar," ").concat(i?"opened":"")},!i&&r.default.createElement(Ye.Ay,{title:"Expand",placement:"right"},r.default.createElement(Fe.A,{className:"edit "+t.menuIconButton,onClick:u},r.default.createElement(ln.A,null))),r.default.createElement(Ye.Ay,{title:"Bold (Ctrl+B)",placement:"right"},r.default.createElement(Fe.A,{className:"".concat(t.menuIconButton," ").concat(l("bold")?"active":""),onMouseDown:function(e){e.preventDefault(),s("bold")}},r.default.createElement(rt.A,null))),r.default.createElement(Ye.Ay,{title:"Italic (Ctrl+I)",placement:"right"},r.default.createElement(Fe.A,{className:"".concat(t.menuIconButton," ").concat(l("italic")?"active":""),onMouseDown:function(e){e.preventDefault(),s("italic")}},r.default.createElement(at.A,null))),r.default.createElement(Ye.Ay,{title:"More",placement:"right"},r.default.createElement(Fe.A,{className:t.menuIconButton,onClick:f},r.default.createElement(un.A,null))),r.default.createElement("div",{className:t.menuDivider}),r.default.createElement(Ye.Ay,{title:"Quote",placement:"right"},r.default.createElement(Fe.A,{className:"".concat(t.menuIconButton," ").concat(c("quote")?"active":""),onMouseDown:function(e){e.preventDefault(),d("quote")}},r.default.createElement(it.A,null))),r.default.createElement(Ye.Ay,{title:"Lists",placement:"right"},r.default.createElement(Fe.A,{className:t.menuIconButton,onClick:m},r.default.createElement(Zt.A,null))),r.default.createElement(Ye.Ay,{title:"Heading",placement:"right"},r.default.createElement(Fe.A,{className:t.menuIconButton,onClick:h},r.default.createElement(en.A,null))),r.default.createElement("div",{className:t.menuDivider}),r.default.createElement(Ye.Ay,{title:"Link (Ctrl+K)",placement:"right"},r.default.createElement(Fe.A,{className:t.menuIconButton,onClick:p},r.default.createElement(Qt.A,null))),r.default.createElement(Ye.Ay,{title:"Image",placement:"right"},r.default.createElement(Fe.A,{className:t.menuIconButton,onClick:g},r.default.createElement($t.A,null))),r.default.createElement("div",{className:t.menuDivider}),r.default.createElement(Ye.Ay,{title:"Undo",placement:"right"},r.default.createElement(Fe.A,{className:t.menuIconButton,onClick:v},r.default.createElement(tn.A,null))),r.default.createElement(Ye.Ay,{title:"Redo",placement:"right"},r.default.createElement(Fe.A,{className:t.menuIconButton,onClick:b},r.default.createElement(nn.A,null))),i&&r.default.createElement(Ye.Ay,{title:"Collapse",placement:"right"},r.default.createElement(Fe.A,{className:"close "+t.menuIconButton,style:{backgroundColor:"#000",color:"#fff",marginTop:8},onClick:u},r.default.createElement(on.A,null)))))})),Zn=r.default.memo((function(e){var t=e.classes,n=e.editorMode,a=e.title,s=e.description,g=e.initialMarkdown,v=e.markdownSource,b=e.editorRef,y=e.onTitleChange,E=e.onDescriptionChange,w=e.onChange,A=e.onMarkdownChange,x=e.onFocus,M=e.onSave,S=e.onToggleEditorMode,k=r.default.useMemo((function(){return{namespace:"PixagramEditor",theme:Fn,nodes:Yn,onError:function(e){}}}),[]);return r.default.createElement("div",{className:t.editorSection},r.default.createElement(Qn,{classes:t,title:a,description:s,onTitleChange:y,onDescriptionChange:E}),r.default.createElement("div",{className:t.editorWrapper+" "+n,onClick:x},r.default.createElement("div",{style:{height:"100%"}},"visual"===n?r.default.createElement(o.n,{initialConfig:k},r.default.createElement(i.$,{contentEditable:r.default.createElement(l.a,{className:"DraftEditor-root lexical-editor-root",style:{minHeight:"100%",outline:"none"}}),placeholder:r.default.createElement("div",{style:{color:"rgba(255,255,255,0.4)",position:"absolute",top:24,left:24,pointerEvents:"none"}},"Tell your story..."),ErrorBoundary:d.R}),r.default.createElement(c.G,null),r.default.createElement(f.Q,null),r.default.createElement(m.W,null),r.default.createElement(h.A,null),r.default.createElement(p.E,{transformers:C.Rm}),r.default.createElement(u.D,{onChange:w,ignoreSelectionChange:!0}),r.default.createElement(Xn,{editorRef:b}),r.default.createElement(qn,{onSave:M}),g&&r.default.createElement(Jn,{initialMarkdown:g})):r.default.createElement("textarea",{value:v,onChange:A,placeholder:"Write your story in markdown...",spellCheck:!0}))),r.default.createElement(Ye.Ay,{title:"visual"===n?"Switch to markdown code":"Switch to visual editor",placement:"right"},r.default.createElement(Cn.A,{className:t.menuIconButtonFab,onClick:S},"visual"===n?r.default.createElement(gt,null):r.default.createElement(xn.A,null))))})),Kn=r.default.memo((function(e){var t=e.classes,n=e.gradient,a=e.fileInputRef,o=e.onImageUpload,i=e.onRemoveImage,l=e.onOpenGradientEditor;return r.default.createElement("div",{className:t.settingsSection},r.default.createElement(X.A,{variant:"subtitle2",className:t.subTitle2},"Cover Image",r.default.createElement(Ye.Ay,{interactive:!0,enterTouchDelay:200,leaveTouchDelay:4e3,classes:{tooltip:t.tooltipRoot},title:r.default.createElement("span",{className:t.tooltip},"The cover image has a purpose of aesthetic, gradients are so lite that they are stored in the blockchain as Scalable Vector Graphic of less than 1 kB.")},r.default.createElement(Fe.A,null,r.default.createElement(Mn.A,null)))),r.default.createElement("div",{className:t.imageUploadArea},r.default.createElement("input",{ref:a,type:"file",accept:"image/*",style:{display:"none"},onChange:o}),n?r.default.createElement("div",null,r.default.createElement("img",{src:n,alt:"Cover",className:t.uploadedImage}),r.default.createElement("div",{className:t.imageOverlay},r.default.createElement(Y.A,{size:"small",startIcon:r.default.createElement(rn.A,null),onClick:i,style:{color:"#fff"}},"Remove"))):r.default.createElement(ne.A,{textAlign:"center",onClick:function(){var e;return null===(e=a.current)||void 0===e?void 0:e.click()},style:{cursor:"pointer"}},r.default.createElement(an.A,{style:{fontSize:48,color:"#666"}}),r.default.createElement(X.A,{variant:"body2",style:{color:"#999",marginTop:8}},"Click to upload"),r.default.createElement("div",{className:t.imageOverlay},r.default.createElement(Y.A,{size:"small",startIcon:r.default.createElement(bn.A,null),onClick:l,style:{color:"#fff"}},"Generate")))))})),er=r.default.memo((function(e){var t=e.classes,n=e.gradient,a=e.payout,o=e.community,i=e.fileInputRef,l=e.onImageUpload,c=e.onRemoveImage,u=e.onOpenGradientEditor,s=e.onPayoutChange,d=e.onCommunityChange,f=e.mobile,m=e.actionButtons;return r.default.createElement("div",{className:t.settingsPanel},r.default.createElement("div",{className:t.settingsContent},r.default.createElement(Kn,{classes:t,gradient:n,fileInputRef:i,onImageUpload:l,onRemoveImage:c,onOpenGradientEditor:u}),r.default.createElement("div",{className:t.settingsSection},r.default.createElement(X.A,{variant:"subtitle2",className:t.subTitle2},"Payout",r.default.createElement(Ye.Ay,{interactive:!0,enterTouchDelay:200,leaveTouchDelay:4e3,classes:{tooltip:t.tooltipRoot},title:r.default.createElement("span",{className:t.tooltip},"You can choose how the reward split between authors and curators.")},r.default.createElement(Fe.A,null,r.default.createElement(Mn.A,null)))),r.default.createElement(K.A,{variant:"outlined",fullWidth:!0,size:"small"},r.default.createElement($.A,{value:a,onChange:s,style:{color:"#fff"}},r.default.createElement(Z.A,{value:"author"},"100% Author"),r.default.createElement(Z.A,{value:"everyone"},"50% / 50%"),r.default.createElement(Z.A,{value:"curators"},"100% Curators")))),r.default.createElement("div",{className:t.settingsSection},r.default.createElement(X.A,{variant:"subtitle2",className:t.subTitle2},"Community",r.default.createElement(Ye.Ay,{interactive:!0,enterTouchDelay:200,leaveTouchDelay:4e3,classes:{tooltip:t.tooltipRoot},title:r.default.createElement("span",{className:t.tooltip},"You can choose in which community the post will be featured.")},r.default.createElement(Fe.A,null,r.default.createElement(Mn.A,null)))),r.default.createElement(K.A,{variant:"outlined",fullWidth:!0,size:"small"},r.default.createElement($.A,{value:o,onChange:d,style:{color:"#fff"}},r.default.createElement(Z.A,{value:"governance"},"Governance"),r.default.createElement(Z.A,{value:"askpixa"},"Ask Pixa"),r.default.createElement(Z.A,{value:"contest"},"Contest Drawing"),r.default.createElement(Z.A,{value:"edit4me"},"Edit For Me"),r.default.createElement(Z.A,{value:"iy"},"Introduce Yourself"),r.default.createElement(Z.A,{value:"lab"},"Pixa Labs"))))),!f&&m)})),tr=r.default.memo((function(e){var t=e.classes,n=e.mobile,a=e.tab,o=e.onOpenDrafts,i=e.onFinish,l=e.onPreview;return n?r.default.createElement("div",{className:t.settingsActions},r.default.createElement(Y.A,{variant:"text",color:"inherit",startIcon:r.default.createElement(dn.A,null),onClick:o},"Drafts"),0===parseInt(a)?r.default.createElement(oe.A,{in:0===parseInt(a)},r.default.createElement(Y.A,{variant:"contained",startIcon:r.default.createElement(gn.A,null),onClick:i,style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Finish")):r.default.createElement(oe.A,{in:1===parseInt(a)},r.default.createElement(Y.A,{variant:"contained",startIcon:r.default.createElement(An.A,null),onClick:l,style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Preview"))):r.default.createElement("div",{className:t.settingsActions},r.default.createElement(Y.A,{variant:"text",color:"inherit",startIcon:r.default.createElement(dn.A,null),onClick:o},"Drafts"),r.default.createElement(Y.A,{variant:"contained",startIcon:r.default.createElement(An.A,null),onClick:l,style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Preview"))})),nr=r.default.memo((function(e){var t,n,a=e.classes,o=e.draft,i=e.onLoad,l=e.onDelete,c=e.formatDate;return r.default.createElement($e.A,{className:a.draftCard,onClick:function(){return i(o._id)}},r.default.createElement(Ze.A,{className:a.draftCardContent},r.default.createElement("div",{className:a.draftHeader},r.default.createElement(ne.A,{flex:1},r.default.createElement(X.A,{className:a.draftTitle},o.title||"Untitled Draft"),o.description&&r.default.createElement(X.A,{className:a.draftDescription},o.description)),r.default.createElement(Fe.A,{className:a.deleteButton,onClick:function(e){e.stopPropagation(),l(o._id)}},r.default.createElement(rn.A,null))),r.default.createElement("div",{className:a.draftMeta},r.default.createElement("div",{className:a.draftMetaItem},r.default.createElement(fn.A,{fontSize:"small"}),r.default.createElement("span",null,c(o.lastSaved))),r.default.createElement("div",{className:a.draftMetaItem},r.default.createElement("span",null,(null===(t=o.metadata)||void 0===t?void 0:t.wordCount)||0," words")),r.default.createElement("div",{className:a.draftMetaItem},r.default.createElement("span",null,(null===(n=o.metadata)||void 0===n?void 0:n.readingTime)||0," min read"))),o.tags&&o.tags.length>0&&r.default.createElement("div",{className:a.draftTags},o.tags.slice(0,3).map((function(e,t){return r.default.createElement(Je.A,{key:t,label:e,size:"small",className:a.draftTag})})),o.tags.length>3&&r.default.createElement(Je.A,{label:"+".concat(o.tags.length-3),size:"small",className:a.draftTag}))))})),rr=r.default.memo((function(e){var t=e.classes,n=e.open,a=e.drafts,o=e.loading,i=e.searchQuery,l=e.onClose,c=e.onNewDraft,u=e.onLoadDraft,s=e.onDeleteDraft,d=e.onSearchChange,f=e.formatDate;return r.default.createElement(G.A,{className:t.draftsDialog,open:n,onClose:l,maxWidth:"md",fullWidth:!0},r.default.createElement("div",{className:t.draftsDialogTitle},r.default.createElement(ne.A,{display:"flex",alignItems:"center"},r.default.createElement(Ke.A,{className:t.draftAvatar},r.default.createElement(dn.A,null)),r.default.createElement(X.A,{variant:"h5",style:{marginLeft:16,fontWeight:600}},"Your Drafts")),r.default.createElement(ne.A,null,r.default.createElement(Y.A,{color:"inherit",startIcon:r.default.createElement(hn.A,null),onClick:c,style:{marginRight:8,backgroundColor:"rgba(255,255,255,0.1)",borderRadius:16}},"New Draft"),r.default.createElement(Fe.A,{color:"inherit",onClick:l},r.default.createElement(tt.A,null)))),r.default.createElement(V.A,{className:t.draftsDialogContent},r.default.createElement(J.A,{className:t.searchField,variant:"outlined",placeholder:"Search drafts...",value:i,onChange:d,size:"small",InputProps:{startAdornment:r.default.createElement(sn.A,{position:"start"},r.default.createElement(mn.A,null))}}),o?r.default.createElement("div",{className:t.loadingState},r.default.createElement(Qe.A,null)):0===a.length?r.default.createElement("div",{className:t.emptyState},r.default.createElement(yn.A,{className:t.emptyStateIcon}),r.default.createElement(X.A,{variant:"h5",gutterBottom:!0,style:{fontWeight:500}},i?"No drafts found":"No drafts yet"),r.default.createElement(X.A,{variant:"body1",style:{color:"rgba(255,255,255,0.6)"}},i?"Try a different search query":"Start writing to save your first draft automatically")):r.default.createElement("div",{className:t.draftsList},a.map((function(e){return r.default.createElement(nr,{key:e._id,classes:t,draft:e,onLoad:u,onDelete:s,formatDate:f})})))))})),ar=r.default.memo((function(e){var t=e.classes,n=e.open,a=e.title,o=e.description,i=e.content,l=e.wordCount,c=e.readingTime,u=e.onClose,s=e.onPublish,d=e.renderMarkdown;return r.default.createElement(G.A,{className:t.previewDialog,open:n,onClose:u,maxWidth:"md",fullWidth:!0},r.default.createElement("div",{className:t.previewDialogTitle},r.default.createElement(X.A,{variant:"h5",style:{fontWeight:600}},"Preview"),r.default.createElement(Fe.A,{color:"inherit",onClick:u},r.default.createElement(tt.A,null))),r.default.createElement(V.A,{className:t.previewDialogContent},r.default.createElement(X.A,{className:t.previewTitle},a||"Untitled"),o&&r.default.createElement(X.A,{className:t.previewDescription},o),r.default.createElement("div",{className:t.previewContent,dangerouslySetInnerHTML:{__html:d(i)}})),r.default.createElement("div",{className:t.previewDialogActions},r.default.createElement(ne.A,{display:"flex",alignItems:"center",color:"rgba(255,255,255,0.6)"},r.default.createElement(X.A,{variant:"caption"},l," words  ",c," min read")),r.default.createElement(Y.A,{variant:"contained",startIcon:r.default.createElement(nt.A,null),onClick:s,style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Publish")))})),or=r.default.memo((function(e){var t=e.classes,n=e.open,a=e.linkText,o=e.linkUrl,i=e.onClose,l=e.onInsert,c=e.onTextChange,u=e.onUrlChange;return r.default.createElement(G.A,{PaperProps:{classes:{root:t.darkDialog}},open:n,maxWidth:"xs",fullWidth:!0,onClose:i},r.default.createElement(V.A,{className:t.darkDialogContent},r.default.createElement(X.A,{variant:"h6",gutterBottom:!0},"Insert Link"),r.default.createElement(J.A,{className:t.darkInput,variant:"outlined",label:"Link Text",value:a,onChange:c,fullWidth:!0,style:{marginBottom:16}}),r.default.createElement(J.A,{className:t.darkInput,variant:"outlined",label:"URL",placeholder:"https://...",value:o,onChange:u,fullWidth:!0,autoFocus:!0})),r.default.createElement(U.A,{className:t.darkDialogActions},r.default.createElement(Y.A,{onClick:i},"Cancel"),r.default.createElement(Y.A,{variant:"contained",onClick:l,style:{backgroundColor:"#fff",color:"#000"}},"Insert")))})),ir=r.default.memo((function(e){var t=e.classes,n=e.open,a=e.value,o=e.onClose,i=e.onInsert,l=e.onChange;return r.default.createElement(G.A,{className:t.imageUrlDialog,open:n,onClose:o},r.default.createElement(F.A,null,"Insert Image"),r.default.createElement(V.A,null,r.default.createElement(J.A,{className:t.darkInput,variant:"outlined",label:"Image URL",value:a,onChange:l,fullWidth:!0,autoFocus:!0,margin:"normal"})),r.default.createElement(U.A,null,r.default.createElement(Y.A,{onClick:o,color:"inherit"},"Cancel"),r.default.createElement(Y.A,{onClick:i,variant:"contained",color:"primary"},"Insert")))})),lr=r.default.memo((function(e){var t=e.classes,n=e.open,a=e.title,o=e.message,i=e.onClose,l=e.onConfirm;return r.default.createElement(G.A,{className:t.confirmDialog,open:n,onClose:i},r.default.createElement(F.A,null,r.default.createElement(ne.A,{display:"flex",alignItems:"center"},r.default.createElement(En.A,{style:{marginRight:8,color:"#ff9800"}}),a)),r.default.createElement(V.A,null,r.default.createElement(X.A,null,o)),r.default.createElement(U.A,null,r.default.createElement(Y.A,{onClick:i,color:"inherit"},"Cancel"),r.default.createElement(Y.A,{onClick:l,variant:"contained",color:"primary"},"Confirm")))})),cr=r.default.memo((function(e){var t=e.classes,n=e.open,a=e.title,o=e.value,i=e.onClose,l=e.onConfirm,c=e.onChange;return r.default.createElement(G.A,{className:t.passwordDialog,open:n,onClose:i},r.default.createElement(F.A,null,r.default.createElement(ne.A,{display:"flex",alignItems:"center"},r.default.createElement(wn.A,{style:{marginRight:8,color:"#4caf50"}}),a)),r.default.createElement(V.A,null,r.default.createElement(J.A,{className:t.darkInput,variant:"outlined",type:"password",label:"Password",value:o,onChange:c,fullWidth:!0,autoFocus:!0,margin:"normal"})),r.default.createElement(U.A,null,r.default.createElement(Y.A,{onClick:i,color:"inherit"},"Cancel"),r.default.createElement(Y.A,{onClick:l,variant:"contained",color:"primary"},"Continue")))})),ur=r.default.memo((function(e){var t=e.classes,n=e.formatMenuAnchor,a=e.headingMenuAnchor,o=e.listMenuAnchor,i=e.onCloseFormatMenu,l=e.onCloseHeadingMenu,c=e.onCloseListMenu,u=e.onToggleInlineStyle,s=e.onToggleBlockType;return r.default.createElement(r.default.Fragment,null,r.default.createElement(fe.A,{className:t.formatMenu,anchorEl:n,open:Boolean(n),onClose:i},r.default.createElement(Z.A,{onClick:function(){u("underline"),i()}},r.default.createElement(Xe.A,null,r.default.createElement(ot.A,null)),r.default.createElement(qe.A,{primary:"Underline"})),r.default.createElement(Z.A,{onClick:function(){u("strikethrough"),i()}},r.default.createElement(Xe.A,null,r.default.createElement(cn.A,null)),r.default.createElement(qe.A,{primary:"Strikethrough"})),r.default.createElement(Z.A,{onClick:function(){u("code"),i()}},r.default.createElement(Xe.A,null,r.default.createElement(Jt.A,null)),r.default.createElement(qe.A,{primary:"Code"}))),r.default.createElement(fe.A,{className:t.formatMenu,anchorEl:a,open:Boolean(a),onClose:l},r.default.createElement(Z.A,{onClick:function(){s("h1"),l()}},r.default.createElement(Xe.A,null,r.default.createElement(xt,null)),r.default.createElement(qe.A,{primary:"Heading 1"})),r.default.createElement(Z.A,{onClick:function(){s("h2"),l()}},r.default.createElement(Xe.A,null,r.default.createElement(_t,null)),r.default.createElement(qe.A,{primary:"Heading 2"})),r.default.createElement(Z.A,{onClick:function(){s("h3"),l()}},r.default.createElement(Xe.A,null,r.default.createElement(Lt,null)),r.default.createElement(qe.A,{primary:"Heading 3"})),r.default.createElement(Z.A,{onClick:function(){s("paragraph"),l()}},r.default.createElement(Xe.A,null,r.default.createElement(qt,null)),r.default.createElement(qe.A,{primary:"Paragraph"}))),r.default.createElement(fe.A,{className:t.formatMenu,anchorEl:o,open:Boolean(o),onClose:c},r.default.createElement(Z.A,{onClick:function(){s("bullet"),c()}},r.default.createElement(Xe.A,null,r.default.createElement(Zt.A,null)),r.default.createElement(qe.A,{primary:"Bullet List"})),r.default.createElement(Z.A,{onClick:function(){s("number"),c()}},r.default.createElement(Xe.A,null,r.default.createElement(Kt.A,null)),r.default.createElement(qe.A,{primary:"Numbered List"}))))})),sr=function(e){function t(e){var n;return Ln(this,t),jn(n=Sn(this,t,[e]),"getEditorMarkdown",(function(){var e=n.state,t=e.editorMode,r=e.markdownSource;if("markdown"===t)return r;var a=n.editorRef.current;if(!a)return"";var o="";return a.getEditorState().read((function(){o=(0,C.bk)(C.Rm)})),o})),jn(n,"onChange",(function(e){e.read((function(){var e=(0,w.NiT)().getTextContent(),t=e.trim()?e.trim().split(/\s+/).length:0;n.setState({wordCount:t,readingTime:Math.ceil(t/200)})})),e.read((function(){var e=(0,w.vJq)();(0,w.I2P)(e)&&n.setState({activeFormats:{bold:e.hasFormat("bold"),italic:e.hasFormat("italic"),underline:e.hasFormat("underline"),strikethrough:e.hasFormat("strikethrough"),code:e.hasFormat("code")}})})),n.scheduleAutoSave()})),jn(n,"onMarkdownChange",(function(e){var t=e.target.value;n.setState({markdownSource:t},(function(){n.updateStats(),n.scheduleAutoSave()}))})),jn(n,"toggleEditorMode",(function(){var e=n.state,t=e.editorMode,r=e.markdownSource,a=n.editorRef.current;if("visual"===t){var o="";a&&a.getEditorState().read((function(){o=(0,C.bk)(C.Rm)})),n.setState({editorMode:"markdown",markdownSource:o})}else n.setState({editorMode:"visual",initialMarkdown:r})})),jn(n,"showConfirmDialog",(function(e,t,r){n.setState({confirmDialogOpen:!0,confirmDialogTitle:e,confirmDialogMessage:t,confirmDialogAction:r})})),jn(n,"closeConfirmDialog",(function(){n.setState({confirmDialogOpen:!1,confirmDialogAction:null})})),jn(n,"handleConfirmAction",(function(){n.state.confirmDialogAction&&n.state.confirmDialogAction(),n.closeConfirmDialog()})),jn(n,"showPasswordDialog",(function(e,t){n.setState({passwordDialogOpen:!0,passwordDialogTitle:e,passwordDialogValue:"",passwordDialogAction:t})})),jn(n,"closePasswordDialog",(function(){n.setState({passwordDialogOpen:!1,passwordDialogAction:null,passwordDialogValue:""})})),jn(n,"handlePasswordAction",(function(){n.state.passwordDialogAction&&n.state.passwordDialogAction(n.state.passwordDialogValue),n.closePasswordDialog()})),jn(n,"showImageUrlDialog",(function(){n.setState({imageUrlDialogOpen:!0,imageUrlDialogValue:"https://"})})),jn(n,"closeImageUrlDialog",(function(){n.setState({imageUrlDialogOpen:!1,imageUrlDialogValue:""})})),jn(n,"handleImageUrlInsert",(function(){var e=n.state.imageUrlDialogValue;e&&e.trim()&&"https://"!==e&&n.insertImageUrl(e),n.closeImageUrlDialog()})),jn(n,"updateDraftStats",Bn(zn().m((function e(){var t,r,a,o;return zn().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,n.draftManager.getStats();case 1:(t=e.v).success&&n.setState({totalDrafts:(null===(r=t.data.drafts)||void 0===r?void 0:r.totalDrafts)||0,totalWords:(null===(a=t.data.drafts)||void 0===a?void 0:a.totalWords)||0,avgWordCount:Math.round((null===(o=t.data.drafts)||void 0===o?void 0:o.avgWordCount)||0)}),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}}),e,null,[[0,2]])})))),jn(n,"openDraftsDialog",Bn(zn().m((function e(){return zn().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,n.saveDraft(!1);case 1:return n.setState({draftsDialogOpen:!0}),e.n=2,n.loadDrafts();case 2:return e.n=3,n.updateDraftStats();case 3:return e.a(2)}}),e)})))),jn(n,"closeDraftsDialog",(function(){n.setState({draftsDialogOpen:!1,draftsSearchQuery:"",filterTags:[],filterStatus:null})})),jn(n,"handleDraftsSearch",(function(e){n.setState({draftsSearchQuery:e.target.value},(function(){clearTimeout(n.searchTimeout),n.searchTimeout=setTimeout(Bn(zn().m((function e(){return zn().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,n.loadDrafts();case 1:return e.a(2)}}),e)}))),300)}))})),jn(n,"formatDate",(function(e){var t=new Date(e),n=new Date-t;if(n<6e4)return"Just now";if(n<36e5){var r=Math.floor(n/6e4);return"".concat(r," minute").concat(r>1?"s":""," ago")}if(n<864e5){var a=Math.floor(n/36e5);return"".concat(a," hour").concat(a>1?"s":""," ago")}if(n<6048e5){var o=Math.floor(n/864e5);return"".concat(o," day").concat(o>1?"s":""," ago")}return t.toLocaleDateString()})),jn(n,"focus",(function(){var e=n.editorRef.current;e&&e.focus()})),jn(n,"toggleInlineStyle",(function(e){var t=n.editorRef.current;t&&t.dispatchCommand(w.mB,e)})),jn(n,"toggleBlockType",(function(e){var t=n.editorRef.current;t&&t.update((function(){var n=(0,w.vJq)();(0,w.I2P)(n)&&("bullet"===e?t.dispatchCommand(v.q7,void 0):"number"===e?t.dispatchCommand(v.x,void 0):"quote"===e?(0,A.zI)(n,(function(){return(0,g.xi)()})):"code"===e?(0,A.zI)(n,(function(){return(0,b.QC)()})):"paragraph"===e?(0,A.zI)(n,(function(){return(0,w.lJ7)()})):e.startsWith("h")&&(0,A.zI)(n,(function(){return(0,g.fi)(e)})))}))})),jn(n,"hasInlineStyle",(function(e){return n.state.activeFormats[e]||!1})),jn(n,"hasBlockType",(function(e){return n.state.activeBlockType===e})),jn(n,"openLinkDialog",(function(){var e=n.editorRef.current;if(e){var t="";e.getEditorState().read((function(){var e=(0,w.vJq)();(0,w.I2P)(e)&&(t=e.getTextContent())})),n.setState({linkDialogOpen:!0,linkText:t,linkUrl:""})}})),jn(n,"closeLinkDialog",(function(){n.setState({linkDialogOpen:!1,linkUrl:"",linkText:""})})),jn(n,"insertLink",(function(){var e=n.state,t=e.linkUrl,r=e.linkText,a=n.editorRef.current;a&&t&&(a.update((function(){var e=(0,w.vJq)();if((0,w.I2P)(e))if(e.isCollapsed()&&r){var n=(0,y.zA)(t);n.append((0,w.sTu)(r)),e.insertNodes([n])}else a.dispatchCommand(y.yW,t)})),n.closeLinkDialog())})),jn(n,"insertImage",(function(){n.showImageUrlDialog()})),jn(n,"insertImageUrl",(function(e){if(e){var t=n.editorRef.current;t&&t.update((function(){var t=(0,w.vJq)();if((0,w.I2P)(t)){var n=(0,w.sTu)("![Image](".concat(e,")"));t.insertNodes([n])}}))}})),jn(n,"handleImageUpload",(function(e){var t,r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){var a=new FileReader;a.onload=function(e){n.props.setGradient(e.target.result)},a.readAsDataURL(r)}})),jn(n,"removeCoverImage",(function(){n.props.setGradient&&n.props.setGradient(null)})),jn(n,"handleSave",Bn(zn().m((function e(){return zn().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,n.saveDraft(!0);case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return e.a(2)}}),e)})))),jn(n,"openPreview",(function(){n.setState({previewDialogOpen:!0})})),jn(n,"closePreview",(function(){n.setState({previewDialogOpen:!1})})),jn(n,"handlePublish",Bn(zn().m((function e(){return zn().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,n.handleSave();case 1:n.closePreview();case 2:return e.a(2)}}),e)})))),jn(n,"renderMarkdown",(function(e){try{return(0,L.yt)(e,{extensions:[(0,W.T)()],htmlExtensions:[(0,W.I)()]})}catch(e){return"<p>Error rendering content</p>"}})),jn(n,"openFormatMenu",(function(e){return n.setState({formatMenuAnchor:e.currentTarget})})),jn(n,"closeFormatMenu",(function(){return n.setState({formatMenuAnchor:null})})),jn(n,"openHeadingMenu",(function(e){return n.setState({headingMenuAnchor:e.currentTarget})})),jn(n,"openGradientEditor",(function(e){e.stopImmediatePropagation(),e.preventDefault(),n.setState({gradientEditorOpen:!0})})),jn(n,"closeHeadingMenu",(function(){return n.setState({headingMenuAnchor:null})})),jn(n,"openListMenu",(function(e){return n.setState({listMenuAnchor:e.currentTarget})})),jn(n,"closeListMenu",(function(){return n.setState({listMenuAnchor:null})})),jn(n,"toggleEditMenu",(function(){return n.setState({editOpened:!n.state.editOpened})})),jn(n,"resetEditMenu",(function(){return n.setState({editOpened:!1})})),jn(n,"closeGradientEditor",(function(e){n.setState({gradientEditorOpen:!1}),n.props.setGradient(e)})),jn(n,"_handleTabChange",(function(e,t){n.setState({tab:t},(function(){n.swipeableViewScrollTop(),1===parseInt(t)&&n.resetEditMenu()}))})),jn(n,"swipeableViewScrollTop",(function(){var e=document.getElementsByClassName("react-swipeable-view-container").item(0).children.item(0);e.style.scrollBehavior="smooth",e.scrollTop=0})),n.state={editorMode:"visual",markdownSource:"",initialMarkdown:"",title:"",description:"",tags:[],tab:0,currentDraftId:null,payout:"everyone",community:"governance",enableComments:!0,enableMonetization:!1,editOpened:!1,formatMenuAnchor:null,headingMenuAnchor:null,listMenuAnchor:null,linkDialogOpen:!1,linkUrl:"",linkText:"",previewDialogOpen:!1,draftsDialogOpen:!1,drafts:[],draftsLoading:!1,draftsSearchQuery:"",confirmDialogOpen:!1,confirmDialogTitle:"",confirmDialogMessage:"",confirmDialogAction:null,passwordDialogOpen:!1,passwordDialogTitle:"",passwordDialogValue:"",passwordDialogAction:null,imageUrlDialogOpen:!1,gradientEditorOpen:!1,imageUrlDialogValue:"",wordCount:0,readingTime:0,gradient:null,activeFormats:{bold:!1,italic:!1,underline:!1,strikethrough:!1,code:!1},activeBlockType:"paragraph"},n.editorRef=r.default.createRef(),n.fileInputRef=r.default.createRef(),n.draftManager=new Vn,n.autoSaveTimer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dn(e,t)}(t,e),Gn(t,[{key:"componentDidMount",value:(c=Bn(zn().m((function e(){var t;return zn().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,this.draftManager.getMostRecent();case 1:(t=e.v)&&this.loadDraftData(t);case 2:return e.a(2)}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),this.saveDraft()}},{key:"componentDidUpdate",value:function(e){e.gradient!==this.props.gradient&&this.forceUpdate()}},{key:"loadDraftData",value:function(e){try{var t,n;this.setState({markdownSource:e.content||"",initialMarkdown:e.content||"",title:e.title||"",description:e.description||"",tags:e.tags||[],currentDraftId:e._id,payout:(null===(t=e.settings)||void 0===t?void 0:t.payout)||"everyone",community:(null===(n=e.settings)||void 0===n?void 0:n.community)||"governance",lastSaved:e.lastModified});var r=this.editorRef.current;r&&e.content&&r.update((function(){j(e.content,{gfm:!0,tables:!0})})),e.gradient!==this.props.gradient&&this.props.setGradient(e.gradient)}catch(e){}}},{key:"saveDraft",value:(l=Bn(zn().m((function e(){var t,n,r,a,o,i,l,c,u,s,d,f,m,h=arguments;return zn().w((function(e){for(;;)switch(e.n){case 0:if(t=h.length>0&&void 0!==h[0]&&h[0],n=this.state,r=n.currentDraftId,n.editorMode,n.markdownSource,a=n.title,o=n.description,i=n.tags,l=n.community,c=n.payout,u=this.props.gradient,s=this.getEditorMarkdown(),d=s.replace(/[#*_\[\]()]/g,"").trim(),a.trim()||d.trim()){e.n=1;break}return e.a(2,null);case 1:return f=d.trim()?d.split(/\s+/).length:0,e.n=2,this.draftManager.save(r,{title:a||"Untitled",description:o,content:s,tags:i,gradient:u,wordCount:f,settings:{payout:c,community:l}});case 2:return(m=e.v)&&(this.setState({currentDraftId:m,lastSaved:Date.now()}),t&&et.trigger_snackbar("Draft saved")),e.a(2,m)}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"scheduleAutoSave",value:function(){var e=this;this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),this.autoSaveTimer=setTimeout((function(){return e.saveDraft()}),2e3)}},{key:"updateStats",value:function(){var e=this.state,t=e.editorMode,n=e.markdownSource,r="";if("markdown"===t)r=n.replace(/[#*_\[\]()]/g,"").trim();else{var a=this.editorRef.current;a&&a.getEditorState().read((function(){var e=(0,w.NiT)();r=e.getTextContent()}))}var o=r.trim()?r.trim().split(/\s+/).length:0;this.setState({wordCount:o,readingTime:Math.ceil(o/200)})}},{key:"createNewDraft",value:(i=Bn(zn().m((function e(){var t;return zn().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,this.saveDraft();case 1:this.setState({draftsDialogOpen:!1,markdownSource:"",initialMarkdown:"",title:"",description:"",tags:[],currentDraftId:null,lastSaved:null,editorMode:"visual"}),(t=this.editorRef.current)&&t.update((function(){var e=(0,w.NiT)();e.clear(),e.append((0,w.lJ7)())})),this.props.setGradient&&this.props.setGradient(null),et.trigger_snackbar("New draft created");case 2:return e.a(2)}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"loadDraft",value:(o=Bn(zn().m((function e(t){var n;return zn().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,this.saveDraft();case 1:return e.n=2,this.draftManager.get(t);case 2:(n=e.v)&&(this.loadDraftData(n),this.setState({draftsDialogOpen:!1}),et.trigger_snackbar("Draft loaded"));case 3:return e.a(2)}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"deleteDraft",value:(a=Bn(zn().m((function e(t){return zn().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,this.draftManager.delete(t);case 1:if(!e.v){e.n=4;break}if(this.state.currentDraftId!==t){e.n=2;break}return e.n=2,this.createNewDraft();case 2:return e.n=3,this.loadDrafts();case 3:et.trigger_snackbar("Draft deleted");case 4:return e.a(2)}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"loadDrafts",value:(n=Bn(zn().m((function e(){var t,n,r=this;return zn().w((function(e){for(;;)switch(e.n){case 0:return this.setState({draftsLoading:!0}),e.n=1,this.draftManager.getAll();case 1:t=e.v,n=this.state.draftsSearchQuery?t.filter((function(e){var t,n;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(r.state.draftsSearchQuery.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(r.state.draftsSearchQuery.toLowerCase()))})):t,this.setState({drafts:n,draftsLoading:!1});case 2:return e.a(2)}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.open,o=t.gradient,i=t.onClose,l=this.state,c=l.editorMode,u=l.markdownSource,s=l.initialMarkdown,d=l.title,f=l.description,m=(l.tags,l.payout),h=l.community,p=l.editOpened,g=l.formatMenuAnchor,v=l.headingMenuAnchor,b=l.listMenuAnchor,y=l.linkDialogOpen,E=l.linkUrl,A=l.linkText,C=l.wordCount,x=l.readingTime,M=l.tab,S=l.currentDraftId,k=l.draftsDialogOpen,T=l.drafts,D=l.draftsLoading,P=l.draftsSearchQuery,I=l.confirmDialogOpen,_=l.confirmDialogTitle,O=l.confirmDialogMessage,R=l.passwordDialogOpen,j=l.passwordDialogTitle,z=l.passwordDialogValue,N=l.imageUrlDialogOpen,H=l.imageUrlDialogValue,B=l.previewDialogOpen,L=l.gradientEditorOpen,W=window.innerWidth<=960,U=r.default.createElement(tr,{classes:n,mobile:W,tab:M,onOpenDrafts:this.openDraftsDialog,onFinish:function(){return e.setState({tab:1},e.resetEditMenu)},onPreview:this.openPreview}),F=r.default.createElement(Zn,{classes:n,editorMode:c,title:d,description:f,initialMarkdown:s,markdownSource:u,editorRef:this.editorRef,onTitleChange:function(t){return e.setState({title:t.target.value})},onDescriptionChange:function(t){return e.setState({description:t.target.value})},onChange:this.onChange,onMarkdownChange:this.onMarkdownChange,onFocus:this.focus,onSave:this.handleSave,onToggleEditorMode:this.toggleEditorMode}),Y=r.default.createElement(er,{classes:n,gradient:o,payout:m,community:h,fileInputRef:this.fileInputRef,onImageUpload:this.handleImageUpload,onRemoveImage:this.removeCoverImage,onOpenGradientEditor:this.openGradientEditor,onPayoutChange:function(t){return e.setState({payout:t.target.value})},onCommunityChange:function(t){return e.setState({community:t.target.value})},mobile:W,actionButtons:U}),q=W?r.default.createElement(r.default.Fragment,null,r.default.createElement(pn.Ay,{axis:"y",ignoreNativeScroll:!1,containerStyle:{minHeight:"100%",height:"100%",position:"relative"},animateHeight:!1,animateTransitions:!0,disableLazyLoading:!0,resistance:!0,springConfig:{tension:450,friction:60,duration:"120ms",easeFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)",delay:"5ms"},index:M,onChangeIndex:function(t){return e._handleTabChange({},t)},disabled:!1,key:"swipe-able-view"},F,Y),U):[F,Y],J=this.getEditorMarkdown();return r.default.createElement(r.default.Fragment,null,r.default.createElement(G.A,{className:n.dialog,open:a,maxWidth:!1,onClose:i},r.default.createElement(Ue.A,{position:"sticky",className:n.appBar},r.default.createElement(Ve.A,null,r.default.createElement(ne.A,{flexGrow:1,ml:2},r.default.createElement(X.A,{variant:"h6",style:{fontWeight:500}},"Write a New Blog Post"),r.default.createElement(X.A,{variant:"caption",style:{color:"rgba(255,255,255,0.6)"}},C," words  ",x," min read",S&&"  Draft saved")),r.default.createElement(Fe.A,{color:"inherit",onClick:i},r.default.createElement(tt.A,null)))),r.default.createElement(V.A,{className:n.contentArea},r.default.createElement("div",{className:n.mainContainer},q)),r.default.createElement($n,{classes:n,editorMode:c,tab:M,mobile:W,editOpened:p,hasInlineStyle:this.hasInlineStyle,hasBlockType:this.hasBlockType,onToggleEditMenu:this.toggleEditMenu,onToggleInlineStyle:this.toggleInlineStyle,onToggleBlockType:this.toggleBlockType,onOpenFormatMenu:this.openFormatMenu,onOpenListMenu:this.openListMenu,onOpenHeadingMenu:this.openHeadingMenu,onOpenLinkDialog:this.openLinkDialog,onInsertImage:this.insertImage,onUndo:function(){var t=e.editorRef.current;t&&t.dispatchCommand(w.ZKf,void 0)},onRedo:function(){var t=e.editorRef.current;t&&t.dispatchCommand(w.V30,void 0)}})),r.default.createElement(ar,{classes:n,open:B,title:d,description:f,content:J,wordCount:C,readingTime:x,onClose:this.closePreview,onPublish:this.handlePublish,renderMarkdown:this.renderMarkdown}),r.default.createElement(rr,{classes:n,open:k,drafts:T,loading:D,searchQuery:P,onClose:this.closeDraftsDialog,onNewDraft:function(){return e.createNewDraft()},onLoadDraft:function(t){return e.loadDraft(t)},onDeleteDraft:function(t){return e.deleteDraft(t)},onSearchChange:function(t){return e.handleDraftsSearch(t)},formatDate:this.formatDate}),r.default.createElement(lr,{classes:n,open:I,title:_,message:O,onClose:this.closeConfirmDialog,onConfirm:this.handleConfirmAction}),r.default.createElement(cr,{classes:n,open:R,title:j,value:z,onClose:this.closePasswordDialog,onConfirm:this.handlePasswordAction,onChange:function(t){return e.setState({passwordDialogValue:t.target.value})}}),r.default.createElement(ir,{classes:n,open:N,value:H,onClose:this.closeImageUrlDialog,onInsert:this.handleImageUrlInsert,onChange:function(t){return e.setState({imageUrlDialogValue:t.target.value})}}),r.default.createElement(ur,{classes:n,formatMenuAnchor:g,headingMenuAnchor:v,listMenuAnchor:b,onCloseFormatMenu:this.closeFormatMenu,onCloseHeadingMenu:this.closeHeadingMenu,onCloseListMenu:this.closeListMenu,onToggleInlineStyle:this.toggleInlineStyle,onToggleBlockType:this.toggleBlockType}),r.default.createElement(or,{classes:n,open:y,linkText:A,linkUrl:E,onClose:this.closeLinkDialog,onInsert:this.insertLink,onTextChange:function(t){return e.setState({linkText:t.target.value})},onUrlChange:function(t){return e.setState({linkUrl:t.target.value})}}),r.default.createElement(Ge,{open:L,onAccept:this.closeGradientEditor,onClose:this.closeGradientEditor}))}}]);var n,a,o,i,l,c}(r.PureComponent);const dr=(0,a.default)((function(e){var t;return{dialog:{"& .MuiDialog-paper":jn(jn({zIndex:e.zIndex.drawer+10,backgroundColor:"#0c0c0c",color:"#fff",borderRadius:21},e.breakpoints.down("sm"),{margin:0,maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",borderRadius:0}),e.breakpoints.up("md"),{maxWidth:"90vw",width:1200,height:"85vh"}),"& .MuiBackdrop-root":{zIndex:e.zIndex.drawer+1,backdropFilter:"blur(9px) grayscale(1)",overflow:"hidden",userSelect:"none"}},tooltipRoot:{maxWidth:"min(75vw, 500px)",borderRadius:"16px",backgroundColor:"#dddddd !important",color:"#0e0e0e !important"},tooltip:{margin:"8px",display:"block",fontSize:"14px",lineHeight:"22px"},appBar:{backgroundColor:"transparent",boxShadow:"none","& .MuiToolbar-root":{minHeight:64,padding:"0 24px"}},contentArea:{display:"flex",flexDirection:"column",height:"100%",position:"relative",padding:0,overflow:"hidden",backgroundColor:"#0a0a0a"},mainContainer:jn({display:"flex",flex:1,overflow:"hidden",position:"relative"},e.breakpoints.down("sm"),{flexDirection:"column",overflow:"auto","& div.react-swipeable-view-container > div":{minHeight:"100%",maxHeight:"100%"},"& > div:first-child":{height:"100%"}}),modeToggleButton:{position:"absolute",backgroundColor:"#fff",color:"#000",borderRadius:24,padding:"8px 24px",margin:"12px 24px",textTransform:"none",fontWeight:500,"&:hover":{backgroundColor:"#f0f0f0"}},fixedSidebar:jn({position:"fixed",top:"50%",transform:"translateY(-50%) !important",width:48,backgroundColor:"#ffffff",boxShadow:"2px 0 12px rgba(0,0,0,0.1)",zIndex:1100,display:"flex",flexDirection:"column",alignItems:"center",padding:"8px 0",borderRadius:"24px",marginLeft:"-24px",gap:2,"& .close, & .edit":{display:"none"}},e.breakpoints.down("sm"),{right:8,width:40,padding:4,height:40,overflow:"hidden",transform:"translateY(-50%) !important",transition:"opacity 196ms cubic-bezier(0.4, 0, 0.2, 1), transform 131ms cubic-bezier(0.4, 0, 0.2, 1), height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms, max-height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms !important","&.opened":{padding:8,transition:"opacity 196ms cubic-bezier(0.4, 0, 0.2, 1), transform 131ms cubic-bezier(0.4, 0, 0.2, 1), height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms, max-height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms !important",height:"410px"},"& .close, & .edit":{display:"flex"}}),fixedSidebarMode:jn({position:"fixed",top:"50%",width:48,zIndex:1100,display:"flex",flexDirection:"column",alignItems:"center",padding:"0px",borderRadius:"24px",marginLeft:"-24px",gap:2,"& .close, & .edit":{display:"none"}},e.breakpoints.down("sm"),{right:8,width:40,padding:4,height:40,overflow:"hidden",transform:"translateY(-50%) !important",transition:"opacity 196ms cubic-bezier(0.4, 0, 0.2, 1), transform 131ms cubic-bezier(0.4, 0, 0.2, 1), height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms, max-height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms !important","&.opened":{padding:8,transition:"opacity 196ms cubic-bezier(0.4, 0, 0.2, 1), transform 131ms cubic-bezier(0.4, 0, 0.2, 1), height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms, max-height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms !important",height:"410px"},"& .close, & .edit":{display:"flex"}}),menuIconButton:jn(jn(jn({color:"#616161",padding:0,margin:0,height:48,width:48,"& .MuiSvgIcon-root":{fontSize:"2rem"}},e.breakpoints.down("sm"),{width:32,height:32,padding:4,"& .MuiSvgIcon-root":{fontSize:"1.125rem"}}),"&:hover",{backgroundColor:"rgba(0,0,0,0.1)",color:"#212121"}),"&.active",{backgroundColor:"rgba(0,0,0,0.2)",color:"#101010"}),menuIconButtonFab:jn(jn(jn({position:"fixed",marginLeft:"-64px",width:64,height:64,backgroundColor:"#d1d1d1",color:"#000",boxShadow:"2px 0 12px rgba(0,0,0,0.1)",padding:0,margin:0,"& .MuiSvgIcon-root":{fontSize:"2rem"}},e.breakpoints.down("sm"),{height:48,width:48,marginLeft:0,marginTop:"16px",right:16,"& .MuiSvgIcon-root":{fontSize:"1.125rem"}}),"&:hover",{backgroundColor:"rgba(0,0,0,0.1)",color:"#212121"}),"&.active",{backgroundColor:"rgba(0,0,0,0.2)",color:"#101010"}),menuDivider:{width:"calc(100% - 16px)",height:1,backgroundColor:"#999",margin:"2px 0px"},editorSection:jn({flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#171717",paddingLeft:32,paddingRight:16,borderRadius:"0px 32px 0px 0px"},e.breakpoints.down("sm"),{paddingLeft:8,paddingRight:8,borderRadius:"0px",overflow:"overlay",minHeight:"100%",maxHeight:"100%",position:"relative"}),editorHeader:{padding:e.spacing(3,3,2,3)},titleInput:{"& .MuiInputBase-root":{color:"#fff",fontSize:"2rem",fontWeight:600,padding:0,"&:before":{borderBottom:"none"},"&:hover:before":{borderBottom:"none"},"&:after":{borderBottom:"2px solid rgba(255,255,255,0.2)"}},"& .MuiInputBase-input":{padding:"8px 0"}},descriptionInput:{marginTop:16,"& .MuiInputBase-root":{color:"#ccc",fontSize:"1rem","&:before":{borderBottom:"none"},"&:hover:before":{borderBottom:"none"},"&:after":{borderBottom:"2px solid rgba(255,255,255,0.2)"}}},editorWrapper:(t={position:"initial",flex:1,margin:"16px 24px 0px 24px",backgroundColor:"#0a0a0a",borderRadius:"32px 32px 0px 0px",cursor:"text"},jn(jn(jn(jn(jn(jn(jn(jn(jn(jn(t,e.breakpoints.down("sm"),{borderRadius:"24px 24px 0px 0px",margin:"16px 24px 0px 24px"}),"&.markdown",{overflow:"hidden","& textarea":{padding:24}}),"&.visual",{overflow:"auto","& > div":{padding:24}}),"& .DraftEditor-root",{minHeight:"100%",color:"#e0e0e0",fontSize:16,lineHeight:1.6}),"& .DraftEditor-editorContainer",{minHeight:"100%"}),"& .public-DraftEditor-content",{minHeight:"100%"}),"& .public-DraftStyleDefault-block",{marginBottom:"1em"}),"& h1",{fontSize:"2.5em",fontWeight:600,color:"#fff",margin:"0.5em 0"}),"& h2",{fontSize:"2em",fontWeight:600,color:"#fff",margin:"0.5em 0"}),"& h3",{fontSize:"1.5em",fontWeight:600,color:"#fff",margin:"0.5em 0"}),jn(jn(jn(jn(jn(jn(jn(jn(jn(jn(t,"& blockquote",{borderLeft:"3px solid rgba(255,255,255,0.2)",paddingLeft:16,margin:"1em 0",color:"rgba(255,255,255,0.8)"}),"& pre",{backgroundColor:"rgba(255,255,255,0.05)",padding:16,borderRadius:8,overflow:"auto",fontFamily:"monospace"}),"& a",{color:"#ffffff",textDecoration:"underline"}),"& textarea",{width:"100%",minHeight:"100%",height:"100%",backgroundColor:"transparent",border:"none",outline:"none",color:"#e0e0e0",fontSize:16,lineHeight:1.6,fontFamily:"monospace",resize:"none",padding:0}),"& table",{width:"100%",borderCollapse:"collapse",margin:"1.5em 0",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:8,overflow:"hidden"}),"& th, & td",{padding:12,borderBottom:"1px solid rgba(255,255,255,0.1)",textAlign:"left"}),"& th",{fontWeight:600,color:"#fff",backgroundColor:"rgba(255,255,255,0.05)"}),"& tr:hover",{backgroundColor:"rgba(255,255,255,0.03)"}),"& .lexical-editor-root",{minHeight:"100%",color:"#e0e0e0",fontSize:16,lineHeight:1.6,outline:"none"}),"& .lexical-bold",{fontWeight:"bold"}),jn(jn(jn(jn(jn(t,"& .lexical-italic",{fontStyle:"italic"}),"& .lexical-underline",{textDecoration:"underline"}),"& .lexical-strikethrough",{textDecoration:"line-through"}),"& .lexical-code",{backgroundColor:"rgba(255,255,255,0.1)",padding:"2px 4px",borderRadius:4,fontFamily:"monospace",fontSize:"0.9em"}),"& .lexical-link",{color:"#90caf9",textDecoration:"none","&:hover":{textDecoration:"underline"}})),settingsPanel:jn({width:360,display:"flex",flexDirection:"column",backgroundColor:"transparent",overflow:"auto"},e.breakpoints.down("sm"),{width:"100%"}),settingsContent:jn({padding:"0px 24px",flex:1,overflow:"auto"},e.breakpoints.down("sm"),{padding:"24px"}),settingsActions:{padding:e.spacing(2,3),display:"flex",justifyContent:"space-between"},subTitle2:{color:"#ccc",fontSize:"1rem","& button.MuiIconButton-root":{color:"#666"}},settingsSection:{marginBottom:e.spacing(3)},imageUploadArea:{position:"relative",width:"100%",height:175.5,border:"2px dashed rgba(255,255,255,0.2)",borderRadius:24,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease",overflow:"hidden","&:hover":{borderColor:"rgba(255,255,255,0.4)",backgroundColor:"rgba(255,255,255,0.02)"}},uploadedImage:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",top:0,left:0,right:0,bottom:0},imageOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 50%)",display:"flex",alignItems:"flex-end",padding:e.spacing(2),opacity:.5,transition:"opacity 0.3s","&:hover":{opacity:1}},formatMenu:{"& .MuiPaper-root":{backgroundColor:"#e3e3e3",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.12)"},"& .MuiListItemText-root":{color:"#171717"},"& .MuiListItemIcon-root":{color:"#0c0c0c"}},tagsInput:{"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(255,255,255,0.24)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.48)"}},"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.7)"}},darkDialog:{backgroundColor:"#212121",color:"#fff",borderRadius:16},darkDialogContent:{padding:24},darkDialogActions:{padding:"8px 16px 16px",display:"flex",justifyContent:"flex-end"},darkInput:{"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.8)"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(255,255,255,0.24)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.48)"},"&.Mui-focused fieldset":{borderColor:"#fff"}}},draftsDialog:{"& .MuiDialog-paper":{backgroundColor:"#1a1a1a",color:"#fff",borderRadius:24,maxWidth:900,width:"95%",maxHeight:"85vh",overflow:"hidden"}},draftsDialogTitle:{background:"#1a1a1a",padding:e.spacing(3,4),display:"flex",justifyContent:"space-between",alignItems:"center"},draftsDialogContent:{padding:0,backgroundColor:"#1a1a1a",display:"flex",flexDirection:"column"},searchField:{margin:e.spacing(3,4,2,4),maxWidth:400,"& .MuiOutlinedInput-root":{color:"#fff",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:16,"& fieldset":{borderColor:"rgba(255,255,255,0.15)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.25)"},"&.Mui-focused fieldset":{borderColor:"rgba(255,255,255,0.4)"}},"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.6)"},"& .MuiInputAdornment-root svg":{color:"rgba(255,255,255,0.4)"}},draftsList:{padding:0,flex:1,overflow:"auto"},draftCard:{backgroundColor:"#0c0c0c",borderRadius:16,margin:e.spacing(1,4,2,4),cursor:"pointer",transition:"background-color 0.2s ease","&:hover":{backgroundColor:"#000000"}},draftCardContent:{padding:e.spacing(3),"&:last-child":{paddingBottom:e.spacing(3)}},draftHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:e.spacing(2)},draftTitle:{fontSize:"1.25rem",fontWeight:600,color:"#fff",marginBottom:e.spacing(1),lineHeight:1.3},draftDescription:{color:"rgba(255,255,255,0.7)",fontSize:"0.95rem",lineHeight:1.5,marginBottom:e.spacing(2)},draftMeta:{display:"flex",flexWrap:"wrap",gap:e.spacing(2),alignItems:"center",color:"rgba(255,255,255,0.5)",fontSize:"0.85rem"},draftMetaItem:{display:"flex",alignItems:"center",gap:e.spacing(.5)},draftTags:{display:"flex",gap:e.spacing(.5),flexWrap:"wrap",marginTop:e.spacing(1)},draftTag:{backgroundColor:"rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.8)",borderRadius:12,fontSize:"0.75rem",height:24},emptyState:{padding:e.spacing(8,4),textAlign:"center",color:"rgba(255,255,255,0.5)",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},emptyStateIcon:{fontSize:80,marginBottom:e.spacing(3),color:"rgba(255,255,255,0.3)"},loadingState:{padding:e.spacing(8),display:"flex",justifyContent:"center",alignItems:"center",flex:1},draftAvatar:{backgroundColor:"rgba(255,255,255,0.1)",color:"#fff",width:40,height:40},deleteButton:{color:"rgba(255,255,255,0.4)","&:hover":{color:"#ffffff",backgroundColor:"rgba(255,255,255,0.1)"}},confirmDialog:{"& .MuiDialog-paper":{backgroundColor:"#2a2a2a",color:"#fff",borderRadius:16,maxWidth:400}},passwordDialog:{"& .MuiDialog-paper":{backgroundColor:"#2a2a2a",color:"#fff",borderRadius:16,maxWidth:400}},imageUrlDialog:{"& .MuiDialog-paper":{backgroundColor:"#2a2a2a",color:"#fff",borderRadius:16,maxWidth:400}},previewDialog:{"& .MuiDialog-paper":{backgroundColor:"#1a1a1a",color:"#fff",borderRadius:24,maxWidth:900,width:"95%",maxHeight:"90vh",overflow:"hidden"}},previewDialogTitle:{background:"linear-gradient(180deg, #1a1a1a 0%, transparent 100%)",padding:e.spacing(3,4),display:"flex",justifyContent:"space-between",alignItems:"center"},previewDialogContent:{padding:e.spacing(4),backgroundColor:"#0a0a0a",overflow:"auto"},previewTitle:{fontSize:"2.5rem",fontWeight:700,color:"#fff",marginBottom:e.spacing(2),lineHeight:1.2},previewDescription:{fontSize:"1.25rem",color:"rgba(255,255,255,0.8)",marginBottom:e.spacing(4),lineHeight:1.5},previewContent:{color:"#e0e0e0",fontSize:"1.125rem",lineHeight:1.8,"& h1":{fontSize:"2.5em",fontWeight:600,color:"#fff",margin:"1em 0 0.5em"},"& h2":{fontSize:"2em",fontWeight:600,color:"#fff",margin:"1em 0 0.5em"},"& h3":{fontSize:"1.5em",fontWeight:600,color:"#fff",margin:"1em 0 0.5em"},"& p":{marginBottom:"1em"},"& blockquote":{borderLeft:"4px solid rgba(255,255,255,0.3)",paddingLeft:24,margin:"1.5em 0",color:"rgba(255,255,255,0.8)",fontStyle:"italic"},"& pre":{backgroundColor:"rgba(255,255,255,0.05)",padding:24,borderRadius:12,overflow:"auto",fontFamily:"monospace",margin:"1.5em 0"},"& code":{backgroundColor:"rgba(255,255,255,0.1)",padding:"2px 6px",borderRadius:4,fontFamily:"monospace",fontSize:"0.9em"},"& pre code":{backgroundColor:"transparent",padding:0},"& a":{color:"#90caf9",textDecoration:"none","&:hover":{textDecoration:"underline"}},"& ul, & ol":{marginBottom:"1em",paddingLeft:"2em"},"& li":{marginBottom:"0.5em"},"& img":{maxWidth:"100%",height:"auto",borderRadius:12,margin:"1.5em 0"},"& table":{width:"100%",borderCollapse:"collapse",margin:"1.5em 0","& th, & td":{padding:12,borderBottom:"1px solid rgba(255,255,255,0.1)",textAlign:"left"},"& th":{fontWeight:600,color:"#fff"}}},previewDialogActions:{padding:e.spacing(3,4),background:"linear-gradient(0deg, #1a1a1a 0%, transparent 100%)",display:"flex",justifyContent:"space-between",alignItems:"center"}}}))(sr)}}]);