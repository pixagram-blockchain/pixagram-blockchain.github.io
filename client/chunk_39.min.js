(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([[39],{1488:(t,e,i)=>{var r=i(687),n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),i={},r=0;r<e.length;r++)i[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return i},o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(u(arguments[i]));return e.join(" ")}i=1;for(var r=arguments,n=r.length,s=String(t).replace(o,(function(t){if("%%"===t)return"%";if(i>=n)return t;switch(t){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch(t){return"[Circular]"}default:return t}})),a=r[i];i<n;a=r[++i])m(a)||!E(a)?s+=" "+a:s+=" "+u(a);return s},e.deprecate=function(t,i){if(void 0!==r&&!0===r.noDeprecation)return t;if(void 0===r)return function(){return e.deprecate(t,i).apply(this,arguments)};var n=!1;return function(){if(!n){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation,n=!0}return t.apply(this,arguments)}};var s={},a=/^$/;if(r.env.NODE_DEBUG){var c=r.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+c+"$","i")}function u(t,i){var r={seen:[],stylize:f};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(i)?r.showHidden=i:i&&e._extend(r,i),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=h),l(r,t,r.depth)}function h(t,e){var i=u.styles[e];return i?"["+u.colors[i][0]+"m"+t+"["+u.colors[i][1]+"m":t}function f(t,e){return t}function l(t,i,r){if(t.customInspect&&i&&A(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var n=i.inspect(r,t);return v(n)||(n=l(t,n,r)),n}var o=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(v(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return _(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}(t,i);if(o)return o;var s=Object.keys(i),a=function(t){var e={};return t.forEach((function(t,i){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(i)),B(i)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(i);if(0===s.length){if(A(i)){var c=i.name?": "+i.name:"";return t.stylize("[Function"+c+"]","special")}if(w(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(x(i))return t.stylize(Date.prototype.toString.call(i),"date");if(B(i))return d(i)}var u,h="",f=!1,E=["{","}"];return b(i)&&(f=!0,E=["[","]"]),A(i)&&(h=" [Function"+(i.name?": "+i.name:"")+"]"),w(i)&&(h=" "+RegExp.prototype.toString.call(i)),x(i)&&(h=" "+Date.prototype.toUTCString.call(i)),B(i)&&(h=" "+d(i)),0!==s.length||f&&0!=i.length?r<0?w(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special"):(t.seen.push(i),u=f?function(t,e,i,r,n){for(var o=[],s=0,a=e.length;s<a;++s)k(e,String(s))?o.push(p(t,e,i,r,String(s),!0)):o.push("");return n.forEach((function(n){n.match(/^\d+$/)||o.push(p(t,e,i,r,n,!0))})),o}(t,i,r,a,s):s.map((function(e){return p(t,i,r,a,e,f)})),t.seen.pop(),function(t,e,i){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}(u,h,E)):E[0]+h+E[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,i,r,n,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),k(r,n)||(s="["+n+"]"),a||(t.seen.indexOf(c.value)<0?(a=m(i)?l(t,c.value,null):l(t,c.value,i-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),g(s)){if(o&&n.match(/^\d+$/))return a;(s=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function b(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function m(t){return null===t}function _(t){return"number"==typeof t}function v(t){return"string"==typeof t}function g(t){return void 0===t}function w(t){return E(t)&&"[object RegExp]"===S(t)}function E(t){return"object"==typeof t&&null!==t}function x(t){return E(t)&&"[object Date]"===S(t)}function B(t){return E(t)&&("[object Error]"===S(t)||t instanceof Error)}function A(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.debuglog=function(t){return t=t.toUpperCase(),s[t]||(a.test(t)?(r.pid,s[t]=function(){e.format.apply(e,arguments)}):s[t]=function(){}),s[t]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=i(1489),e.isArray=b,e.isBoolean=y,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=_,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=w,e.types.isRegExp=w,e.isObject=E,e.isDate=x,e.types.isDate=x,e.isError=B,e.types.isNativeError=B,e.isFunction=A,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=i(1520),e.log=function(){},e.inherits=i(1521),e._extend=function(t,e){if(!e||!E(e))return t;for(var i=Object.keys(e),r=i.length;r--;)t[i[r]]=e[i[r]];return t};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(t,e){if(!t){var i=new Error("Promise was rejected with a falsy value");i.reason=t,t=i}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(C&&t[C]){var e;if("function"!=typeof(e=t[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,i,r=new Promise((function(t,r){e=t,i=r})),n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);n.push((function(t,r){t?i(t):e(r)}));try{t.apply(this,n)}catch(t){i(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),C&&Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=C,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);var n=e.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return n.apply(o,arguments)};t.apply(this,e).then((function(t){r.nextTick(s.bind(null,null,t))}),(function(t){r.nextTick(M.bind(null,t,s))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}},1489:(t,e,i)=>{"use strict";var r=i(1490),n=i(1513),o=i(1514),s=i(1519);function a(t){return t.call.bind(t)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,h=a(Object.prototype.toString),f=a(Number.prototype.valueOf),l=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(c)var p=a(BigInt.prototype.valueOf);if(u)var b=a(Symbol.prototype.valueOf);function y(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function m(t){return"[object Map]"===h(t)}function _(t){return"[object Set]"===h(t)}function v(t){return"[object WeakMap]"===h(t)}function g(t){return"[object WeakSet]"===h(t)}function w(t){return"[object ArrayBuffer]"===h(t)}function E(t){return"undefined"!=typeof ArrayBuffer&&(w.working?w(t):t instanceof ArrayBuffer)}function x(t){return"[object DataView]"===h(t)}function B(t){return"undefined"!=typeof DataView&&(x.working?x(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=n,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||B(t)},e.isUint8Array=function(t){return"Uint8Array"===o(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===o(t)},e.isUint16Array=function(t){return"Uint16Array"===o(t)},e.isUint32Array=function(t){return"Uint32Array"===o(t)},e.isInt8Array=function(t){return"Int8Array"===o(t)},e.isInt16Array=function(t){return"Int16Array"===o(t)},e.isInt32Array=function(t){return"Int32Array"===o(t)},e.isFloat32Array=function(t){return"Float32Array"===o(t)},e.isFloat64Array=function(t){return"Float64Array"===o(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===o(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===o(t)},m.working="undefined"!=typeof Map&&m(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(m.working?m(t):t instanceof Map)},_.working="undefined"!=typeof Set&&_(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(_.working?_(t):t instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(v.working?v(t):t instanceof WeakMap)},g.working="undefined"!=typeof WeakSet&&g(new WeakSet),e.isWeakSet=function(t){return g(t)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),e.isArrayBuffer=E,x.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&x(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=B;var A="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function S(t){return"[object SharedArrayBuffer]"===h(t)}function k(t){return void 0!==A&&(void 0===S.working&&(S.working=S(new A)),S.working?S(t):t instanceof A)}function C(t){return y(t,f)}function M(t){return y(t,l)}function O(t){return y(t,d)}function F(t){return c&&y(t,p)}function I(t){return u&&y(t,b)}e.isSharedArrayBuffer=k,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===h(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===h(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===h(t)},e.isGeneratorObject=function(t){return"[object Generator]"===h(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===h(t)},e.isNumberObject=C,e.isStringObject=M,e.isBooleanObject=O,e.isBigIntObject=F,e.isSymbolObject=I,e.isBoxedPrimitive=function(t){return C(t)||M(t)||O(t)||F(t)||I(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(E(t)||k(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},1514:(t,e,i)=>{"use strict";var r=i(1515),n=i(1517),o=i(1507),s=i(1493),a=i(1511),c=s("Object.prototype.toString"),u=i(1491)(),h="undefined"==typeof globalThis?i.g:globalThis,f=n(),l=s("String.prototype.slice"),d=Object.getPrototypeOf,p=s("Array.prototype.indexOf",!0)||function(t,e){for(var i=0;i<t.length;i+=1)if(t[i]===e)return i;return-1},b={__proto__:null};r(f,u&&a&&d?function(t){var e=new h[t];if(Symbol.toStringTag in e){var i=d(e),r=a(i,Symbol.toStringTag);if(!r){var n=d(i);r=a(n,Symbol.toStringTag)}b["$"+t]=o(r.get)}}:function(t){var e=new h[t],i=e.slice||e.set;i&&(b["$"+t]=o(i))}),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!u){var e=l(c(t),8,-1);return p(f,e)>-1?e:"Object"===e&&function(t){var e=!1;return r(b,(function(i,r){if(!e)try{i(t),e=l(r,1)}catch(t){}})),e}(t)}return a?function(t){var e=!1;return r(b,(function(i,r){if(!e)try{"$"+i(t)===r&&(e=l(r,1))}catch(t){}})),e}(t):null}},1520:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},1562:(t,e,i)=>{"use strict";var r=i(1542).Buffer,n=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===n||!n(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=h,this.end=f,e=3;break;default:return this.write=l,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,i=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function h(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},o.prototype.text=function(t,e){var i=function(t,e,i){var r=e.length-1;if(r<i)return 0;var n=s(e[r]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--r<i||-2===n?0:(n=s(e[r]))>=0?(n>0&&(t.lastNeed=n-2),n):--r<i||-2===n?0:(n=s(e[r]))>=0?(n>0&&(2===n?n=0:t.lastNeed=n-3),n):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var r=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},1570:(t,e,i)=>{var r=t.exports=function(t){t=t.toLowerCase();var e=r[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};r.sha=i(1571),r.sha1=i(1573),r.sha224=i(1574),r.sha256=i(1575),r.sha384=i(1576),r.sha512=i(1577)},1571:(t,e,i)=>{var r=i(1521),n=i(1572),o=i(1542).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,n.call(this,64,56)}function u(t){return t<<30|t>>>2}function h(t,e,i,r){return 0===t?e&i|~e&r:2===t?e&i|e&r|i&r:e^i^r}r(c,n),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,i=this._w,r=0|this._a,n=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,f=0;f<16;++f)i[f]=t.readInt32BE(4*f);for(;f<80;++f)i[f]=i[f-3]^i[f-8]^i[f-14]^i[f-16];for(var l=0;l<80;++l){var d=~~(l/20),p=0|((e=r)<<5|e>>>27)+h(d,n,o,a)+c+i[l]+s[d];c=a,a=o,o=u(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},1572:(t,e,i)=>{var r=i(1542).Buffer;function n(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}n.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=r.from(t,e));for(var i=this._block,n=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var c=s%n,u=Math.min(o-a,n-c),h=0;h<u;h++)i[c+h]=t[a+h];a+=u,(s+=u)%n==0&&this._update(i)}return this._len+=o,this},n.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var r=(4294967295&i)>>>0,n=(i-r)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},1573:(t,e,i)=>{var r=i(1521),n=i(1572),o=i(1542).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,n.call(this,64,56)}function u(t){return t<<5|t>>>27}function h(t){return t<<30|t>>>2}function f(t,e,i,r){return 0===t?e&i|~e&r:2===t?e&i|e&r|i&r:e^i^r}r(c,n),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,i=this._w,r=0|this._a,n=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,l=0;l<16;++l)i[l]=t.readInt32BE(4*l);for(;l<80;++l)i[l]=(e=i[l-3]^i[l-8]^i[l-14]^i[l-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),b=u(r)+f(p,n,o,a)+c+i[d]+s[p]|0;c=a,a=o,o=h(n),n=r,r=b}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},1574:(t,e,i)=>{var r=i(1521),n=i(1575),o=i(1572),s=i(1542).Buffer,a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}r(c,n),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},1575:(t,e,i)=>{var r=i(1521),n=i(1572),o=i(1542).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,n.call(this,64,56)}function u(t,e,i){return i^t&(e^i)}function h(t,e,i){return t&e|i&(t|e)}function f(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function l(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(c,n),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,i=this._w,r=0|this._a,n=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,p=0|this._f,b=0|this._g,y=0|this._h,m=0;m<16;++m)i[m]=t.readInt32BE(4*m);for(;m<64;++m)i[m]=0|(((e=i[m-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+i[m-7]+d(i[m-15])+i[m-16];for(var _=0;_<64;++_){var v=y+l(c)+u(c,p,b)+s[_]+i[_]|0,g=f(r)+h(r,n,o)|0;y=b,b=p,p=c,c=a+v|0,a=o,o=n,n=r,r=v+g|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=b+this._g|0,this._h=y+this._h|0},c.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},1576:(t,e,i)=>{var r=i(1521),n=i(1577),o=i(1572),s=i(1542).Buffer,a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}r(c,n),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,i,r){t.writeInt32BE(e,r),t.writeInt32BE(i,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},1577:(t,e,i)=>{var r=i(1521),n=i(1572),o=i(1542).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,n.call(this,128,112)}function u(t,e,i){return i^t&(e^i)}function h(t,e,i){return t&e|i&(t|e)}function f(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function l(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function b(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function y(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function m(t,e){return t>>>0<e>>>0?1:0}r(c,n),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,i=0|this._ah,r=0|this._bh,n=0|this._ch,o=0|this._dh,a=0|this._eh,c=0|this._fh,_=0|this._gh,v=0|this._hh,g=0|this._al,w=0|this._bl,E=0|this._cl,x=0|this._dl,B=0|this._el,A=0|this._fl,S=0|this._gl,k=0|this._hl,C=0;C<32;C+=2)e[C]=t.readInt32BE(4*C),e[C+1]=t.readInt32BE(4*C+4);for(;C<160;C+=2){var M=e[C-30],O=e[C-30+1],F=d(M,O),I=p(O,M),L=b(M=e[C-4],O=e[C-4+1]),R=y(O,M),z=e[C-14],N=e[C-14+1],P=e[C-32],j=e[C-32+1],T=I+N|0,D=F+z+m(T,I)|0;D=(D=D+L+m(T=T+R|0,R)|0)+P+m(T=T+j|0,j)|0,e[C]=D,e[C+1]=T}for(var U=0;U<160;U+=2){D=e[U],T=e[U+1];var K=h(i,r,n),q=h(g,w,E),V=f(i,g),G=f(g,i),J=l(a,B),W=l(B,a),Y=s[U],H=s[U+1],$=u(a,c,_),X=u(B,A,S),Q=k+W|0,Z=v+J+m(Q,k)|0;Z=(Z=(Z=Z+$+m(Q=Q+X|0,X)|0)+Y+m(Q=Q+H|0,H)|0)+D+m(Q=Q+T|0,T)|0;var tt=G+q|0,et=V+K+m(tt,G)|0;v=_,k=S,_=c,S=A,c=a,A=B,a=o+Z+m(B=x+Q|0,x)|0,o=n,x=E,n=r,E=w,r=i,w=g,i=Z+et+m(g=Q+tt|0,Q)|0}this._al=this._al+g|0,this._bl=this._bl+w|0,this._cl=this._cl+E|0,this._dl=this._dl+x|0,this._el=this._el+B|0,this._fl=this._fl+A|0,this._gl=this._gl+S|0,this._hl=this._hl+k|0,this._ah=this._ah+i+m(this._al,g)|0,this._bh=this._bh+r+m(this._bl,w)|0,this._ch=this._ch+n+m(this._cl,E)|0,this._dh=this._dh+o+m(this._dl,x)|0,this._eh=this._eh+a+m(this._el,B)|0,this._fh=this._fh+c+m(this._fl,A)|0,this._gh=this._gh+_+m(this._gl,S)|0,this._hh=this._hh+v+m(this._hl,k)|0},c.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,i,r){t.writeInt32BE(e,r),t.writeInt32BE(i,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},1579:(t,e,i)=>{t.exports=n;var r=i(1461).EventEmitter;function n(){r.call(this)}i(1521)(n,r),n.Readable=i(1580),n.Writable=i(1581),n.Duplex=i(1582),n.Transform=i(1583),n.PassThrough=i(1584),n.finished=i(1551),n.pipeline=i(1554),n.Stream=n,n.prototype.pipe=function(t,e){var i=this;function n(e){t.writable&&!1===t.write(e)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",n),t.on("drain",o),t._isStdio||e&&!1===e.end||(i.on("end",a),i.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}function c(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(h(),0===r.listenerCount(this,"error"))throw t}function h(){i.removeListener("data",n),t.removeListener("drain",o),i.removeListener("end",a),i.removeListener("close",c),i.removeListener("error",u),t.removeListener("error",u),i.removeListener("end",h),i.removeListener("close",h),t.removeListener("close",h)}return i.on("error",u),t.on("error",u),i.on("end",h),i.on("close",h),t.on("close",h),t.emit("pipe",i),t}},1642:function(t,e,i){"use strict";var r,n=i(787).Buffer,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?n(t.value):new i((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var i,r,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(n=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[0,n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var c=i(1643),u=i(1644);e.K=n.from("3b3b081e46ea808d5a96b08c4bc5003f5e15767090f344faab531ec57565136b","hex");var h=function(t){function e(e,i){var r=t.call(this,e)||this;return r.name="ValidationError",i&&(r.cause=i,r.message+=" ("+i.message+")"),r}return o(e,t),e}(Error);function f(t,i,r,n,o){var s=u.createHash("sha256");s.update(t),s.update(i),s.update(r),s.update(n);var a=u.createHash("sha256");return a.update(e.K),a.update(s.digest()),a.update(o),a.digest()}e.sign=function(t,e,i){if(!t.params)throw new Error("Unable to sign a request without params");for(var r=n.from(JSON.stringify(t.params),"utf8").toString("base64"),o=u.randomBytes(8),s=o.toString("hex"),a=(new Date).toISOString(),h=f(a,e,t.method,r,o),l=[],d=0,p=i;d<p.length;d++){var b=p[d];"string"==typeof b&&(b=c.PrivateKey.from(b));var y=c.hexify(b.sign(h.buffer));l.push(y)}return{jsonrpc:"2.0",method:t.method,id:t.id,params:{__signed:{account:e,nonce:s,params:r,signatures:l,timestamp:a}}}},e.validate=function(t,e){return s(this,void 0,void 0,(function(){var i,r,o,s,c,u,l;return a(this,(function(a){switch(a.label){case 0:if("2.0"!==t.jsonrpc||"string"!=typeof t.method)throw new h("Invalid JSON RPC Request");if(null==t.params||null==t.params.__signed)throw new h("Signed payload missing");if(1!==Object.keys(t.params).length)throw new h("Invalid request params");if(null==(i=t.params.__signed).account)throw new h("Missing account");try{o=n.from(i.params,"base64").toString("utf8"),r=JSON.parse(o)}catch(t){throw new h("Invalid encoded params",t)}if(null==i.nonce||"string"!=typeof i.nonce)throw new h("Invalid nonce");if(8!==(s=n.from(i.nonce,"hex")).length)throw new h("Invalid nonce");if(c=Date.parse(i.timestamp),Number.isNaN(c))throw new h("Invalid timestamp");if(Date.now()-c>6e4)throw new h("Signature expired");u=f(i.timestamp,i.account,t.method,i.params,s),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e(u,i.signatures,i.account)];case 2:return a.sent(),[3,4];case 3:throw l=a.sent(),new h("Verification failed",l);case 4:return[2,r]}}))}))}},1643:function(t,e,i){var r,n;r="undefined"!=typeof self?self:this,n=function(e){e.PrivateKey=n,e.PublicKey=o,e.generateKeys=function(){return s(r.ecc.ecdsa.generateKeys(r.ecc.curves.k256))},e.keysFromPassword=function(t,e){var i=r.codec.steemit.keysFromPassword(t,e);return{owner:s(i.owner),memo:s(i.memo),posting:s(i.posting),active:s(i.active)}},e.sha256=function(t){return c(r.hash.sha256.hash(a(t)))},e.ripemd160=function(t){return c(r.hash.ripemd160.hash(a(t)))},e.hexify=function(t){for(var e="",i=new Uint8Array(t),r=0;r<i.byteLength;r++)i[r]<16&&(e+="0"),e+=i[r].toString(16);return e};var r=function(){"use strict";var e={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};e.bitArray={bitSlice:function(t,i,r){return t=e.bitArray._shiftRight(t.slice(i/32),32-(31&i)).slice(1),void 0===r?t:e.bitArray.clamp(t,r-i)},extract:function(t,e,i){var r=Math.floor(-e-i&31);return(-32&(e+i-1^e)?t[e/32|0]<<32-r^t[e/32+1|0]>>>r:t[e/32|0]>>>r)&(1<<i)-1},concat:function(t,i){if(0===t.length||0===i.length)return t.concat(i);var r=t[t.length-1],n=e.bitArray.getPartial(r);return 32===n?t.concat(i):e.bitArray._shiftRight(i,n,0|r,t.slice(0,t.length-1))},bitLength:function(t){var i,r=t.length;return 0===r?0:(i=t[r-1],32*(r-1)+e.bitArray.getPartial(i))},clamp:function(t,i){if(32*t.length<i)return t;var r=(t=t.slice(0,Math.ceil(i/32))).length;return i&=31,r>0&&i&&(t[r-1]=e.bitArray.partial(i,t[r-1]&2147483648>>i-1,1)),t},partial:function(t,e,i){return 32===t?e:(i?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,i){if(e.bitArray.bitLength(t)!==e.bitArray.bitLength(i))return!1;var r,n=0;for(r=0;r<t.length;r++)n|=t[r]^i[r];return 0===n},_shiftRight:function(t,i,r,n){var o,s,a;for(void 0===n&&(n=[]);i>=32;i-=32)n.push(r),r=0;if(0===i)return n.concat(t);for(o=0;o<t.length;o++)n.push(r|t[o]>>>i),r=t[o]<<32-i;return s=t.length?t[t.length-1]:0,a=e.bitArray.getPartial(s),n.push(e.bitArray.partial(i+a&31,i+a>32?r:n.pop(),1)),n},_xor4:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]},byteswapM:function(t){var e,i;for(e=0;e<t.length;++e)i=t[e],t[e]=i>>>24|i>>>8&65280|(65280&i)<<8|i<<24;return t}},e.cipher.aes=function(t){this._tables[0][0][0]||this._precompute();var i,r,n,o,s,a=this._tables[0][4],c=this._tables[1],u=t.length,h=1;if(4!==u&&6!==u&&8!==u)throw new e.exception.invalid("invalid aes key size");for(this._key=[o=t.slice(0),s=[]],i=u;i<4*u+28;i++)n=o[i-1],(i%u==0||8===u&&i%u==4)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],i%u==0&&(n=n<<8^n>>>24^h<<24,h=h<<1^283*(h>>7))),o[i]=o[i-u]^n;for(r=0;i;r++,i--)n=o[3&r?i:i-4],s[r]=i<=4||r<4?n:c[0][a[n>>>24]]^c[1][a[n>>16&255]]^c[2][a[n>>8&255]]^c[3][a[255&n]]},e.cipher.aes.prototype={encrypt:function(t){return this._crypt(t,0)},decrypt:function(t){return this._crypt(t,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var t,e,i,r,n,o,s,a,c=this._tables[0],u=this._tables[1],h=c[4],f=u[4],l=[],d=[];for(t=0;t<256;t++)d[(l[t]=t<<1^283*(t>>7))^t]=t;for(e=i=0;!h[e];e^=r||1,i=d[i]||1)for(o=(o=i^i<<1^i<<2^i<<3^i<<4)>>8^255&o^99,h[e]=o,f[o]=e,a=16843009*l[n=l[r=l[e]]]^65537*n^257*r^16843008*e,s=257*l[o]^16843008*o,t=0;t<4;t++)c[t][e]=s=s<<24^s>>>8,u[t][o]=a=a<<24^a>>>8;for(t=0;t<5;t++)c[t]=c[t].slice(0),u[t]=u[t].slice(0)},_crypt:function(t,i){if(4!==t.length)throw new e.exception.invalid("invalid aes block size");var r,n,o,s,a=this._key[i],c=t[0]^a[0],u=t[i?3:1]^a[1],h=t[2]^a[2],f=t[i?1:3]^a[3],l=a.length/4-2,d=4,p=[0,0,0,0],b=this._tables[i],y=b[0],m=b[1],_=b[2],v=b[3],g=b[4];for(s=0;s<l;s++)r=y[c>>>24]^m[u>>16&255]^_[h>>8&255]^v[255&f]^a[d],n=y[u>>>24]^m[h>>16&255]^_[f>>8&255]^v[255&c]^a[d+1],o=y[h>>>24]^m[f>>16&255]^_[c>>8&255]^v[255&u]^a[d+2],f=y[f>>>24]^m[c>>16&255]^_[u>>8&255]^v[255&h]^a[d+3],d+=4,c=r,u=n,h=o;for(s=0;s<4;s++)p[i?3&-s:s]=g[c>>>24]<<24^g[u>>16&255]<<16^g[h>>8&255]<<8^g[255&f]^a[d++],r=c,c=u,u=h,h=f,f=r;return p}},e.bn=function(t){this.initWith(t)},e.bn.prototype={radix:24,maxMul:8,_class:e.bn,copy:function(){return new this._class(this)},initWith:function(t){var e,i=0;switch(typeof t){case"object":this.limbs=t.limbs.slice(0);break;case"number":this.limbs=[t],this.normalize();break;case"string":for(t=t.replace(/^0x/,""),this.limbs=[],e=this.radix/4,i=0;i<t.length;i+=e)this.limbs.push(parseInt(t.substring(Math.max(t.length-i-e,0),t.length-i),16));break;default:this.limbs=[0]}return this},equals:function(t){"number"==typeof t&&(t=new this._class(t));var e,i=0;for(this.fullReduce(),t.fullReduce(),e=0;e<this.limbs.length||e<t.limbs.length;e++)i|=this.getLimb(e)^t.getLimb(e);return 0===i},getLimb:function(t){return t>=this.limbs.length?0:this.limbs[t]},greaterEquals:function(t){"number"==typeof t&&(t=new this._class(t));var e,i,r,n=0,o=0;for(e=Math.max(this.limbs.length,t.limbs.length)-1;e>=0;e--)n|=(i=this.getLimb(e))-(r=t.getLimb(e))&~(o|=r-i&~n);return(o|~n)>>>31},toString:function(){this.fullReduce();var t,e,i="",r=this.limbs;for(t=0;t<this.limbs.length;t++){for(e=r[t].toString(16);t<this.limbs.length-1&&e.length<6;)e="0"+e;i=e+i}return"0x"+i},addM:function(t){"object"!=typeof t&&(t=new this._class(t));var e,i=this.limbs,r=t.limbs;for(e=i.length;e<r.length;e++)i[e]=0;for(e=0;e<r.length;e++)i[e]+=r[e];return this},doubleM:function(){var t,e,i=0,r=this.radix,n=this.radixMask,o=this.limbs;for(t=0;t<o.length;t++)e=(e=o[t])+e+i,o[t]=e&n,i=e>>r;return i&&o.push(i),this},halveM:function(){var t,e,i=0,r=this.radix,n=this.limbs;for(t=n.length-1;t>=0;t--)e=n[t],n[t]=e+i>>1,i=(1&e)<<r;return n[n.length-1]||n.pop(),this},subM:function(t){"object"!=typeof t&&(t=new this._class(t));var e,i=this.limbs,r=t.limbs;for(e=i.length;e<r.length;e++)i[e]=0;for(e=0;e<r.length;e++)i[e]-=r[e];return this},mod:function(t){var i=!this.greaterEquals(new e.bn(0));t=new e.bn(t).normalize();var r=new e.bn(this).normalize(),n=0;for(i&&(r=new e.bn(0).subM(r).normalize());r.greaterEquals(t);n++)t.doubleM();for(i&&(r=t.sub(r).normalize());n>0;n--)t.halveM(),r.greaterEquals(t)&&r.subM(t).normalize();return r.trim()},inverseMod:function(t){var i,r,n=new e.bn(1),o=new e.bn(0),s=new e.bn(this),a=new e.bn(t),c=1;if(!(1&t.limbs[0]))throw new e.exception.invalid("inverseMod: p must be odd");do{for(1&s.limbs[0]&&(s.greaterEquals(a)||(i=s,s=a,a=i,i=n,n=o,o=i),s.subM(a),s.normalize(),n.greaterEquals(o)||n.addM(t),n.subM(o)),s.halveM(),1&n.limbs[0]&&n.addM(t),n.normalize(),n.halveM(),r=c=0;r<s.limbs.length;r++)c|=s.limbs[r]}while(c);if(!a.equals(1))throw new e.exception.invalid("inverseMod: p and x must be relatively prime");return o},add:function(t){return this.copy().addM(t)},sub:function(t){return this.copy().subM(t)},mul:function(t){"number"==typeof t&&(t=new this._class(t));var e,i,r,n=this.limbs,o=t.limbs,s=n.length,a=o.length,c=new this._class,u=c.limbs,h=this.maxMul;for(e=0;e<this.limbs.length+t.limbs.length+1;e++)u[e]=0;for(e=0;e<s;e++){for(r=n[e],i=0;i<a;i++)u[e+i]+=r*o[i];--h||(h=this.maxMul,c.cnormalize())}return c.cnormalize().reduce()},square:function(){return this.mul(this)},power:function(t){t=new e.bn(t).normalize().trim().limbs;var i,r,n=new this._class(1),o=this;for(i=0;i<t.length;i++)for(r=0;r<this.radix&&(t[i]&1<<r&&(n=n.mul(o)),i!=t.length-1||t[i]>>r+1);r++)o=o.square();return n},mulmod:function(t,e){return this.mod(e).mul(t.mod(e)).mod(e)},powermod:function(t,i){if(t=new e.bn(t),!(1&~(i=new e.bn(i)).limbs[0])){var r=this.montpowermod(t,i);if(0!=r)return r}var n,o,s=t.normalize().trim().limbs,a=new this._class(1),c=this;for(n=0;n<s.length;n++)for(o=0;o<this.radix&&(s[n]&1<<o&&(a=a.mulmod(c,i)),n!=s.length-1||s[n]>>o+1);o++)c=c.mulmod(c,i);return a},montpowermod:function(t,i){t=new e.bn(t).normalize().trim(),i=new e.bn(i);var r,n,o,s,a,c=this.radix,u=new this._class(1),h=this.copy(),f=t.bitLength();for(o=new e.bn({limbs:i.copy().normalize().trim().limbs.map((function(){return 0}))}),s=this.radix;s>0;s--)if(1==(i.limbs[i.limbs.length-1]>>s&1)){o.limbs[o.limbs.length-1]=1<<s;break}if(0==f)return this;a=f<18?1:f<48?3:f<144?4:f<768?5:6;for(var l=o.copy(),d=i.copy(),p=new e.bn(1),b=new e.bn(0),y=o.copy();y.greaterEquals(1);)y.halveM(),1&p.limbs[0]?(p.addM(d),p.halveM(),b.halveM(),b.addM(l)):(p.halveM(),b.halveM());p=p.normalize(),b=b.normalize(),l.doubleM();var m=l.mulmod(l,i);if(!l.mul(p).sub(i.mul(b)).equals(1))return!1;var _=function(t){return v(t,m)},v=function(t,e){var r,n,a,u,h=(1<<s+1)-1;for((a=(n=t.mul(e)).mul(b)).limbs=a.limbs.slice(0,o.limbs.length),a.limbs.length==o.limbs.length&&(a.limbs[o.limbs.length-1]&=h),a=a.mul(i),(u=n.add(a).normalize().trim()).limbs=u.limbs.slice(o.limbs.length-1),r=0;r<u.limbs.length;r++)r>0&&(u.limbs[r-1]|=(u.limbs[r]&h)<<c-s-1),u.limbs[r]=u.limbs[r]>>s+1;return u.greaterEquals(i)&&u.subM(i),u};h=_(h),u=_(u);var g,w={},E=(1<<a-1)-1;for(w[1]=h.copy(),w[2]=v(h,h),g=1;g<=E;g++)w[2*g+1]=v(w[2*g-1],w[2]);var x=function(t,e){var i=e%t.radix;return(t.limbs[Math.floor(e/t.radix)]&1<<i)>>i};for(r=t.bitLength()-1;r>=0;)if(0==x(t,r))u=v(u,u),r-=1;else{for(var B=r-a+1;0==x(t,B);)B++;var A=0;for(n=B;n<=r;n++)A+=x(t,n)<<n-B,u=v(u,u);u=v(u,w[A]),r=B-1}return v(u,1)},trim:function(){var t,e=this.limbs;do{t=e.pop()}while(e.length&&0===t);return e.push(t),this},reduce:function(){return this},fullReduce:function(){return this.normalize()},normalize:function(){var t,e,i=0,r=this.placeVal,n=this.ipv,o=this.limbs,s=o.length,a=this.radixMask;for(t=0;t<s||0!==i&&-1!==i;t++)i=((e=(o[t]||0)+i)-(o[t]=e&a))*n;return-1===i&&(o[t-1]-=r),this.trim(),this},cnormalize:function(){var t,e,i=0,r=this.ipv,n=this.limbs,o=n.length,s=this.radixMask;for(t=0;t<o-1;t++)i=((e=n[t]+i)-(n[t]=e&s))*r;return n[t]+=i,this},toBits:function(t){this.fullReduce(),t=t||this.exponent||this.bitLength();var i=Math.floor((t-1)/24),r=e.bitArray,n=(t+7&-8)%this.radix||this.radix,o=[r.partial(n,this.getLimb(i))];for(i--;i>=0;i--)o=r.concat(o,[r.partial(Math.min(this.radix,t),this.getLimb(i))]),t-=this.radix;return o},bitLength:function(){this.fullReduce();for(var t=this.radix*(this.limbs.length-1),e=this.limbs[this.limbs.length-1];e;e>>>=1)t++;return t+7&-8}},e.bn.fromBits=function(t){var i=new this,r=[],n=e.bitArray,o=this.prototype,s=Math.min(this.bitLength||4294967296,n.bitLength(t)),a=s%o.radix||o.radix;for(r[0]=n.extract(t,0,a);a<s;a+=o.radix)r.unshift(n.extract(t,a,o.radix));return i.limbs=r,i},e.bn.prototype.ipv=1/(e.bn.prototype.placeVal=Math.pow(2,e.bn.prototype.radix)),e.bn.prototype.radixMask=(1<<e.bn.prototype.radix)-1,e.bn.pseudoMersennePrime=function(t,i){function r(t){this.initWith(t)}var n,o,s,a=r.prototype=new e.bn;for(s=a.modOffset=Math.ceil(o=t/a.radix),a.exponent=t,a.offset=[],a.factor=[],a.minOffset=s,a.fullMask=0,a.fullOffset=[],a.fullFactor=[],a.modulus=r.modulus=new e.bn(Math.pow(2,t)),a.fullMask=0|-Math.pow(2,t%a.radix),n=0;n<i.length;n++)a.offset[n]=Math.floor(i[n][0]/a.radix-o),a.fullOffset[n]=Math.ceil(i[n][0]/a.radix-o),a.factor[n]=i[n][1]*Math.pow(.5,t-i[n][0]+a.offset[n]*a.radix),a.fullFactor[n]=i[n][1]*Math.pow(.5,t-i[n][0]+a.fullOffset[n]*a.radix),a.modulus.addM(new e.bn(Math.pow(2,i[n][0])*i[n][1])),a.minOffset=Math.min(a.minOffset,-a.offset[n]);return a._class=r,a.modulus.cnormalize(),a.reduce=function(){var t,e,i,r,n=this.modOffset,o=this.limbs,s=this.offset,a=this.offset.length,c=this.factor;for(t=this.minOffset;o.length>n;){for(i=o.pop(),r=o.length,e=0;e<a;e++)o[r+s[e]]-=c[e]*i;--t||(o.push(0),this.cnormalize(),t=this.minOffset)}return this.cnormalize(),this},a._strongReduce=-1===a.fullMask?a.reduce:function(){var t,e,i=this.limbs,r=i.length-1;if(this.reduce(),r===this.modOffset-1){for(e=i[r]&this.fullMask,i[r]-=e,t=0;t<this.fullOffset.length;t++)i[r+this.fullOffset[t]]-=this.fullFactor[t]*e;this.normalize()}},a.fullReduce=function(){var t,e;for(this._strongReduce(),this.addM(this.modulus),this.addM(this.modulus),this.normalize(),this._strongReduce(),e=this.limbs.length;e<this.modOffset;e++)this.limbs[e]=0;for(t=this.greaterEquals(this.modulus),e=0;e<this.limbs.length;e++)this.limbs[e]-=this.modulus.limbs[e]*t;return this.cnormalize(),this},a.inverse=function(){return this.power(this.modulus.sub(2))},r.fromBits=e.bn.fromBits,r};var r,n=e.bn.pseudoMersennePrime;return e.bn.prime={p127:n(127,[[0,-1]]),p25519:n(255,[[0,-19]]),p192k:n(192,[[32,-1],[12,-1],[8,-1],[7,-1],[6,-1],[3,-1],[0,-1]]),p224k:n(224,[[32,-1],[12,-1],[11,-1],[9,-1],[7,-1],[4,-1],[1,-1],[0,-1]]),p256k:n(256,[[32,-1],[9,-1],[8,-1],[7,-1],[6,-1],[4,-1],[0,-1]]),p192:n(192,[[0,-1],[64,-1]]),p224:n(224,[[0,1],[96,-1]]),p256:n(256,[[0,-1],[96,1],[192,1],[224,-1]]),p384:n(384,[[0,-1],[32,1],[96,-1],[128,-1]]),p521:n(521,[[0,-1]])},e.bn.random=function(t,i){"object"!=typeof t&&(t=new e.bn(t));for(var r,n,o=t.limbs.length,s=t.limbs[o-1]+1,a=new e.bn;;){do{(r=e.random.randomWords(o,i))[o-1]<0&&(r[o-1]+=4294967296)}while(Math.floor(r[o-1]/s)===Math.floor(4294967296/s));for(r[o-1]%=s,n=0;n<o-1;n++)r[n]&=t.radixMask;if(a.limbs=r,!a.greaterEquals(t))return a}},"undefined"==typeof ArrayBuffer&&((r=this).ArrayBuffer=function(){},r.DataView=function(){}),e.codec.arrayBuffer={fromBits:function(t,i,r){var n,o,s,a,c;if(i=null==i||i,r=r||8,0===t.length)return new ArrayBuffer(0);if(s=e.bitArray.bitLength(t)/8,e.bitArray.bitLength(t)%8!=0)throw new e.exception.invalid("Invalid bit size, must be divisble by 8 to fit in an arraybuffer correctly");for(i&&s%r!=0&&(s+=r-s%r),a=new DataView(new ArrayBuffer(4*t.length)),o=0;o<t.length;o++)a.setUint32(4*o,t[o]<<32);if((n=new DataView(new ArrayBuffer(s))).byteLength===a.byteLength)return a.buffer;for(c=a.byteLength<n.byteLength?a.byteLength:n.byteLength,o=0;o<c;o++)n.setUint8(o,a.getUint8(o));return n.buffer},toBits:function(t){var i,r,n,o=[];if(0===t.byteLength)return[];i=(r=new DataView(t)).byteLength-r.byteLength%4;for(var s=0;s<i;s+=4)o.push(r.getUint32(s));if(r.byteLength%4!=0){n=new DataView(new ArrayBuffer(4)),s=0;for(var a=r.byteLength%4;s<a;s++)n.setUint8(s+4-a,r.getUint8(i+s));o.push(e.bitArray.partial(r.byteLength%4*8,n.getUint32(0)))}return o},hexDumpBuffer:function(t){for(var e,i=new DataView(t),r=0;r<i.byteLength;r+=2)r%16==0&&r.toString(16),e=i.getUint16(r).toString(16),(e+="").length>=4||new Array(4-e.length+1).join("0");void 0===typeof console&&(console=console||{log:function(){}})}},e.codec.utf8String={fromBits:function(t){var i,r,n="",o=e.bitArray.bitLength(t);for(i=0;i<o/8;i++)3&i||(r=t[i/4]),n+=String.fromCharCode(r>>>8>>>8>>>8),r<<=8;return decodeURIComponent(escape(n))},toBits:function(t){t=unescape(encodeURIComponent(t));var i,r=[],n=0;for(i=0;i<t.length;i++)n=n<<8|t.charCodeAt(i),3&~i||(r.push(n),n=0);return 3&i&&r.push(e.bitArray.partial(8*(3&i),n)),r}},e.ecc={},e.ecc.point=function(t,i,r){void 0===i?this.isIdentity=!0:(i instanceof e.bn&&(i=new t.field(i)),r instanceof e.bn&&(r=new t.field(r)),this.x=i,this.y=r,this.isIdentity=!1),this.curve=t},e.ecc.point.prototype={toJac:function(){return new e.ecc.pointJac(this.curve,this.x,this.y,new this.curve.field(1))},mult:function(t){return this.toJac().mult(t,this).toAffine()},mult2:function(t,e,i){return this.toJac().mult2(t,this,e,i).toAffine()},multiples:function(){var t,i,r;if(void 0===this._multiples)for(r=this.toJac().doubl(),t=this._multiples=[new e.ecc.point(this.curve),this,r.toAffine()],i=3;i<16;i++)r=r.add(this),t.push(r.toAffine());return this._multiples},negate:function(){var t=new this.curve.field(0).sub(this.y).normalize().reduce();return new e.ecc.point(this.curve,this.x,t)},isValid:function(){return this.y.square().equals(this.curve.b.add(this.x.mul(this.curve.a.add(this.x.square()))))},toBits:function(){return e.bitArray.concat(this.x.toBits(),this.y.toBits())}},e.ecc.pointJac=function(t,e,i,r){void 0===e?this.isIdentity=!0:(this.x=e,this.y=i,this.z=r,this.isIdentity=!1),this.curve=t},e.ecc.pointJac.prototype={add:function(t){var i,r,n,o,s,a,c,u,h,f,l,d=this;if(d.curve!==t.curve)throw new e.exception.invalid("sjcl.ecc.add(): Points must be on the same curve to add them!");return d.isIdentity?t.toJac():t.isIdentity?d:(i=d.z.square(),(r=t.x.mul(i).subM(d.x)).equals(0)?d.y.equals(t.y.mul(i.mul(d.z)))?d.doubl():new e.ecc.pointJac(d.curve):(n=t.y.mul(i.mul(d.z)).subM(d.y),o=r.square(),s=n.square(),a=r.square().mul(r).addM(d.x.add(d.x).mul(o)),c=s.subM(a),u=d.x.mul(o).subM(c).mul(n),h=d.y.mul(r.square().mul(r)),f=u.subM(h),l=d.z.mul(r),new e.ecc.pointJac(this.curve,c,f,l)))},doubl:function(){if(this.isIdentity)return this;var t=this.y.square(),i=t.mul(this.x.mul(4)),r=t.square().mul(8),n=this.z.square(),o=this.curve.a.toString()==new e.bn(-3).toString()?this.x.sub(n).mul(3).mul(this.x.add(n)):this.x.square().mul(3).add(n.square().mul(this.curve.a)),s=o.square().subM(i).subM(i),a=i.sub(s).mul(o).subM(r),c=this.y.add(this.y).mul(this.z);return new e.ecc.pointJac(this.curve,s,a,c)},toAffine:function(){if(this.isIdentity||this.z.equals(0))return new e.ecc.point(this.curve);var t=this.z.inverse(),i=t.square();return new e.ecc.point(this.curve,this.x.mul(i).fullReduce(),this.y.mul(i.mul(t)).fullReduce())},mult:function(t,i){"number"==typeof t?t=[t]:void 0!==t.limbs&&(t=t.normalize().limbs);var r,n,o=new e.ecc.point(this.curve).toJac(),s=i.multiples();for(r=t.length-1;r>=0;r--)for(n=e.bn.prototype.radix-4;n>=0;n-=4)o=o.doubl().doubl().doubl().doubl().add(s[t[r]>>n&15]);return o},mult2:function(t,i,r,n){"number"==typeof t?t=[t]:void 0!==t.limbs&&(t=t.normalize().limbs),"number"==typeof r?r=[r]:void 0!==r.limbs&&(r=r.normalize().limbs);var o,s,a,c,u=new e.ecc.point(this.curve).toJac(),h=i.multiples(),f=n.multiples();for(o=Math.max(t.length,r.length)-1;o>=0;o--)for(a=0|t[o],c=0|r[o],s=e.bn.prototype.radix-4;s>=0;s-=4)u=u.doubl().doubl().doubl().doubl().add(h[a>>s&15]).add(f[c>>s&15]);return u},negate:function(){return this.toAffine().negate().toJac()},isValid:function(){var t=this.z.square(),e=t.square(),i=e.mul(t);return this.y.square().equals(this.curve.b.mul(i).add(this.x.mul(this.curve.a.mul(e).add(this.x.square()))))}},e.ecc.curve=function(t,i,r,n,o,s){this.field=t,this.r=new e.bn(i),this.a=new t(r),this.b=new t(n),this.G=new e.ecc.point(this,new t(o),new t(s))},e.ecc.curve.prototype.fromBits=function(t){var i=e.bitArray,r=this.field.prototype.exponent+7&-8,n=new e.ecc.point(this,this.field.fromBits(i.bitSlice(t,0,r)),this.field.fromBits(i.bitSlice(t,r,2*r)));if(!n.isValid())throw new e.exception.corrupt("not on the curve!");return n},e.ecc.curves={c192:new e.ecc.curve(e.bn.prime.p192,"0xffffffffffffffffffffffff99def836146bc9b1b4d22831",-3,"0x64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1","0x188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012","0x07192b95ffc8da78631011ed6b24cdd573f977a11e794811"),c224:new e.ecc.curve(e.bn.prime.p224,"0xffffffffffffffffffffffffffff16a2e0b8f03e13dd29455c5c2a3d",-3,"0xb4050a850c04b3abf54132565044b0b7d7bfd8ba270b39432355ffb4","0xb70e0cbd6bb4bf7f321390b94a03c1d356c21122343280d6115c1d21","0xbd376388b5f723fb4c22dfe6cd4375a05a07476444d5819985007e34"),c256:new e.ecc.curve(e.bn.prime.p256,"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",-3,"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b","0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296","0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),c384:new e.ecc.curve(e.bn.prime.p384,"0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973",-3,"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef","0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7","0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),c521:new e.ecc.curve(e.bn.prime.p521,"0x1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409",-3,"0x051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","0xC6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","0x11839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650"),k192:new e.ecc.curve(e.bn.prime.p192k,"0xfffffffffffffffffffffffe26f2fc170f69466a74defd8d",0,3,"0xdb4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d","0x9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"),k224:new e.ecc.curve(e.bn.prime.p224k,"0x010000000000000000000000000001dce8d2ec6184caf0a971769fb1f7",0,5,"0xa1455b334df099df30fc28a169a467e9e47075a90f7e650eb6b7a45c","0x7e089fed7fba344282cafbd6f7e319f7c0b0bd59e2ca4bdb556d61a5"),k256:new e.ecc.curve(e.bn.prime.p256k,"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",0,7,"0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},e.ecc.curveName=function(t){var i;for(i in e.ecc.curves)if(e.ecc.curves.hasOwnProperty(i)&&e.ecc.curves[i]===t)return i;throw new e.exception.invalid("no such curve")},e.ecc.deserialize=function(t){if(!t||!t.curve||!e.ecc.curves[t.curve])throw new e.exception.invalid("invalid serialization");if(-1===["elGamal","ecdsa"].indexOf(t.type))throw new e.exception.invalid("invalid type");var i=e.ecc.curves[t.curve];if(t.secretKey){if(!t.exponent)throw new e.exception.invalid("invalid exponent");var r=new e.bn(t.exponent);return new e.ecc[t.type].secretKey(i,r)}if(!t.point)throw new e.exception.invalid("invalid point");var n=i.fromBits(e.codec.hex.toBits(t.point));return new e.ecc[t.type].publicKey(i,n)},e.ecc.basicKey={publicKey:function(t,i){this._curve=t,this._curveBitLength=t.r.bitLength(),this._point=i instanceof Array?t.fromBits(i):i,this.serialize=function(){var i=e.ecc.curveName(t);return{type:this.getType(),secretKey:!1,point:e.codec.hex.fromBits(this._point.toBits()),curve:i}},this.get=function(){var t=this._point.toBits(),i=e.bitArray.bitLength(t);return{x:e.bitArray.bitSlice(t,0,i/2),y:e.bitArray.bitSlice(t,i/2)}}},secretKey:function(t,i){this._curve=t,this._curveBitLength=t.r.bitLength(),this._exponent=i,this.serialize=function(){var i=this.get(),r=e.ecc.curveName(t);return{type:this.getType(),secretKey:!0,exponent:e.codec.hex.fromBits(i),curve:r}},this.get=function(){return this._exponent.toBits()}}},e.ecc.basicKey.generateKeys=function(t){return function(i,r,n){if("number"==typeof(i=i||256)&&void 0===(i=e.ecc.curves["c"+i]))throw new e.exception.invalid("no such curve");n=n||e.bn.random(i.r,r);var o=i.G.mult(n);return{pub:new e.ecc[t].publicKey(i,o),sec:new e.ecc[t].secretKey(i,n)}}},e.ecc.elGamal={generateKeys:e.ecc.basicKey.generateKeys("elGamal"),publicKey:function(t,i){e.ecc.basicKey.publicKey.apply(this,arguments)},secretKey:function(t,i){e.ecc.basicKey.secretKey.apply(this,arguments)}},e.ecc.elGamal.publicKey.prototype={kem:function(t){var i=e.bn.random(this._curve.r,t),r=this._curve.G.mult(i).toBits();return{key:e.hash.sha256.hash(this._point.mult(i).toBits()),tag:r}},getType:function(){return"elGamal"}},e.ecc.elGamal.secretKey.prototype={unkem:function(t){return e.hash.sha256.hash(this._curve.fromBits(t).mult(this._exponent).toBits())},dh:function(t){return e.hash.sha256.hash(t._point.mult(this._exponent).toBits())},dhJavaEc:function(t){return t._point.mult(this._exponent).x.toBits()},getType:function(){return"elGamal"}},e.ecc.ecdsa={generateKeys:e.ecc.basicKey.generateKeys("ecdsa")},e.ecc.ecdsa.publicKey=function(t,i){e.ecc.basicKey.publicKey.apply(this,arguments)},e.ecc.ecdsa.publicKey.prototype={verify:function(t,i,r){e.bitArray.bitLength(t)>this._curveBitLength&&(t=e.bitArray.clamp(t,this._curveBitLength));var n=e.bitArray,o=this._curve.r,s=this._curveBitLength,a=e.bn.fromBits(n.bitSlice(i,0,s)),c=e.bn.fromBits(n.bitSlice(i,s,2*s)),u=r?c:c.inverseMod(o),h=e.bn.fromBits(t).mul(u).mod(o),f=a.mul(u).mod(o),l=this._curve.G.mult2(h,f,this._point).x;if(a.equals(0)||c.equals(0)||a.greaterEquals(o)||c.greaterEquals(o)||!l.equals(a)){if(void 0===r)return this.verify(t,i,!0);throw new e.exception.corrupt("signature didn't check out")}return!0},getType:function(){return"ecdsa"}},e.ecc.ecdsa.secretKey=function(t,i){e.ecc.basicKey.secretKey.apply(this,arguments)},e.ecc.ecdsa.secretKey.prototype={sign:function(t,i,r,n){e.bitArray.bitLength(t)>this._curveBitLength&&(t=e.bitArray.clamp(t,this._curveBitLength));var o=this._curve.r,s=o.bitLength(),a=n||e.bn.random(o.sub(1),i).add(1),c=this._curve.G.mult(a).x.mod(o),u=e.bn.fromBits(t).add(c.mul(this._exponent)),h=r?u.inverseMod(o).mul(a).mod(o):u.mul(a.inverseMod(o)).mod(o);return e.bitArray.concat(c.toBits(s),h.toBits(s))},getType:function(){return"ecdsa"}},function(){e.hash.ripemd160=function(t){t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},e.hash.ripemd160.hash=function(t){return(new e.hash.ripemd160).update(t).finalize()},e.hash.ripemd160.prototype={reset:function(){return this._h=t.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"==typeof t&&(t=e.codec.utf8String.toBits(t));var i,r=this._buffer=e.bitArray.concat(this._buffer,t),n=this._length,o=this._length=n+e.bitArray.bitLength(t);if(o>9007199254740991)throw new e.exception.invalid("Cannot hash more than 2^53 - 1 bits");for(i=512+n-(512+n&511);i<=o;i+=512){for(var s=r.splice(0,16),a=0;a<16;++a)s[a]=y(s[a]);m.call(this,s)}return this},finalize:function(){var t=e.bitArray.concat(this._buffer,[e.bitArray.partial(1,1)]),i=(this._length+1)%512,r=(i>448?512:448)-i%448,n=r%32;for(n>0&&(t=e.bitArray.concat(t,[e.bitArray.partial(n,0)]));r>=32;r-=32)t.push(0);for(t.push(y(0|this._length)),t.push(y(Math.floor(this._length/4294967296)));t.length;){for(var o=t.splice(0,16),s=0;s<16;++s)o[s]=y(o[s]);m.call(this,o)}var a=this._h;for(this.reset(),s=0;s<5;++s)a[s]=y(a[s]);return a}};for(var t=[1732584193,4023233417,2562383102,271733878,3285377520],i=[0,1518500249,1859775393,2400959708,2840853838],r=[1352829926,1548603684,1836072691,2053994217,0],n=4;n>=0;--n)for(var o=1;o<16;++o)i.splice(n,0,i[n]),r.splice(n,0,r[n]);var s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function h(t,e,i){return t^e^i}function f(t,e,i){return t&e|~t&i}function l(t,e,i){return(t|~e)^i}function d(t,e,i){return t&i|e&~i}function p(t,e,i){return t^(e|~i)}function b(t,e){return t<<e|t>>>32-e}function y(t){return(255&t)<<24|(65280&t)<<8|(t&255<<16)>>>8|(t&255<<24)>>>24}function m(t){for(var e,n=this._h[0],o=this._h[1],y=this._h[2],m=this._h[3],_=this._h[4],v=this._h[0],g=this._h[1],w=this._h[2],E=this._h[3],x=this._h[4],B=0;B<16;++B)e=b(n+h(o,y,m)+t[s[B]]+i[B],c[B])+_,n=_,_=m,m=b(y,10),y=o,o=e,e=b(v+p(g,w,E)+t[a[B]]+r[B],u[B])+x,v=x,x=E,E=b(w,10),w=g,g=e;for(;B<32;++B)e=b(n+f(o,y,m)+t[s[B]]+i[B],c[B])+_,n=_,_=m,m=b(y,10),y=o,o=e,e=b(v+d(g,w,E)+t[a[B]]+r[B],u[B])+x,v=x,x=E,E=b(w,10),w=g,g=e;for(;B<48;++B)e=b(n+l(o,y,m)+t[s[B]]+i[B],c[B])+_,n=_,_=m,m=b(y,10),y=o,o=e,e=b(v+l(g,w,E)+t[a[B]]+r[B],u[B])+x,v=x,x=E,E=b(w,10),w=g,g=e;for(;B<64;++B)e=b(n+d(o,y,m)+t[s[B]]+i[B],c[B])+_,n=_,_=m,m=b(y,10),y=o,o=e,e=b(v+f(g,w,E)+t[a[B]]+r[B],u[B])+x,v=x,x=E,E=b(w,10),w=g,g=e;for(;B<80;++B)e=b(n+p(o,y,m)+t[s[B]]+i[B],c[B])+_,n=_,_=m,m=b(y,10),y=o,o=e,e=b(v+h(g,w,E)+t[a[B]]+r[B],u[B])+x,v=x,x=E,E=b(w,10),w=g,g=e;e=this._h[1]+y+E,this._h[1]=this._h[2]+m+x,this._h[2]=this._h[3]+_+v,this._h[3]=this._h[4]+n+g,this._h[4]=this._h[0]+o+w,this._h[0]=e}}(),e.hash.sha256=function(t){this._key[0]||this._precompute(),t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},e.hash.sha256.hash=function(t){return(new e.hash.sha256).update(t).finalize()},e.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"==typeof t&&(t=e.codec.utf8String.toBits(t));var i,r=this._buffer=e.bitArray.concat(this._buffer,t),n=this._length,o=this._length=n+e.bitArray.bitLength(t);if(o>9007199254740991)throw new e.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var s=new Uint32Array(r),a=0;for(i=512+n-(512+n&511);i<=o;i+=512)this._block(s.subarray(16*a,16*(a+1))),a+=1;r.splice(0,16*a)}else for(i=512+n-(512+n&511);i<=o;i+=512)this._block(r.splice(0,16));return this},finalize:function(){var t,i=this._buffer,r=this._h;for(t=(i=e.bitArray.concat(i,[e.bitArray.partial(1,1)])).length+2;15&t;t++)i.push(0);for(i.push(Math.floor(this._length/4294967296)),i.push(0|this._length);i.length;)this._block(i.splice(0,16));return this.reset(),r},_init:[],_key:[],_precompute:function(){var t,e,i=0,r=2;function n(t){return 4294967296*(t-Math.floor(t))|0}for(;i<64;r++){for(e=!0,t=2;t*t<=r;t++)if(r%t==0){e=!1;break}e&&(i<8&&(this._init[i]=n(Math.pow(r,.5))),this._key[i]=n(Math.pow(r,1/3)),i++)}},_block:function(t){var e,i,r,n,o=this._h,s=this._key,a=o[0],c=o[1],u=o[2],h=o[3],f=o[4],l=o[5],d=o[6],p=o[7];for(e=0;e<64;e++)e<16?i=t[e]:(r=t[e+1&15],n=t[e+14&15],i=t[15&e]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(n>>>17^n>>>19^n>>>10^n<<15^n<<13)+t[15&e]+t[e+9&15]|0),i=i+p+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(d^f&(l^d))+s[e],p=d,d=l,l=f,f=h+i|0,h=u,u=c,a=i+((c=a)&u^h&(c^u))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;o[0]=o[0]+a|0,o[1]=o[1]+c|0,o[2]=o[2]+u|0,o[3]=o[3]+h|0,o[4]=o[4]+f|0,o[5]=o[5]+l|0,o[6]=o[6]+d|0,o[7]=o[7]+p|0}},e.prng=function(t){this._pools=[new e.hash.sha256],this._poolEntropy=[0],this._reseedCount=0,this._robins={},this._eventId=0,this._collectorIds={},this._collectorIdNext=0,this._strength=0,this._poolStrength=0,this._nextReseed=0,this._key=[0,0,0,0,0,0,0,0],this._counter=[0,0,0,0],this._cipher=void 0,this._defaultParanoia=t,this._collectorsStarted=!1,this._callbacks={progress:{},seeded:{}},this._callbackI=0,this._NOT_READY=0,this._READY=1,this._REQUIRES_RESEED=2,this._MAX_WORDS_PER_BURST=65536,this._PARANOIA_LEVELS=[0,48,64,96,128,192,256,384,512,768,1024],this._MILLISECONDS_PER_RESEED=3e4,this._BITS_PER_RESEED=80},e.prng.prototype={randomWords:function(t,i){var r,n,o=[],s=this.isReady(i);if(s===this._NOT_READY)throw new e.exception.notReady("generator isn't seeded");for(s&this._REQUIRES_RESEED&&this._reseedFromPools(!(s&this._READY)),r=0;r<t;r+=4)(r+1)%this._MAX_WORDS_PER_BURST==0&&this._gate(),n=this._gen4words(),o.push(n[0],n[1],n[2],n[3]);return this._gate(),o.slice(0,t)},setDefaultParanoia:function(t,i){if(0===t&&"Setting paranoia=0 will ruin your security; use it only for testing"!==i)throw new e.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this._defaultParanoia=t},addEntropy:function(t,i,r){r=r||"user";var n,o,s,a,c=(new Date).valueOf(),u=this._robins[r],h=this.isReady(),f=0;switch(void 0===(n=this._collectorIds[r])&&(n=this._collectorIds[r]=this._collectorIdNext++),void 0===u&&(u=this._robins[r]=0),this._robins[r]=(this._robins[r]+1)%this._pools.length,typeof t){case"number":void 0===i&&(i=1),this._pools[u].update([n,this._eventId++,1,i,c,1,0|t]);break;case"object":if("[object Uint32Array]"===(a=Object.prototype.toString.call(t))){for(s=[],o=0;o<t.length;o++)s.push(t[o]);t=s}else for("[object Array]"!==a&&(f=1),o=0;o<t.length&&!f;o++)"number"!=typeof t[o]&&(f=1);if(!f){if(void 0===i)for(i=0,o=0;o<t.length;o++)for(s=t[o];s>0;)i++,s>>>=1;this._pools[u].update([n,this._eventId++,2,i,c,t.length].concat(t))}break;case"string":void 0===i&&(i=t.length),this._pools[u].update([n,this._eventId++,3,i,c,t.length]),this._pools[u].update(t);break;default:f=1}if(f)throw new e.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[u]+=i,this._poolStrength+=i,h===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(t){var e=this._PARANOIA_LEVELS[void 0!==t?t:this._defaultParanoia];return this._strength&&this._strength>=e?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=e?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(t){var e=this._PARANOIA_LEVELS[t||this._defaultParanoia];return this._strength>=e||this._poolStrength>e?1:this._poolStrength/e},startCollectors:function(){if(!this._collectorsStarted){if(this._eventListener={loadTimeCollector:this._bind(this._loadTimeCollector),mouseCollector:this._bind(this._mouseCollector),keyboardCollector:this._bind(this._keyboardCollector),accelerometerCollector:this._bind(this._accelerometerCollector),touchCollector:this._bind(this._touchCollector)},window.addEventListener)window.addEventListener("load",this._eventListener.loadTimeCollector,!1),window.addEventListener("mousemove",this._eventListener.mouseCollector,!1),window.addEventListener("keypress",this._eventListener.keyboardCollector,!1),window.addEventListener("devicemotion",this._eventListener.accelerometerCollector,!1),window.addEventListener("touchmove",this._eventListener.touchCollector,!1);else{if(!document.attachEvent)throw new e.exception.bug("can't attach event");document.attachEvent("onload",this._eventListener.loadTimeCollector),document.attachEvent("onmousemove",this._eventListener.mouseCollector),document.attachEvent("keypress",this._eventListener.keyboardCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._eventListener.loadTimeCollector,!1),window.removeEventListener("mousemove",this._eventListener.mouseCollector,!1),window.removeEventListener("keypress",this._eventListener.keyboardCollector,!1),window.removeEventListener("devicemotion",this._eventListener.accelerometerCollector,!1),window.removeEventListener("touchmove",this._eventListener.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this._eventListener.loadTimeCollector),document.detachEvent("onmousemove",this._eventListener.mouseCollector),document.detachEvent("keypress",this._eventListener.keyboardCollector)),this._collectorsStarted=!1)},addEventListener:function(t,e){this._callbacks[t][this._callbackI++]=e},removeEventListener:function(t,e){var i,r,n=this._callbacks[t],o=[];for(r in n)n.hasOwnProperty(r)&&n[r]===e&&o.push(r);for(i=0;i<o.length;i++)delete n[r=o[i]]},_bind:function(t){var e=this;return function(){t.apply(e,arguments)}},_gen4words:function(){for(var t=0;t<4&&(this._counter[t]=this._counter[t]+1|0,!this._counter[t]);t++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new e.cipher.aes(this._key)},_reseed:function(t){this._key=e.hash.sha256.hash(this._key.concat(t)),this._cipher=new e.cipher.aes(this._key);for(var i=0;i<4&&(this._counter[i]=this._counter[i]+1|0,!this._counter[i]);i++);},_reseedFromPools:function(t){var i,r=[],n=0;for(this._nextReseed=r[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,i=0;i<16;i++)r.push(4294967296*Math.random()|0);for(i=0;i<this._pools.length&&(r=r.concat(this._pools[i].finalize()),n+=this._poolEntropy[i],this._poolEntropy[i]=0,t||!(this._reseedCount&1<<i));i++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new e.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=n,n>this._strength&&(this._strength=n),this._reseedCount++,this._reseed(r)},_keyboardCollector:function(){this._addCurrentTimeToEntropy(1)},_mouseCollector:function(t){var e,i;try{e=t.x||t.clientX||t.offsetX||0,i=t.y||t.clientY||t.offsetY||0}catch(t){e=0,i=0}0!=e&&0!=i&&this.addEntropy([e,i],2,"mouse"),this._addCurrentTimeToEntropy(0)},_touchCollector:function(t){var e=t.touches[0]||t.changedTouches[0],i=e.pageX||e.clientX,r=e.pageY||e.clientY;this.addEntropy([i,r],1,"touch"),this._addCurrentTimeToEntropy(0)},_loadTimeCollector:function(){this._addCurrentTimeToEntropy(2)},_addCurrentTimeToEntropy:function(t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?this.addEntropy(window.performance.now(),t,"loadtime"):this.addEntropy((new Date).valueOf(),t,"loadtime")},_accelerometerCollector:function(t){var e=t.accelerationIncludingGravity.x||t.accelerationIncludingGravity.y||t.accelerationIncludingGravity.z;if(window.orientation){var i=window.orientation;"number"==typeof i&&this.addEntropy(i,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),this._addCurrentTimeToEntropy(0)},_fireEvent:function(t,i){var r,n=e.random._callbacks[t],o=[];for(r in n)n.hasOwnProperty(r)&&o.push(n[r]);for(r=0;r<o.length;r++)o[r](i)}},e.random=new e.prng(6),function(){try{var r,n,o;if(t.exports&&(n=function(){try{return i(1644)}catch(t){return null}}())&&n.randomBytes)r=n.randomBytes(128),r=new Uint32Array(new Uint8Array(r).buffer),e.random.addEntropy(r,1024,"crypto.randomBytes");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(o=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(o);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)return;window.msCrypto.getRandomValues(o)}e.random.addEntropy(o,1024,"crypto.getRandomValues")}}catch(t){"undefined"!=typeof window&&window.console}}(),e.codec.base58={alpha:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",lookup:{1:0,2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,A:9,B:10,C:11,D:12,E:13,F:14,G:15,H:16,J:17,K:18,L:19,M:20,N:21,P:22,Q:23,R:24,S:25,T:26,U:27,V:28,W:29,X:30,Y:31,Z:32,a:33,b:34,c:35,d:36,e:37,f:38,g:39,h:40,i:41,j:42,k:43,m:44,n:45,o:46,p:47,q:48,r:49,s:50,t:51,u:52,v:53,w:54,x:55,y:56,z:57},toBits:function(t){for(var i=new e.bn,r=new e.bn(58),n=0;n<t.length;n++){var o=new e.bn(e.codec.base58.lookup[t[n]]);i.addM(o.mul(r.power(t.length-n-1)))}return i.fullReduce(),i.toBits()},fromBits:function(t){for(var i=e.bn.fromBits(t),r=e.bitArray.bitLength(t),n=Math.ceil(r*(Math.log(2)/Math.log(58))),o=new e.bn(58),s="",a=n-1;a>=0;a--){for(var c=new e.bn(a),u=o.power(c),h=0;i.greaterEquals(u);)i.subM(u),i.normalize(),h++;a===n-1&&0===h||(s+=e.codec.base58.alpha[h])}return s}},e.codec.base58Check={defaultChecksumFn:function(t){return e.bitArray.bitSlice(e.hash.sha256.hash(e.hash.sha256.hash(t)),0,32)},fromBits:function(t,i,r){r=r||e.codec.base58Check.defaultChecksumFn;for(var n=e.bitArray.concat([e.bitArray.partial(8,t)],i),o=r(n),s=e.bitArray.concat(n,o),a=e.codec.base58.fromBits(s),c=0;0==e.bitArray.extract(s,c,8);)a="1"+a,c+=8;return a},toBits:function(t,i){i=i||e.codec.base58Check.defaultChecksumFn;var r=e.codec.base58.toBits(t),n=e.bitArray.bitLength(r),o=e.bitArray.bitSlice(r,0,n-32),s=e.bitArray.bitSlice(r,n-32),a=i(o);if(!e.bitArray.equal(a,s))throw new Error("Checksums do not match");return o}},e.codec.steemit={ROLES:["owner","memo","active","posting"],MAINNET:{pubHeader:0,privHeader:128,pubPrefix:"STM"},TESTNET:{pubHeader:0,privHeader:128,pubPrefix:"TST"},keyChecksum:function(t){return e.bitArray.bitSlice(e.hash.ripemd160.hash(t),0,32)},keysFromPassword:function(t,i){for(var r={},n=e.ecc.curves.k256,o=0;o<e.codec.steemit.ROLES.length;o++){var s=e.codec.steemit.ROLES[o],a=t+s+i,c=e.bn.fromBits(e.hash.sha256.hash(e.codec.utf8String.toBits(a)));r[s]=e.ecc.ecdsa.generateKeys(n,0,c)}return r},signRecoverably:function(t,i,r,n){for(e.bitArray.bitLength(i)>this._curveBitLength&&(i=e.bitArray.clamp(i,this._curveBitLength));;){var o=e.ecc.curves.k256,s=o.r,a=s.bitLength(),c=n||e.bn.random(s.sub(1),r).add(1),u=o.G.mult(c);if(n&&(n=n.add(1)),!u.isIdentity){var h=u.x.mod(s),f=e.bn.fromBits(i).add(h.mul(t._exponent)).mul(c.inverseMod(s)).mod(s),l=31;!0&u.y.limbs[0]&&l++;var d=h.toBits(a),p=f.toBits(a),b=e.bitArray.extract(d,0,8),y=e.bitArray.extract(d,8,8),m=e.bitArray.extract(p,0,8),_=e.bitArray.extract(p,8,8);if(!(128&b)&&(0!=b||128&y)&&!(128&m)&&(0!=m||128&_)){var v=e.bitArray.concat(h.toBits(a),f.toBits(a));return e.bitArray.concat([e.bitArray.partial(8,l)],v)}}}},recoverPublicKey:function(t,i){var r=e.ecc.curves.k256,n=r.r,o=r.G,s=e.bitArray.extract(i,0,8)-31,a=e.bn.fromBits(t),c=e.bn.fromBits(e.bitArray.bitSlice(i,8,264)),u=e.bn.fromBits(e.bitArray.bitSlice(i,264));if(s<0||s>4)throw new Error("Corrupt signature: recovery parameter is wrong");for(var h=!(1&~s),f=0;f<=1;f++){var l=c.add(n.mul(f)),d=e.codec.steemit._yFromX(l,h),p=new e.ecc.point(r,l,d),b=c.inverseMod(n),y=new e.bn(0).sub(a).mod(n),m=o.mult2(y,u,p).mult(b),_=new e.ecc.ecdsa.publicKey(r,m);try{return _.verify(t,e.bitArray.bitSlice(i,8)),_}catch(t){}}throw new Error("public key was unrecoverable")},serializePublicKey:function(t,i){i=i||e.codec.steemit.MAINNET;var r=t.get(),n=i.pubHeader;return 1&e.bn.fromBits(r.y).limbs[0]?n|=3:n|=2,i.pubPrefix+e.codec.base58Check.fromBits(n,r.x,e.codec.steemit.keyChecksum)},deserializePublicKey:function(t,i){i=i||e.codec.steemit.MAINNET;var r=e.ecc.curves.k256;if(0!==t.indexOf(i.pubPrefix))throw new Error('Public key is not in correct format, it should begin with "'+i.pubPrefix+'"');var n=e.codec.base58Check.toBits(t.slice(3),e.codec.steemit.keyChecksum),o=e.bitArray.extract(n,0,8),s=3==o;if((o&i.pubHeader)!==i.pubHeader)throw new Error("public key has invalid header");if(!(3&o||2&o))throw new Error("public key has invalid header: should set 0x2 or 0x3, but got 0x"+o.toString(16));var a=e.bitArray.bitSlice(n,8),c=e.bn.fromBits(a),u=e.codec.steemit._yFromX(c,s);return new e.ecc.ecdsa.publicKey(r,new e.ecc.point(r,c,u))},serializePrivateKey:function(t,i){return i=i||e.codec.steemit.MAINNET,e.codec.base58Check.fromBits(i.privHeader,t.get())},deserializePrivateKey:function(t,i){i=i||e.codec.steemit.MAINNET.privHeader;var r=e.ecc.curves.k256,n=e.codec.base58Check.toBits(t),o=e.bitArray.extract(n,0,8);if(o!==i)throw new Error("private key has invalid header: wanted 0x"+i.toString(16)+", got 0x"+o.toString(16));var s=e.bitArray.bitSlice(n,8);return new e.ecc.ecdsa.secretKey(r,e.bn.fromBits(s))},_yFromX:function(t,i){var r=e.ecc.curves.k256,n=e.codec.steemit._getPident(),o=t.powermod(3,r.field.modulus).add(t.mulmod(r.a,r.field.modulus)).add(r.b).mod(r.field.modulus).powermod(n,r.field.modulus),s=o.mod(2).equals(1);return s&&i||!s&&!i?o:r.field.modulus.sub(o).normalize()},_getPident:function(){return e.codec.steemit.PIDENT||(e.codec.steemit.PIDENT=e.ecc.curves.k256.field.modulus.add(1).normalize().halveM().halveM().normalize()),e.codec.steemit.PIDENT}},e}();function n(t,e){this.getPublicKey=function(){return e||(e=r.ecc.ecdsa.generateKeys(r.ecc.curves.k256,void 0,r.bn.fromBits(t.get())).pub),new o(e)},this.sign=function(e){return c(r.codec.steemit.signRecoverably(t,a(e)))}}function o(t){this._p=t}function s(t){return{private:r.codec.steemit.serializePrivateKey(t.sec),public:r.codec.steemit.serializePublicKey(t.pub)}}function a(t){if(t instanceof ArrayBuffer)return r.codec.arrayBuffer.toBits(t);throw new Error("You must supply an ArrayBuffer")}function c(t){return r.codec.arrayBuffer.fromBits(t,0,0)}e.sjcl=r,n.from=function(t,e){return new n(r.codec.steemit.deserializePrivateKey(t,e))},o.from=function(t){return new o(r.codec.steemit.deserializePublicKey(t))},o.recover=function(t,e){return new o(r.codec.steemit.recoverPublicKey(a(t),a(e)))},o.prototype={toString:function(){return r.codec.steemit.serializePublicKey(this._p)},verify:function(t,e){try{var i=r.bitArray.bitSlice(a(e),8);return this._p.verify(a(t),i),!0}catch(t){return!1}}}},"string"!=typeof e.nodeName?n(e):(r.steemit=r.steemit||{},n(r.steemit.crypto={}))},1709:(__unused_webpack_module,exports)=>{var indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var i=0;i<t.length;i++)e(t[i],i,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,i){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:i})}}catch(t){return function(t,e,i){t[e]=i}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var i=e.contentWindow,r=i.eval,n=i.execScript;!r&&n&&(n.call(i,"null"),r=i.eval),forEach(Object_keys(t),(function(e){i[e]=t[e]})),forEach(globals,(function(e){t[e]&&(i[e]=t[e])}));var o=Object_keys(i),s=r.call(i,this.code);return forEach(Object_keys(i),(function(e){(e in t||-1===indexOf(o,e))&&(t[e]=i[e])})),forEach(globals,(function(e){e in t||defineProp(t,e,i[e])})),document.body.removeChild(e),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),i=this.runInContext(e);return t&&forEach(Object_keys(e),(function(i){t[i]=e[i]})),i},forEach(Object_keys(Script.prototype),(function(t){exports[t]=Script[t]=function(e){var i=Script(e);return i[t].apply(i,[].slice.call(arguments,1))}})),exports.isContext=function(t){return t instanceof Context},exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),(function(i){e[i]=t[i]})),e}}}]);