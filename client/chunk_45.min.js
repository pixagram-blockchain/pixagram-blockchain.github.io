/*! For license information please see chunk_45.min.js.LICENSE.txt */
"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([[45],{2051:(t,e,n)=>{n.r(e),n.d(e,{encodeIMG:()=>g}),n(2),n(98),n(135),n(145),n(147),n(152),n(154),n(155),n(157);var r=n(2052);const a={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0};var o=n(873);const i=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));let u;async function s(t,e={}){u||(u=async function(t,e){let r=t,a=e;if(1!==arguments.length||t instanceof WebAssembly.Module||(r=void 0,a=t),await i()){const t=await n.e(53).then(n.bind(n,2059));return u=(0,o.d)(t.default,r,a),u}const s=await n.e(54).then(n.bind(n,2061));return u=(0,o.d)(s.default,r,a),u}());const r={...a,...e},s=(await u).encode(t.data,t.width,t.height,r);if(!s)throw new Error("Encoding error.");return s.buffer}function c(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return l(c,"_invoke",function(n,r,a){var o,u,s,c=0,l=a||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return o=e,u=0,s=t,h.n=n,i}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!a&&e<l.length;e++){var a,o=l[e],p=h.p,d=o[2];n>3?(a=d===r)&&(s=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=p&&((a=n<2&&p<o[1])?(u=0,h.v=r,h.n=o[1]):p<d&&(a=n<3||o[0]>r||r>d)&&(o[4]=n,o[5]=r,h.n=d,u=0))}if(a||n>1)return i;throw f=!0,r}return function(a,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),u=l,s=d;(e=u<2?t:s)||!f;){o||(u?u<3?(u>1&&(h.n=-1),p(u,s)):h.n=s:h.v=s);try{if(c=2,o){if(u||(a="next"),e=o[a]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=t}else if((e=(f=h.n<0)?s:n.call(r,h))!==i)break}catch(e){o=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,a,o),!0),c}var i={};function u(){}function s(){}function f(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(l(e={},r,(function(){return this})),e),p=f.prototype=u.prototype=Object.create(h);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,a,"GeneratorFunction")),t.prototype=Object.create(p),t}return s.prototype=f,l(p,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,a,"GeneratorFunction"),l(p),l(p,a,"Generator"),l(p,r,(function(){return this})),l(p,"toString",(function(){return"[object Generator]"})),(c=function(){return{w:o,m:d}})()}function l(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}l=function(t,e,n,r){function o(e,n){l(t,e,(function(t){return this._invoke(e,n,t)}))}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},l(t,e,n,r)}function f(t,e,n,r,a,o,i){try{var u=t[o](i),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,a)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){f(o,r,a,i,u,"next",t)}function u(t){f(o,r,a,i,u,"throw",t)}i(void 0)}))}}var p={};s.encodeImageData=function(){var t=h(c().m((function t(e){var n,r,a,o,i=arguments;return c().w((function(t){for(;;)switch(t.n){case 0:return r=function(t){return new Promise((function(e,n){var r=new FileReader;r.onloadend=function(){return e(r.result)},r.readAsDataURL(t)}))},n=i.length>1&&void 0!==i[1]&&i[1]?{quality:0,target_size:0,target_PSNR:0,method:6,sns_strength:100,filter_strength:0,filter_sharpness:0,filter_type:0,partitions:0,segments:4,pass:6,show_compressed:0,preprocessing:0,autofilter:1,partition_limit:0,alpha_compression:1,alpha_filtering:0,alpha_quality:100,lossless:1,exact:1,image_hint:1,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:1,use_sharp_yuv:0}:{lossless:0,quality:80},t.n=1,s(e,n);case 1:return a=t.v,o=new Blob([a],{type:"image/webp"}),t.n=2,r(o);case 2:return t.a(2,t.v)}}),t)})));return function(e){return t.apply(this,arguments)}}();var d=document.createElement("canvas");function g(t,e,n){return m.apply(this,arguments)}function m(){return m=h(c().m((function t(e,n,a){var o,i,u,l;return c().w((function(t){for(;;)switch(t.n){case 0:return i=function(){return i=h(c().m((function t(e){var n,r,a,o;return c().w((function(t){for(;;)switch(t.n){case 0:if(!(e instanceof ImageData)){t.n=1;break}return t.a(2,e);case 1:return(n=document.createElement("img")).src=e,t.n=2,new Promise((function(t){return n.onload=t}));case 2:return r=document.createElement("canvas"),a=[n.width,n.height],r.width=a[0],r.height=a[1],(o=r.getContext("2d")).drawImage(n,0,0),t.a(2,o.getImageData(0,0,n.width,n.height))}}),t)}))),i.apply(this,arguments)},o=function(t){return i.apply(this,arguments)},n="PNG"===n.toUpperCase()?"PNG":"WEBP"===n.toUpperCase()?"WEBP":"JPEG",u="PNG"===n?r.U.encodeImageData.bind(this):"WEBP"===n?s.encodeImageData.bind(this):p.encodeImageData.bind(this),t.n=1,o(e);case 1:return l=t.v,t.n=2,u(l,a);case 2:return t.a(2,t.v)}}),t,this)}))),m.apply(this,arguments)}d.context=d.getContext("2d"),r.U.encodeImageData=function(){var t=h(c().m((function t(e){var n,a=arguments;return c().w((function(t){for(;;)switch(t.n){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],t.n=1,new Promise((function(t,a){d.width=e.width,d.height=e.height,d.context.putImageData(e,0,0),(0,r.U)(d.toDataURL("image/png"),n?100:40,n?100:80,n?1:9,(function(e){t(e)}))}));case 1:return t.a(2,t.v)}}),t)})));return function(e){return t.apply(this,arguments)}}(),p.encodeImageData=function(){var t=h(c().m((function t(e){var n,r=arguments;return c().w((function(t){for(;;)switch(t.n){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],t.n=1,new Promise((function(t,r){d.width=e.width,d.height=e.height,d.context.putImageData(e,0,0),t(d.toDataURL("image/jpeg",{quality:n?100:80}))}));case 1:return t.a(2,t.v)}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);