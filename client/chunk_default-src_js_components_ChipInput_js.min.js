"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([["default-src_js_components_ChipInput_js"],{32163:(e,t,n)=>{n.d(t,{A:()=>x});n(42762),n(62953);var s=n(17402),r=n(5556),a=n.n(r),i=n(8728),o=n(7160),l=n(88016),p=n(38306),u=n(33615),d=n(79626),h=n(69312),c=n(95652),f=n(32485),b=n.n(f);const g=["allowDuplicates","alwaysShowPlaceholder","blurBehavior","children","chipRenderer","classes","className","clearInputValueOnChange","dataSource","dataSourceConfig","defaultValue","delayBeforeAdd","disabled","disableUnderline","error","filter","FormHelperTextProps","fullWidth","fullWidthInput","helperText","id","InputProps","inputRef","InputLabelProps","inputValue","label","newChipKeyCodes","newChipKeys","onBeforeAdd","onAdd","onBlur","onDelete","onChange","onFocus","onKeyDown","onKeyPress","onKeyUp","onUpdateInput","placeholder","readOnly","required","rootRef","value","variant","endAdornment"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m.apply(null,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={standard:i.A,filled:o.Ay,outlined:l.A},O=8,I=46,P=37,S=39;class D extends s.default.PureComponent{constructor(e){super(e),v(this,"state",{chips:[],errorText:void 0,focusedChip:null,inputValue:"",isClean:!0,isFocused:!1,chipsUpdated:!1,prevPropsValue:[]}),v(this,"focus",(()=>{this.actualInput.focus(),null!=this.state.focusedChip&&this.setState({focusedChip:null})})),v(this,"handleInputBlur",(e=>{this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1}),null!=this.state.focusedChip&&this.setState({focusedChip:null});const t=e.target.value;let n;switch(this.props.blurBehavior){case"add-or-clear":n={clearInputOnFail:!0};case"add":if(this.props.delayBeforeAdd){const e=(this.props.value||this.state.chips).length;this.inputBlurTimeout=setTimeout((()=>{const s=(this.props.value||this.state.chips).length;e===s?this.handleAddChip(t,n):this.clearInput()}),150)}else this.handleAddChip(t,n);break;case"clear":this.clearInput()}})),v(this,"handleInputFocus",(e=>{this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)})),v(this,"handleKeyDown",(e=>{const{focusedChip:t}=this.state;if(this._keyPressed=!1,this._preventChipCreation=!1,this.props.onKeyDown&&(this.props.onKeyDown(e),e.isDefaultPrevented()))return;const n=this.props.value||this.state.chips;if(this.props.newChipKeyCodes.indexOf(e.keyCode)>=0||this.props.newChipKeys.indexOf(e.key)>=0){!1!==this.handleAddChip(e.target.value)&&e.preventDefault()}else switch(e.keyCode){case O:""===e.target.value&&(null!=t?(this.handleDeleteChip(n[t],t),t>0&&this.setState({focusedChip:t-1})):this.setState({focusedChip:n.length-1}));break;case I:""===e.target.value&&null!=t&&(this.handleDeleteChip(n[t],t),t<=n.length-1&&this.setState({focusedChip:t}));break;case P:null==t&&""===e.target.value&&n.length?this.setState({focusedChip:n.length-1}):null!=t&&t>0&&this.setState({focusedChip:t-1});break;case S:null!=t&&t<n.length-1?this.setState({focusedChip:t+1}):this.setState({focusedChip:null});break;default:this.setState({focusedChip:null})}})),v(this,"handleKeyUp",(e=>{!this._preventChipCreation&&(this.props.newChipKeyCodes.indexOf(e.keyCode)>=0||this.props.newChipKeys.indexOf(e.key)>=0)&&this._keyPressed?this.clearInput():this.updateInput(e.target.value),this.props.onKeyUp&&this.props.onKeyUp(e)})),v(this,"handleKeyPress",(e=>{this._keyPressed=!0,this.props.onKeyPress&&this.props.onKeyPress(e)})),v(this,"handleUpdateInput",(e=>{null==this.props.inputValue&&this.updateInput(e.target.value),this.props.onUpdateInput&&this.props.onUpdateInput(e)})),v(this,"setActualInputRef",(e=>{this.actualInput=e,this.props.inputRef&&this.props.inputRef(e)})),e.defaultValue&&(this.state.chips=e.defaultValue),this.labelRef=s.default.createRef(),this.input=s.default.createRef()}componentDidMount(){"outlined"===this.props.variant&&(this.labelNode=s.default.findDOMNode(this.labelRef.current),this.forceUpdate())}componentWillUnmount(){clearTimeout(this.inputBlurTimeout)}static getDerivedStateFromProps(e,t){let n=null;return e.value&&e.value.length!==t.prevPropsValue.length&&(n={prevPropsValue:e.value},e.clearInputValueOnChange&&(n.inputValue="")),e.clearInputValueOnChange&&e.value&&e.value.length!==t.prevPropsValue.length&&(n={prevPropsValue:e.value,inputValue:""}),e.disabled&&(n=C(C({},n),{},{focusedChip:null})),!t.chipsUpdated&&e.defaultValue&&(n=C(C({},n),{},{chips:e.defaultValue})),n}blur(){this.input&&this.actualInput.blur()}handleAddChip(e,t){if(this.props.onBeforeAdd&&!this.props.onBeforeAdd(e))return this._preventChipCreation=!0,null!=t&&t.clearInputOnFail&&this.clearInput(),!1;this.clearInput();const n=this.props.value||this.state.chips;return this.props.dataSourceConfig?("string"==typeof e&&(e={[this.props.dataSourceConfig.text]:e,[this.props.dataSourceConfig.value]:e}),!this.props.allowDuplicates&&n.some((t=>t[this.props.dataSourceConfig.value]===e[this.props.dataSourceConfig.value]))||(this.props.value&&this.props.onAdd?this.props.onAdd(e):this.updateChips([...this.state.chips,e])),!0):e.trim().length>0&&((this.props.allowDuplicates||-1===n.indexOf(e))&&(this.props.value&&this.props.onAdd?this.props.onAdd(e):this.updateChips([...this.state.chips,e])),!0)}handleDeleteChip(e,t){if(this.props.value)this.props.onDelete&&this.props.onDelete(e,t);else{const e=this.state.chips.slice();if(e.splice(t,1)){let n=this.state.focusedChip;this.state.focusedChip===t?n=null:this.state.focusedChip>t&&(n=this.state.focusedChip-1),this.updateChips(e,{focusedChip:n})}}}updateChips(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setState(C({chips:e,chipsUpdated:!0},t)),this.props.onChange&&this.props.onChange(e)}clearInput(){this.updateInput("")}updateInput(e){this.setState({inputValue:e})}render(){const e=this.props,{allowDuplicates:t,alwaysShowPlaceholder:n,blurBehavior:r,children:a,chipRenderer:i=A,classes:o,className:l,clearInputValueOnChange:u,dataSource:d,dataSourceConfig:f,defaultValue:y,delayBeforeAdd:C,disabled:v,disableUnderline:O,error:I,filter:P,FormHelperTextProps:S,fullWidth:D,fullWidthInput:x,helperText:k,id:B,InputProps:K={},inputRef:V,InputLabelProps:T={},inputValue:F,label:R,newChipKeyCodes:U,newChipKeys:j,onBeforeAdd:$,onAdd:E,onBlur:W,onDelete:N,onChange:_,onFocus:q,onKeyDown:H,onKeyPress:X,onKeyUp:L,onUpdateInput:M,placeholder:z,readOnly:G,required:J,rootRef:Q,value:Y,variant:Z,endAdornment:ee}=e,te=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,g),ne=Y||this.state.chips,se=null!=F?F:this.state.inputValue,re=(this.props.value||se).length>0||se.length>0,ae=null!=T.shrink?T.shrink:null!=R&&(re||this.state.isFocused||ne.length>0),ie=ne.map(((e,t)=>{const n=f?e[f.value]:e;return i({value:n,text:f?e[f.text]:e,chip:e,isDisabled:!!v,isReadOnly:G,isFocused:this.state.focusedChip===t,handleClick:()=>this.setState({focusedChip:t}),handleDelete:()=>this.handleDeleteChip(e,t),className:o.chip},t)})),oe={};"outlined"===Z&&(oe.notched=ae,oe.labelWidth=ae&&this.labelNode&&this.labelNode.offsetWidth||0),"standard"!==Z?oe.startAdornment=s.default.createElement(s.default.Fragment,null,ie):K.disableUnderline=!0,oe.endAdornment=ee;const le=w[Z];return s.default.createElement(h.A,m({ref:Q,fullWidth:D,className:b()(l,o.root,{[o.marginDense]:"dense"===te.margin}),error:I,required:ne.length>0?void 0:J,onClick:this.focus,disabled:v,variant:Z},te),R&&s.default.createElement(p.A,m({htmlFor:B,classes:{root:b()(o[Z],o.label),shrink:o.labelShrink},shrink:ae,focused:this.state.isFocused,variant:Z,ref:this.labelRef,required:J},T),R),s.default.createElement("div",{className:b()(o[Z],o.chipContainer,{[o.focused]:this.state.isFocused,[o.underline]:!O&&"standard"===Z,[o.disabled]:v,[o.labeled]:null!=R,[o.error]:I})},"standard"===Z&&ie,s.default.createElement(le,m({ref:this.input,classes:{input:b()(o.input,o[Z]),root:b()(o.inputRoot,o[Z])},id:B,value:se,onChange:this.handleUpdateInput,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onKeyUp:this.handleKeyUp,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,inputRef:this.setActualInputRef,disabled:v,fullWidth:x,placeholder:!re&&(ae||null==R)||n?z:null,readOnly:G},K,oe))),k&&s.default.createElement(c.A,m({},S,{className:S?b()(S.className,o.helperText):o.helperText}),k))}}D.propTypes={endAdornment:a().node,allowDuplicates:a().bool,alwaysShowPlaceholder:a().bool,blurBehavior:a().oneOf(["clear","add","add-or-clear","ignore"]),chipRenderer:a().func,clearInputValueOnChange:a().bool,dataSource:a().array,dataSourceConfig:a().shape({text:a().string.isRequired,value:a().string.isRequired}),defaultValue:a().array,delayBeforeAdd:a().bool,disabled:a().bool,disableUnderline:a().bool,FormHelperTextProps:a().object,fullWidth:a().bool,fullWidthInput:a().bool,helperText:a().node,InputLabelProps:a().object,InputProps:a().object,inputRef:a().func,inputValue:a().string,label:a().node,newChipKeyCodes:a().arrayOf(a().number),newChipKeys:a().arrayOf(a().string),onAdd:a().func,onBeforeAdd:a().func,onChange:a().func,onDelete:a().func,onUpdateInput:a().func,placeholder:a().string,readOnly:a().bool,value:a().array,variant:a().oneOf(["outlined","standard","filled"])},D.defaultProps={allowDuplicates:!1,blurBehavior:"clear",clearInputValueOnChange:!1,delayBeforeAdd:!1,disableUnderline:!1,newChipKeyCodes:[13],newChipKeys:["Enter"],variant:"standard"};const x=(0,d.default)((e=>{const t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{},inputRoot:{display:"inline-flex",flexWrap:"wrap",flex:1,marginTop:0,minWidth:70,"&$outlined,&$filled":{boxSizing:"border-box"},"&$outlined":{paddingTop:14},"&$filled":{paddingTop:28}},input:{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",appearance:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",float:"left",flex:1},chipContainer:{display:"flex",flexFlow:"row wrap",cursor:"text",marginBottom:-2,minHeight:40,"&$labeled&$standard":{marginTop:18}},outlined:{"& input":{height:16,paddingTop:4,paddingBottom:12,marginTop:4,marginBottom:4}},standard:{},filled:{"& input":{height:22,marginBottom:4,marginTop:4,paddingTop:0},"$marginDense & input":{height:26}},labeled:{},label:{top:4,"&$outlined&:not($labelShrink)":{top:2,"$marginDense &":{top:5}},"&$filled&:not($labelShrink)":{top:15,"$marginDense &":{top:20}}},labelShrink:{top:0},helperText:{marginBottom:-20},focused:{},disabled:{},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary[t?"dark":"light"]),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{"&:after":{backgroundColor:e.palette.error.main,transform:"scaleX(1)"}},chip:{margin:"0 8px 8px 0",float:"left"},marginDense:{}}}),{name:"WAMuiChipInput"})(D),A=(e,t)=>{let{value:n,text:r,isFocused:a,isDisabled:i,isReadOnly:o,handleClick:l,handleDelete:p,className:d}=e;return s.default.createElement(u.A,{key:t,className:d,style:{pointerEvents:i||o?"none":void 0,backgroundColor:a?"rgb(96, 96, 96)":void 0},onClick:l,onDelete:p,label:r})}}}]);