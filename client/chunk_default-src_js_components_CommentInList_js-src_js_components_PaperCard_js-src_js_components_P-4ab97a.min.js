(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([["default-src_js_components_CommentInList_js-src_js_components_PaperCard_js-src_js_components_P-4ab97a"],{38627:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var r=n(17402),a=n(79626),o=n(91004),i=n(42460),s=n(96232),c=n(61428),l=(n(39756),n(37532)),u=n(86982),d=n(29514),p=n(50384),m=n(77430),h=n(54392),f=n(15761);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends r.PureComponent{constructor(e){super(e),b(this,"setSt4te",((e,t)=>{this.st4te=Object.assign(this.st4te,e),"function"==typeof t&&t()})),b(this,"_set_root_ref",(e=>{null!==e&&this.setSt4te({_root:e})})),b(this,"_open_author",(e=>{this.st4te._history.push("/@"+e)})),b(this,"_show_replies",(()=>{this.st4te._number_replies>0&&this.props.onShowReplies(this.st4te.data)})),this.st4te={classes:e.classes,data:e.data,timeAgo:l.A,visible:e.visible,is_scrolling:e.is_scrolling,selected:e.selected,column_width:e.column_width,key:e.key,id:e.id,rowIndex:e.rowIndex,columnIndex:e.columnIndex,style:e.style||{},_history:u.Vv,_root:void 0,_has_been_visible:!1,_number_replies:6*Math.random()|0}}componentWillReceiveProps(e){var t=!this.st4te._init,n=e.id!==this.st4te.id,r=e.is_scrolling!==this.st4te.is_scrolling,a=e.visible!==this.st4te.visible,o=e.column_width!==this.st4te.column_width,i=e.selected!==this.st4te.selected,s=e.locales!==this.st4te.locales,c=()=>{};(t||a||n||r||o||i||s)&&this.setSt4te(y(y({},e),{_has_been_visible:a||this.st4te._has_been_visible,_init:!0}),(()=>{if(t||a||r||i||s)this.forceUpdate(c);else if(o)if(void 0!==this.st4te._root){var n=e.style;this.st4te._root.style.width=n.width+"px",this.st4te._root.style.height=n.height+"px"}else this.forceUpdate(c)}))}render(){const{classes:e,style:t,id:n,locales:a,selected:u,is_scrolling:g,_has_been_visible:y,_number_replies:b}=this.st4te,v=this.st4te.data||{},_=(v.upVotesNumber,v.upVotesNumber,v.downVotesNumber,v.downVotesNumber,parseFloat(21.5*Math.random()).toFixed(2)),w=(parseFloat(1*_/3).toFixed(2),parseFloat(2*_/3).toFixed(2),v.author||{});return r.createElement(p.A,{key:n,className:e.card+(u?" Mui-selected":""),ref:this._set_root_ref,alignItems:"flex-start"},r.createElement(d.A,null,r.createElement(o.A,{alt:w.name,onClick:e=>{this._open_author(w.username)},src:w.image})),r.createElement(m.A,{primary:r.createElement(h.A,{component:"span",variant:"body2",color:"textPrimary",style:{marginBottom:4,display:"block"}},r.createElement(s.Ay,{title:"@"+(v.author||{}).username},r.createElement("span",{className:e.subheaderName,onClick:e=>{this._open_author(w.username)}},(w||{}).name)),r.createElement("span",{style:{color:"#999"}}," said "),r.createElement(s.Ay,{arrow:!0,title:new Date(v.date).toLocaleDateString(a,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},r.createElement("span",null,l.A.format(v.date||Date.now())))),secondary:r.createElement(r.Fragment,null,r.createElement(h.A,{component:"span",variant:"body1",color:"textSecondary",style:{lineHeight:"1rem",letterSpacing:0}},v.body),r.createElement("div",null,r.createElement(i.A,{"aria-label":"Up-Vote"},r.createElement(c.A,{style:{transform:"rotate(-90deg)",color:"#999"}})),v.upVotesNumber,r.createElement(i.A,{"aria-label":"Down-Vote"},r.createElement(c.A,{style:{transform:"rotate(90deg)",color:"#999"}})),v.downVotesNumber,r.createElement("span",{style:{float:"right"}},r.createElement(s.Ay,{arrow:!0,title:"Show all replies"},r.createElement("span",{className:0===b?e.replyText:e.replyTextPointer,onClick:this._show_replies},0===b?"No Reply Yet":"Show Replies (".concat(b,")"))),r.createElement(s.Ay,{arrow:!0,title:"Reply to the comment"},r.createElement(i.A,{"aria-label":"Reply to comment"},r.createElement(f.A,{className:e.replyButton}))))))}))}}const _=(0,a.default)((e=>({card:{width:"100%","& .MuiAvatar-root":{cursor:"pointer",borderRadius:"14px"},"& .MuiListItem-gutters":{padding:"0px"},"&::before":{content:"''",height:"100%",width:8,position:"absolute",backgroundColor:"#ffffff0f",left:32,top:16}},subheaderName:{color:"#aaa",cursor:"pointer",fontWeight:"bold"},replyText:{color:"#666"},replyTextPointer:{cursor:"pointer",color:"#666"},replyButton:{cursor:"pointer",color:"#999"},subheaderBy:{color:"#aaa"},subheaderDate:{color:"#ddd"},image:{width:"100%",borderRadius:"12px",cursor:"pointer",userSelect:"none",contain:"style layout"},payout:{marginLeft:"auto",marginRight:12,color:e.palette.primary.actionLighter,fontSize:"16px",marginBottom:"4px",fontWeight:"bold"},actions:{color:"#666"},cardHeader:{"& .MuiCardHeader-title":{fontWeight:"bold",fontFamily:'"Industry Book", "Normative Pro"',color:"#fff",cursor:"pointer"}}})))(v)},78725:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>z});n(27495),n(25440),n(62953);var a=n(17402),o=(n(50172),n(45994)),i=n(79626),s=n(20426),c=n(67520),l=n(91004),u=n(42460),d=n(88104),p=n(96232),m=n(56340),h=n(77808),f=n(79493),g=n(13563),y=n(39756),b=n(92059),v=n(37532),_=n(86982),w=n(47851),x=n(69205),A=n(23308),E=e([b,A]);[b,A]=E.then?(await E)():E;const C=["style"];function k(e,t){if(null==e)return{};var n,r,a=R(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function R(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function S(e){if(null==e)throw new TypeError("Cannot destructure "+e)}const I=(0,a.lazy)((()=>Promise.resolve().then(n.bind(n,67114)))),M=(0,A.Y)(),T=e=>({card:{width:"100%",borderRadius:"21px",marginTop:"24px",userSelect:"none",contain:"style layout paint",willChange:"auto",transform:"translateZ(0)","&.MuiCard-root":{overflow:"hidden",backgroundColor:"#101010",transition:"background-color 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms, box-shadow 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms, filter 320ms cubic-bezier(0.4, 0, 0.2, 1) 30ms"},"&.MuiCard-root:hover":{backgroundColor:"#000000",contain:"inherit",boxShadow:"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)",transition:"background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 10ms, box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1) 10ms, filter 320ms cubic-bezier(0.4, 0, 0.2, 1) 30ms"},"&.shown":{filter:"opacity(1)"},"&.hidden":{filter:"opacity(0)"},"& .MuiCardActions-root":{fontFamily:"Azeret Mono",fontSize:"1.125rem",fontWeight:"300"}},subheaderName:{color:"#fff",cursor:"pointer"},subheaderBy:{color:"#aaa"},subheaderDate:{color:"#ddd"},image:{width:"100%",cursor:"pointer",userSelect:"none",contain:"strict"},voted:{color:"#eee",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"},vote:{color:"#888",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms","&:hover":{color:"#bbb",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},payout:{pointer:"cursor",marginLeft:"auto",marginRight:8,color:"#666",fontWeight:"350",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms","&:hover":{color:"#999",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},actions:{color:"#666","& .MuiIconButton-root":{padding:"12px 12px 12px 12px"}},tooltipRoot:{maxWidth:"min(67vw, 325px)",backgroundColor:"#0e0e0e !important",borderRadius:"16px",color:"#dddddd !important"},cardHeader:{"& .MuiCardHeader-title":{fontWeight:"bold",fontFamily:'"Industry Book", "Normative Pro"',color:"#fff",cursor:"pointer"},"& .MuiCardHeader-subheader":{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"calc(100% - 16px)"},"& .MuiAvatar-root":{cursor:"pointer",borderRadius:"14px",width:48,height:48},"& .MuiCardHeader-avatar":{marginRight:"8px"}}});function D(e,t){if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t||!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++){const a=n[r];if(e[a]!==t[a])return!1}return!0}const P=(0,a.memo)((function(e){let{renderer:t,id:n,size:r,column_width:i,image_width:s,image_height:c,getImgData:l,renderHex:u,renderXbrz:d,renderCrt:p,className:m,style:h,onOpen:f,nsfwEnabled:g,nsfwFlag:y,canvasRef:b}=e;const v=(0,o.li)(null),_=b||v,w=(0,o.li)(null),x=(0,o.li)(0),A=(0,o.Kr)((()=>"".concat(t,":").concat(n,":").concat(s,"x").concat(c,":").concat(null==r?void 0:r.width,"x").concat(null==r?void 0:r.height,":").concat(i||0)),[t,n,s,c,null==r?void 0:r.width,null==r?void 0:r.height,i]);(0,o.vJ)((()=>{const e=_.current;if(!e||w.current)return;const t=e.getContext&&e.getContext("bitmaprenderer");if(t)return void(w.current=t);const n=e.getContext("2d",{alpha:!1,desynchronized:!0,willReadFrequently:!1});n&&(n.imageSmoothingEnabled=!1),w.current=n}),[]);const E=(0,o.hb)(((e,t)=>{const n=w.current,r=_.current;if(!n||!r)return;const a=e=>{if(e){n.transferFromImageBitmap?n.transferFromImageBitmap(e):n.drawImage(e,0,0,r.width,r.height);try{e.close&&e.close()}catch(e){}}};t?a(t):e&&createImageBitmap(e,{colorSpaceConversion:"none",premultiplyAlpha:"none"}).then(a).catch((()=>{}))}),[]),C=(0,o.hb)((async()=>{if(!w.current||!r)return;const e=++x.current,a=await l(r);if(e!==x.current)return;const o=i||s||600,c=Math.max(Math.min(40,o/r.width/2),3),m=Math.max(Math.min(20,o/r.width|0),2),h=Math.max(Math.min(6,o/r.width|0),2),f=(t,n)=>{e===x.current&&E(t,n)},g=()=>{"hexagon"===t?u(a,c,f,!1,n):"xbrz"===t?d(a,m,f,!1,n):"crt"===t?p(a,h,f,!1,n):f(a)};"requestIdleCallback"in window?requestIdleCallback((()=>g())):requestAnimationFrame((()=>g()))}),[t,n,i,s,r,l,u,d,p,E]);return(0,o.vJ)((()=>{C()}),[C,A]),a.createElement("canvas",{ref:_,className:m,width:s,height:c,onContextMenu:e=>e.preventDefault(),style:h})}),((e,t)=>{var n,r,a,o;return e.renderer===t.renderer&&e.id===t.id&&e.nsfwEnabled===t.nsfwEnabled&&e.nsfwFlag===t.nsfwFlag&&e.image_width===t.image_width&&e.image_height===t.image_height&&e.column_width===t.column_width&&(null===(n=e.size)||void 0===n?void 0:n.width)===(null===(r=t.size)||void 0===r?void 0:r.width)&&(null===(a=e.size)||void 0===a?void 0:a.height)===(null===(o=t.size)||void 0===o?void 0:o.height)&&D(e.style,t.style)&&e.className===t.className}));function L(e){let{classes:t,style:n,data:r={},id:i,locales:A,renderer:E,nsfw:C,selected:k,image_width:R,image_height:S,column_width:T,size:D,onOpen:L,visible:N,onMenuClick:B}=e;const[z,F]=(0,o.J0)(0),[O,j]=(0,o.J0)(!!N),G=(0,o.li)(_.Vv),U=(0,o.li)(null);(0,o.vJ)((()=>{N&&!O&&j(!0)}),[N,O]);const W=(0,o.li)(null),H=(0,o.hb)((e=>{G.current.push("/@"+e)}),[]),X=(0,o.hb)((()=>F((e=>1!==e?1:0))),[]),V=(0,o.hb)((()=>F((e=>-1!==e?-1:0))),[]),Y=(0,o.hb)((()=>x.jF("+")),[]),q=(0,o.hb)((()=>x.jF("-")),[]),Z=(0,o.hb)((()=>{var e;return U.current?U.current.getBoundingClientRect():(null===(e=W.current)||void 0===e?void 0:e.getBoundingClientRect())||{}}),[]),J=r.author||{},K=parseFloat((r.payout||"").replace("$",""))||0,Q=(r.upVotesNumber||0)+(1===z?1:0),$=(r.downVotesNumber||0)+(-1===z?1:0),ee=parseFloat(K*(1/3)).toFixed(2),te=parseFloat(K*(2/3)).toFixed(2),ne=t.image+("square"===E?" pixelated ":""),re=(0,o.Kr)((()=>({minWidth:"100%",filter:r.nsfw&&!C?"blur(24px)":"none",aspectRatio:"".concat(R," / ").concat(S),borderRadius:"xbrz"===E?"12px":"0px"})),[r.nsfw,C,E,R,S]);return a.createElement(s.A,{ref:W,key:i,className:t.card+(k?" Mui-selected":"")+(O?" shown":" hidden"),style:n},a.createElement(c.A,{className:t.cardHeader,avatar:a.createElement(l.A,{onClick:()=>H(J.username),src:J.image,imgProps:{decoding:"async",loading:"lazy"}}),action:a.createElement(a.Suspense,{fallback:a.createElement("span",null)},a.createElement(u.A,{"aria-label":"settings",onClick:e=>B(e,r)},a.createElement(I,null))),title:a.createElement("span",{onClick:()=>null==L?void 0:L(r,Z())},r.title),subheader:a.createElement("span",null,a.createElement(p.Ay,{arrow:!0,title:new Date(r.date||Date.now()).toLocaleDateString(A,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},a.createElement("span",{className:t.subheaderDate},v.A.format(r.date||Date.now(),{labels:"narrow"}))),a.createElement("span",{className:t.subheaderBy}," by "),a.createElement(p.Ay,{title:"@"+(r.author||{}).username},a.createElement("span",{className:t.subheaderName,onClick:()=>H(J.username)},(J||{}).name)))}),a.createElement(w.A,{disableRipple:!0,disableTouchRipple:!0,onContextMenu:e=>e.preventDefault(),style:{width:"100%",borderRadius:"xbrz"===E?"12px":"0px"},onClick:()=>null==L?void 0:L(r,Z())},a.createElement(P,{renderer:E,id:i,size:D,column_width:T,image_width:R,image_height:S,getImgData:M.get_new_img_data,renderHex:b.eu,renderXbrz:b.px,renderCrt:b.E6,className:ne,style:re,onOpen:()=>null==L?void 0:L(r,Z()),nsfwEnabled:C,nsfwFlag:r.nsfw,canvasRef:U})),a.createElement(d.A,{disableSpacing:!0,className:t.actions},a.createElement(u.A,{className:z>0?t.voted:t.vote,"aria-label":"Up-Vote",onClick:X},z>0?a.createElement(m.A,null):a.createElement(h.A,null)),a.createElement("span",{onClick:Y,className:"monospace "+(z>0?t.voted:t.vote),style:{cursor:"pointer",marginRight:4,marginLeft:-4}},Q),a.createElement(u.A,{className:z<0?t.voted:t.vote,"aria-label":"Down-Vote",onClick:V},z<0?a.createElement(f.A,null):a.createElement(g.A,null)),a.createElement("span",{onClick:q,className:"monospace "+(z<0?t.voted:t.vote),style:{cursor:"pointer",marginRight:4,marginLeft:-4}},$),a.createElement(p.Ay,{interactive:!0,enterTouchDelay:200,leaveTouchDelay:4e3,disableTouchListener:!1,classes:{tooltip:t.tooltipRoot},title:a.createElement("div",{style:{fontFamily:'"Industry Book"',fontSize:"11px",lineHeight:"14px",padding:"16px"}},a.createElement("span",{style:{marginBottom:"8px",fontSize:"14px",fontWeight:"bold",display:"block"}},"Reward ",a.createElement("span",{style:{opacity:.666,fontWeight:"normal"}},"(USD ",(5.69*parseFloat(r.payout||0)).toFixed(2),")")),a.createElement("span",{style:{marginLeft:"12px",display:"block",fontWeight:"normal"}},a.createElement("span",{style:{fontWeight:"bold"}},"Author")," ",a.createElement("span",{className:"monospace",style:{opacity:.666}},"(66%)"),":",a.createElement("span",{className:"monospace"}," ",te," PXS")),a.createElement("span",{style:{marginLeft:"12px",display:"block",fontWeight:"normal"}},a.createElement("span",{style:{fontWeight:"bold"}},"Curators")," ",a.createElement("span",{className:"monospace",style:{opacity:.666}},"(34%)"),":",a.createElement("span",{className:"monospace"}," ",ee," PXS")),a.createElement("span",{style:{opacity:.8,marginTop:"4px",display:"block",fontStyle:"italic",fontWeight:"normal"}},"Payout in ",v.A.format((r.date||Date.now())+6048e5)))},a.createElement("span",{className:t.payout},K.toFixed(1)," ",a.createElement(y.A,{style:{width:"24px",height:"24px",verticalAlign:"bottom"}})))))}const N=(0,i.default)(T)(L),B=(0,a.memo)((e=>{let t=Object.assign({},(S(e),e));return a.createElement(N,t)}),((e,t)=>e.id===t.id&&e.visible===t.visible&&e.renderer===t.renderer&&e.nsfw===t.nsfw&&e.selected===t.selected&&e.locales===t.locales&&e.image_height===t.image_height&&e.image_width===t.image_width)),z=(0,a.memo)((e=>{let{style:t}=e,n=k(e,C);return a.createElement("div",{style:t},a.createElement(B,n))}),((e,t)=>e.id===t.id&&e.visible===t.visible&&e.renderer===t.renderer&&e.nsfw===t.nsfw&&e.selected===t.selected&&e.locales===t.locales&&e.image_height===t.image_height&&e.image_width===t.image_width&&D(e.style,t.style)));r()}catch(F){r(F)}}))},23563:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(17402),a=n(79626),o=n(84630),i=n(19008),s=n(61466),c=n(77430),l=n(48085),u=n(68048),d=n(82133),p=n(41068),m=n(46577),h=n(69205);function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.PureComponent{constructor(e){super(e),f(this,"trigger_votes",(()=>{h.jF("+")})),f(this,"trigger_details",(()=>{})),f(this,"trigger_favorite",(()=>{})),f(this,"trigger_share",(()=>{h.Dy()})),this.state={classes:e.classes,data:e.data,xy:e.xy||[]}}shouldComponentUpdate(e,t,n){return!1}componentWillReceiveProps(e){this.setState(e,(()=>{this.forceUpdate()}))}render(){const{xy:e,classes:t}=this.state,n=0|e[0],a=0|e[1];return r.createElement(l.A,{className:t.menu,PaperProps:{style:{overflowY:"overlay",contain:"style layout",scrollBehavior:"smooth",userSelect:"none",pointerEvents:Boolean(a)||Boolean(n)?"all":"none"}},onContextMenu:function(e){e.preventDefault()},MenuListProps:{dense:!0},transitionDuration:{enter:125,exit:250},open:Boolean(a)||Boolean(n),onClose:this.props.onClose,disablePortal:!1,keepMounted:!0,anchorReference:"anchorPosition",anchorPosition:{top:0|a,left:0|n}},r.createElement(i.A,null,r.createElement(o.A,{onClick:this.trigger_favorite},r.createElement(s.A,null,r.createElement(u.A,{fontSize:"small"})),r.createElement(c.A,{primary:"Favorite"})),r.createElement(o.A,{onClick:this.trigger_share},r.createElement(s.A,null,r.createElement(d.A,{fontSize:"small"})),r.createElement(c.A,{primary:"Share"})),r.createElement(o.A,{onClick:this.trigger_votes},r.createElement(s.A,null,r.createElement(m.A,{fontSize:"small"})),r.createElement(c.A,{primary:"Votes"})),r.createElement(o.A,{onClick:this.trigger_details},r.createElement(s.A,null,r.createElement(p.A,{fontSize:"small"})),r.createElement(c.A,{primary:"Details"}))))}}const y=(0,a.default)((e=>({})))(g)},79493:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(17402),a=n(41728),o=n(32150);class i extends r.default.PureComponent{constructor(e){super(e)}render(){return r.default.createElement(a.A,this.props,r.default.createElement("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M7,10L12,15L17,10H7Z"}))}}const s=(0,o.A)((e=>({})))(i)},13563:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(17402),a=n(41728),o=n(32150);class i extends r.default.PureComponent{constructor(e){super(e)}render(){return r.default.createElement(a.A,this.props,r.default.createElement("path",{d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M7,10L12,15L17,10H7Z"}))}}const s=(0,o.A)((e=>({})))(i)},56340:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(17402),a=n(41728),o=n(32150);class i extends r.default.PureComponent{constructor(e){super(e)}render(){return r.default.createElement(a.A,this.props,r.default.createElement("path",{d:"M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22M17,14L12,9L7,14H17Z"}))}}const s=(0,o.A)((e=>({})))(i)},77808:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(17402),a=n(41728),o=n(32150);class i extends r.default.PureComponent{constructor(e){super(e)}render(){return r.default.createElement(a.A,this.props,r.default.createElement("path",{d:"M12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M17,14L12,9L7,14H17Z"}))}}const s=(0,o.A)((e=>({})))(i)},61428:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(17402),a=n(41728),o=n(32150);class i extends r.default.PureComponent{constructor(e){super(e)}render(){return r.default.createElement(a.A,this.props,r.default.createElement("path",{d:"M22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12M8.6,16.6L13.2,12L8.6,7.4L10,6L16,12L10,18L8.6,16.6Z"}))}}const s=(0,o.A)((e=>({})))(i)},39756:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(17402),a=n(41728),o=n(32150);class i extends r.default.PureComponent{constructor(e){super(e)}render(){return r.default.createElement(a.A,this.props,r.default.createElement("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.212 7.243c1.756 4.235.822 6.953.012 9.237 4.677-1.434 6.826-.695 8.514-.169.23.051.496.123.796.218a9.376 9.376 0 0 1-.219-.796c-.525-1.687-1.264-3.837.169-8.514-2.283.81-5.001 1.744-9.236-.012l-.044-.008.008.044zm14.738 12.87c.772 1.2 1.396 2.327 1.659 3.204.065.15.084.241.106.402-.068.009-.323-.078-.43-.125-.877-.262-1.967-.876-3.167-1.649-2.979-1.181-5.023-1.855-8.018-2.34-4.235.407-6.767 2.001-11.815 3.813 3.899-8.423 3.7-9.114 3.814-11.814C3.669 7.259 1.793 4.724.317.321l.016.007A.12.12 0 0 0 .325.312c4.404 1.476 6.939 3.352 11.284 3.782C14.308 3.98 15 4.18 23.423.281 21.61 5.328 20.016 7.86 19.61 12.095c.485 2.996 1.159 5.039 2.34 8.018z"}))}}const s=(0,o.A)((e=>({})))(i)},37532:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(19798),a=n(29411);r.A.addDefaultLocale(a.A);const o=new r.A("en-US")},20793:e=>{var t="\n  ".concat('var fu = function(image_data, scale) {\n\n    return new Promise(function (resolve, reject) {\n\n        var CRT = (function () {\n\n            "use asm";\n\n            var sqrt = Math.sqrt;\n            var cos = Math.cos;\n            var sin = Math.sin;\n            var min = Math.min;\n            var max = Math.max;\n            var imul = Math.imul;\n\n            function apply(imageData, srcx, srcy, scale, threshold) {\n\n                srcx = srcx | 0;\n                srcy = srcy | 0;\n                scale = scale | 0;\n                threshold = +threshold;\n\n                var Channels = 4;\n                var SizeX = srcx * scale | 0;\n                var SizeY = srcy * scale | 0;\n\n                var ScaledImage = new Uint8ClampedArray(SizeX * SizeY * Channels);\n\n                var total = SizeY | 0;\n                var current = 0;\n\n                var ppx = 0.0;\n                var ppy = 0.0;\n                var posx = 0;\n                var posy = 0;\n                var sub_posx = 0.0;\n                var sub_posy = 0.0;\n                var positionx = 0;\n                var positiony = 0;\n                var center = 0;\n                var left = 0;\n                var right = 0;\n                var midleft = 0;\n                var midright = 0;\n                var ret = 0;\n                var cr = 0;\n                var cg = 0;\n                var cb = 0;\n                var mlb = 0;\n                var mrr = 0;\n                var mrg = 0;\n                var lb = 0;\n                var rr = 0;\n                var rg = 0;\n                var alpha = 0;\n\n                for (var y = 0; y < SizeY; y = y + 1 | 0) {\n\n                    var offset = imul(y, SizeX) | 0;\n                    ppy = +(y / SizeY);\n\n                    for (var x = 0; x < SizeX; x = x + 1 | 0) {\n\n                        ppx = +(x / SizeX);\n                        posx = ~~(ppx * srcx);\n                        posy = ~~(ppy * srcy);\n                        sub_posx = +(ppx * srcx * 6) % 1.0;\n                        sub_posy = +(ppy * srcy * 6) % 1.0;\n                        positionx = posx | 0;\n                        positiony = posy | 0;\n\n                        center = CLR(imageData, srcx, srcy, positionx, positiony, 0, 0);\n                        left = CLR(imageData, srcx, srcy, positionx, positiony, -1, 0);\n                        right = CLR(imageData, srcx, srcy, positionx, positiony, 1, 0);\n\n                        if (sub_posy < 1.0 / 6.0) {\n\n                            center = mix(center, CLR(imageData, srcx, srcy, positionx, positiony, 0, -1), 0.5 - sub_posy / 2.0);\n                            left = mix(left, CLR(imageData, srcx, srcy, positionx, positiony, -1, -1), 0.5 - sub_posy / 2.0);\n                            right = mix(right, CLR(imageData, srcx, srcy, positionx, positiony, 1, -1), 0.5 - sub_posy / 2.0);\n\n                        } else if (sub_posy > 5.0 / 6.0) {\n\n                            center = mix(center, CLR(imageData, srcx, srcy, positionx, positiony, 0, 1), sub_posy / 2.0);\n                            left = mix(left, CLR(imageData, srcx, srcy, positionx, positiony, -1, 1), sub_posy / 2.0);\n                            right = mix(right, CLR(imageData, srcx, srcy, positionx, positiony, 1, 1), sub_posy / 2.0);\n                        }\n\n                        var scanline_multiplier;\n\n                        if (sub_posy < 0.5) {\n\n                            scanline_multiplier = (sub_posy * 2) * 0.3 + 0.7;\n\n                        } else {\n\n                            scanline_multiplier = ((1 - sub_posy) * 2) * 0.3 + 0.7;\n                        }\n\n                        Mul(center, scanline_multiplier);\n                        Mul(left, scanline_multiplier);\n                        Mul(right, scanline_multiplier);\n\n                        var odd = (ppx * srcx) & 1;\n\n                        var gradient_position;\n\n                        if (odd) {\n\n                            posy = +(posy + 0.5);\n                            posy = +(posy % 1.0);\n                        }\n\n                        if (posy < 1.0 / 3.0) {\n\n                            gradient_position = +(posy * 3.0);\n\n                            Mul(center, gradient_position * 0.6 + 0.4);\n                            Mul(left, gradient_position * 0.6 + 0.4);\n                            Mul(right, gradient_position * 0.6 + 0.4);\n\n                        } else if (posy > 2.0 / 3.0) {\n\n                            gradient_position = +(1 - posy) * 3.0;\n\n                            Mul(center, gradient_position * 0.6 + 0.4);\n                            Mul(left, gradient_position * 0.6 + 0.4);\n                            Mul(right, gradient_position * 0.6 + 0.4);\n                        }\n\n                        if (posx < 1.0 / 6.0 || posx > 5.0 / 6.0) {\n\n                            posy = +(posy + 0.5);\n                            posy = +(posy % 1.0);\n\n                            if (posy < 1.0 / 3.0) {\n\n                                gradient_position = +(posy * 3.0);\n\n                                if (posx < 0.5) {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (ppx) * 6.0));\n\n                                } else {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (1 - ppx) * 6.0));\n                                }\n\n                                Mul(center, gradient_position * 0.6 + 0.4);\n                                Mul(left, gradient_position * 0.6 + 0.4);\n                                Mul(right, gradient_position * 0.6 + 0.4);\n\n                            } else if (posy > 2.0 / 3.0) {\n\n                                gradient_position = +(1 - posy) * 3.0;\n\n                                if (posx < 0.5) {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (ppx) * 6.0));\n\n                                } else {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (1 - ppx) * 6.0));\n                                }\n\n                                Mul(center, gradient_position * 0.6 + 0.4);\n                                Mul(left, gradient_position * 0.6 + 0.4);\n                                Mul(right, gradient_position * 0.6 + 0.4);\n                            }\n                        }\n\n                        midleft = mix(left, center, 0.5);\n                        midright = mix(right, center, 0.5);\n\n                        cr = Red(center) | 0;\n                        cg = Green(center) | 0;\n                        cb = Blue(center) | 0;\n                        mlb = Blue(midleft) | 0;\n                        mrr = Red(midright) | 0;\n                        mrg = Green(midright) | 0;\n                        lb = Blue(left) | 0;\n                        rr = Red(right) | 0;\n                        rg = Green(right) | 0;\n                        alpha = Alpha(center) | 0;\n\n                        if (ppx < 1.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, cr * 255, cg * 255, lb * 255), ARGBINT(alpha, cr * 255, cg * 255, lb * 255), sub_posx);\n\n                        } else if (ppx < 2.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, cr * 255, cg * 255, lb * 255), ARGBINT(alpha, cr * 255, cg * 255, mlb * 255), sub_posx);\n\n                        } else if (ppx < 3.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, cr * 255, cg * 255, mlb * 255), ARGBINT(alpha, mrr * 255, cg * 255, cb * 255), sub_posx);\n\n                        } else if (ppx < 4.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, mrr * 255, cg * 255, cb * 255), ARGBINT(alpha, rr * 255, cg * 255, cb * 255), sub_posx);\n\n                        } else if (ppx < 5.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, rr * 255, cg * 255, cb * 255), ARGBINT(alpha, rr * 255, mrg * 255, cb * 255), sub_posx);\n\n                        } else {\n\n                            ret = mix(ARGBINT(alpha, rr * 255, mrg * 255, cb * 255), ARGBINT(alpha, rr * 255, rg * 255, cb * 255), sub_posx);\n                        }\n\n                        if (positionx < 1) {\n\n                            Mul(ret, positionx | 0);\n\n                        } else if (positionx > srcx - 1) {\n\n                            Mul(ret, srcx - positionx | 0);\n                        }\n\n                        if (positiony < 1) {\n\n                            Mul(ret, positiony | 0);\n\n                        } else if (positiony > srcy - 1) {\n\n                            Mul(ret, srcy - positiony | 0);\n                        }\n\n                        ScaledImage[offset * Channels] = Red(ret) | 0;\n                        ScaledImage[offset * Channels + 1] = Green(ret) | 0;\n                        ScaledImage[offset * Channels + 2] = Blue(ret) | 0;\n                        ScaledImage[offset * Channels + 3] = Alpha(ret) | 0;\n\n                    }\n\n                    current = current + 1 | 0;\n                }\n\n                return new ImageData(ScaledImage, SizeX, SizeY);\n            }\n\n            function mix(a, b, c) {\n\n                a = a | 0;\n                b = b | 0;\n                c = +c;\n\n                return ((a + ((b - a) * c)) | 0);\n            }\n\n            function Mul(x, y) {\n\n                x = x | 0;\n                y = +y;\n\n                return ((x * y) | 0);\n            }\n\n            function Red(rgb) {\n\n                rgb = rgb | 0;\n\n                return ((rgb >>> 16) & 0xFF) | 0;\n            }\n\n            function Green(rgb) {\n\n                rgb = rgb | 0;\n\n                return ((rgb >>> 8) & 0xFF) | 0;\n            }\n\n            function Blue(rgb) {\n\n                rgb = rgb | 0;\n\n                return (rgb & 0xFF) | 0;\n            }\n\n            function Alpha(rgb) {\n\n                rgb = rgb | 0;\n\n                return (rgb >>> 24) | 0;\n            }\n\n            function ARGBINT(a, r, g, b) {\n\n                a = a | 0;\n                r = r | 0;\n                g = g | 0;\n                b = b | 0;\n\n                return (((((a) << 24) | (r << 16) | (g << 8) | b) >>> 0) | 0);\n            }\n\n            function CLR(Input, srcx, srcy, x, y, dx, dy) {\n\n                Input = Input | 0;\n                srcx = srcx | 0;\n                srcy = srcy | 0;\n                x = x | 0;\n                y = y | 0;\n                dx = dx | 0;\n                dy = dy | 0;\n\n                var Channels = 4;\n\n                var xx = 0;\n                var yy = 0;\n\n                xx = (x + dx) | 0;\n                yy = (y + dy) | 0;\n\n                xx = max(0, min(srcx - 1, xx)) | 0;\n                yy = max(0, min(srcy - 1, yy)) | 0;\n\n                var index = 0;\n\n                index = ((yy * srcx + xx) * Channels) | 0;\n\n                var r = 0;\n                var g = 0;\n                var b = 0;\n                var a = 0;\n\n                r = (Input[index] | 0);\n                g = (Input[index + 1] | 0);\n                b = (Input[index + 2] | 0);\n                a = (Input[index + 3] | 0);\n\n                return ARGBINT(a, r, g, b) | 0;\n            }\n\n            return { Apply: apply };\n        }());\n\n        resolve(CRT.Apply(image_data.data, image_data.width, image_data.height, scale, 0));\n    });\n}\n\nfunction crt(image_data, scale) {\n    return new Promise(function(resolve, reject){\n        fu(image_data, scale).then((result) => {\n            resolve(result);\n        });\n    });\n}\n\n',"\n    self.onmessage = function onmessage(event) {\n        if (event.data.type === 'imageData') {\n            const result = crt(event.data.imageData, event.data.data.scale).then(function(result){\n                self.postMessage([result, event.data.id, event.data.algorithm]);\n            });\n        }\n    };\n");e.exports={functionString:t,functionSize:function(e,t,n){return{width:e*n,height:t*n,arrayBufferLength:e*n*t*n*4}}}},81968:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(54743),n(11745),n(34594),n(22134),n(75044),n(28845),n(373);const r=(()=>{let e,t,n,r,a,o,i,s;function c(t,n){const r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r));return r}return function(l){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const d=l.width,p=l.height,m=d*u,h=p*u;e||function(){t||(t=new OffscreenCanvas(1,1)),e||(e=t.getContext("webgl2"));const l=c(e.VERTEX_SHADER,"#version 300 es\n        in vec2 position;\n        out vec2 vTexCoord;\n        \n        void main() {\n            vTexCoord = (position + 1.0) * 0.5; // Convert from clip space to UV\n            gl_Position = vec4(position, 0.0, 1.0);\n        }\n    "),u=c(e.FRAGMENT_SHADER,"#version 300 es\n    precision highp float;\n    \n    uniform vec3 _uiResolution;\n    uniform sampler2D _uiChannel0;\n    \n    in vec2 vTexCoord;\n    out vec4 fragColor;\n    \n    float _uhardScan = -8.0;\n    float _uhardPix = -3.0;\n    vec2 _uwarp = vec2(0.03125, 0.0416666679);\n    float _umaskDark = 0.5;\n    float _umaskLight = 1.5;\n    \n    float _uToLinear1(in float _uc){\n      return _uc <= 0.04045 ? (_uc / 12.92) : pow((_uc + 0.055) / 1.055, 2.4);\n    }\n    vec3 _uToLinear(in vec3 _uc){\n      return vec3(_uToLinear1(_uc.r), _uToLinear1(_uc.g), _uToLinear1(_uc.b));\n    }\n    float _uToSrgb1(in float _uc){\n      return _uc < 0.0031308 ? (_uc * 12.92) : (1.055 * pow(_uc, 1.0 / 2.4) - 0.055);\n    }\n    vec3 _uToSrgb(in vec3 _uc){\n      return vec3(_uToSrgb1(_uc.r), _uToSrgb1(_uc.g), _uToSrgb1(_uc.b));\n    }\n    \n    vec3 _uFetch(in vec2 _pos, in vec2 _off){\n      vec2 p = floor((_pos * (_uiResolution.xy / 6.0)) + _off) / (_uiResolution.xy / 6.0);\n      if (max(abs(p.x - 0.5), abs(p.y - 0.5)) > 0.5) return vec3(0.0);\n      return _uToLinear(texture(_uiChannel0, p).rgb);\n    }\n    \n    vec2 _uDist(in vec2 _pos){\n      vec2 p = _pos * (_uiResolution.xy / 6.0);\n      return -(p - floor(p) - vec2(0.5));\n    }\n    \n    float _uGaus(float x, float scale){\n      return exp2(scale * x * x);\n    }\n    \n    vec3 _uHorz3(vec2 pos, float off){\n      vec3 b = _uFetch(pos, vec2(-1.0, off));\n      vec3 c = _uFetch(pos, vec2(0.0, off));\n      vec3 d = _uFetch(pos, vec2(1.0, off));\n      float dst = _uDist(pos).x;\n      float wb = _uGaus(dst - 1.0, _uhardPix);\n      float wc = _uGaus(dst, _uhardPix);\n      float wd = _uGaus(dst + 1.0, _uhardPix);\n      return (b * wb + c * wc + d * wd) / (wb + wc + wd);\n    }\n    \n    vec3 _uHorz5(vec2 pos, float off){\n      vec3 a = _uFetch(pos, vec2(-2.0, off));\n      vec3 b = _uFetch(pos, vec2(-1.0, off));\n      vec3 c = _uFetch(pos, vec2(0.0, off));\n      vec3 d = _uFetch(pos, vec2(1.0, off));\n      vec3 e = _uFetch(pos, vec2(2.0, off));\n      float dst = _uDist(pos).x;\n      float wa = _uGaus(dst - 2.0, _uhardPix);\n      float wb = _uGaus(dst - 1.0, _uhardPix);\n      float wc = _uGaus(dst, _uhardPix);\n      float wd = _uGaus(dst + 1.0, _uhardPix);\n      float we = _uGaus(dst + 2.0, _uhardPix);\n      return (a * wa + b * wb + c * wc + d * wd + e * we) / (wa + wb + wc + wd + we);\n    }\n    \n    float _uScan(vec2 pos, float off){\n      float dst = _uDist(pos).y;\n      return _uGaus(dst + off, _uhardScan);\n    }\n    \n    vec3 _uTri(vec2 pos){\n      vec3 a = _uHorz3(pos, -1.0);\n      vec3 b = _uHorz5(pos,  0.0);\n      vec3 c = _uHorz3(pos,  1.0);\n      float wa = _uScan(pos, -1.0);\n      float wb = _uScan(pos,  0.0);\n      float wc = _uScan(pos,  1.0);\n      return a * wa + b * wb + c * wc;\n    }\n    \n    vec2 _uWarp(vec2 pos){\n      pos = pos * 2.0 - 1.0;\n      pos *= vec2(1.0 + pos.y * pos.y * _uwarp.x, 1.0 + pos.x * pos.x * _uwarp.y);\n      return pos * 0.5 + 0.5;\n    }\n    \n    vec3 _uMask(vec2 pos){\n      pos.x += pos.y * 3.0;\n      vec3 mask = vec3(_umaskDark);\n      float frac = fract(pos.x / 6.0);\n      if (frac < 0.333) mask.r = _umaskLight;\n      else if (frac < 0.666) mask.g = _umaskLight;\n      else mask.b = _umaskLight;\n      return mask;\n    }\n    \n    float _uBar(float pos, float bar){\n      pos -= bar;\n      return (pos * pos < 4.0) ? 0.0 : 1.0;\n    }\n    \n   void main() {\n  vec2 fragCoord = vTexCoord * _uiResolution.xy;\n  vec4 fragColorLinear = vec4(0.0);\n\n  // Treat the whole screen as View 3\n  vec2 pos = _uWarp(fragCoord / _uiResolution.xy);\n\n  _uhardScan = -12.0;\n  _umaskDark = _umaskLight = 1.0;\n\n  fragColorLinear.rgb = _uTri(pos) * _uMask(fragCoord.xy);\n  fragColorLinear.a = 1.0;\n\n  fragColor = vec4(_uToSrgb(fragColorLinear.rgb), 1.0);\n}\n    ");if(n=e.createProgram(),e.attachShader(n,l),e.attachShader(n,u),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(n));e.useProgram(n),r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW);const d=e.getAttribLocation(n,"position");e.enableVertexAttribArray(d),e.vertexAttribPointer(d,2,e.FLOAT,!1,0,0),a=e.getUniformLocation(n,"_uiChannel0"),o=e.getUniformLocation(n,"_uiResolution"),i=e.createTexture(),e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),s=e.createFramebuffer()}(),t.width=m,t.height=h,e.viewport(0,0,m,h),e.useProgram(n),e.bindBuffer(e.ARRAY_BUFFER,r),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,d,p,0,e.RGBA,e.UNSIGNED_BYTE,l.data),e.uniform1i(a,0),e.uniform3f(o,m,h,1),e.drawArrays(e.TRIANGLES,0,6);const f=new Uint8ClampedArray(m*h*4);return e.readPixels(0,0,m,h,e.RGBA,e.UNSIGNED_BYTE,f),new ImageData(f,m,h)}})()},23308:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Y:()=>m});n(54743),n(11745),n(21489),n(75044),n(28845),n(373),n(62953);var a=n(18046),o=n(24234),i=n(54136),s=n(2657),c=e([a]);a=(c.then?(await c)():c)[0];const l=new Map,u=new Map;async function d(e){let t=new Uint8Array(0),n="UNKNOWN",r="";return"string"==typeof e&&(e.startsWith("data:image/")?(e.startsWith("data:image/webp;base64,")?n="WEBP":e.startsWith("data:image/png;base64,")&&(n="PNG"),t=new Uint8Array(await(await fetch(e)).arrayBuffer())):(n="IMAGE",t=(0,a.s5)(e))),r=(0,a.QQ)(t,a.$y.Base58),{data:t,type:n,hash:r}}const p=(e,t,n)=>new Promise((function(r,a){let o={id:n,type:e,data:t};const{width:i,height:c}=(0,s.R9)(t);o.width=i,o.height=c,r(o)})),m=()=>({get_new_img_obj:async e=>{const{hash:t,type:n,data:r}=await d(e);if(l.has(t))return l.get(t);{const e=await p(n,r,t);return l.set(e.id,e),l.size>=600&&Object.keys(l).slice(-100).forEach((e=>{l.delete(e)})),e}},get_new_img_data:async e=>new Promise((function(t,n){if(u.has(e.id))t(u.get(e.id));else{const n=n=>{u.set(e.id,n),u.size>=600&&Object.keys(u).slice(-100).forEach((e=>{u.delete(e)})),t(n)};"PNG"===e.type?(0,i.A)(e.data).then(n):"WEBP"===e.type&&(0,o.A)(e.data).then(n)}}))});r()}catch(h){r(h)}}))},92059:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{E6:()=>_,R2:()=>w,eu:()=>v,px:()=>b});n(54743),n(11745),n(21489),n(75044),n(28845),n(373),n(62953),n(3296),n(27208),n(48408);var a=n(71768),o=n(20793),i=n.n(o),s=n(7514),c=n(81968),l=e([a,s]);function u(e,t){const n=document.createElement("canvas"),r=document.createElement("canvas");n.width=e.width*t,n.height=e.height*t,r.width=e.width,r.height=e.height;const a=n.getContext("2d"),o=r.getContext("2d");return a.imageSmoothingEnabled=!1,o.imageSmoothingEnabled=!1,o.putImageData(e,0,0),a.drawImage(r,0,0,r.width,r.height,0,0,n.width,n.height),a.getImageData(0,0,n.width,n.height)}[a,s]=l.then?(await l)():l;class d{constructor(e){this.workers=new Map,this.workerScripts=e}createWorker(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.workers.has(e))return this.workers.get(e).worker;const r=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(r);let o;return o=n?new SharedWorker(a):new Worker(a),this.workers.set(e,{worker:o,type:n?"shared":"dedicated"}),o}sendDataToWorker(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,a=this.workers.get(e);if(!a){if(void 0===this.workerScripts[e])throw new Error("Worker ".concat(e," not found"));a=this.createWorker(e,this.workerScripts[e],!1)}const{worker:o,type:i}=a,s={type:n.type||"default",data:t,id:r,algorithm:e},c=[];if("canvas"===n.type){const e=n.canvas.transferControlToOffscreen();s.canvas=e,c.push(e)}else"sharedBuffer"===n.type?(s.sharedArrayBuffer=n.sharedArrayBuffer,c.push(n.sharedArrayBuffer)):"imageData"===n.type&&(s.imageData=t.data);"dedicated"===i?o.postMessage(s,c):"shared"===i&&(o.port.postMessage(s,c),o.port.start()),"dedicated"===i?o.onmessage=e=>{n.onReceive&&n.onReceive(e.data[0],e.data[1],e.data[2])}:"shared"===i&&(o.port.onmessage=e=>{n.port.onReceive&&n.port.onReceive(e.data[0],e.data[1],e.data[2])})}terminateWorker(e){const t=this.workers.get(e);t&&("dedicated"===t.type?t.worker.terminate():"shared"===t.type&&t.worker.port.close(),this.workers.delete(e))}}const p=new d({crt:i().functionString});let m={xbrz:{worker:!1,callbacks:{},data:{},bitmap:{},timestamp:{}},hex:{worker:!1,callbacks:{},data:{},bitmap:{},timestamp:{}},sqr:{worker:!1,callbacks:{},data:{},bitmap:{},timestamp:{}},crt:{worker:!1,callbacks:{},data:{},bitmap:{},timestamp:{}}},h=0;function f(e){for(const t in m)t!==e&&(p.terminateWorker(t),m[t].callbacks={})}async function g(e,t,n){let r;if("function"==typeof m[n].callbacks[t]&&(void 0===r&&(r=await createImageBitmap(e,0,0,e.width,e.height)),m[n].callbacks[t](e,r)),void 0!==m[n].data[t]){void 0===r&&(r=await createImageBitmap(e,0,0,e.width,e.height));const a=e.data.byteLength;if(m[n].data[t]=e,m[n].bitmap[t]=r,m[n].timestamp[t]=0|Date.now(),h+=a,h>262144){const e=Object.keys(m[n].timestamp),t=Object.values(m[n].timestamp);let r=0|Date.now();for(let e=0,n=t.length;e<n;e++)t[e]<r&&(r=t[e]);const a=e[t.indexOf(r)];if(a){const e=0|m[n].data[a].data.byteLength;delete m[n].data[a],m[n].bitmap[a].close(),delete m[n].bitmap[a],delete m[n].callbacks[a],delete m[n].timestamp[a],h-=e}}}}async function y(e,t,n,r){let o=arguments.length>5?arguments[5]:void 0;o=o+"-"+e+"-"+n,f(e),m[e].callbacks[o]=r;const i=Object.keys(m[e].callbacks).length;if(void 0!==m[e].data[o]&&"function"==typeof m[e].callbacks[o]){const t=m[e].data[o],n=m[e].bitmap[o];m[e].callbacks[o](t,n)}else if(m[e].worker)p.sendDataToWorker(e,{data:t,scale:n},{type:"imageData",onReceive:g},o);else if("hex"===e){const{width:r,height:i,data:s}=(0,a.XX)(new Uint8Array(t.data.buffer),t.width,t.height,n),c=new ImageData(s,r,i);await g(c,o,e)}else if("xbrz"===e){const r=await(0,s.i)(t,n,(t=>{g(t,o,e)}),i);await g(r,o,e)}else if("crt"===e){const r=await(0,c.A)(t,n);await g(r,o,e)}else if("sqr"===e){const r=await u(t,n);await g(r,o,e)}}function b(e,t,n,r,a){y("xbrz",e,t,n,r,a)}function v(e,t,n,r,a){y("hex",e,t,n,r,a)}function _(e,t,n,r,a){y("crt",e,t,n,r,a)}function w(e,t,n,r,a){y("sqr",e,t,n,r,a)}r()}catch(x){r(x)}}))},79205:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>m});n(54743),n(11745),n(27495),n(25440),n(22134),n(61740),n(75044),n(28845),n(373),n(12041),n(62953),n(3296),n(27208),n(48408);var a=n(23073),o=n(4826),i=e([a]);a=(i.then?(await i)():i)[0];var s=(0,o.SIMDopeCreateConfAdd)({create:{new_of:!0,new_uint32:!0,new_uint32b:!0},properties:{uint32:!0,hex:!0},methods:{get_element:!0,euclidean_match_with:!0,slice_uint32:!0,get_deduplicated_sorted_uint32a:!0}}),{Color:c,Colors:l}=(0,o.SIMDopeCreate)(s);const u=new XMLSerializer;function d(e,t,n){const r=document.getElementById(e),a=document.getElementById(t);if(!r)return null;if(!a)return null;r.removeAttribute("style"),r.removeAttribute("id");let o=u.serializeToString(r);if(o=o.replaceAll('style="fill: #000000;"','style="fill: #00000000;"'),r.id=e,r.style.display="none",r.remove(),a.remove(),"svg"===n)return o;if("blob"===n){const e=new Blob([o],{type:"image/svg+xml"});return URL.createObjectURL(e)}}function p(e,t,n){e.canvasId&&e.svgId||(e.canvasId="frame"+n,e.svgId="svg"+n);let r=document.getElementById(e.canvasId);r||(r=document.createElement("canvas"),r.id=e.canvasId,r.style.display="none",document.body.appendChild(r));let o=document.getElementById(e.svgId);o||(o=document.createElementNS("http://www.w3.org/2000/svg","svg"),o.id=e.svgId,o.style.display="none",document.body.appendChild(o));const i=new Image;var s;function c(t,n,r){s&&s.stop(),(s=new l(t,e.output,n,r)).run()}class l{constructor(e,t,n,r){this.converter=a.HI.new_with_string('{"canvas_id":"frame'.concat(n,'","svg_id":"svg').concat(n,'","mode":"spline","clustering_mode":"color","hierarchical":"stacked","corner_threshold":').concat(1/60,',"length_threshold":4.0,"max_iterations":10,"splice_threshold": ').concat(1/45,',"filter_speckle":4,"color_precision":1,"layer_difference":24,"path_precision":2}')),this.converter.init(),this.stopped=!1,this.output=t||"svg",this.callback=e,this.n=n,this.list=r}run(){const e=this;!function t(){if(!e.stopped){let n=!1;const r=performance.now();for(;!(n=e.converter.tick())&&performance.now()-r<25;);n?e.ok(this.n):setTimeout(t,1)}}()}stop(){this.stopped=!0,this.converter.free()}ok(){this.callback(d("svg"+this.n,"frame"+this.n,this.output))}}!function(e,t,n){if(e instanceof ImageData){r.width=e.width,r.height=e.height;r.getContext("2d",{colorSpace:"srgb"}).putImageData(e,0,0),o.setAttribute("height",r.height+"px"),o.setAttribute("width",r.width+"px"),c(t,n,null)}else i.src=e,i.onload=function(){r.width=i.naturalWidth,r.height=i.naturalHeight;r.getContext("2d",{colorSpace:"srgb"}).drawImage(i,0,0),o.setAttribute("height",r.height+"px"),o.setAttribute("width",r.width+"px"),c(t,n,null)}}(e.imageSource,t,n)}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r,a){p({imageSource:e,output:t},r,n)}))}r()}catch(h){r(h)}}))},7514:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{i:()=>u});n(54743),n(11745),n(22134),n(75044),n(28845),n(373),n(62953),n(3296),n(27208),n(48408);var a=n(79205),o=n(29012),i=e([a]);a=(i.then?(await i)():i)[0],await(0,o.Ay)();const s=new OffscreenCanvas(0,0),c=s.getContext("2d",{performance:"high-performance",willReadFrequently:!0});function l(e,t){const n=Math.max(1,Math.min(6,Math.round(t)));s.width=e.width*n,s.height=e.height*n;const r=(0,o.N8)(e.data,e.width,e.height,0|n),{ptr:a,len:i}=r,l=new Uint8ClampedArray((0,o.Xq)().buffer).subarray(a,a+i),u=new ImageData(l,s.width,s.height);return c.putImageData(u,0,0),r.free(),c.getImageData(0,0,s.width,s.height)}async function u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o=l(e,t);return t<=6?o:(n(o),await new Promise((async(e,n)=>{const i=await(0,a.A)(o,"blob",r),s=t/Math.round(Math.min(t,6)),c=Math.round(o.width*s),l=Math.round(o.height*s),u=document.createElement("img");u.onload=()=>{const t=new OffscreenCanvas(c,l),n=t.getContext("2d");n.drawImage(u,0,0,o.width,o.height,0,0,t.width,t.height),e(n.getImageData(0,0,t.width,t.height)),URL.revokeObjectURL(i)},u.src=i})))}r()}catch(d){r(d)}}),1)}}]);