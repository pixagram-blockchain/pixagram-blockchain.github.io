(window.webpackJsonp=window.webpackJsonp||[]).push([["main_4204912e"],{1005:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=a(n(0)),i=a(n(1006)),o=a(n(1007)),s=a(n(1008)),c=a(n(1009)),u=a(n(1010)),l=a(n(1011)),d=a(n(1012)),f=a(n(1013)),m=a(n(1014)),h=a(n(1015)),p=a(n(1016)),_=a(n(1017)),g=a(n(1018)),y=a(n(1019)),v=a(n(1020)),b=a(n(1021)),x=a(n(1022)),k=a(n(1023)),S=a(n(1024)),w=a(n(1025)),M=a(n(1026)),C=a(n(1027)),T=a(n(1028)),N=a(n(1029)),A=a(n(1030)),E=a(n(1031)),I=a(n(1032)),D=a(n(1033)),R=a(n(1034)),z=a(n(1035)),B=a(n(1036)),L=a(n(1037)),P=a(n(1038)),O=a(n(1039)),F=a(n(1040)),U=a(n(1041)),K=a(n(1042)),Y=a(n(1043)),j=a(n(1044)),G=a(n(1045)),H=a(n(1046)),W=a(n(1047)),X=a(n(1048)),V=a(n(1049)),Z=a(n(1050)),J=a(n(1051)),Q=[{code:"ar-SA",name:"Arabic (Saudi Arabia)",svg:r.default.createElement(i.default,null)},{code:"bn-BD",name:"Bangla (Bangladesh)",svg:r.default.createElement(o.default,null)},{code:"bn-IN",name:"Bangla (India)",svg:r.default.createElement(s.default,null)},{code:"cs-CZ",name:"Czech (Czech Republic)",svg:r.default.createElement(c.default,null)},{code:"da-DK",name:"Danish (Denmark)",svg:r.default.createElement(u.default,null)},{code:"de-AT",name:"Austrian German",svg:r.default.createElement(l.default,null)},{code:"de-CH",name:'"Swiss" German',svg:r.default.createElement(d.default,null)},{code:"de-DE",name:"Standard German (as spoken in Germany)",svg:r.default.createElement(f.default,null)},{code:"el-GR",name:"Modern Greek",svg:r.default.createElement(m.default,null)},{code:"en-AU",name:"Australian English",svg:r.default.createElement(h.default,null)},{code:"en-CA",name:"Canadian English",svg:r.default.createElement(p.default,null)},{code:"en-GB",name:"British English",svg:r.default.createElement(_.default,null)},{code:"en-IE",name:"Irish English",svg:r.default.createElement(g.default,null)},{code:"en-IN",name:"Indian English",svg:r.default.createElement(y.default,null)},{code:"en-NZ",name:"New Zealand English",svg:r.default.createElement(v.default,null)},{code:"en-US",name:"US English",svg:r.default.createElement(b.default,null)},{code:"en-ZA",name:"English (South Africa)",svg:r.default.createElement(x.default,null)},{code:"es-AR",name:"Argentine Spanish",svg:r.default.createElement(k.default,null)},{code:"es-CL",name:"Chilean Spanish",svg:r.default.createElement(S.default,null)},{code:"es-CO",name:"Colombian Spanish",svg:r.default.createElement(w.default,null)},{code:"es-ES",name:"Castilian Spanish (as spoken in Central-Northern Spain)",svg:r.default.createElement(M.default,null)},{code:"es-MX",name:"Mexican Spanish",svg:r.default.createElement(C.default,null)},{code:"es-US",name:"American Spanish",svg:r.default.createElement(b.default,null)},{code:"fi-FI",name:"Finnish (Finland)",svg:r.default.createElement(T.default,null)},{code:"fr-BE",name:"Belgian French",svg:r.default.createElement(N.default,null)},{code:"fr-CA",name:"Canadian French",svg:r.default.createElement(p.default,null)},{code:"fr-CH",name:'"Swiss" French',svg:r.default.createElement(d.default,null)},{code:"fr-FR",name:"Standard French (especially in France)",svg:r.default.createElement(A.default,null)},{code:"he-IL",name:"Hebrew (Israel)",svg:r.default.createElement(E.default,null)},{code:"hi-IN",name:"Hindi (India)",svg:r.default.createElement(s.default,null)},{code:"hu-HU",name:"Hungarian (Hungary)",svg:r.default.createElement(I.default,null)},{code:"id-ID",name:"Indonesian (Indonesia)",svg:r.default.createElement(D.default,null)},{code:"it-CH",name:'"Swiss" Italian',svg:r.default.createElement(d.default,null)},{code:"it-IT",name:"Standard Italian (as spoken in Italy)",svg:r.default.createElement(R.default,null)},{code:"ja-JP",name:"Japanese (Japan)",svg:r.default.createElement(z.default,null)},{code:"ko-KR",name:"Korean (Republic of Korea)",svg:r.default.createElement(B.default,null)},{code:"nl-BE",name:"Belgian Dutch",svg:r.default.createElement(N.default,null)},{code:"nl-NL",name:"Standard Dutch (as spoken in The Netherlands)",svg:r.default.createElement(L.default,null)},{code:"no-NO",name:"Norwegian (Norway)",svg:r.default.createElement(P.default,null)},{code:"pl-PL",name:"Polish (Poland)",svg:r.default.createElement(O.default,null)},{code:"pt-BR",name:"Brazilian Portuguese",svg:r.default.createElement(F.default,null)},{code:"pt-PT",name:"European Portuguese (as written and spoken in Portugal)",svg:r.default.createElement(U.default,null)},{code:"ro-RO",name:"Romanian (Romania)",svg:r.default.createElement(K.default,null)},{code:"ru-RU",name:"Russian (Russian Federation)",svg:r.default.createElement(Y.default,null)},{code:"sk-SK",name:"Slovak (Slovakia)",svg:r.default.createElement(j.default,null)},{code:"sv-SE",name:"Swedish (Sweden)",svg:r.default.createElement(G.default,null)},{code:"ta-IN",name:"Indian Tamil",svg:r.default.createElement(s.default,null)},{code:"ta-LK",name:"Sri Lankan Tamil",svg:r.default.createElement(H.default,null)},{code:"th-TH",name:"Thai (Thailand)",svg:r.default.createElement(W.default,null)},{code:"tr-TR",name:"Turkish (Turkey)",svg:r.default.createElement(X.default,null)},{code:"zh-CN",name:"Mainland China, simplified characters",svg:r.default.createElement(V.default,null)},{code:"zh-HK",name:"Hong Kong, traditional characters",svg:r.default.createElement(Z.default,null)},{code:"zh-TW",name:"Taiwan, traditional characters",svg:r.default.createElement(J.default,null)}];e.exports=Q},175:function(e,t,n){"use strict";var a=(0,n(711).createBrowserHistory)();e.exports={LANGUAGES:["en","fr","id","pt","it","de","ja","zh","ko","ru","hi","es"],HISTORY:a,PAGE_ROUTES:[{page_regex:/\/*/,page_name:"unknown",tabs:""},{page_regex:/\/$/,page_name:"home",tabs:""},{page_regex:/\/(settings)$/,page_name:"settings",tabs:""},{page_regex:/\/(pixe)l?1?$/,page_name:"pixel",tabs:""},{page_regex:/\/(marketplace)(\/(profile|feed))?(\/([a-z+]))?$/,page_name:"marketplace",tabs:""},{page_regex:/\/(ico)$/,page_name:"ico",tabs:""},{page_regex:/\/(omniperium)(\/(actions|reports|dashboard|analytics|guides|documentation)(\/)?)?$/,page_name:"omniperium",tabs:""}],CURRENCY_COUNTRIES:{ARS:["AR"],AUD:["AU","CC","CX","HM","KI","NF","NR","TV"],BDT:["BD"],BRL:["BR"],CAD:["CA"],CHF:["CH","LI"],CLP:["CL"],CNY:["CN"],COP:["CO"],CZK:["CZ"],DKK:["DK","FO","GL"],EUR:["AD","AT","AX","BE","BL","CY","DE","EE","ES","FI","FR","GF","GP","GR","IE","IT","LU","MC","ME","MF","MQ","MT","NL","PM","PT","RE","SI","SK","SM","TF","VA","YT"],GBP:["GB","GG","GS","IM","JE"],HKD:["HK"],HUF:["HU"],IDR:["ID"],ILS:["IL","PS"],INR:["IN"],JPY:["JP"],KRW:["KR"],LKR:["LK"],MXN:["MX"],NOK:["BV","NO","SJ"],NZD:["CK","NU","NZ","PN","TK"],PLN:["PL"],RON:["RO"],RUB:["RU"],SAR:["SA"],SEK:["SE"],THB:["TH"],TRY:["TR"],TWD:["TW"],USD:["AS","BQ","EC","FM","GU","IO","MH","MP","PR","PW","TC","TL","UM","US","VG","VI"],ZAR:["ZA"]},FIRST_WEEK_DAY_BY_COUNTRY:{"001":"mon",AD:"mon",AE:"sat",AF:"sat",AG:"sun",AI:"mon",AL:"mon",AM:"mon",AN:"mon",AR:"mon",AS:"sun",AT:"mon",AU:"sun",AX:"mon",AZ:"mon",BA:"mon",BD:"sun",BE:"mon",BG:"mon",BH:"sat",BM:"mon",BN:"mon",BR:"sun",BS:"sun",BT:"sun",BW:"sun",BY:"mon",BZ:"sun",CA:"sun",CH:"mon",CL:"mon",CM:"mon",CN:"sun",CO:"sun",CR:"mon",CY:"mon",CZ:"mon",DE:"mon",DJ:"sat",DK:"mon",DM:"sun",DO:"sun",DZ:"sat",EC:"mon",EE:"mon",EG:"sat",ES:"mon",ET:"sun",FI:"mon",FJ:"mon",FO:"mon",FR:"mon",GB:"mon","GB-alt-variant":"sun",GE:"mon",GF:"mon",GP:"mon",GR:"mon",GT:"sun",GU:"sun",HK:"sun",HN:"sun",HR:"mon",HU:"mon",ID:"sun",IE:"mon",IL:"sun",IN:"sun",IQ:"sat",IR:"sat",IS:"mon",IT:"mon",JM:"sun",JO:"sat",JP:"sun",KE:"sun",KG:"mon",KH:"sun",KR:"sun",KW:"sat",KZ:"mon",LA:"sun",LB:"mon",LI:"mon",LK:"mon",LT:"mon",LU:"mon",LV:"mon",LY:"sat",MC:"mon",MD:"mon",ME:"mon",MH:"sun",MK:"mon",MM:"sun",MN:"mon",MO:"sun",MQ:"mon",MT:"sun",MV:"fri",MX:"sun",MY:"mon",MZ:"sun",NI:"sun",NL:"mon",NO:"mon",NP:"sun",NZ:"mon",OM:"sat",PA:"sun",PE:"sun",PH:"sun",PK:"sun",PL:"mon",PR:"sun",PT:"sun",PY:"sun",QA:"sat",RE:"mon",RO:"mon",RS:"mon",RU:"mon",SA:"sun",SD:"sat",SE:"mon",SG:"sun",SI:"mon",SK:"mon",SM:"mon",SV:"sun",SY:"sat",TH:"sun",TJ:"mon",TM:"mon",TR:"mon",TT:"sun",TW:"sun",UA:"mon",UM:"sun",US:"sun",UY:"mon",UZ:"mon",VA:"mon",VE:"sun",VI:"sun",VN:"mon",WS:"sun",XK:"mon",YE:"sun",ZA:"sun",ZW:"sun"},UTC_OFFSET_PER_COUNTRIES:{AF:4.3,AL:2,DZ:2,AS:-11,AO:1,AI:-4,AG:-4,AR:-3,AM:4,AW:-4,AU:10,AT:1,AZ:4,BS:-5,BH:3,BD:6,BB:-4,BY:3,BE:1,BZ:-6,BJ:1,BM:-4,BT:6,BO:-4,BA:1,BW:2,BR:-5,BG:2,BF:0,BI:2,KH:7,CM:1,CA:-6,CV:-1,KY:-5,CF:1,TD:1,CL:-3,CN:8,CX:7,CC:6.3,CO:-5,KM:3,CD:1,CK:-10,CR:-6,CI:0,HR:1,CY:2,CZ:1,DK:1,DJ:3,DM:-4,DO:-4,EC:-5,EG:2,SV:-6,GQ:1,ER:3,EE:2,ET:3,FK:-3,FO:0,FJ:12,FI:2,FR:1,GF:-3,PF:-10,GA:1,GM:0,GE:4,DE:1,GH:0,GI:1,GR:2,GL:-3,GD:-4,GP:-4,GU:10,GT:-6,GG:0,GN:0,GW:0,GY:-4,HT:-5,HM:5,VA:1,HN:-6,HK:8,HU:1,IS:0,IN:5.3,ID:7,IR:3.3,IQ:3,IE:0,IM:0,IL:2,IT:1,JM:-5,JP:9,JE:0,JO:2,KZ:5,KE:3,KI:12,KP:8.3,KR:9,KW:3,KG:6,LA:7,LV:2,LB:2,LS:2,LR:0,LI:1,LT:2,LU:1,MK:1,MG:3,MW:2,MY:8,MV:5,ML:0,MT:0,MH:12,MQ:-4,MR:0,MU:4,YT:3,MX:-6,FM:10,MD:2,MC:1,MN:8,MS:-4,MA:0,MZ:2,MM:6.3,NA:1,NR:12,NP:5.45,NL:1,AN:-4,NZ:12,NI:-6,NE:1,NG:1,NU:-11,NF:11.3,MP:10,NO:1,OM:4,PK:5,PW:9,PS:2,PA:-5,PG:10,PY:-4,PE:-5,PH:8,PL:1,PT:0,PR:-4,QA:3,RE:4,RU:0,RW:2,SH:0,KN:-4,LC:-4,PM:-3,VC:-4,WS:13,SM:1,ST:0,SA:3,SN:0,SC:4,SL:0,SG:8,SK:1,SI:1,SB:11,SO:3,ZA:2,GS:-2,ES:1,LK:5.3,SD:3,SR:-3,SJ:1,SZ:2,SE:1,CH:1,SY:2,TW:8,TJ:5,TZ:3,TH:7,TG:0,TK:13,TO:13,TT:13,TN:1,TR:2,TM:5,TV:12,UG:3,UA:2,AE:4,GB:0,US:-6,UY:-3,UZ:5,VU:11,VE:-4.3,VN:7,VG:-4,VI:-4,WF:12,EH:1,YE:3,ZM:1,ZW:2,AX:2,AD:1,AQ:13,BV:1,IO:6,BN:8,CG:1,CU:-5,TF:5,XK:1,LY:2,MO:8,NC:11,PN:-8,RO:2,RS:1,ME:1,TL:9,TC:-5,UM:-11},IMAGE_PROXY_URL:"https://steemitimages.com/0x0/",CORS_PROXY_URL:"https://cors-anywhere.crypto-red.workers.dev/?"}},333:function(e,t,n){"use strict";var a,r=n(175),i=(a=n(712))&&a.__esModule?a:{default:a},o=new(n(713).Database)("global"),s=function(e,t){return Object.assign(e,t)},c=function(){var e=2===(0,i.default)()[0].split("-").length?(0,i.default)()[0]:"en-US";return{locales:e,currency:u(e),sfx_enabled:!0,voice_enabled:!0,nsfw_enabled:!1,renderer:"square",activation_enabled:!0,attachment_previews:{}}},u=function(e){var t=2===e.split("-").length?e.split("-")[1]:"US",n="USD";return Object.entries(r.CURRENCY_COUNTRIES).forEach((function(e){var a=function(e){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e){var t,n,a=[],r=!0,i=!1,o=void 0;try{for(t=e[Symbol.iterator]();!(r=(n=t.next()).done)&&(a.push(n.value),2!==a.length);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&t.return&&t.return()}finally{if(i)throw o}}return a}(e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e),r=a[0];a[1].includes(t)&&(n=r)})),n};e.exports={init:function(e){var t=o.quickStore.getDocumentSync("settings")||{};e(s(c(),t))},reset_all_databases:function(e){Promise.all([o.deleteDatabase()]).then((function(){e()}))},get_settings:function(e){var t=o.quickStore.getDocumentSync("settings")||{};e(s(c(),t))},set_settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=o.quickStore.getDocumentSync("settings")||{},a=s(s(c(),n),e);o.quickStore.setDocumentSync({_id:"settings",data:a}),t(a)}}},337:function(e,t,n){"use strict";e.exports=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return new Promise((function(a,r){t().then((function(e){if(!e)throw Error("Invalid response");a(e)})).catch((function(i){setTimeout((function(){1!==n?e(t,n-1).then(a).catch(r):r(i)}),50)}))}))}},712:function(e,t,n){"use strict";var a=Object.assign||function(e){var t,n,a;for(t=1;t<arguments.length;t++)for(a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e};e.exports=function(){var e=a({},{language_code_only:!1},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=void 0===navigator.languages?[navigator.language]:navigator.languages;if(t)return t.map((function(t){var n=t.trim();return e.language_code_only?n.split(/-|_/)[0]:n}))}},713:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(r,i){var o,s;try{s=(o=t[r](i)).value}catch(c){return void n(c)}if(!o.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(s)}("next")}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n,a,r=[],i=!0,o=!1,s=void 0;try{for(n=e[Symbol.iterator]();!(i=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(c){o=!0,s=c}finally{try{!i&&n.return&&n.return()}finally{if(o)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(){function e(e,t){var n,a;for(n=0;n<t.length;n++)(a=t[n]).enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=(o=n(1067))&&o.__esModule?o:{default:o},l=function(){function e(){i(this,e)}var t,n,a;return c(e,null,[{key:"saveAttachments",value:(a=r(regeneratorRuntime.mark((function e(t,n,a,r){var i,o,s,c,u,l,d,f,m,h,p,_,g,y,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],e.next=3,navigator.storage.getDirectory();case 3:o=e.sent,s=[t,n,a],c=o,u=!0,l=!1,d=void 0,e.prev=9,f=s[Symbol.iterator]();case 11:if(u=(m=f.next()).done){e.next=19;break}return h=m.value,e.next=15,c.getDirectoryHandle(h,{create:!0});case 15:c=e.sent;case 16:u=!0,e.next=11;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(9),l=!0,d=e.t0;case 25:e.prev=25,e.prev=26,!u&&f.return&&f.return();case 28:if(e.prev=28,!l){e.next=31;break}throw d;case 31:return e.finish(28);case 32:return e.finish(25);case 33:p=0;case 34:if(!(p<r.length)){e.next=51;break}return _=p.toString(),e.next=38,c.getFileHandle(_,{create:!0});case 38:return g=e.sent,e.next=41,g.createWritable();case 41:return y=e.sent,e.next=44,y.write(r[p].data);case 44:return e.next=46,y.close();case 46:v=t+"/"+n+"/"+a+"/"+_,i.push(v);case 48:p++,e.next=34;break;case 51:return e.abrupt("return",i);case 52:case"end":return e.stop()}}),e,this,[[9,21,25,33],[26,,28,32]])}))),function(e,t,n,r){return a.apply(this,arguments)})},{key:"getAttachments",value:(n=r(regeneratorRuntime.mark((function e(t){var n,a,r,i,o,s,c,u,l,d,f,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,navigator.storage.getDirectory();case 3:a=e.sent,r=!0,i=!1,o=void 0,e.prev=7,s=t[Symbol.iterator]();case 9:if(r=(c=s.next()).done){e.next=37;break}u=c.value,e.prev=11,l=u.split("/"),d=a,f=0;case 15:if(!(f<l.length-1)){e.next=22;break}return e.next=18,d.getDirectoryHandle(l[f]);case 18:d=e.sent;case 19:f++,e.next=15;break;case 22:return e.next=24,d.getFileHandle(l[l.length-1]);case 24:return m=e.sent,e.next=27,m.getFile();case 27:h=e.sent,n.push({path:u,data:h}),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(11),console.error('Error retrieving attachment at "'+u+'": '+e.t0.message);case 34:r=!0,e.next=9;break;case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(7),i=!0,o=e.t1;case 43:e.prev=43,e.prev=44,!r&&s.return&&s.return();case 46:if(e.prev=46,!i){e.next=49;break}throw o;case 49:return e.finish(46);case 50:return e.finish(43);case 51:return e.abrupt("return",n);case 52:case"end":return e.stop()}}),e,this,[[7,39,43,51],[11,31],[44,,46,50]])}))),function(e){return n.apply(this,arguments)})},{key:"deleteAttachments",value:(t=r(regeneratorRuntime.mark((function e(t,n,a){var r,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.storage.getDirectory();case 2:r=e.sent,i=[t,n,a],o=r,s=0;case 6:if(!(s<i.length-1)){e.next=13;break}return e.next=9,o.getDirectoryHandle(i[s]);case 9:o=e.sent;case 10:s++,e.next=6;break;case 13:return e.prev=13,e.next=16,o.removeEntry(i[i.length-1],{recursive:!0});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(13),console.error('Error deleting attachments for document "'+a+'": '+e.t0.message);case 21:case"end":return e.stop()}}),e,this,[[13,18]])}))),function(e,n,a){return t.apply(this,arguments)})}]),e}(),d=function(){function e(){i(this,e)}var t,n,a;return c(e,null,[{key:"compress",value:(a=r(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"==typeof t?(new TextEncoder).encode(t):t,a=new CompressionStream("deflate"),(r=a.writable.getWriter()).write(n),r.close(),e.next=7,this._streamToUint8Array(a.readable);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"decompress",value:(n=r(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new DecompressionStream("deflate"),(a=n.writable.getWriter()).write(t),a.close(),e.next=6,this._streamToUint8Array(n.readable);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_streamToUint8Array",value:(t=r(regeneratorRuntime.mark((function e(t){var n,a,r,i,o,s,c,u,l,d,f,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getReader(),a=[],r=0;case 3:return e.next=6,n.read();case 6:if(i=e.sent,o=i.value,!i.done){e.next=11;break}return e.abrupt("break",15);case 11:a.push(o),r+=o.length,e.next=3;break;case 15:for(s=new Uint8Array(r),c=0,u=!0,l=!1,d=void 0,e.prev=20,f=a[Symbol.iterator]();!(u=(m=f.next()).done);u=!0)h=m.value,s.set(h,c),c+=h.length;e.next=28;break;case 24:e.prev=24,e.t0=e.catch(20),l=!0,d=e.t0;case 28:e.prev=28,e.prev=29,!u&&f.return&&f.return();case 31:if(e.prev=31,!l){e.next=34;break}throw d;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.abrupt("return",s);case 37:case"end":return e.stop()}}),e,this,[[20,24,28,36],[29,,31,35]])}))),function(e){return t.apply(this,arguments)})}]),e}(),f=function(){function e(){i(this,e)}var t,n,a,o;return c(e,null,[{key:"encrypt",value:(o=r(regeneratorRuntime.mark((function e(t,n){var a,r,i,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=crypto.getRandomValues(new Uint8Array(16)),e.next=3,this._deriveKey(n,a);case 3:return r=e.sent,i=crypto.getRandomValues(new Uint8Array(12)),e.next=7,this._generateChecksum(t);case 7:return o=e.sent,s=this._combineDataAndChecksum(t,o),e.next=11,crypto.subtle.encrypt({name:"AES-GCM",iv:i},r,s);case 11:return c=e.sent,e.abrupt("return",this._wrapIntoUint8Array(a,i,new Uint8Array(c)));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"decrypt",value:(a=r(regeneratorRuntime.mark((function e(t,n){var a,r,i,o,s,c,u,l,d,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._unwrapUint8Array(t),r=a.salt,i=a.iv,o=a.encryptedData,e.next=3,this._deriveKey(n,r);case 3:return s=e.sent,e.next=6,crypto.subtle.decrypt({name:"AES-GCM",iv:i},s,o);case 6:return c=e.sent,u=new Uint8Array(c),l=this._separateDataAndChecksum(u),d=l.data,f=l.checksum,e.next=11,this._generateChecksum(d);case 11:if(m=e.sent,this._verifyChecksum(m,f)){e.next=14;break}throw Error("Data integrity check failed. The data has been tampered with.");case 14:return e.abrupt("return",d);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"_deriveKey",value:(n=r(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new TextEncoder,e.next=3,crypto.subtle.importKey("raw",a.encode(t),{name:"PBKDF2"},!1,["deriveKey"]);case 3:return r=e.sent,e.next=6,crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:15e4,hash:"SHA-512"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"_generateChecksum",value:(t=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,crypto.subtle.digest("SHA-256",t);case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_verifyChecksum",value:function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}},{key:"_combineDataAndChecksum",value:function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}},{key:"_separateDataAndChecksum",value:function(e){var t=e.length-32;return{data:e.slice(0,t),checksum:e.slice(t)}}},{key:"_wrapIntoUint8Array",value:function(e,t,n){var a=new Uint8Array(e.length+t.length+n.length);return a.set(e,0),a.set(t,e.length),a.set(n,e.length+t.length),a}},{key:"_unwrapUint8Array",value:function(e){return{salt:e.slice(0,16),iv:e.slice(16,28),encryptedData:e.slice(28)}}}]),e}(),m=function(){function e(){i(this,e)}var t;return c(e,null,[{key:"openDatabase",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(a,r){var i=void 0;(i=t?indexedDB.open(e,t):indexedDB.open(e)).onupgradeneeded=function(t){var a=t.target.result,r=t.oldVersion,i=t.newVersion;console.log('Upgrading database "'+e+'" from version '+r+" to "+i),n&&n(a,r,i)},i.onsuccess=function(t){var n=t.target.result;n.onclose=function(){console.log('Database "'+e+'" connection is closing.')},a(n)},i.onerror=function(t){r(Error('Failed to open database "'+e+'": '+t.target.error.message))}}))}},{key:"performTransaction",value:(t=r(regeneratorRuntime.mark((function e(t,n,r,i){var o,s,c,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw Error("Database connection is not available.");case 3:return o=t.transaction(Array.isArray(n)?n:[n],r),s=Array.isArray(n)?n.map((function(e){return o.objectStore(e)})):[o.objectStore(n)],e.next=7,i.apply(void 0,a(s));case 7:return c=e.sent,e.abrupt("return",new Promise((function(e,t){o.oncomplete=function(){return e(c)},o.onerror=function(){return t(Error("Transaction failed: "+(o.error?o.error.message:"unknown error")))}})));case 11:if(e.prev=11,e.t0=e.catch(0),!(u>0)){e.next=18;break}return console.warn("Transaction failed, retrying... ("+u+" attempts left): "+e.t0.message),e.abrupt("return",this.performTransaction(t,n,r,i,u-1));case 18:throw Error("Transaction ultimately failed after retries: "+e.t0.message);case 19:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e,n,a,r){return t.apply(this,arguments)})},{key:"add",value:function(e,t){return new Promise((function(n,a){var r=e.add(t);r.onsuccess=function(){return n()},r.onerror=function(e){return a("Failed to insert record: "+e.target.error.message)}}))}},{key:"put",value:function(e,t){return new Promise((function(n,a){var r=e.put(t);r.onsuccess=function(){return n()},r.onerror=function(e){return a("Failed to put record: "+e.target.error.message)}}))}},{key:"delete",value:function(e,t){return new Promise((function(n,a){var r=e.delete(t);r.onsuccess=function(){return n()},r.onerror=function(e){return a("Failed to delete record: "+e.target.error.message)}}))}},{key:"get",value:function(e,t){return new Promise((function(n,a){var r=e.get(t);r.onsuccess=function(e){return n(e.target.result)},r.onerror=function(e){return a("Failed to retrieve record with key "+t+": "+e.target.error.message)}}))}},{key:"getAll",value:function(e){return new Promise((function(t,n){var a=e.getAll();a.onsuccess=function(e){return t(e.target.result)},a.onerror=function(e){return n("Failed to retrieve records: "+e.target.error.message)}}))}},{key:"count",value:function(e){return new Promise((function(t,n){var a=e.count();a.onsuccess=function(e){return t(e.target.result)},a.onerror=function(e){return n("Failed to count records: "+e.target.error.message)}}))}},{key:"clear",value:function(e){return new Promise((function(t,n){var a=e.clear();a.onsuccess=function(){return t()},a.onerror=function(e){return n("Failed to clear store: "+e.target.error.message)}}))}},{key:"deleteDatabase",value:function(e){return new Promise((function(t,n){var a=indexedDB.deleteDatabase(e);a.onsuccess=function(){return t()},a.onerror=function(e){return n("Failed to delete database: "+e.target.error.message)}}))}},{key:"iterateCursor",value:function(e,t){return new Promise((function(n,a){var r=e.openCursor();r.onsuccess=function(e){var a=e.target.result;a?(t(a.value,a.key),a.continue()):n()},r.onerror=function(e){return a("Cursor iteration failed: "+e.target.error.message)}}))}}]),e}(),h=function(){function e(){i(this,e)}return c(e,null,[{key:"getItem",value:function(e){var t=localStorage.getItem(e);return t?u.default.parse(t):null}},{key:"setItem",value:function(e,t){localStorage.setItem(e,u.default.stringify(t))}},{key:"removeItem",value:function(e){localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),e}(),p=function(){function e(t){i(this,e),this._dbName=t,this._metadataKey="lacertadb_"+this._dbName+"_metadata",this._collections=new Map,this._metadata=this._loadMetadata()}return c(e,[{key:"_loadMetadata",value:function(){var e,t,n,a=h.getItem(this.metadataKey);if(a){for(e in a.collections)t=a.collections[e],n=new _(e,this,t),this.collections.set(e,n);this.data=a}else this.data={name:this._dbName,collections:{},totalSizeKB:0,totalLength:0,modifiedAt:Date.now()};return this._metadata}},{key:"getCollectionMetadata",value:function(e){if(!this.collections.has(e)){var t=new _(e,this);this.collections.set(e,t),this.data.collections[e]=t.getRawMetadata(),this.data.modifiedAt=Date.now()}return this.collections.get(e)}},{key:"getCollectionMetadataData",value:function(e){var t=this.getCollectionMetadata(e);return t?t.getRawMetadata():{}}},{key:"removeCollectionMetadata",value:function(e){var t=this.collections.get(e);t&&(this.data.totalSizeKB-=t.sizeKB,this.data.totalLength-=t.length,this.collections.delete(e),delete this.data.collections[e],this.data.modifiedAt=Date.now())}},{key:"adjustTotals",value:function(e,t){this.data.totalSizeKB+=e,this.data.totalLength+=t,this.data.modifiedAt=Date.now()}},{key:"getCollectionNames",value:function(){return Array.from(this.collections.keys())}},{key:"getRawMetadata",value:function(){var e,t,n,a,r,i,o=!0,c=!1,u=void 0;try{for(e=this._collections.entries()[Symbol.iterator]();!(o=(t=e.next()).done);o=!0)n=t.value,r=(a=s(n,2))[0],i=a[1],this.data.collections[r]=i.getRawMetadata()}catch(l){c=!0,u=l}finally{try{!o&&e.return&&e.return()}finally{if(c)throw u}}return this.data}},{key:"setRawMetadata",value:function(e){var t,n,a;for(t in this._metadata=e,this._collections.clear(),e.collections)n=e.collections[t],a=new _(t,this,n),this._collections.set(t,a)}},{key:"saveMetadata",value:function(){h.setItem(this.key,this.getRawMetadata())}},{key:"data",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"name",get:function(){return this.data.name}},{key:"metadataKey",get:function(){return this._metadataKey}},{key:"collections",get:function(){return this._collections},set:function(e){this._collections=e}},{key:"totalSizeKB",get:function(){return this.data.totalSizeKB}},{key:"totalLength",get:function(){return this.data.totalLength}},{key:"modifiedAt",get:function(){return this.data.modifiedAt}},{key:"dbName",get:function(){return this._dbName}},{key:"key",get:function(){return this._metadataKey}}]),e}(),_=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this._collectionName=t,this._databaseMetadata=n,a?this._metadata=a:(this._metadata={name:t,sizeKB:0,length:0,createdAt:Date.now(),modifiedAt:Date.now(),documentSizes:{},documentModifiedAt:{},documentPermanent:{},documentAttachments:{}},this._databaseMetadata.data.collections[t]=this._metadata,this._databaseMetadata.data.modifiedAt=Date.now())}return c(e,[{key:"updateDocument",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!this.keys.includes(e),i=t-(this.documentSizes[e]||0),o=r?1:0;this.documentSizes[e]=t,this.documentModifiedAt[e]=Date.now(),this.documentPermanent[e]=n?1:0,this.documentAttachments[e]=a,this.metadata.sizeKB+=i,this.metadata.length+=o,this.metadata.modifiedAt=Date.now(),this.databaseMetadata.adjustTotals(i,o)}},{key:"deleteDocument",value:function(e){var t;return!!this.keys.includes(e)&&(t=-this.documentSizes[e],delete this.documentSizes[e],delete this.documentModifiedAt[e],delete this.documentPermanent[e],delete this.documentAttachments[e],this.metadata.sizeKB+=t,this.metadata.length+=-1,this.metadata.modifiedAt=Date.now(),this.databaseMetadata.adjustTotals(t,-1),!0)}},{key:"updateDocuments",value:function(e){var t,n,a,r,i,o,s=!0,c=!1,u=void 0;try{for(t=e[Symbol.iterator]();!(s=(n=t.next()).done);s=!0)r=(a=n.value).docId,i=a.docSizeKB,o=a.isPermanent,this.updateDocument(r,i,o)}catch(l){c=!0,u=l}finally{try{!s&&t.return&&t.return()}finally{if(c)throw u}}}},{key:"deleteDocuments",value:function(e){var t,n,a,r=!0,i=!1,o=void 0;try{for(t=e[Symbol.iterator]();!(r=(n=t.next()).done);r=!0)a=n.value,this.deleteDocument(a)}catch(s){i=!0,o=s}finally{try{!r&&t.return&&t.return()}finally{if(i)throw o}}}},{key:"getRawMetadata",value:function(){return this.metadata}},{key:"setRawMetadata",value:function(e){this.metadata=e}},{key:"name",get:function(){return this._collectionName}},{key:"keys",get:function(){return Object.keys(this.documentSizes)}},{key:"collectionName",get:function(){return this.name}},{key:"sizeKB",get:function(){return this._metadata.sizeKB}},{key:"length",get:function(){return this._metadata.length}},{key:"modifiedAt",get:function(){return this._metadata.modifiedAt}},{key:"metadata",get:function(){return this._metadata},set:function(e){return this._metadata=e}},{key:"data",get:function(){return this.metadata},set:function(e){this.metadata=e}},{key:"databaseMetadata",get:function(){return this._databaseMetadata},set:function(e){this._databaseMetadata=e}},{key:"documentSizes",get:function(){return this.metadata.documentSizes},set:function(e){this.metadata.documentSizes=e}},{key:"documentModifiedAt",get:function(){return this.metadata.documentModifiedAt},set:function(e){this.metadata.documentModifiedAt=e}},{key:"documentPermanent",get:function(){return this.metadata.documentPermanent},set:function(e){this.metadata.documentPermanent=e}},{key:"documentAttachments",get:function(){return this.metadata.documentAttachments},set:function(e){this.metadata.documentAttachments=e}}]),e}(),g=function(){function e(t){i(this,e),this._dbName=t,this._metadataKey="lacertadb_"+this._dbName+"_quickstore_metadata",this._documentKeyPrefix="lacertadb_"+this._dbName+"_quickstore_data_",this._metadata=this._loadMetadata()}return c(e,[{key:"_loadMetadata",value:function(){return h.getItem(this._metadataKey)||{totalSizeKB:0,totalLength:0,documentSizesKB:{},documentModificationTime:{},documentPermanent:{}}}},{key:"_saveMetadata",value:function(){h.setItem(this._metadataKey,this._metadata)}},{key:"setDocumentSync",value:function(e){var t,n,a,r,i,o,s=new v(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),c=s.packSync();return console.log(c),t=s._id,n=s._permanent||!1,a=u.default.stringify({_id:s._id,_created:s._created,_modified:s._modified,_permanent:!0,_encrypted:!1,_compressed:!1,packedData:c}),r=this._documentKeyPrefix+t,localStorage.setItem(r,a),i=a.length/1024,(o=!(t in this._metadata.documentSizesKB))?this._metadata.totalLength+=1:this._metadata.totalSizeKB-=this._metadata.documentSizesKB[t],this._metadata.documentSizesKB[t]=i,this._metadata.documentModificationTime[t]=s._modified,this._metadata.documentPermanent[t]=n,this._metadata.totalSizeKB+=i,this._saveMetadata(),o}},{key:"deleteDocumentSync",value:function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(this._metadata.documentPermanent[e]&&!a||(t=this._documentKeyPrefix+e,n=this._metadata.documentSizesKB[e]||0,!localStorage.getItem(t)||(localStorage.removeItem(t),delete this._metadata.documentSizesKB[e],delete this._metadata.documentModificationTime[e],delete this._metadata.documentPermanent[e],this._metadata.totalSizeKB-=n,this._metadata.totalLength-=1,this._saveMetadata(),0)))}},{key:"getAllKeys",value:function(){return Object.keys(this._metadata.documentSizesKB)}},{key:"getDocumentSync",value:function(e){var t,n=this._documentKeyPrefix+e,a=localStorage.getItem(n);return a?(t=u.default.parse(a),console.log(t),new v(t).unpackSync()):null}}]),e}(),y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this._dbName=t,this._db=null,this._collections=new Map,this._metadata=new p(t),this._settings=new b(t,n),this._quickStore=new g(this._dbName),this._settings.init()}var t,n,a,o,s,u;return c(e,[{key:"init",value:(u=r(regeneratorRuntime.mark((function e(){var t,n,a,r,i,o,s,c,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.openDatabase(this.name,void 0,(function(e,t,n){u._upgradeDatabase(e,t,n)}));case 2:this.db=e.sent,t=this.data.getCollectionNames(),n=!0,a=!1,r=void 0,e.prev=7,i=t[Symbol.iterator]();case 9:if(n=(o=i.next()).done){e.next=18;break}return s=o.value,c=new x(this,s,this.settings),e.next=14,c.init();case 14:this.collections.set(s,c);case 15:n=!0,e.next=9;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),a=!0,r=e.t0;case 24:e.prev=24,e.prev=25,!n&&i.return&&i.return();case 27:if(e.prev=27,!a){e.next=30;break}throw r;case 30:return e.finish(27);case 31:return e.finish(24);case 32:case"end":return e.stop()}}),e,this,[[7,20,24,32],[25,,27,31]])}))),function(){return u.apply(this,arguments)})},{key:"_createDataStores",value:function(e){var t,n,a,r=!0,i=!1,o=void 0;try{for(t=this.collections.keys()[Symbol.iterator]();!(r=(n=t.next()).done);r=!0)a=n.value,this._createDataStore(e,a)}catch(s){i=!0,o=s}finally{try{!r&&t.return&&t.return()}finally{if(i)throw o}}}},{key:"_createDataStore",value:function(e,t){e.objectStoreNames.contains(t)||e.createObjectStore(t,{keyPath:"_id"})}},{key:"_upgradeDatabase",value:function(e,t,n){console.log('Upgrading database "'+this.name+'" from version '+t+" to "+n),this._createDataStores(e)}},{key:"createCollection",value:(s=r(regeneratorRuntime.mark((function e(t){var n,a,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.collections.has(t)){e.next=3;break}return console.log('Collection "'+t+'" already exists.'),e.abrupt("return",this.collections.get(t));case 3:if(this.db.objectStoreNames.contains(t)){e.next=9;break}return n=this.db.version+1,this.db.close(),e.next=8,m.openDatabase(this.name,n,(function(e,n,a){r._createDataStore(e,t)}));case 8:this.db=e.sent;case 9:return a=new x(this,t,this.settings),e.next=12,a.init();case 12:return this.collections.set(t,a),this.data.getCollectionMetadata(t),this.data.saveMetadata(),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"deleteCollection",value:(o=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.collections.has(t)){e.next=2;break}throw Error('Collection "'+t+'" does not exist.');case 2:return e.next=4,m.performTransaction(this.db,t,"readwrite",(function(e){return m.clear(e)}));case 4:this.collections.delete(t),this.data.removeCollectionMetadata(t),this.data.saveMetadata();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getCollection",value:(a=r(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.collections.has(t)){e.next=4;break}return e.abrupt("return",this.collections.get(t));case 4:if(!this.db.objectStoreNames.contains(t)){e.next=12;break}return n=new x(this,t,this.settings),e.next=8,n.init();case 8:return this.collections.set(t,n),e.abrupt("return",n);case 12:throw Error('Collection "'+t+'" does not exist.');case 13:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"close",value:(n=r(regeneratorRuntime.mark((function e(){var t,n,a,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.collectionsArray,n=!0,a=!1,r=void 0,e.prev=4,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0)o.value.close();e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),a=!0,r=e.t0;case 12:e.prev=12,e.prev=13,!n&&i.return&&i.return();case 15:if(e.prev=15,!a){e.next=18;break}throw r;case 18:return e.finish(15);case 19:return e.finish(12);case 20:this.db&&(this.db.close(),this.db=null);case 21:case"end":return e.stop()}}),e,this,[[4,8,12,20],[13,,15,19]])}))),function(){return n.apply(this,arguments)})},{key:"deleteDatabase",value:(t=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:return e.next=4,m.deleteDatabase(this.name);case 4:this.data=null,this.settings.clear(),h.removeItem(this.data.metadataKey);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"quickStore",get:function(){return this._quickStore}},{key:"name",get:function(){return this._dbName}},{key:"db",get:function(){return this._db},set:function(e){this._db=e}},{key:"data",get:function(){return this.metadata},set:function(e){this.metadata=e}},{key:"collectionsArray",get:function(){return Array.from(this.collections.values())}},{key:"collections",get:function(){return this._collections}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"totalSizeKB",get:function(){return this.data.totalSizeKB}},{key:"totalLength",get:function(){return this.data.totalLength}},{key:"modifiedAt",get:function(){return this.data.modifiedAt}},{key:"settings",get:function(){return this._settings}},{key:"settingsData",get:function(){return this.settings.data}}]),e}(),v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,e),this._id=t._id||this._generateId(),this._created=t._created||Date.now(),this._permanent=!!t._permanent,this._encrypted=t._encrypted||!!n,this._compressed=t._compressed||!1,this._attachments=t.attachments||[],t.packedData?(this._packedData=t.packedData,this._modified=t._modified||Date.now(),this._data=null):(this._data=t.data||{},this._modified=Date.now(),this._packedData=new Uint8Array(0)),this._encryptionKey=n||""}var t,n,a,o,s,m,h,p,_,g;return c(e,[{key:"pack",value:(g=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.data){e.next=2;break}throw Error("No data to pack");case 2:if(t=u.default.pack(this.data),!this._compressed){e.next=7;break}return e.next=6,this._compressData(t);case 6:t=e.sent;case 7:if(!this._encrypted){e.next=11;break}return e.next=10,this._encryptData(t);case 10:t=e.sent;case 11:return this.packedData=t,e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"packSync",value:function(){if(!this.data)throw Error("No data to pack");if(this._encrypted)throw Error("Packing synchronously a document being encrypted is impossible.");if(this._compressed)throw Error("Packing synchronously a document being compressed is impossible.");var e=u.default.pack(this.data);return this.packedData=e,e}},{key:"unpack",value:(_=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.data||!(this.packedData.length>0)){e.next=11;break}if(t=this.packedData,!this._encrypted){e.next=6;break}return e.next=5,this._decryptData(t);case 5:t=e.sent;case 6:if(!this._compressed){e.next=10;break}return e.next=9,this._decompressData(t);case 9:t=e.sent;case 10:this.data=u.default.unpack(t);case 11:return e.abrupt("return",this.data);case 12:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"unpackSync",value:function(){if(!this.data&&this.packedData.length>0){var e=this.packedData;if(this._encrypted)throw Error("Unpacking synchronously a document being encrypted is impossible.");if(this._compressed)throw Error("Unpacking synchronously a document being compressed is impossible.");this.data=u.default.unpack(e)}return this.data}},{key:"_encryptData",value:(p=r(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.encryptionKey,e.next=3,f.encrypt(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"_decryptData",value:(h=r(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.encryptionKey,e.next=3,f.decrypt(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"_compressData",value:(m=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.compress(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"_decompressData",value:(s=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.decompress(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"_generateId",value:function(){return"xxxx-xxxx-xxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)}))}},{key:"objectOutput",value:(o=r(regeneratorRuntime.mark((function e(){var t,n,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.data){e.next=3;break}return e.next=3,this.unpack();case 3:if(t={_id:this._id,_created:this._created,_modified:this._modified,_permanent:this._permanent,_encrypted:this._encrypted,_compressed:this._compressed,attachments:this.attachments,data:this.data},!(a&&this.attachments.length>0)){e.next=9;break}return e.next=7,l.getAttachments(this.attachments);case 7:n=e.sent,t.attachments=n;case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"databaseOutput",value:(a=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.packedData&&0!==this.packedData.length){e.next=3;break}return e.next=3,this.pack();case 3:return e.abrupt("return",{_id:this._id,_created:this._created,_modified:this._modified,_permanent:!!this._permanent,_compressed:this._compressed,_encrypted:this._encrypted,attachments:this.attachments,packedData:this.packedData});case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"attachments",get:function(){return this._attachments},set:function(e){this._attachments=e}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"packedData",get:function(){return this._packedData},set:function(e){this._packedData=e}},{key:"encryptionKey",get:function(){return this._encryptionKey},set:function(e){this._encryptionKey=e}}],[{key:"hasAttachments",value:function(e){return e.attachments&&e.attachments.length>0}},{key:"getAttachments",value:(n=r(regeneratorRuntime.mark((function t(n,a,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasAttachments(n)){t.next=2;break}return t.abrupt("return",[]);case 2:return i=n.attachments,t.next=5,l.getAttachments(i);case 5:return n.attachments=t.sent,t.abrupt("return",Promise.resolve(n));case 7:case"end":return t.stop()}}),t,this)}))),function(e,t,a){return n.apply(this,arguments)})},{key:"isEncrypted",value:function(e){return e._encrypted&&e.packedData}},{key:"decryptDocument",value:(t=r(regeneratorRuntime.mark((function t(n,a){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isEncrypted(n)){t.next=2;break}throw Error("Document is not encrypted.");case 2:return t.next=4,f.decrypt(n.packedData,a);case 4:return r=t.sent,i=u.default.unpack(r),t.abrupt("return",{_id:n._id,_created:n._created,_modified:n._modified,_encrypted:!0,_compressed:n._compressed,_permanent:!!n._permanent,attachments:n.attachments,data:i});case 7:case"end":return t.stop()}}),t,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this._dbName=t,this._settingsKey="lacertadb_"+this._dbName+"_settings",this._data=this._loadSettings(),this._mergeSettings(n)}return c(e,[{key:"init",value:function(){if(this.set("sizeLimitKB",this.get("sizeLimitKB")||1/0),this.set("bufferLimitKB",this.get("bufferLimitKB")||-.2*this.get("sizeLimitKB")),this.get("bufferLimitKB")<-.8*this.get("sizeLimitKB"))throw Error("Buffer limit cannot be below -80% of the size limit.");this.set("freeSpaceEvery",this._validateFreeSpaceSetting(this.get("freeSpaceEvery")))}},{key:"_validateFreeSpaceSetting",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;if(void 0===e||!1===e||0===e)return 1/0;if(e<1e3&&0!==e)throw Error("Invalid freeSpaceEvery value. It must be 0, Infinity, or above 1000.");return e>=1e3&&e<1e4&&console.warn("Warning: freeSpaceEvery value is between 1000 and 10000, which may lead to frequent freeing."),e}},{key:"_loadSettings",value:function(){return h.getItem(this.settingsKey)||{}}},{key:"_saveSettings",value:function(){h.setItem(this.settingsKey,this.data)}},{key:"_mergeSettings",value:function(e){this.data=Object.assign(this.data,e),this._saveSettings()}},{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,this._saveSettings()}},{key:"remove",value:function(e){delete this.data[e],this._saveSettings()}},{key:"clear",value:function(){this.data={},this._saveSettings()}},{key:"dbName",get:function(){return this._dbName}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"settingsKey",get:function(){return this._settingsKey}}]),e}(),x=function(){function e(t,n,a){i(this,e),this._database=t,this._collectionName=n,this._settings=a,this._metadata=null,this._lastFreeSpaceTime=0,this._observer=new k}var t,n,a,o,u,d,f,h,p;return c(e,[{key:"init",value:(p=r(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.metadata=this.database.metadata.getCollectionMetadata(this.name),this._freeSpaceInterval=setInterval((function(){return t._maybeFreeSpace.bind(t)}),this.settingsData.freeSpaceEvery);case 2:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"close",value:(h=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(this._freeSpaceInterval);case 1:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"_maybeFreeSpace",value:(f=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldRunFreeSpaceSize&&!this.shouldRunFreeSpaceTime){e.next=2;break}return e.abrupt("return",this.freeSpace(this.settings.sizeLimitKB));case 2:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"addDocument",value:(d=r(regeneratorRuntime.mark((function e(t){var n,a,r,i,o,s,c,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.observer._emit("beforeAdd",t),n=new v(t,u),!(t._attachments&&t._attachments.length>0)){e.next=7;break}return e.next=5,l.saveAttachments(this.database.name,this.name,n._id,t._attachments);case 5:a=e.sent,n._attachments=a;case 7:return e.next=9,n.databaseOutput();case 9:if(r=e.sent,i=r._id,o=r._permanent||!1,s=!(i in this.metadataData.documentSizes),e.prev=13,!s){e.next=19;break}return e.next=17,m.performTransaction(this.database.db,this.name,"readwrite",(function(e){return m.add(e,r)}));case 17:e.next=21;break;case 19:return e.next=21,m.performTransaction(this.database.db,this.name,"readwrite",(function(e){return m.put(e,r)}));case 21:e.next=32;break;case 23:if(e.prev=23,e.t0=e.catch(13),!s){e.next=31;break}return e.next=28,m.performTransaction(this.database.db,this.name,"readwrite",(function(e){return m.put(e,r)}));case 28:s=!1,e.next=32;break;case 31:throw e.t0;case 32:return c=r.packedData.byteLength/1024,this.metadata.updateDocument(i,c,o,t._attachments?t._attachments.length:0),this.database.metadata.saveMetadata(),e.next=37,this._maybeFreeSpace();case 37:return this.observer._emit("afterAdd",t),e.abrupt("return",s);case 39:case"end":return e.stop()}}),e,this,[[13,23]])}))),function(e){return d.apply(this,arguments)})},{key:"getDocument",value:(u=r(regeneratorRuntime.mark((function e(t){var n,a,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.observer._emit("beforeGet",t),t in this.metadataData.documentSizes){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,m.performTransaction(this.database.db,this.name,"readonly",(function(e){return m.get(e,t)}));case 5:if(!(n=e.sent)){e.next=24;break}if(a=void 0,!v.isEncrypted(n)){e.next=16;break}if(!i){e.next=13;break}a=new v(n,i),e.next=14;break;case 13:return e.abrupt("return",!1);case 14:e.next=17;break;case 16:a=new v(n);case 17:return e.next=19,a.objectOutput(o);case 19:return r=e.sent,this.observer._emit("afterGet",r),e.abrupt("return",r);case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"getDocuments",value:(o=r(regeneratorRuntime.mark((function e(t){var n,a,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],0!==(a=t.filter((function(e){return e in i.metadataData.documentSizes}))).length){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,m.performTransaction(this.database.db,this.name,"readonly",function(){var e=r(regeneratorRuntime.mark((function e(t){var r,c,u,l,d,f,h,p,_,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.map((function(e){return m.get(t,e)})),e.next=3,Promise.all(r);case 3:c=e.sent,u=!0,l=!1,d=void 0,e.prev=7,f=c[Symbol.iterator]();case 9:if(u=(h=f.next()).done){e.next=29;break}if(!(p=h.value)){e.next=26;break}if(_=void 0,!v.isEncrypted(p)){e.next=21;break}if(!o){e.next=18;break}_=new v(p,o),e.next=19;break;case 18:return e.abrupt("continue",26);case 19:e.next=22;break;case 21:_=new v(p);case 22:return e.next=24,_.objectOutput(s);case 24:g=e.sent,n.push(g);case 26:u=!0,e.next=9;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(7),l=!0,d=e.t0;case 35:e.prev=35,e.prev=36,!u&&f.return&&f.return();case 38:if(e.prev=38,!l){e.next=41;break}throw d;case 41:return e.finish(38);case 42:return e.finish(35);case 43:case"end":return e.stop()}}),e,i,[[7,31,35,43],[36,,38,42]])})));return function(t){return e.apply(this,arguments)}}());case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"deleteDocument",value:(a=r(regeneratorRuntime.mark((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.permanents[t]||n){e.next=3;break}return e.abrupt("return",!1);case 3:if(t in this.sizes){e.next=6;break}return e.abrupt("return",!1);case 6:if(!((this.metadata.documentAttachments[t]||0)>0)){e.next=10;break}return e.next=10,l.deleteAttachments(t);case 10:return e.next=12,m.performTransaction(this.database.db,this.name,"readwrite",(function(e){return m.delete(e,t)}));case 12:return this.metadata.deleteDocument(t),this.database.metadata.saveMetadata(),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"freeSpace",value:(n=r(regeneratorRuntime.mark((function e(t){var n,a,r,i,o,c,u,l,d,f,m,h,p,_=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,this.lastFreeSpaceTime=Date.now(),$,a=this.sizeKB,!(t>=0)){e.next=12;break}if(!(a<=t)){e.next=9;break}return e.abrupt("return",0);case 9:n=a-t;case 10:e.next=14;break;case 12:t=a-(n=-t);case 14:r=Object.entries(this.metadataData.documentModifiedAt).filter((function(e){var t=s(e,1)[0];return!_.metadataData.documentPermanent[t]})).sort((function(e,t){return e[1]-t[1]})),i=0,o=!0,c=!1,u=void 0,e.prev=19,l=r[Symbol.iterator]();case 21:if(o=(d=l.next()).done){e.next=35;break}if(f=d.value,m=s(f,1),h=m[0],!(this.sizeKB>t)){e.next=32;break}return p=this.metadataData.documentSizes[h],i+=p,e.next=30,this.deleteDocument(h,!0);case 30:if(!(i>=n)){e.next=32;break}return e.abrupt("break",35);case 32:o=!0,e.next=21;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(19),c=!0,u=e.t0;case 41:e.prev=41,e.prev=42,!o&&l.return&&l.return();case 44:if(e.prev=44,!c){e.next=47;break}throw u;case 47:return e.finish(44);case 48:return e.finish(41);case 49:return e.abrupt("return",i);case 50:case"end":return e.stop()}}),e,this,[[19,37,41,49],[42,,44,48]])}))),function(e){return n.apply(this,arguments)})},{key:"query",value:(t=r(regeneratorRuntime.mark((function e(){var t,n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,m.performTransaction(this.database.db,this.name,"readonly",function(){var e=r(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.iterateCursor(o,function(){var e=r(regeneratorRuntime.mark((function e(r){var o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=void 0,!v.isEncrypted(r)){e.next=9;break}if(!i){e.next=6;break}o=new v(r,i),e.next=7;break;case 6:return e.abrupt("return");case 7:e.next=10;break;case 9:o=new v(r);case 10:if(s=!0,!Object.keys(a).length){e.next=17;break}return e.next=14,o.objectOutput();case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0=null;case 18:c=e.t0,e.t1=regeneratorRuntime.keys(a);case 20:if((e.t2=e.t1()).done){e.next=27;break}if(u=e.t2.value,c.data[u]===a[u]){e.next=25;break}return s=!1,e.abrupt("break",27);case 25:e.next=20;break;case 27:if(!s){e.next=38;break}if(e.t3=t,!c){e.next=33;break}e.t4=c,e.next=36;break;case 33:return e.next=35,o.objectOutput();case 35:e.t4=e.sent;case 36:e.t5=e.t4,e.t3.push.call(e.t3,e.t5);case 38:case"end":return e.stop()}}),e,n)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,n)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"observer",get:function(){return this._observer}},{key:"name",get:function(){return this._collectionName}},{key:"sizes",get:function(){return this.metadataData.documentSizes||{}}},{key:"modifications",get:function(){return this.metadataData.documentModifiedAt||{}}},{key:"attachments",get:function(){return this.metadataData.attachments||{}}},{key:"permanents",get:function(){return this.metadataData.documentPermanent||{}}},{key:"keys",get:function(){return Object.keys(this.sizes)}},{key:"documentsMetadata",get:function(){var e,t,n,a=this.keys,r=this.sizes,i=this.modifications,o=this.permanents,s=this.attachments,c=Array(a.length),u=0,l=!0,d=!1,f=void 0;try{for(e=a[Symbol.iterator]();!(l=(t=e.next()).done);l=!0)n=t.value,c[u++]={id:n,size:r[n],modified:i[n],permanent:o[n],attachment:s[n]}}catch(m){d=!0,f=m}finally{try{!l&&e.return&&e.return()}finally{if(d)throw f}}return c}},{key:"settings",get:function(){return this._settings},set:function(e){this._settings=e}},{key:"settingsData",get:function(){return this.settings.data}},{key:"lastFreeSpaceTime",get:function(){return this._lastFreeSpaceTime},set:function(e){this._lastFreeSpaceTime=e}},{key:"database",get:function(){return this._database}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"metadataData",get:function(){return this._metadata.getRawMetadata()}},{key:"sizeKB",get:function(){return this.metadataData.sizeKB}},{key:"length",get:function(){return this.metadataData.length}},{key:"totalSizeKB",get:function(){return this.sizeKB}},{key:"totalLength",get:function(){return this.length}},{key:"modifiedAt",get:function(){return this.metadataData.modifiedAt}},{key:"isFreeSpaceEnabled",get:function(){return this.settings.freeSpaceEvery!==1/0}},{key:"shouldRunFreeSpaceSize",get:function(){return this.totalSizeKB>this.settingsData.sizeLimitKB+this.settings.bufferLimitKB}},{key:"shouldRunFreeSpaceTime",get:function(){return this.isFreeSpaceEnabled&&Date.now()-this.lastFreeSpaceTime>=this.settings.freeSpaceEvery}}]),e}(),k=function(){function e(){i(this,e),this._listeners={beforeAdd:[],afterAdd:[],beforeDelete:[],afterDelete:[],beforeGet:[],afterGet:[]}}return c(e,[{key:"on",value:function(e,t){if(!this._listeners[e])throw Error('Event "'+e+'" is not supported.');this._listeners[e].push(t)}},{key:"off",value:function(e,t){if(this._listeners[e]){var n=this._listeners[e].indexOf(t);n>-1&&this._listeners[e].splice(n,1)}}},{key:"_emit",value:function(e){var t,n,a,r,i,o,s,c;if(this._listeners[e]){for(n=Array((t=arguments.length)>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r=!0,i=!1,o=void 0;try{for(s=this._listeners[e][Symbol.iterator]();!(r=(c=s.next()).done);r=!0)c.value.apply(void 0,n)}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}}}]),e}();e.exports={Collection:x,Database:y,Document:v}},719:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(270),i=a(n(720)),o=a(n(721)),s=a(n(722)),c=(0,r.createTheme)({palette:i.default,overrides:o.default,typography:s.default});e.exports={lightTheme:c}},720:function(e,t,n){"use strict";e.exports={type:"dark",primary:{light:"#212121",main:"#151515",dark:"#101010",darker:"#000000",action:"#bbbbbb",actionLighter:"#939393",actionDarker:"#000000",contrastText:"#ffffff"},secondary:{lighter:"#363636",light:"#4a4a4a",main:"#282828",normal:"#333333",dark:"#101010",contrast:"#939393",contrastText:"#ffffff"}}},721:function(e,t,n){"use strict";e.exports={MuiCssBaseline:{"@global":{html:{textRendering:"optimizespeed",fontFamily:'"Industry Book", "Normative Pro"',overflow:"hidden",height:"100%",maxHeight:"100%"},"body.loaded":{fontFamily:'"Industry Book", "Normative Pro"',fontSize:"auto !important",overflow:"hidden",backgroundColor:"#FAFAFA",height:"100%",maxHeight:"min(100vh, 100%)"},"body > #app":{height:"100%"},"body > #app > div:first-child":{height:"100%",contain:"paint size style layout"},blockquote:{color:"#666"},"h1 > p, h2 > p, h3 > p, h4 > p, h5 > p, h6 > p":{margin:0},".shiny":{overflow:"hidden"},".shiny::after":{position:"absolute",width:"100%",height:"100%",content:'""',backgroundColor:"#00000000",background:"linear-gradient(-135deg, transparent 20%, rgba(255,255,255, .1) 20%, rgba(255,255,255, .1) 50%, transparent 50%), linear-gradient(-135deg, transparent 25%, rgba(255,255,255, .1) 25%, rgba(255,255,255, .1) 45%, transparent 45%), linear-gradient(-135deg, transparent 30%, rgba(255,255,255, .15) 30%, rgba(255,255,255, .15) 40%, transparent 40%)",backgroundSize:"200%",backgroundPosition:"200% 50%",transition:"c"},".shiny::after:hover":{backgroundPosition:"0% 50%",transition:"background-position cubic-bezier(0.4, 0, 0.2, 1) 175ms"},".speed:, .speed: *, .speed:not(a), .speed:not(a) *":{imageRendering:"optimizeSpeed"},".pixelated, .pixelated *, .pixelated:not(a), .pixelated:not(a) *":{imageRendering:"-moz-crisp-edges"},".pixelated, .pixelated *, .pixelated:not(b), .pixelated:not(b) *":{imageRendering:"-webkit-crisp-edges"},".pixelated, .pixelated *, .pixelated:not(c), .pixelated:not(c) *":{imageRendering:"-o-pixelated"},".pixelated, .pixelated *, .pixelated:not(d), .pixelated:not(d) *":{imageRendering:"-o-crisp-edges"},".pixelated, .pixelated *, .pixelated:not(e), .pixelated:not(e) *":{imageRendering:"crisp-edges"},".pixelated, .pixelated *, .pixelated:not(f), .pixelated:not(f) *":{"-ms-interpolation-mode":"nearest-neighbor"},".pixelated, .pixelated *, .pixelated:not(g), .pixelated:not(g) *":{imageRendering:"pixelated"},video:{animationName:"$fadin",animationDuration:"550ms",animationFillMode:"both",animationDelay:"50ms","@global":{"@keyframes fadin":{"0%":{filter:"opacity(0)",animationTimingFunction:"linear"},"20%":{filter:"opacity(0)",animationTimingFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)"},"100%":{filter:"opacity(1)",animationTimingFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)"}}}},"div.arrival":{background:"linear-gradient(180deg, #00000078 -25%, #00000061 0%, #00000045 35%, #0000001a 90%, transparent)"},"div.arrival::after":{content:"''",contain:"paint style size layout",position:"fixed",width:"100%",zIndex:9999999,top:5,height:"95%",background:"radial-gradient(#00000000 27%, #002bffb5 35%, #00000000 40%, #1000ffab 42.5%, #00000000 45%)",left:0,backgroundSize:"600% 400%",animationIterationCount:"infinite",animationDelay:"250ms !important",animationFillMode:"both !important",animationTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1) !important",animationName:"$arrival !important",animationDuration:"1500ms !important",backgroundPosition:"50% 50%",mixBlendMode:"color","@global":{"@keyframes arrival":{"0%":{display:"block !important",transform:"translateY(150%)",opacity:.7},"25%":{display:"block !important",transform:"translateY(50%)",opacity:.9},"50%":{display:"block !important",transform:"translateY(0%)",opacity:0},"75%":{display:"block !important",transform:"translateY(-50%)",opacity:0},"100%":{display:"block !important",transform:"translateY(-100%)",opacity:0}}}},".fade-in-500-500":{verticalAlign:"inherit",animationName:"$fadin500500",animationDuration:"500ms",animationTimingFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)",animationFillMode:"both",animationDelay:"500ms","@global":{"@keyframes fadin500500":{"0%":{filter:"opacity(0)"},"100%":{filter:"opacity(1)"}}}},".emoji":{verticalAlign:"inherit",height:"1em",width:"1em"},".bouncehover:hover":{animation:"$bounce 1.2s cubic-bezier(0.280, 0.840, 0.420, 1) infinite 1s","@global":{"@keyframes bounce":{"0%":{transform:"scale(1,1) translateY(0)"},"10%":{transform:"scale(1.1,.9) translateY(0)"},"30%":{transform:"scale(.9,1.1) translateY(-40px)"},"50%":{transform:"scale(1.05,.95) translateY(0)"},"57%":{transform:"scale(1,1) translateY(-3px)"},"64%":{transform:"scale(1,1) translateY(0)"},"100%":{transform:"scale(1,1) translateY(0)"}}}},".pulse":{animation:"$pulse 1.8s cubic-bezier(0.280, 0.840, 0.420, 1) infinite 0s","@global":{"@keyframes pulse":{"0%":{transform:"scale(.9)"},"10%":{transform:"scale(1)"},"30%":{transform:"scale(.925)"},"50%":{transform:"scale(1)"},"57%":{transform:"scale(.9)"},"64%":{transform:"scale(1)"},"100%":{transform:"scale(.95)"}}}},".emoji-100":{verticalAlign:"inherit",height:"1em",width:"1.5em",transform:"scale(1.5)"},".emoji-150":{verticalAlign:"inherit",height:"1.5em",width:"3em",transform:"scale(1.5)"},".highlighted":{backgroundColor:"#e8ecfe"},"p img":{width:"100%"},'p img[alt~="emoji"]':{width:"1em",verticalAlign:"middle"},"*::-webkit-scrollbar":{width:"4px",padding:"2px"},"*::-webkit-scrollbar-track":{backgroundColor:"transparent"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(124,124,124,.3)",zIndex:"1",borderRadius:"2px"},".MuiTouchRipple-rippleVisible":{contain:"layout paint size style",animation:"MuiTouchRipple-keyframes-enter 175ms cubic-bezier(0.4, 0, 0.2, 1)"},".MuiAvatar-root":{contain:"paint style layout"},".MuiTableSortLabel-root.MuiTableSortLabel-root.MuiTableSortLabel-active":{color:"inherit"},".MuiTouchRipple-root":{contain:"paint size style layout",mixBlendMode:"hard-light"},".MuiDialogActions-root":{borderTop:"1px solid #272727",backgroundColor:"#000000","& > .MuiButton-root":{color:"#c0c0c0"}},".scroll-will-change":{willChange:"scroll"},"span > span.MuiSwitch-colorPrimary.Mui-checked + .MuiSwitch-track":{backgroundColor:"#ebebeb"},"span > span.MuiSwitch-colorPrimary.Mui-checked":{color:"#d9d9d9"},".MuiRadio-colorPrimary.Mui-checked, .MuiRadio-colorSecondary.Mui-checked":{color:"#ffffff !important"},".MuiFormLabel-root.Mui-focused":{color:"#fff !important"},".MuiPaper-root":{backgroundColor:"#000000",color:"#eee"},".MuiDialog-paper":{margin:"0 !important",minWidth:"min(100%, 736px)",backgroundColor:"#101010"},".MuiMenu-paper":{backgroundColor:"#101010"},".MuiFab-root.MuiFab-extended":{borderRadius:4,background:"#c7c7c7",color:"#1a1a1a",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},".MuiFab-root.MuiFab-extended:hover":{background:"#ffffff",color:"#000",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms"},".MuiButtonBase-root.MuiFab-root":{borderRadius:24,background:"#c7c7c7",color:"#1a1a1a",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},".MuiButtonBase-root.MuiFab-root:hover":{background:"#ffffff",color:"#000",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms"},".MuiButtonBase-root.MuiChip-root":{borderRadius:4},".MuiSvgIcon-root.MuiChip-deleteIcon":{color:"rgba(0, 0, 0, .36)"},".MuiTooltip-popper .MuiTooltip-tooltip":{backgroundColor:"#000000",fontsize:"16px"},".MuiTooltip-popper .MuiTooltip-arrow":{color:"#000000"},".MuiTooltip-popper.green .MuiTooltip-tooltip":{backgroundColor:"#98ff7c88",color:"#98ff7c"},".MuiDialog-paper h1":{color:"#fff",margin:"0px 0px 16px 0px"},svg:{fontFamily:"Open Sans !important"},".MuiPaper-rounded":{borderRadius:16},".MuiButton-root":{borderRadius:12},".MuiBadge-colorSecondary":{backgroundColor:"#ffffff"},"div.MuiLinearProgress-barColorPrimary":{backgroundColor:"#fff"},"div.MuiLinearProgress-colorPrimary":{backgroundColor:"#4b4b4b"},".MuiCheckbox-colorSecondary.Mui-checked, a":{color:"#ffffff"},".MuiTab-textColorPrimary .MuiTab-wrapper":{color:"#ffffff80",transition:"color 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},".Mui-selected.MuiTab-textColorPrimary .MuiTab-wrapper":{color:"#ffffffCC",transition:"color 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms"},".MuiDialog-root":{backdropFilter:"blur(7px)"},".MuiBackdrop-root":{backgroundColor:"rgba(6, 6, 6, .666)",filter:"opacity(1)",animation:"$fadeBlur 225ms cubic-bezier(0.4, 0, 0.2, 1)","@global":{"@keyframes fadeBlur":{"0%":{transform:"opacity(0)"},"100%":{transform:"opacity(1)"}}}},".MuiFormGroup-row":{flexWrap:"wrap",alignContent:"stretch",justifyContent:"space-between"}}}}},722:function(e,t,n){"use strict";e.exports={h1:{fontFamily:'"Industry Book", "Normative Pro"'},h2:{fontFamily:'"Industry Book", "Normative Pro"'},h3:{fontFamily:'"Industry Book", "Normative Pro"'},h4:{fontFamily:'"Industry Book", "Normative Pro"'},h5:{fontFamily:'"Industry Book", "Normative Pro"'},h6:{fontFamily:'"Industry Book", "Normative Pro"'},subtitle1:{fontFamily:'"Industry Book", "Normative Pro"'},subtitle2:{fontFamily:'"Industry Book", "Normative Pro"'},body1:{fontFamily:'"Normative Pro", "Industry Book"'},body2:{fontFamily:'"Normative Pro", "Industry Book"'},button:{fontFamily:'"Industry Book", "Normative Pro"'},caption:{fontFamily:'"Normative Pro", "Industry Book"'},overline:{fontFamily:'"Normative Pro", "Industry Book"'},text:{fontFamily:'"Normative Pro", "Industry Book"'},label:{fontFamily:'"Normative Pro", "Industry Book"'}}},723:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i,o,s,c,u,l,d,f,m,h,p,_,g,y,v,b,x,k,S,w,M,C,T,N,A,E,I,D,R,z,B,L,P,O,F,U,K,Y,j,G,H,W,X,V,Z,J,Q,q,$,ee,te,ne,ae,re,ie,oe,se,ce,ue,le,de;Object.defineProperty(t,"__esModule",{value:!0}),i=function(){function e(e,t){var n,a;for(n=0;n<t.length;n++)(a=t[n]).enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),s=a(o),c=n(337),u=a(c),l=a(n(74)),d=n(180),f=a(d),m=n(241),h=a(m),p=n(242),_=a(p),g=n(112),y=a(g),v=n(68),b=a(v),x=n(746),k=a(x),S=n(503),w=a(S),M=n(504),C=a(M),T=n(747),N=a(T),A=n(505),E=a(A),I=n(243),D=a(I),R=n(751),z=a(R),B=n(333),L=a(B),P=n(787),O=n(175),F=n(788),U=a(F),K=n(1003),Y=a(K),j=n(1056),G=a(j),H=n(588),W=a(H),X=n(589),V=a(X),Z=n(590),J=a(Z),Q=n(591),q=a(Q),$=n(592),ee=a($),te=n(1061),ne=a(te),ae=n(1062),re=a(ae),ie=n(84),oe=n(1063),se=a(oe),ce=n(1064),ue=a(ce),le=function(e){var t;return{root:{contain:"size paint style layout",overflow:"hidden",height:"100%",width:"100%",backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText},toolbar:r({userSelect:"none",width:"100%",height:96},e.breakpoints.down("sm"),{height:64}),menuLeft:r({position:"relative",userSelect:"none",width:284,height:"calc(100% - 96px)"},e.breakpoints.down("sm"),{display:"none"}),toolbarImage:r({margin:"16px 8px 16px 16px",width:72,height:72,cursor:"pointer"},e.breakpoints.down("sm"),{display:"none"}),toolbarMenu:r({display:"none"},e.breakpoints.down("sm"),{left:8,top:8,position:"absolute",display:"inherit"}),toolbarMenuVert:r({display:"none"},e.breakpoints.down("sm"),{display:"inherit !important",position:"absolute",right:8,top:8}),toolbarMenuButtons:r({position:"absolute",display:"relative",right:24,top:24},e.breakpoints.down("sm"),{display:"none"}),toolbarPrimaryButton:(t={backgroundImage:"linear-gradient(66deg, #222 17%, #777 48%, #222)",transform:"scale(1)",boxShadow:"0px 0px 8px 0px #ffffffaa",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 25ms",color:"#ffffff",border:"2px solid #fff",borderRadius:"16px",position:"absolute"},r(t,e.breakpoints.down("sm"),{display:"none"}),r(t,"top",24),r(t,"marginLeft",8),r(t,"marginTop",8),r(t,"& svg",{marginRight:8,color:"#ffffff"}),r(t,"&:hover",{transform:"scale(1.08)",boxShadow:"0px 0px 12px 2px #ffffffaa",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 225ms"}),t),toolbarSecondaryButton:{color:"#666",marginLeft:8,borderRadius:"16px",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 225ms","&:hover":{color:"#ddd",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 25ms"},"& svg":{marginRight:8,transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 225ms",color:"#ccc"},"&:hover svg":{color:"#fff",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 25ms"}},toolbarTitleWrapper:r({cursor:"pointer",fontWeight:"bold",display:"inline-block",height:64,verticalAlign:"top",marginTop:17},e.breakpoints.down("sm"),{display:"none"}),toolbarTitle:{fontSize:"32px !important"},toolbarSubtitle:{display:"block",fontSize:"8.33px !important",color:"#a5a5a5",textTransform:"uppercase"},searchBar:r({display:"inline-block",padding:"12px 32px 12px 32px",backgroundColor:"#222222",verticalAlign:"top",height:"32px",width:"384px",boxSizing:"content-box",borderRadius:"28px",margin:"24px 32px 16px 32px",position:"relative"},e.breakpoints.down("sm"),{maxWidth:"calc(100% - 176px)",height:24,borderRadius:"16px",margin:"12px 16px 8px 64px",padding:"8px 24px 8px 24px",position:"absolute"}),searchButton:r({position:"absolute",right:8,top:4},e.breakpoints.down("sm"),{right:0,top:-4,color:"#666"}),searchInput:r({width:"100%",backgroundColor:"transparent",border:"none",marginTop:"-8px",marginLeft:"-8px",lineHeight:"48px",fontSize:"18px",height:"48px",color:"#ccc","&:focus":{outline:"none"},"&::placeholder":{color:"#666"}},e.breakpoints.down("sm"),{lineHeight:"32px",fontSize:"14px",height:"32px"}),content:r({position:"absolute",overflow:"hidden",width:"calc(100% - 284px)",minHeight:"calc(100% - 96px)",marginLeft:284,background:"transparent",backgroundColor:e.palette.primary.light,contain:"paint size style layout",boxShadow:"inset 0px 3px 2px 0px rgba(0,0,0,0.2), inset 0px 2px 2px 1px rgba(0,0,0,0.14), inset 0px 2px 5px 2px rgba(0,0,0,0.12)",top:96,right:0,height:"calc(100% - 96px)",borderRadius:"21px 0px 0px 0px"},e.breakpoints.down("sm"),{minHeight:"calc(100% - 64px)",width:"100%",top:64}),snackbar:{"& .MuiSnackbarContent-root\t":{backgroundColor:e.palette.primary.contrastText,zIndex:"9630 !important",contain:"paint style layout",color:"#000 !important"}},snackbarSuccess:{"& .MuiSnackbarContent-root\t":{backgroundColor:"#06230e"}},snackbarWarning:{"& .MuiSnackbarContent-root\t":{backgroundColor:"#202306"}},snackbarError:{"& .MuiSnackbarContent-root\t":{backgroundColor:"#230606"}},swipeableDrawer:{},drawerPaper:{}}},de=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._trigger_sound=function(e,t,a,r,i){(0,u.default)((function(){return n.e(0).then(n.t.bind(null,633,7))})).then((function(n){n.play_sound(e,t,a,r,i)}))},a._stop_sound=function(){(0,u.default)((function(){return n.e(0).then(n.t.bind(null,633,7))})).then((function(e){e.stop_sound()}))},a._handle_wallet_dialog_close=function(){a.setSt4te({_is_wallet_dialog_open:0},(function(){a.forceUpdate()})),D.default.trigger_sfx("labactive")},a._handle_wallet_dialog_open=function(){a.setSt4te({_is_wallet_dialog_open:1},(function(){a.forceUpdate()})),D.default.trigger_sfx("state-change_confirm-down")},a._handle_settings_dialog_close=function(){a.setSt4te({_is_settings_dialog_open:0},(function(){a.forceUpdate()})),D.default.trigger_sfx("labactive")},a._handle_logout_dialog_close=function(){a.setSt4te({_is_logout_dialog_open:0},(function(){a.forceUpdate()})),D.default.trigger_sfx("labactive")},a._handle_settings_dialog_open=function(){a.setSt4te({_is_settings_dialog_open:1},(function(){a.forceUpdate()})),D.default.trigger_sfx("state-change_confirm-down")},a._handle_events=function(e){var t=a.st4te,n=(t._history,t._did_mount,a.settings),r=n._sfx_enabled,i=n._voice_enabled;switch(e.type){case"TRIGGER_SFX":r&&a._trigger_sound("sfx",e.data.pack,e.data.name,e.data.volume/1.25,!1);break;case"WITNESSES":a._handle_witnesses_dialog_open();break;case"ICO":a._handle_ico_dialog_open();break;case"WALLET":a._handle_wallet_dialog_open();break;case"LOGOUT":a._handle_logout_dialog_open();break;case"TRIGGER_VOICE":i&&a._trigger_sound("voice",e.data.pack,e.data.name,e.data.volume/2,!1);break;case"STOP_SOUND":a._stop_sound();break;case"TRIGGER_SHARE":a._handle_share_dialog_open();break;case"TRIGGER_PRESENTATION":a.setSt4te({_presentation_n:e.data.number}),a._handle_presentation_open();break;case"SNACKBAR":a._trigger_snackbar(e.data.message,e.data.auto_hide_duration);break;case"SETTINGS_UPDATE":a._update_settings();break;case"LOADING_UPDATE":a.setSt4te({_loaded_progress_percent:e.data.percent},(function(){a.forceUpdate()}));break;case"PAGE_RENDER_COMPLETE":0===a.st4te._datasyncserviceworkerallfiles&&(a.setSt4te({_datasyncserviceworkerallfiles:Date.now()+77770}),setTimeout((function(){fetch("data:,all").then((function(e){}))}),77770))}},a._process_settings_query_result=function(e){var t,n,r,i,o,s,c,u,l,d,f,m,h,p,_,g,y,v,b,x,k;if(void 0!==e.locales){if(t=!!a.settings._know_the_settings,n=!(void 0!==e.sfx_enabled&&!e.sfx_enabled),r=!(void 0!==e.activation_enabled&&!e.activation_enabled),i=e.renderer||"square",o=!(void 0===e.voice_enabled||!e.voice_enabled),s=!(void 0===e.nsfw_enabled||!e.nsfw_enabled),u=(c=void 0!==e.locales?e.locales:"en-US").split("-")[0],v=c.split("-")[1],b=O.UTC_OFFSET_PER_COUNTRIES[v],k=(x=new Date(Date.now())).getTime()-60*x.getTimezoneOffset()*1e3,l=!!((y=new Date(k+36e5*b).getHours())<22&&y>6),d=!(c===a.settings._selected_locales_code&&i===a.settings._renderer&&s===a.settings._nsfw_enabled),a.settings={_unset:!1,_nsfw_enabled:s,_activation_enabled:r,_theme_day:l,_language:u,_voice_enabled:o,_sfx_enabled:n,_renderer:i,_selected_locales_code:c,_know_the_settings:!0},!t||d)for(m=(f=a.st4te)._history,h=f._page_routes,p=m.location.pathname+"",_=0;_<h.length;_++)g=h[_],p.match(g.page_regex)&&(a._page_component=a._get_page_component(g.page_name,a.settings),a.forceUpdate());t||document.body.setAttribute("class","loaded")}},a._update_settings=function(){L.default.get_settings(a._process_settings_query_result)},a._set_new_pathname_or_redirect=function(e){var t,n,r=a.st4te,i=r._history,o=r._page_routes,s=r._load_with,c=(e||i.location.pathname)+"",u=a.pathname+"";if("/index.html"===c)i.push("/");else if(c!==u||""===c&&""===u){for(a._set_meta_title(c),t=0;t<o.length;t++)n=o[t],c.match(n.page_regex)&&(a._page_component=a._get_page_component(n.page_name,a.settings,s));a.pathname=c,a.forceUpdate()}},a._set_meta_title=function(e){e=e.replace("/","").replace(/\//g," > "),(0,P.update_meta_title)("Pixagram | "+e)},a._trigger_snackbar=function(e,t){a.st4te._snackbar_open?a.setSt4te({_snackbar_open:!1},(function(){a.forceUpdate((function(){setTimeout((function(){a.setSt4te({_snackbar_message:e,_snackbar_auto_hide_duration:t,_snackbar_open:!0},(function(){a.forceUpdate()}))}),500)}))})):a.setSt4te({_snackbar_message:e,_snackbar_auto_hide_duration:t,_snackbar_open:!0},(function(){a.forceUpdate()}))},a._close_snackbar=function(e,t){"clickaway"!==t&&a.setSt4te({_snackbar_open:!1},(function(){a.forceUpdate()}))},a._handle_share_dialog_open=function(){a.setSt4te({_is_share_dialog_open:Math.abs(a.st4te._is_share_dialog_open)+1},(function(){a.forceUpdate()})),D.default.trigger_sfx("hero_decorative-celebration-02")},a._handle_logout_dialog_open=function(){a.setSt4te({_is_logout_dialog_open:Math.abs(a.st4te._is_logout_dialog_open)+1},(function(){a.forceUpdate()})),D.default.trigger_sfx("hero_decorative-celebration-02")},a._handle_witnesses_dialog_close=function(){a.setSt4te({_is_witnesses_dialog_open:0},(function(){a.forceUpdate()})),D.default.trigger_sfx("hero_decorative-celebration-02")},a._handle_witnesses_dialog_open=function(){a.setSt4te({_is_witnesses_dialog_open:Math.abs(a.st4te._is_witnesses_dialog_open)+1},(function(){a.forceUpdate()})),D.default.trigger_sfx("hero_decorative-celebration-02")},a._handle_ico_dialog_close=function(){a.setSt4te({_is_ico_dialog_open:0},(function(){a.forceUpdate()})),D.default.trigger_sfx("hero_decorative-celebration-02")},a._handle_ico_dialog_open=function(){a.setSt4te({_is_ico_dialog_open:Math.abs(a.st4te._is_ico_dialog_open)+1},(function(){a.forceUpdate()})),D.default.trigger_sfx("hero_decorative-celebration-02")},a._handle_presentation_open=function(){a.setSt4te({_count_presentation_open:a.st4te._count_presentation_open+1},(function(){a.forceUpdate()}))},a._set_tag_naviguation=function(e){a.st4te._history.push("/trending/"+e)},a._handle_search_input_text_change=function(e){a.setSt4te({_search_input_text:e.target.value},(function(){a.forceUpdate()}))},a._reset_search_input_text=function(){a.setSt4te({_search_input_text:""},(function(){a.forceUpdate()}))},a._handle_toolbar_menu_dialog_open=function(e,t){a.setSt4te({_menu_vert_opened:Int32Array.of(e.x-24,e.y-24)},(function(){a.forceUpdate()}))},a._handle_toolbar_menu_dialog_close=function(){a.setSt4te({_menu_vert_opened:new Int32Array(0)},(function(){a.forceUpdate()}))},a._close_menu_drawer=function(){a.setSt4te({_menu_drawer_opened:0},(function(){a.forceUpdate()}))},a._open_menu_drawer=function(){a.setSt4te({_menu_drawer_opened:1},(function(){a.forceUpdate()}))},a.st4te={_history:e.history,_load_with:"",_intervals:[],_is_wallet_dialog_open:0,_unlisten:null,_snackbar_open:!1,_snackbar_message:"",_snackbar_auto_hide_duration:1975,classes:e.classes,_database_attempt:0,_is_logout_dialog_open:0,_is_share_dialog_open:0,_is_settings_dialog_open:0,_is_activatelab_dialog_open:0,_is_witnesses_dialog_open:0,_is_ico_dialog_open:0,_is_naviguate_omniperium_dialog_open:!1,_count_presentation_open:0,_datasyncserviceworkerallfiles:0,_search_input_text:"",_menu_vert_opened:[],_menu_drawer_opened:0,_history_unlisten:function(){},did_mount:!1,_page_routes:O.PAGE_ROUTES},a.pathname="",a._page_component=null,a.settings={_know_the_settings:!1},a._process_settings_query_result(e.settings),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setSt4te",value:function(e,t){var n,a=Object.keys(e),r=0|a.length,i="";for(n=0;(0|n)<(0|r);n=(n+1|0)>>>0)i=a[n].toString(),this.st4te[i]=e[i];"function"==typeof t&&t()}},{key:"componentWillReceiveProps",value:function(e,t){this._process_settings_query_result(e.settings)}},{key:"componentWillMount",value:function(){var e,t=this;E.default.register(this._handle_events.bind(this)),e=this.st4te._history.listen((function(e,n){t._set_new_pathname_or_redirect(e.location.pathname)})),this._set_new_pathname_or_redirect(this.st4te._history.location.pathname),this.setSt4te({_history_unlisten:e})}},{key:"componentDidMount",value:function(){var e=this;this.setSt4te({did_mount:!0},(function(){document.body.setAttribute("class","loaded"),e.forceUpdate()})),setTimeout((function(){var t,n=[setInterval((t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.st4te.is_online,navigator.onLine!==n&&e.setSt4te({is_online:navigator.onLine},(function(){e.forceUpdate()}));case 2:case"end":return t.stop()}}),t,e)})),function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function a(r,i){var o,s;try{s=(o=e[r](i)).value}catch(c){return void n(c)}if(!o.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(s)}("next")}))}),1e3)];e.setSt4te({_intervals:n})}),5e3)}},{key:"componentWillUnmount",value:function(){try{this.st4te._history_unlisten(),this.st4te._intervals.forEach((function(e){clearInterval(e)}))}catch(e){}}},{key:"_get_page_component",value:function(e,t){if("home"===e)return s.default.createElement(z.default,{settings:t})}},{key:"render",value:function(){var e=this,t=this.st4te,n=t.classes,a=t._snackbar_open,r=t._menu_drawer_opened,i=t._is_witnesses_dialog_open,o=t._is_ico_dialog_open,c=t._menu_vert_opened,u=t._snackbar_message,l=t._snackbar_auto_hide_duration,d=t._is_wallet_dialog_open,m=t._is_settings_dialog_open,p=t._is_logout_dialog_open,g=t._search_input_text,v=(this.settings._language,"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 860' width='1333.333' height='1146.667' %3e%3cdefs%3e%3cclipPath id='A'%3e%3cpath d='M0 0h1000v860H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3cg clip-path='url(%23A)'%3e%3cpath d='M750 687.299V432.002L500 258.801v260.803l250 167.695zm-500-.5V431.502L0 258.3v261.304l250 167.195z'/%3e%3cpath d='M250 0v87.101l250 171.7V0H250zm500 0v87.101L1000 258.3V0H750zm250 860L750 686.799V860h250zm-500 0L250 686.799V860h250z'/%3e%3cg fill='%23222'%3e%3cpath d='M250 686.799V431.502L500 258.3v261.304L250 686.799zM0 258.3L250 86.1V0H0v258.3z'/%3e%3cpath d='M500 258.3L750 87.101V0H500v258.3zm250 428.999V432.002L1000 258.3v257.3L750 687.299z'/%3e%3cpath d='M500 860l250-173.201V860H500zM0 860l250-173.201V860H0z'/%3e%3c/g%3e%3cg fill='%23171717'%3e%3cpath d='M500 860L250 686.799l250-167.195 250 167.195L500 860z'/%3e%3cpath d='M1000 515.6L750 686.799 1000 860V515.6zM0 514.598l250 172.201L0 860V514.598zM250 86.1L0 258.3l250 173.202L500 258.3 250 86.1z'/%3e%3cpath d='M750 87.101l-251 171.7 251 173.201L1000 258.3 750 87.101z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e\") 266px 228px");return s.default.createElement(s.default.Fragment,null,s.default.createElement("main",{className:n.root},s.default.createElement("div",{className:n.toolbar},s.default.createElement("img",{className:n.toolbarImage,src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJpc29sYXRpb246aXNvbGF0ZSIgdmlld0JveD0iMCAwIDIwMDAgMjAwMCIgd2lkdGg9IjIwMDBwdCIgaGVpZ2h0PSIyMDAwcHQiPjxkZWZzPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZD0iTTAgMGgyMDAwdjIwMDBIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGlwLXBhdGg9InVybCgjYSkiPjxjbGlwUGF0aCBpZD0iYiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTAgMGgyMDAwdjIwMDBIMHoiLz48L2NsaXBQYXRoPjxnIGNsaXAtcGF0aD0idXJsKCNiKSI+PGNsaXBQYXRoIGlkPSJjIj48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMCAwaDIwMDB2MjAwMEgweiIvPjwvY2xpcFBhdGg+PGcgY2xpcC1wYXRoPSJ1cmwoI2MpIj48cGF0aCBkPSJNMzcwIDI1MGgxMjYwYzY2LjIzIDAgMTIwIDUzLjc3IDEyMCAxMjB2MTI2MGMwIDY2LjIzLTUzLjc3IDEyMC0xMjAgMTIwSDM3MGMtNjYuMjMgMC0xMjAtNTMuNzctMTIwLTEyMFYzNzBjMC02Ni4yMyA1My43Ny0xMjAgMTIwLTEyMHoiIGZpbGw9IiNGRkYiLz48cGF0aCBkPSJNMTU1Mi40ODUgNDA1LjY4MmMyNS42NjcuNSAzOS42NjcgMTQuNSA0MC44MzMgNDIuMTY2djIxOC40NTljMCAyMS43MzItMTEuNzYyIDM5LjM3NS0yNi4yNSAzOS4zNzVoLTk3LjVjLTE0LjQ4OCAwLTI2LjI1LTE3LjY0My0yNi4yNS0zOS4zNzV2LTYyLjVxLTYuMDYyLTQwLjUtNDguNDM3LTQ4LjEyNWgtNjIuMTg4Yy0yMS43MzIgMC0zOS4zNzUtMTEuNzYyLTM5LjM3NS0yNi4yNXYtOTcuNWMwLTE0LjQ4OCAxNy42NDMtMjYuMjUgMzkuMzc1LTI2LjI1aDIxOS43OTJ6TTkyNSAxMzc1aDM5Ny41YzI4Ljk3NiAwIDUyLjUtMjMuNTI0IDUyLjUtNTIuNXYtNjQ1YzAtMjguOTc2LTIzLjUyNC01Mi41LTUyLjUtNTIuNWgtNjQ1Yy0yOC45NzYgMC01Mi41IDIzLjUyNC01Mi41IDUyLjVWMTc1MGgzMDB2LTM3NXoiIGZpbGw9IiM0ODQ4NDgiLz48cGF0aCBkPSJNOTExLjI1IDg3NWgxNzcuNWMyMC4wMDcgMCAzNi4yNSAxNi4yNDMgMzYuMjUgMzYuMjV2MTc3LjVjMCAyMC4wMDctMTYuMjQzIDM2LjI1LTM2LjI1IDM2LjI1aC0xNzcuNWMtMjAuMDA3IDAtMzYuMjUtMTYuMjQzLTM2LjI1LTM2LjI1di0xNzcuNWMwLTIwLjAwNyAxNi4yNDMtMzYuMjUgMzYuMjUtMzYuMjV6IiBmaWxsPSIjRkZGIi8+PC9nPjwvZz48L2c+PC9zdmc+"}),s.default.createElement(b.default,{className:n.toolbarMenu,onClick:this._open_menu_drawer},s.default.createElement(N.default,null)),s.default.createElement("span",{className:n.toolbarTitleWrapper},s.default.createElement("span",{className:n.toolbarTitle},"PIXAGRAM"),s.default.createElement("span",{className:n.toolbarSubtitle},"Omnibus Carpe Diem Aeternum Crea")),s.default.createElement("div",{className:n.searchBar},s.default.createElement("input",{className:n.searchInput,type:"text",value:g,placeholder:"Search a term here...",onChange:this._handle_search_input_text_change}),s.default.createElement(b.default,{className:n.searchButton,onClick:function(){g.length&&e._reset_search_input_text()}},g.length?s.default.createElement(C.default,null):s.default.createElement(k.default,null))),s.default.createElement(y.default,{title:"Exclusive Discount for a Limited Time Only!"},s.default.createElement(ie.Button,{className:n.toolbarPrimaryButton,onClick:this._handle_ico_dialog_open}," ",s.default.createElement(V.default,null)," ICO SALE ")),s.default.createElement("div",{className:n.toolbarMenuButtons},s.default.createElement(ie.Button,{className:n.toolbarSecondaryButton,onClick:this._handle_witnesses_dialog_open},s.default.createElement(W.default,null)," Witnesses "),s.default.createElement(ie.Button,{className:n.toolbarSecondaryButton},s.default.createElement(q.default,null)," Proposals "),s.default.createElement(ie.Button,{className:n.toolbarSecondaryButton},s.default.createElement(ee.default,null)," Help "),s.default.createElement(b.default,{style:{marginLeft:8},onClick:this._handle_settings_dialog_open},s.default.createElement(J.default,null))),s.default.createElement(b.default,{className:n.toolbarMenuVert,onClick:this._handle_toolbar_menu_dialog_open},s.default.createElement(w.default,null))),s.default.createElement("div",{className:n.menuLeft},s.default.createElement(G.default,null)),s.default.createElement("div",{className:n.content,style:{background:v}},this._page_component)),s.default.createElement(re.default,{xy:c,onClose:this._handle_toolbar_menu_dialog_close,onSettingsClick:this._handle_settings_dialog_open,onWitnessesClick:this._handle_witnesses_dialog_open,onIcoClick:this._handle_ico_dialog_open}),s.default.createElement(_.default,{keepMounted:!1,disablePortal:!0,transitionDuration:{enter:125,exit:75},anchor:"left",classes:{root:n.swipeableDrawer,paper:n.drawerPaper},open:r,onClose:this._close_menu_drawer},s.default.createElement(G.default,null)),s.default.createElement(U.default,{open:d>0,onClose:function(){e._handle_wallet_dialog_close()}}),s.default.createElement(ne.default,{open:p>0,onClose:function(){e._handle_logout_dialog_close()}}),s.default.createElement(Y.default,{open:m>0,settings:this.settings,onClose:function(){e._handle_settings_dialog_close()}}),s.default.createElement(se.default,{open:i>0,onClose:function(){e._handle_witnesses_dialog_close()}}),s.default.createElement(ue.default,{open:o>0,onClose:function(){e._handle_ico_dialog_close()}}),s.default.createElement(h.default,{TransitionComponent:f.default,TransitionProps:{direction:"up"},className:n.snackbar,open:a,keepMounted:!0,anchorOrigin:{vertical:"bottom",horizontal:"left"},message:s.default.createElement("span",{style:{color:"#000"}},u),action:s.default.createElement(b.default,{size:"small","aria-label":"close",color:"inherit",onClick:this._close_snackbar},s.default.createElement(C.default,{fontSize:"small"})),autoHideDuration:l,onClose:this._close_snackbar}))}}]),t}(s.default.PureComponent),t.default=(0,l.default)(le)(de)},751:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,c,u,l,d,f,m,h,p,_,g,y,v,b,x,k,S,w,M,C,T,N,A,E,I,D,R,z,B,L,P;Object.defineProperty(t,"__esModule",{value:!0}),s=function(){function e(e,t){var n,a;for(n=0;n<t.length;n++)(a=t[n]).enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(0),u=a(c),l=n(0),d=a(l),f=n(175),m=a(n(74)),h=n(243),p=a(h),_=n(337),g=a(_),y=n(1066),v=n(759),b=a(v),x=n(768),k=a(x),S=n(248),w=a(S),M=n(249),C=a(M),T=n(776),N=a(T),A=n(781),E=a(A),I=n(250),D=a(I),R=n(782),z=a(R),B=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,n=e.cellMeasurerCache,a=e.width,r=Math.floor(a/(n||{}).defaultWidth||0),i=this._positionCache.estimateTotalHeight(t,r,(n||{}).defaultHeight||0);return isFinite(i)?i:0}}]),t}(y.Masonry),L=function(e){return{mainTab:{"& .MuiTab-textColorPrimary.Mui-selected":{backgroundColor:"#000000",color:"#fff"},"& .MuiTab-fullWidth":{backgroundColor:"#101010",color:"#EEE"},"& span.MuiTabs-indicator":{backgroundColor:e.palette.secondary.contrast},margin:16,width:"calc(100% - 32px)",borderRadius:"16px",position:"absolute",top:0,left:0,zIndex:1,transition:"transform 225ms cubic-bezier(0.4, 0, 0.2, 1) 225ms"},mainFab:{position:"fixed",right:16,bottom:16,transition:"transform 225ms cubic-bezier(0.4, 0, 0.2, 1) 225ms","& .MuiButtonBase-root":{borderRadius:"16px"}},masonry:{overflow:"overlay","& > .ReactVirtualized__Masonry":{position:"absolute",margin:0,scrollBehavior:"smooth",overscrollBehavior:"none",touchAction:"pan-y",willChange:"scroll-position, transform !important",overflow:"overlay",padding:"56px 12px 32px 16px",contain:"style layout size paint","& > .ReactVirtualized__Masonry__innerScrollContainer":{top:"auto !important",left:"auto !important",contain:"layout size style paint"}}}}},P=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._updated_dimensions=function(){var e=document.documentElement,t=document.body||document.getElementsByTagName("body")[0],a=window.innerWidth||e.clientWidth||t.clientWidth,r=window.innerHeight||e.clientHeight||t.clientHeight,i=!!(a<960),o=!!(r<690),s=n.st4te._less_than_960w!==i||n.st4te._less_than_690h!==o;n.setSt4te({_posts:[],_window_width:a,_window_height:r,_load_more_threshold:r*(r/a)*2},(function(){n.forceUpdate((function(){var e,t,a,r,i=n.st4te,o=i._root,s=i._gutter_size,c=i._window_width,u=i._window_height,l=i.data,d=n.st4te._column_count;o?(t=(e=o.getBoundingClientRect()).width,a=e.height,c<100||t<100||a<100||u<100?setTimeout((function(){n._updated_dimensions()}),50):(d=c>1920?6:c>1280?4:c>960?3:c>480?2:1,r=Math.floor((e.width-(d+1)*s)/d),n.setSt4te({_overscan_by_pixels:u*(u/c)*6,_posts:l,_column_width:r,_column_count:d,_root_width:t,_root_height:a},(function(){n._init_cell_measurements()})))):setTimeout((function(){n._updated_dimensions()}),50)}))})),s&&n.setSt4te({_less_than_960w:i,_less_than_690h:o,_window_width:a,_window_height:r},(function(){n.forceUpdate()}))},n._recompute_cell_measurements=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},a=n.st4te,r=a._cell_measurer_cache,i=a._masonry,o=a._cell_positioner,s=a._column_count,c=a._gutter_size,u=a._column_width;null!=r&&null!=i&&null!=o?(e={cellMeasurerCache:r,columnCount:s,columnWidth:u,spacer:c},r.clearAll(),o.reset(e),i.clearCellPositions(),i.forceUpdate(),n.setSt4te({_cell_positioner:o,_cell_positioner_config:e,_cell_measurer_cache:r},(function(){n.forceUpdate((function(){t()}))}))):n._init_cell_measurements(t)},n._set_masonry_ref=function(e){null!==e&&n.setSt4te({_masonry:e},(function(){n._init_cell_measurements()}))},n._set_root_ref=function(e){null!==e&&n.setSt4te({_root:e})},n._cell_renderer=function(e){var t,a,r,i,o,s,c,l,d,f,m,h,p,_,g,v,b,x,S=e.index,w=e.key,M=e.parent,C=e.style,T=e.isScrolling,N=n.st4te,A=N._root_height,E=N._root_width,I=N._masonry,D=N._column_width,R=N._cell_measurer_cache,z=N._column_count,B=N._settings,L=N._selected_post_index;if(void 0!==I.props.itemsWithSizes[0|S]&&(a=(t=I.props.itemsWithSizes[0|S]).item,r=t.size,i=I._scrollingContainer.scrollTop,o=L===S,r.height))return c=(S-(s=S%z))/z,l=Math.ceil(D*(r.height/r.width))||0,C.width=0+D,f=(d=n.st4te)._top_scroll_of_el_by_index,m=d._height_of_el_by_index,h=d._x_y_of_el_by_index,g=(p=0+C.top)+(_=0+C.height),f[S]=p,m[S]=_,h[S]=[c,s],b=(v=A*(A/E))+g>i&&p<i+A+v,x=B._selected_locales_code,n.setSt4te({_top_scroll_of_el_by_index:f,_height_of_el_by_index:m}),u.default.createElement(y.CellMeasurer,{cache:R,index:S,key:w,parent:M},u.default.createElement(k.default,{locales:x,nsfw:B._nsfw_enabled,data:a,renderer:B._renderer,onMenuClick:n.openCardMenu,is_scrolling:T,selected:o,size:r,visible:b,column_width:D,image_height:l,image_width:D,id:r.id,key:r.id,rowIndex:c,columnIndex:s,style:C}))},n._init_cell_measurements=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};n.forceUpdate((function(){var t,a,r,i,o,s,c;null!=n.st4te._cell_measurer_cache&&null!=n.st4te._cell_positioner_config&&null!=n.st4te._cell_positioner?n._recompute_cell_measurements(e):(a=(t=n.st4te)._column_count,r=t._column_width,i=t._gutter_size,s={cellMeasurerCache:o=new y.CellMeasurerCache({defaultHeight:600,defaultWidth:r,fixedWidth:!0}),columnCount:a,columnWidth:r,spacer:i},c=(0,y.createMasonryCellPositioner)(s),n.setSt4te({_cell_measurer_cache:o,_cell_positioner:c,_cell_positioner_config:s},(function(){n.forceUpdate((function(){!function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},a=n.st4te._masonry;a?n.forceUpdate((function(){a.forceUpdate((function(){t()}))})):setTimeout((function(){e(t)}),5)}(e)}))})))}))},n._next_current_post=function(){var e=n.st4te,t=e._post,a=e._posts,r=a.map((function(e){return e.id})).indexOf(t.id)+1,i=Math.max(0,Math.min(a.length-1,r));n.st4te._post_author&&n.st4te._post_permlink||n._update_selected_post_index(i,!1)},n._previous_current_post=function(){var e=n.st4te,t=e._post,a=e._posts,r=a.map((function(e){return e.id})).indexOf(t.id)-1,i=Math.max(0,Math.min(a.length-1,r));n.st4te._post_author&&n.st4te._post_permlink||n._update_selected_post_index(i,!1)},n._handle_keydown=function(e){var t,a,r,i,o=n.st4te,s=(o._masonry,o._selected_post_index),c=o._post_closed_at,u=o._posts,l=o._post_author,d=o._post_permlink,f=o._column_count,m=o._x_y_of_el_by_index;if(!l&&!d&&c+300<Date.now()){switch(r=t=s%f,i=a=(s-t)/f,e.keyCode){case 40:i+=1,e.preventDefault();break;case 38:i-=1,e.preventDefault();break;case 37:r-=1;break;case 39:r+=1}i===a&&r===t||m.forEach((function(e,t){e[1]===r&&i===e[0]&&(s=t)})),s=Math.max(0,Math.min(u.length-1,s)),13===e.keyCode||n.st4te._selected_post_index!==s&&n._update_selected_post_index(s)}},n._update_selected_post_index=function(e){var t,a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.st4te,o=i._post,s=i._posts,c=i._masonry;c&&(t=c.props.itemsWithSizes,a=void 0!==e?e:o?s.map((function(e){return(e||{}).title})).indexOf(o.title):n.st4te._selected_post_index,n.setSt4te({_selected_post_index:a,_post:s[a],_post_img:(t[a]||{}).size},(function(){n.forceUpdate((function(){r?c.forceUpdate():n._scroll_to_index()}))})))},n._scroll_to=function(e){var t=n.st4te._masonry;t&&(void 0===e?(t._scrollingContainer.scrollTop=n.st4te._scroll_top,t.forceUpdate()):n.setSt4te({_scroll_top:e},(function(){t._scrollingContainer.scrollTop=e,t.forceUpdate()})))},n._scroll_to_index=function(e){var t,a=n.st4te,r=a._selected_post_index,i=a._top_scroll_of_el_by_index,o=a._height_of_el_by_index,s=a._root_height;t=i[e=void 0!==e?e:r]+o[e]/2-s/3,n._scroll_to(t)},n._handle_masonry_scroll=function(e){var t=n.st4te,a=(t._load_more_threshold,t._loading_posts,n.st4te),r=a._masonry,i=a._scroll_top,o=a._y,s=r&&r._scrollingContainer?r._scrollingContainer.scrollTop:0,c=Math.min(Math.max(-64,o-(s-i)),64);i===s&&o===c||n.setSt4te({_scroll_top:s,_y:c},(function(){o!==c&&n.forceUpdate()}))},n.handle_sorting_change=function(e,t){n.st4te.sorting!==t?n.setSt4te({sorting:t},(function(){n.forceUpdate((function(){n._scroll_to(0)}))})):n._scroll_to(0)},n.openCardMenu=function(e,t){n.setSt4te({menuCardXY:Int32Array.of(e.x-24,e.y-24),menuCardData:t},(function(){n.forceUpdate()}))},n.closeCardMenu=function(){n.setSt4te({menuCardXY:Int32Array.of(0,0),menuCardData:{}},(function(){n.forceUpdate()}))},n._open_create_artwork=function(){n.setSt4te({_create_artwork_dialog_open:!0},(function(){n.forceUpdate()}))},n._create_artwork_dialog_close=function(){n.setSt4te({_create_artwork_dialog_open:!1},(function(){n.forceUpdate()}))},n.st4te={classes:e.classes,_settings:e.settings,_history:f.HISTORY,_image_name_infographics:"",_infographics_fadein_time:300,_infographics_in:!0,_bii3_opacity:1,_join_now_button_update:0,_less_than_960w:!0,_less_than_690h:!0,sorting:0,menuCardXY:[],menuCardData:{},authors:[],_scrolling_reset_time_interval:300,_min_col_width:10,_max_col_width:1e3,_root_width:0,_root_height:0,_root:null,_window_width:0,_window_height:0,_average_img_ratio:1,_gutter_size:16,column_count:4,_column_width:356,_load_more_threshold:2e3,_overscan_by_pixels:6e3,_cell_positioner:null,_cell_positioner_config:null,_masonry:null,_cell_measurer_cache:null,_scroll_top:0,_intervals:[],_y:0,_top_scroll_of_el_by_index:[],_height_of_el_by_index:[],_x_y_of_el_by_index:[],_post:null,_selected_post_index:0,_post_closed_at:0,data:[],_create_artwork_dialog_open:!1},n}return o(t,e),s(t,[{key:"componentWillMount",value:function(){var e,t=this;window.addEventListener("resize",this._updated_dimensions),p.default.trigger_page_render_complete(),p.default.trigger_loading_update(0),setTimeout((function(){p.default.trigger_loading_update(100)}),300),e=setInterval((function(){t._handle_masonry_scroll()}),125),this.setSt4te({_intervals:[e]}),(0,g.default)((function(){return n.e(1).then(n.t.bind(null,1088,7))})).then((function(e){var n=e.POSTS;t.st4te.data=n,t.forceUpdate((function(){t._updated_dimensions()}))}))}},{key:"setSt4te",value:function(e,t){e=e||{},this.st4te=Object.assign(this.st4te,e),"function"==typeof t&&t()}},{key:"componentDidMount",value:function(){this._updated_dimensions(),d.default.findDOMNode(this).addEventListener("keydown",this._handle_keydown)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.settings._renderer!==this.st4te._settings._renderer,a=e.settings._nsfw_enabled!==this.st4te._settings._nsfw_enabled;this.setSt4te({_settings:e.settings},(function(){(n||a)&&t.forceUpdate((function(){}))}))}},{key:"componentWillUnmount",value:function(){this.st4te._intervals.forEach((function(e){clearInterval(e)}));try{window.removeEventListener("resize",this._updated_dimensions)}catch(e){}try{d.default.findDOMNode(this).removeEventListener("keydown",this._handle_keydown)}catch(e){}}},{key:"render",value:function(){var e=this,t=this.st4te.classes,n=this.st4te,a=(n._less_than_960w,n._less_than_690h,n.sorting),r=n.menuCardXY,i=n.menuCardData,o=this.st4te,s=o._window_width,c=o._window_height,l=o._cell_positioner,d=o._cell_measurer_cache,f=o._overscan_by_pixels,m=o._y,h=o._scroll_top,p=o._posts,_=o._create_artwork_dialog_open,g=s>960?s-284:s,y=c-(s>960?96:64);return u.default.createElement(u.default.Fragment,null,u.default.createElement(C.default,{style:{transform:"translateY("+(0>m&&h>64?-64:0)+"px)"},className:t.mainTab,value:a,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",onChange:this.handle_sorting_change,fullwidth:!0},u.default.createElement(w.default,{label:"Created"}),u.default.createElement(w.default,{label:"Hot"}),u.default.createElement(w.default,{label:"Trending"}),u.default.createElement(w.default,{label:"Promoted"})),u.default.createElement("div",{ref:this._set_root_ref},u.default.createElement(b.default,{className:t.masonry,items:p,image:function(e){return e.image},keyMapper:function(e){return e.id}},(function(t){return u.default.createElement(B,{key:"masonry-extended",scrollTop:h,scrollingResetTimeInterval:225,height:y,cellCount:0|(t||{}).length,itemsWithSizes:t,keyMapper:function(e){return(t[e]||{size:{id:Math.random()}}).size.id},cellMeasurerCache:d,cellPositioner:l,cellRenderer:e._cell_renderer,overscanByPixels:f,ref:e._set_masonry_ref,width:g})}))),u.default.createElement("div",{onClick:this._open_create_artwork,className:t.mainFab,style:{transform:"translateY("+(0<m&&h>512?64:0)+"px)"}},u.default.createElement(D.default,{variant:"extended"},u.default.createElement(E.default,{style:{marginRight:8}}),"CREATE")),u.default.createElement(N.default,{xy:r,data:i,onClose:this.closeCardMenu}),u.default.createElement(z.default,{open:_,onClose:this._create_artwork_dialog_close}))}}]),t}(u.default.PureComponent),t.default=(0,m.default)(L)(P)},773:function(e,t,n){"use strict";e.exports={functionString:'\n  var hexagonrender = function hexagonrender(image_data, scale) {\n\n    function initializeCanvas(width, height) {\n        "use strict";\n        width = width || 1;\n        height = height || 1;\n        let canvas, context;\n\n        canvas = new OffscreenCanvas(width, height);\n        context = canvas.getContext(\'2d\');\n        context.imageSmoothingEnabled = true;\n\n        return { canvas, context };\n    }\n\n    function initConstants(radius) {\n        var fr = Math.fround;\n        const CONSTANTS = new Float32Array(6), CONSTANTS_X = new Float32Array(6), CONSTANTS_Y = new Float32Array(6);\n        CONSTANTS[0] = fr(4 / radius); // LINE_WIDTH\n        CONSTANTS[1] = fr(2 * Math.PI / 6); // A\n        CONSTANTS[2] = fr(radius); // Radius\n        CONSTANTS[3] = fr(radius * 2); // Diameter\n        CONSTANTS[4] = fr(Math.sin(CONSTANTS[1])); // SIN(A)\n        CONSTANTS[5] = fr(Math.cos(CONSTANTS[1])); // COS(A)\n\n        // 6X Hexagon coordinate\n        for (let i = 0; i < 6; i++) {\n            CONSTANTS_X[i] = fr(CONSTANTS[2] * Math.cos(CONSTANTS[1] * i));\n            CONSTANTS_Y[i] = fr(CONSTANTS[2] * Math.sin(CONSTANTS[1] * i));\n        }\n\n        return {\n            CONSTANTS,\n            CONSTANTS_X,\n            CONSTANTS_Y\n        };\n    }\n\n    function createCanvasWithFallback(width, height) {\n        // Attempt to create an OffscreenCanvas\n        return initializeCanvas(width, height).context;\n    }\n\n    function generateFinalImageData(originalImageData, radius) {\n        "use strict";\n        if (radius < 0.5 || radius > 100) {\n            throw new Error("Invalid radius value. Must within 0.5 and 100");\n        }\n\n        let {CONSTANTS, CONSTANTS_X, CONSTANTS_Y} = initConstants(radius);\n\n        // Create an intermediate canvas to draw hexagon onto it\n        let canvas, ctx;\n        ctx = createCanvasWithFallback(\n            originalImageData.width * CONSTANTS[3] - (Math.floor(originalImageData.width / 2) * CONSTANTS[2]), // Hexagons are taking 1x Diameter less 1/2 radius of width\n            originalImageData.height * CONSTANTS[3] - (Math.floor(originalImageData.height / 2) * CONSTANTS[2]) // Hexagons are taking a height that is computed differently\n        );\n        canvas = ctx.canvas;\n\n        const ratio = Math.fround(canvas.height / (originalImageData.height * (CONSTANTS[3] * CONSTANTS[4]) + (originalImageData.width % 2 === 0 ? CONSTANTS[3] : CONSTANTS[2])));\n        let uint32HexMap = {};\n        let dataview = new DataView(new ArrayBuffer(4));\n        function uint32ToHex(uint32) {\n            "use strict";\n            uint32 = (uint32 | 0) >>> 0;\n\n            if (uint32 in uint32HexMap) {\n                return uint32HexMap[uint32];\n            }else {\n                dataview.setUint32(0, uint32, false);\n                uint32HexMap[uint32] = "#".concat("00000000".concat(dataview.getUint32(0, true).toString(16)).slice(-8));\n                return uint32HexMap[uint32];\n            }\n        }\n\n        function getColor(data32a, w, x, y) {\n            "use strict";\n            return uint32ToHex(data32a[(y * w + x | 0) >>> 0]);\n        }\n\n        function drawHexagon(ctx, vari, color) {\n            "use strict";\n            // Define the style of painting on our canvas context\n            ctx.save();\n            ctx.lineWidth = CONSTANTS[0]|0;\n            ctx.lineCap = "round";\n            ctx.strokeStyle = color;\n            ctx.fillStyle = color;\n            ctx.beginPath();\n            // Draw all intersections in a new path\n            ctx.lineTo(vari[1] + CONSTANTS_X[0], (vari[2] + CONSTANTS_Y[0])*ratio);\n            ctx.lineTo(vari[1] + CONSTANTS_X[1], (vari[2] + CONSTANTS_Y[1])*ratio);\n            ctx.lineTo(vari[1] + CONSTANTS_X[2], (vari[2] + CONSTANTS_Y[2])*ratio);\n            ctx.lineTo(vari[1] + CONSTANTS_X[3], (vari[2] + CONSTANTS_Y[3])*ratio);\n            ctx.lineTo(vari[1] + CONSTANTS_X[4], (vari[2] + CONSTANTS_Y[4])*ratio);\n            ctx.lineTo(vari[1] + CONSTANTS_X[5], (vari[2] + CONSTANTS_Y[5])*ratio);\n            // Close the path and fill the area\n            ctx.closePath();\n            ctx.fill();\n            ctx.stroke();\n            ctx.restore();\n        }\n\n        // Cache for storing pre-rendered tiles\n        let colorTileCache = {};\n        let zeros = new Float32Array(3).fill(CONSTANTS[2]);\n        function getColorTile(ctx, color) {\n            "use strict";\n            if (!colorTileCache[color]) {\n                let tileCtx = createCanvasWithFallback(CONSTANTS[3], CONSTANTS[3]);\n                drawHexagon(tileCtx, zeros, color)\n                colorTileCache[color] = tileCtx.canvas;\n            }\n            return colorTileCache[color];\n        }\n\n        function drawHexagonCached(ctx, vari, color) {\n            "use strict";\n            let colorTile = getColorTile(ctx, color);\n            ctx.drawImage(colorTile, vari[1]-CONSTANTS_X[0], (vari[2]-CONSTANTS_X[0]) * ratio);\n        }\n\n        function drawGrid(ctx, data32a, width, height, sizeX, sizeY) {\n            "use strict";\n            let posX = 0, posY = 0;\n            let vari = new Float32Array(3);\n            vari[0] = sizeX % 2 === 1 ? CONSTANTS[2] : CONSTANTS[3];\n\n            for (vari[2] = CONSTANTS[2]; posY < sizeY; vari[2] += vari[0] * CONSTANTS[4]) {\n                posX = 0;\n                vari[1] = CONSTANTS[2];\n                for (\n                    var j = 0;\n                    posX < sizeX;\n                    vari[1] = Math.fround(vari[1] + CONSTANTS[2] * (1 + CONSTANTS[5])),\n                        vari[2] = Math.fround(vari[2] + (-1) ** j++ * CONSTANTS[2] * CONSTANTS[4])\n                ) {\n                    drawHexagonCached(ctx, vari, getColor(data32a, sizeX, posX, posY));\n                    posX++;\n                }\n                posY++;\n            }\n        }\n\n        const dataUint32 = new Uint32Array(originalImageData.data.buffer);\n        //ctx.globalCompositeOperation = "source-over";\n        drawGrid(ctx, dataUint32, canvas.width, canvas.height, originalImageData.width, originalImageData.height);\n        return ctx.getImageData(0, 0, canvas.width, canvas.height)\n    }\n\n    return generateFinalImageData(image_data, scale);\n};\n    self.onmessage = function onmessage(event) {\n        if (event.data.type === \'imageData\') {\n            var result = hexagonrender(event.data.imageData, event.data.data.scale);\n            self.postMessage([result, event.data.id, event.data.algorithm]);\n        }\n    };\n',functionSize:function(e,t,n){var a=Math.fround(2*n),r=Math.fround(n),i=e*a-Math.floor(e/2)*r,o=t*a-Math.floor(t/2)*r;return{width:i,height:o,arrayBufferLength:i*o*4}}}},774:function(e,t,n){"use strict";e.exports={functionString:"\n  var crtrender = function crtrender(image_data, scale){\n\n    function Common() {}\n\n    Common.getThreshold = function () {\n        return this.hasOwnProperty('_Threshold') ? this._Threshold : false;\n    };\n\n    Common.setThreshold = function (v) {\n        this._Threshold = v;\n    };\n\n    Common.getScaleX = function () {\n        return this.hasOwnProperty('_ScaleX') ? this._ScaleX : 0;\n    };\n\n    Common.setScaleX = function (v) {\n        this._ScaleX = parseInt(v);\n    };\n\n    Common.getScaleY = function () {\n        return this.hasOwnProperty('_ScaleY') ? this._ScaleY : 0;\n    };\n\n    Common.setScaleY = function (v) {\n        this._ScaleY = parseInt(v);\n    };\n\n    Common.getSizeX = function () {\n        return this.hasOwnProperty('_SizeX') ? this._SizeX : 0;\n    };\n\n    Common.setSizeX = function (v) {\n        this._SizeX = parseInt(v);\n    };\n\n    Common.getSizeY = function () {\n        return this.hasOwnProperty('_SizeY') ? this._SizeY : 0;\n    };\n\n    Common.setSizeY = function (v) {\n        this._SizeY = parseInt(v);\n    };\n\n    Common.getScaledImage = function () {\n        return this.hasOwnProperty('_ScaledImage') ? this._ScaledImage : [];\n    };\n\n    Common.setScaledImage = function (v) {\n        this._ScaledImage = v;\n    };\n\n    Common.copy = function (dst, src, length) {\n        for (var i = 0; i < length; i++) {\n            dst[i] = Common._clip8(src[i]);\n        }\n    };\n\n    Common.copy2D = function (dst, src, dstx, dsty, srcx, srcy) {\n        var channels = 4;\n        var xdim = Math.min(srcx, dstx);\n        var ydim = Math.min(srcy, dsty);\n\n        for (var y = 0; y < ydim; y++) {\n            for (var x = 0; x < xdim; x++) {\n                for (var channel = 0; channel < channels; channel++) {\n                    dst[(y * dstx + x) * channels + channel] = src[(y * srcx + x) * channels + channel];\n                }\n            }\n        }\n    };\n\n    Common._clip8 = function (color) {\n        return Math.max(0, Math.min(255, color));\n    };\n\n// Add the missing CLR and _CLR methods\n    Common._CLR = function (Input, srcx, srcy, x, y) {\n        const channels = 4;\n        if (y >= 0 && y < srcy && x >= 0 && x < srcx) {\n            var index = (y * srcx + x) * channels;\n            var r = Input[index];\n            var g = Input[index + 1];\n            var b = Input[index + 2];\n            var a = Input[index + 3];\n            return Common.ARGBINT(a, r, g, b);\n        }\n        return 0;\n    };\n\n    Common.CLR = function (Input, srcx, srcy, x, y, dx = 0, dy = 0) {\n        var xx = parseInt(x + dx);\n        var yy = parseInt(y + dy);\n        xx = Math.max(0, Math.min(srcx - 1, xx));\n        yy = Math.max(0, Math.min(srcy - 1, yy));\n        return Common._CLR(Input, srcx, srcy, xx, yy);\n    };\n\n// Helper methods for color extraction\n    Common.red = function (rgb) {\n        return (rgb >>> 16) & 0xFF;\n    };\n\n    Common.green = function (rgb) {\n        return (rgb >>> 8) & 0xFF;\n    };\n\n    Common.blue = function (rgb) {\n        return rgb & 0xFF;\n    };\n\n    Common.alpha = function (rgb) {\n        return (rgb >>> 24) & 0xFF;\n    };\n\n    Common.ARGBINT = function (a, r, g, b) {\n        return (((a & 0xFF) << 24) | ((r & 0xFF) << 16) | ((g & 0xFF) << 8) | (b & 0xFF)) >>> 0;\n    };\n\n    function Init() {}\n\n    Init.buffer = function (length, c) {\n        var channels = 4;\n        var buffer = new Uint8ClampedArray(length * channels);\n        for (var i = 0; i < length; i++) {\n            var index = i * channels;\n            buffer[index] = parseInt(c);\n            buffer[index + 1] = parseInt(c);\n            buffer[index + 2] = parseInt(c);\n            buffer[index + 3] = 255;\n        }\n        return buffer;\n    };\n\n    Init.newBuffer = function (x, y) {\n        return Init.buffer(x * y, 0);\n    };\n\n    Init.init = function (srcx, srcy, scaleX, scaleY, threshold) {\n        Common.setScaleX(scaleX);\n        Common.setScaleY(scaleY);\n        Common.setSizeX(srcx * scaleX);\n        Common.setSizeY(srcy * scaleY);\n        Common.setThreshold(threshold);\n        Common.setScaledImage(Init.newBuffer(Common.getSizeX(), Common.getSizeY()));\n    };\n\n    function Filter() {}\n\n    Filter.prototype.BLURSCALEX = 0.45;\n    Filter.prototype.LOWLUMSCAN = 5.0;\n    Filter.prototype.HILUMSCAN = 10.0;\n    Filter.prototype.BRIGHTBOOST = 1.25;\n    Filter.prototype.MASK_DARK = 0.25;\n    Filter.prototype.MASK_FADE = 0.8;\n\n    Filter.prototype.apply = function (input, srcx, srcy, scale, threshold) {\n        scale = Math.max(1, scale);\n        Init.init(srcx, srcy, scale, scale, threshold);\n        var channels = 4;\n\n        for (var y = 0; y < Common.getSizeY(); y++) {\n            var offset = y * Common.getSizeX();\n            for (var x = 0; x < Common.getSizeX(); x++) {\n                var argb = this.scale(input, x / Common.getSizeX(), y / Common.getSizeY(), srcx, srcy);\n                Common.getScaledImage()[(offset + x) * channels] = Common.red(argb);\n                Common.getScaledImage()[(offset + x) * channels + 1] = Common.green(argb);\n                Common.getScaledImage()[(offset + x) * channels + 2] = Common.blue(argb);\n                Common.getScaledImage()[(offset + x) * channels + 3] = Common.alpha(argb);\n            }\n        }\n\n        return new ImageData(Common.getScaledImage(), Common.getSizeX(), Common.getSizeY());\n    };\n\n// Adding the missing 'scale' method\n    Filter.prototype.scale = function (image, ppx, ppy, srcx, srcy) {\n        var invDims = 1.0;\n        var maskFade = 0.333 * this.MASK_FADE;\n\n        var px = ppx * srcx;\n        var py = ppy * srcy;\n\n        var ix = Math.floor(px);\n        var iy = Math.floor(py);\n\n        var fx = px - ix;\n        var fy = py - iy;\n\n        px = (ix + 4.0 * fx * fx * fx) * invDims;\n        py = (iy + 4.0 * fy * fy * fy) * invDims;\n\n        px = this.mix(px, ppx, this.BLURSCALEX);\n        var Y = fy * fy;\n        var YY = Y * Y;\n\n        var mask = 1.0 - this.MASK_DARK;\n\n        var colour = Common.CLR(image, srcx, srcy, ppx * srcx, ppy * srcy, 0, 0);\n        var scanLineWeight = (this.BRIGHTBOOST - this.LOWLUMSCAN * (Y - 2.05 * YY));\n        var scanLineWeightB = 1.0 - this.HILUMSCAN * (YY - 2.8 * YY * Y);\n\n        var ret = this.mul(colour, this.mix(scanLineWeight * mask, scanLineWeightB, this.dot(colour, [maskFade, maskFade, maskFade])));\n\n        var r = Common.red(ret);\n        var g = Common.green(ret);\n        var b = Common.blue(ret);\n        var a = Common.alpha(colour);\n\n        return Common.ARGBINT(a, r, g, b);\n    };\n\n// Adding the helper methods used in 'scale'\n    Filter.prototype.mix = function (a, b, c) {\n        return a * (1 - c) + b * c;\n    };\n\n    Filter.prototype.mul = function (x, y) {\n        var r = Common.red(x) * y;\n        var g = Common.green(x) * y;\n        var b = Common.blue(x) * y;\n        var a = Common.alpha(x) * y;\n\n        return Common.ARGBINT(a, r, g, b);\n    };\n\n    Filter.prototype.dot = function (colour, floats) {\n        var r = Common.red(colour) * floats[0] / 255;\n        var g = Common.green(colour) * floats[1] / 255;\n        var b = Common.blue(colour) * floats[2] / 255;\n\n        return r + g + b;\n    };\n\n    return new Filter().apply(image_data.data, image_data.width, image_data.height, scale, 0.2);\n\n};\n    self.onmessage = function onmessage(event) {\n        if (event.data.type === 'imageData') {\n            const result = crtrender(event.data.imageData, event.data.data.scale);\n            self.postMessage([result, event.data.id, event.data.algorithm]);\n        }\n    };\n",functionSize:function(e,t,n){return{width:e*n,height:t*n,arrayBufferLength:e*n*t*n*4}}}}}]);