/*! For license information please see chunk_node_modules_asaitama_boolean-array_index_js-node_modules_classnames_index_js-node_modules_do-287b39.min.js.LICENSE.txt */
(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([["node_modules_asaitama_boolean-array_index_js-node_modules_classnames_index_js-node_modules_do-287b39"],{82803:t=>{var e=function(){function t(t,e){"use strict";return(0|(t=(0|t)>>>0))>>>0==(0|(e=(0|e)>>>0))>>>0}function e(t,e){"use strict";return((t=(0|t)>>>0)+(e=(0|e)>>>0)|0)>>>0}function n(t,e){"use strict";return((t=(0|t)>>>0)&(e=(0|e)>>>0))>>>0}function r(t,e){"use strict";return((t=(0|t)>>>0)|(e=(0|e)>>>0))>>>0}function i(t,e){"use strict";return((t=(0|t)>>>0)^(e=(0|e)>>>0))>>>0}function s(t){"use strict";return(0|t)>>>5}function o(t){"use strict";return(0|t)>>>0}var a=Uint32Array.of(1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,2147483648),u=Uint32Array.of(4294967294,4294967293,4294967291,4294967287,4294967279,4294967263,4294967231,4294967167,4294967039,4294966783,4294966271,4294965247,4294963199,4294959103,4294950911,4294934527,4294901759,4294836223,4294705151,4294443007,4293918719,4292870143,4290772991,4286578687,4278190079,4261412863,4227858431,4160749567,4026531839,3758096383,3221225471,2147483647),h=Uint32Array.of(0,4294967295);function c(l){"use strict";return this instanceof c?(this.format_uint_=o,this.plus_uint_=e,this.uint_equal_=t,this.uint_bit_and_=n,this.uint_bit_or_=r,this.uint_bit_xor_=i,this.uint_bitwise_5_=s,l instanceof c?this._data_=l.dataCopy:l instanceof Uint32Array?this._data_=l:(l=(0|l)>>>0,this._data_=new Uint32Array(1+((l+32|0)>>>5)),this._data_[this._data_.length-1]=(0|l)>>>0),this._M_OR_=a,this._M_AND_=u,this._M_OPP_=h,this.buildTemporaryIndexesDataStore(),this._I_=new Uint32Array(11),this):new c(l)}Object.defineProperties(c.prototype,{idealConstructor:{get:function(){"use strict";return this.length>=65535?Uint32Array:this.length>=255?Uint16Array:Uint8Array}},buildTemporaryIndexesDataStore:{get:function(){"use strict";return function(){this._M_A_=new this.idealConstructor(32)}}},getMin:{get:function(){"use strict";return function(){for(this._I_[4]=0,this._I_[5]=this.length,this._I_[8]=this.getElement(this.uint_bitwise_5_(this._I_[4]));this._I_[4]<this._I_[5];this._I_[4]=this.plus_uint_(this._I_[4],32))if(!this.uint_equal_(this._I_[8],this._M_OPP_[0])&&(this._I_[3]=0,this._I_[7]=0,this.readFourBytesCheckByte(),this.readFourBytesCheckByte(),this.readFourBytesCheckByte(),this.readFourBytesCheckByte(),this._I_[7]>0))return this._M_A_[0];return-1}}},getMax:{get:function(){"use strict";return function(){for(this._I_[4]=this.length,this._I_[5]=0,this._I_[8]=this.getElement(this.uint_bitwise_5_(this._I_[4]));this._I_[4]>=this._I_[5];this._I_[4]=(this._I_[4]-32|0)>>>0)if(!this.uint_equal_(this._I_[8],this._M_OPP_[0])&&(this._I_[3]=0,this._I_[7]=0,this.readFourBytesCheckByte(),this.readFourBytesCheckByte(),this.readFourBytesCheckByte(),this.readFourBytesCheckByte(),this._I_[7]>0))return this._M_A_[this._I_[7]-1|0];return-1}}},countOnes:{get:function(){"use strict";return function(){for(this._I_[4]=0,this._I_[5]=this.length,this._I_[8]=this.getElement(this.uint_bitwise_5_(this._I_[4]));this._I_[4]<this._I_[5];this._I_[4]=this.plus_uint_(this._I_[4],32))this.uint_equal_(this._I_[8],this._M_OPP_[0])||(this.uint_equal_(this._I_[8],this._M_OPP_[1])?this._I_[6]=this.plus_uint_(this._I_[6],32):(this._I_[3]=0,this._I_[7]=0,this.readFourBytesCountByte(),this.readFourBytesCountByte(),this.readFourBytesCountByte(),this.readFourBytesCountByte(),this._I_[6]=this.plus_uint_(this._I_[6],this._I_[7])));return this.format_uint_(this._I_[6])}}},countZeros:{get:function(){"use strict";return function(){return this.format_uint_(this.length-this.countOnes())}}},readFourBytes:{get:function(){"use strict";return function(t,e,n){if(this._I_[4]=this.format_uint_(t),this._I_[9]=this.format_uint_(n),this._I_[3]=0,this._I_[7]=0,this._I_[8]=this.getElement(this.uint_bitwise_5_(this._I_[4])),this.uint_equal_(this._I_[8],this._M_OPP_[0]))return(0|this._I_[9])>>>0;if(this.uint_equal_(this._I_[8],this._M_OPP_[1])){if(void 0!==e)for(this._I_[10]=0;this._I_[10]<32;this._I_[10]=this.plus_uint_(this._I_[10],1))e[this.plus_uint_(this._I_[9],this._I_[10])]=this.plus_uint_(this._I_[4],this._I_[10]);return this.plus_uint_(this._I_[9],32)}return this.readFourBytesCheckByte(),this.readFourBytesCheckByte(),this.readFourBytesCheckByte(),this.readFourBytesCheckByte(),void 0!==e&&this._I_[7]>0&&e.set(this._M_A_.subarray(0,this._I_[7]),this._I_[9]),this.plus_uint_(this._I_[9],this._I_[7])}}},readFourBytesCountBit:{get:function(){"use strict";return function(){this.uint_equal_(this.uint_bit_and_(this._I_[8],this._M_OR_[this._I_[3]]),this._M_OR_[this._I_[3]])&&(this._I_[7]=this.plus_uint_(this._I_[7],1)),this._I_[3]=this.plus_uint_(this._I_[3],1)}}},readFourBytesCheckBit:{get:function(){"use strict";return function(){this.uint_equal_(this.uint_bit_and_(this._I_[8],this._M_OR_[this._I_[3]]),this._M_OR_[this._I_[3]])&&(this._M_A_[this._I_[7]]=this.plus_uint_(this._I_[4],this._I_[3]),this._I_[7]=this.plus_uint_(this._I_[7],1)),this._I_[3]=this.plus_uint_(this._I_[3],1)}}},readFourBytesCountByte:{get:function(){"use strict";return function(){this.readFourBytesCountBit(),this.readFourBytesCountBit(),this.readFourBytesCountBit(),this.readFourBytesCountBit(),this.readFourBytesCountBit(),this.readFourBytesCountBit(),this.readFourBytesCountBit(),this.readFourBytesCountBit()}}},readFourBytesCheckByte:{get:function(){"use strict";return function(){this.readFourBytesCheckBit(),this.readFourBytesCheckBit(),this.readFourBytesCheckBit(),this.readFourBytesCheckBit(),this.readFourBytesCheckBit(),this.readFourBytesCheckBit(),this.readFourBytesCheckBit(),this.readFourBytesCheckBit()}}},getElement:{get:function(){"use strict";return function(t){return this._data_[t]}}},data:{get:function(){"use strict";return this._data_}},dataCopy:{get:function(){"use strict";return this._data_.slice(0,this._data_.length)}},readBit:{get:function(){"use strict";return function(t){return this._I_[0]=this.format_uint_(t),this._I_[1]=this.uint_bitwise_5_(this._I_[0]),this._I_[2]=this.uint_bit_and_(this._I_[0],31),this.uint_equal_(this.uint_bit_and_(this._data_[this._I_[1]],this._M_OR_[this._I_[2]]),this._M_OR_[this._I_[2]])}}},writeBit1:{get:function(){"use strict";return function(t){this._I_[0]=this.format_uint_(t),this._I_[1]=this.uint_bitwise_5_(this._I_[0]),this._I_[2]=this.uint_bit_and_(this._I_[0],31),this._data_[this._I_[1]]=this.uint_bit_or_(this._data_[this._I_[1]],this._M_OR_[this._I_[2]])}}},writeBit0:{get:function(){"use strict";return function(t){this._I_[0]=this.format_uint_(t),this._I_[1]=this.uint_bitwise_5_(this._I_[0]),this._I_[2]=this.uint_bit_and_(this._I_[0],31),this._data_[this._I_[1]]=this.uint_bit_and_(this._data_[this._I_[1]],this._M_AND_[this._I_[2]])}}},toggleBit:{get:function(){"use strict";return function(t){return this._I_[0]=this.format_uint_(t),this._I_[1]=this.uint_bitwise_5_(this._I_[0]),this._I_[2]=this.uint_bit_and_(this._I_[0],31),this.uint_equal_(this.uint_bit_and_(this._data_[this._I_[1]],this._M_OR_[this._I_[2]]),this._M_OR_[this._I_[2]])?(this._data_[this._I_[1]]=this.uint_bit_and_(this._data_[this._I_[1]],this._M_AND_[this._I_[2]]),!1):(this._data_[this._I_[1]]=this.uint_bit_or_(this._data_[this._I_[1]],this._M_OR_[this._I_[2]]),!0)}}},setFromBitArrayData:{get:function(){"use strict";return function(t){this._data_.length===t.length?this._data_.set(t):(this._data_=t instanceof Uint32Array?t.slice(0,t.length):Uint32Array.from(t),this.buildTemporaryIndexesDataStore())}}},invert:{get:function(){"use strict";return function(){for(var t=this._data_.length-1|0,e=0;(0|e)<(0|t);e=this.plus_uint_(e,1))this._data_[0|e]=~this._data_[0|e]}}},addFromArray:{get:function(){"use strict";return function(t,e,n,r){if(e=void 0===e?this._data_:e,void 0===n&&void 0===r)for(var i=Math.min(t.length,e.length,this._data_.length)-1,s=0;(0|s)<(0|i);s=this.plus_uint_(s,1))this._data_[0|s]=this.uint_bit_or_(e[0|s],t[0|s]);else if(void 0!==n&&void 0===r)for(i=Math.min(t.length,e.length,n.length,this._data_.length)-1,s=0;(0|s)<(0|i);s=this.plus_uint_(s,1))this._data_[0|s]=this.uint_bit_or_(this.uint_bit_or_(e[0|s],t[0|s]),n[0|s]);else for(i=Math.min(t.length,e.length,n.length,this._data_.length)-1,s=0;(0|s)<(0|i);s=this.plus_uint_(s,1))this._data_[0|s]=this.uint_bit_or_(this.uint_bit_or_(t[0|s],e[0|s]),this.uint_bit_or_(n[0|s],r[0|s]))}}},differentFromArray:{get:function(){"use strict";return function(t,e){e=void 0===e?this._data_:e;for(var n=Math.min(t.length,e.length,this._data_.length)-1,r=0;(0|r)<(0|n);r=this.plus_uint_(r,1))this._data_[0|r]=this.uint_bit_xor_(e[0|r],t[0|r])}}},sameFromArray:{get:function(){"use strict";return function(t,e){e=void 0===e?this._data_:e;for(var n=Math.min(t.length,e.length,this._data_.length)-1,r=0;(0|r)<(0|n);r=this.plus_uint_(r,1))this._data_[0|r]=this.uint_bit_and_(e[0|r],t[0|r])}}},clear:{get:function(){"use strict";return function(){this._data_.fill(0,0,this._data_.length-1)}}},charge:{get:function(){"use strict";return function(){this._data_.fill(4294967295,0,this._data_.length-1)}}},length:{get:function(){"use strict";return this._data_[this._data_.length-1]}},resize:{get:function(){"use strict";return function(t){if(t=Math.max(2,(0|t)>>>0),this.length!==t){var e=this._data_,n=new Uint32Array(1+((t+32|0)>>>5));n[n.length-1]=(0|t)>>>0,n.set(e.subarray(0,Math.min(e.length-1,n.length-1))),this._data_=n,this.buildTemporaryIndexesDataStore()}}}},resizeToMax:{get:function(){"use strict";return function(){this.resize(this.getMax())}}}});var l=function(n){"use strict";if(!(this instanceof l))return new l(n);if(this.format_uint_=o,this.plus_uint_=e,this.uint_equal_=t,this._VA_=Uint32Array.of(0),n instanceof l)this._ba_=n.bitArrayCopy,this._VA_.fill(n.size);else if(n instanceof c)this._ba_=n,this._VA_[0]=this._ba_.countOnes();else if("object"==typeof n){this._max_=0,this._c_=null,n instanceof Uint8ClampedArray||n instanceof Uint8Array||n instanceof Uint16Array||n instanceof Uint32Array?(this._set_=new Set(n),this._VA_[0]=this._set_.size,this._c_=n instanceof Uint32Array?Uint32Array:n instanceof Uint16Array?Uint16Array:Uint8Array,this._indexes_=this._c_.from(this._set_)):(n instanceof Set?this._set_=n:this._set_=new Set(n),this._VA_[0]=this._set_.size,this._indexes_=Uint32Array.from(this._set_));for(var r=0,i=0|this._indexes_.length;this.format_uint_(r)<this.format_uint_(i);r=this.plus_uint_(r,1))this.format_uint_(this._max_)<this.format_uint_(this._indexes_[this.format_uint_(r)])&&(this._max_=this.format_uint_(this._indexes_[this.format_uint_(r)]));this._ba_=new c(this._max_);for(r=0,i=0|this._indexes_.length;this.format_uint_(r)<this.format_uint_(i);r=this.plus_uint_(r,1))this._ba_.writeBit1(this.format_uint_(this._indexes_[this.format_uint_(r)]));delete this._set_,delete this._indexes_,delete this._max_,delete this._c_}else this._ba_=new c(0|n),this._VA_[0]=0;return this.bindInnerMethods(),this};return l.compute=function(t,e,n){for(var r=t.bitArrayData,i=e.map((function(t){return t.bitArrayData})),s=r.length-1|0,o=0,a=new Uint32Array(i.length);(0|o)<(0|s);o=this.plus_uint_(o,1))a.set(i.map((function(t){"use strict";return t[0|o]}))),r[0|o]=n.apply(n,a);t.computeSize()},l.import=function(t){return new l(new c(t))},Object.defineProperties(l.prototype,{bindInnerMethods:{get:function(){"use strict";return function(){this.readbit_=this._ba_.readBit.bind(this._ba_),this.read4bytes_=this._ba_.readFourBytes.bind(this._ba_),this.write1_=this._ba_.writeBit1.bind(this._ba_),this.write0_=this._ba_.writeBit0.bind(this._ba_)}}},bitArrayCopy:{get:function(){"use strict";return new c(this.bitArrayDataCopy)}},bitArrayData:{get:function(){"use strict";return this.bitArray.data}},bitArrayDataCopy:{get:function(){"use strict";var t=this.bitArrayData;return t.slice(0,t.length)}},bitArray:{get:function(){"use strict";return this._ba_}},size:{get:function(){"use strict";return this.format_uint_(this._VA_[0])}},length:{get:function(){"use strict";return this.format_uint_(this._ba_.length)}},idealConstructor:{get:function(){"use strict";return this._ba_.idealConstructor}},indexes:{get:function(){"use strict";for(var t=new this.idealConstructor(this.size),e=Uint32Array.of(0|this.length,0,0);e[1]<e[0];e[1]=this.plus_uint_(e[1],32))e[2]=this.read4bytes_(e[1],t,e[2]);return t}},export:{get:function(){"use strict";return function(t){return(t=void 0!==t&&Boolean(t))?this.bitArrayDataCopy:this.bitArrayData}}},has:{get:function(){"use strict";return function(t){return this.readbit_(this.format_uint_(t))}}},hasnt:{get:function(){"use strict";return function(t){return!this.readbit_(this.format_uint_(t))}}},add:{get:function(){"use strict";return function(t){t=this.format_uint_(t),(0|this.length)<(0|t)&&this._ba_.resize(t+t|0),this.hasnt(t)&&(this._VA_[0]=this.plus_uint_(this._VA_[0],1),this.write1_(t))}}},addUnsafe:{get:function(){"use strict";return function(t){t=this.format_uint_(t),this.hasnt(t)&&(this._VA_[0]=this.plus_uint_(this._VA_[0],1),this.write1_(t))}}},delete:{get:function(){"use strict";return function(t){t=this.format_uint_(t),this.has(t)&&(this.write0_(t),this._VA_[0]=(this._VA_[0]-1|0)>>>0)}}},bulkAdd:{get:function(){"use strict";return function(t){for(var e=Uint32Array.of(t.length,0);e[1]<e[0];e[1]=this.plus_uint_(e[1],1))this.add(t[e[1]])}}},bulkAddUnsafe:{get:function(){"use strict";return function(t){for(var e=Uint32Array.of(t.length,0);e[1]<e[0];e[1]=this.plus_uint_(e[1],1))this.addUnsafe(t[e[1]]);this._VA_[0]=this.plus_uint_(this._VA_[0],e[0])}}},bulkDelete:{get:function(){"use strict";return function(t){for(var e=Uint32Array.of(t.length,0);e[1]<e[0];e[1]=this.plus_uint_(e[1],1))this.delete(t[e[1]])}}},invert:{get:function(){"use strict";return function(){var t=this.length,e=this.size;this._ba_.invert(),this._VA_[0]=t-e}}},clear:{get:function(){"use strict";return function(){this._VA_[0]>0&&(this._ba_.clear(),this._VA_[0]=0)}}},clearAndBulkAdd:{get:function(){"use strict";return function(t){this.clear(),this.bulkAdd(t)}}},clearAndBulkAddUnsafe:{get:function(){"use strict";return function(t){this.clear(),this.bulkAddUnsafe(t)}}},setFromSetFixed:{get:function(){"use strict";return function(t){this._ba_.setFromBitArrayData(t.bitArrayData),this._VA_[0]=t.size}}},computeSize:{get:function(){"use strict";return function(){this._VA_[0]=this._ba_.countOnes()}}},optimize:{get:function(){"use strict";return function(){this._ba_.resizeToMax()}}},resizeUnsafe:{get:function(){"use strict";return function(t){this._ba_.resize(t)}}},resize:{get:function(){"use strict";return function(t){this.resizeUnsafe(t),this.computeSize()}}},addFromSetFixedUnsafe:{get:function(){"use strict";return function(t,e,n,r){this._ba_.addFromArray(t.bitArrayData,e instanceof l?e.bitArrayData:void 0,n instanceof l?n.bitArrayData:void 0,r instanceof l?r.bitArrayData:void 0)}}},differentFromSetFixedUnsafe:{get:function(){"use strict";return function(t,e){this._ba_.differentFromArray(t.bitArrayData,e instanceof l?e.bitArrayData:void 0)}}},sameFromSetFixedUnsafe:{get:function(){"use strict";return function(t,e){this._ba_.sameFromArray(t.bitArrayData,e instanceof l?e.bitArrayData:void 0)}}},addFromSetFixed:{get:function(){"use strict";return function(t,e,n,r){this.addFromSetFixedUnsafe(t,e,n,r),this.computeSize()}}},differentFromSetFixed:{get:function(){"use strict";return function(t,e){this.differentFromSetFixedUnsafe(t,e),this.computeSize()}}},sameFromSetFixed:{get:function(){"use strict";return function(t,e){this.sameFromSetFixedUnsafe(t,e),this.computeSize()}}},charge:{get:function(){"use strict";return function(){this._ba_.charge(),this._VA_[0]=this._ba_.length}}},forEach:{get:function(){"use strict";return function(t){this.indexes.forEach(t)}}},map:{get:function(){"use strict";return function(t){this.indexes.map(t)}}},filter:{get:function(){"use strict";return function(t){this.indexes.filter(t)}}}}),{BitArray:c,SetFixed:l}}();void 0!==t.exports&&(t.exports=e)},31546:t=>{const e=new Set(["utf8","utf-8","utf16le","utf-16le","latin1","base64","base64url","hex","ascii","binary","ucs2"]),n=new ArrayBuffer(8),r=new Uint8Array(n),i=new Uint8Array(n,0,4),s=new Uint8Array(n,0,2),o=new Float64Array(n,0,1),a=new Float32Array(n,0,1),u=new TextEncoder,h=new TextDecoder,c={};try{c[8]=BigInt("8"),c[16]=BigInt("16"),c[24]=BigInt("24"),c[32]=BigInt("32"),c[40]=BigInt("40"),c[48]=BigInt("48"),c[56]=BigInt("56"),c[255]=BigInt("255"),c["9223372036854775807"]=BigInt("9223372036854775807"),c["18446744073709551616"]=BigInt("18446744073709551616")}catch(t){}const l=32768,f=function(t){if(t.length<=l)return String.fromCharCode(...t);let e="";for(let n=0;n<t.length;n+=l)e+=String.fromCharCode(...t.slice(n,n+l));return e};class d extends Uint8Array{constructor(...t){"string"==typeof t[0]?(super(d.byteLength(t[0])),d.from(t[0],t[1]).copy(this)):super(...t)}compare(t,e=0,n=t.length,r=0,i=this.length){if(!(t instanceof Uint8Array))throw new TypeError("Comparison target must be a Uint8Array or Buffer");let s=0,o=e;for(let e=r;e<i;e+=1){if(o>=n){s=1;break}const r=this[e],i=t[o];if(r>i){s=1;break}if(r<i){s=-1;break}o+=1}return 0===s&&n-e>i-r&&(s=-1),s}copy(t,e=0,n=0,r=this.length){let i=0===n&&r===this.length?this:this.subarray(n,r);return e+i.length>t.length&&(i=i.subarray(0,i.length-(e+i.length-t.length))),t.set(i,e),i.length}equals(t){if(!(t instanceof Uint8Array))throw new TypeError('The "otherBuffer" argument must be an instance of Buffer or Uint8Array');if(t===this)return!0;if(t.length!==this.length)return!1;if(0===this.length)return!0;if(this.length>=4&&this.byteOffset%4==0&&t.byteOffset%4==0){const e=this.length-this.length%4,n=new Uint32Array(this.buffer,this.byteOffset,e/4),r=new Uint32Array(t.buffer,t.byteOffset,n.length);for(let t=0;t<n.length;t+=1)if(n[t]!==r[t])return!1;for(let n=e;n<this.length;n+=1)if(this[n]!==t[n])return!1}else for(let e=0;e<this.length;e+=1)if(this[e]!==t[e])return!1;return!0}fill(t,e=0,n=this.length,r="utf8"){if("number"==typeof t)super.fill(t,e,n);else{if("string"==typeof t&&(t=d.from(t,r)),!(t instanceof Uint8Array))throw new TypeError("fill value must be a number, string, Buffer, or Uint8Array");t instanceof d||(t=new d(t.buffer,t.byteOffset,t.length));const i=n-e;let s=0;for(let r=e;r<=n-t.length;r+=t.length)s+=t.length,t.copy(this,r);t.copy(this,e+s,0,i-s)}return this}includes(t,e=0,n="utf8"){return-1!==this.indexOf(t,e,n)}indexOf(t,e=0,n="utf8"){if(e<0&&(e=this.length+e),"number"==typeof t)return super.indexOf(t,e);if("string"==typeof t)t=d.from(t,n);else if(!(t instanceof Uint8Array))throw new TypeError('The "value" argument must be one of type number or string or an instance of Buffer or Uint8Array.');for(let n=e;n<=this.length-t.length;n+=1)if(this.subarray(n,n+t.length).equals(t))return n;return-1}lastIndexOf(t,e=this.length,n="utf8"){if(e<0&&(e=this.length+e),"number"==typeof t)return super.lastIndexOf(t,e);if("string"==typeof t)t=d.from(t,n);else if(!(t instanceof Uint8Array))throw new TypeError('The "value" argument must be one of type number or string or an instance of Buffer or Uint8Array.');for(let n=e;n>=0;n-=1)if(this.subarray(n,n+t.length).equals(t))return n;return-1}map(...t){const e=super.map(...t);return new d(e.buffer,e.byteOffset,e.byteLength)}readBigInt64BE(t=0){let e=this.readBigUInt64BE(t);return e>c["9223372036854775807"]&&(e-=c["18446744073709551616"]),e}readBigInt64LE(t=0){let e=this.readBigUInt64LE(t);return e>c["9223372036854775807"]&&(e-=c["18446744073709551616"]),e}readBigUInt64BE(t=0){if(t<0||t+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let e=BigInt(this[t+7]);return e+=BigInt(this[t+6])<<c[8],e+=BigInt(this[t+5])<<c[16],e+=BigInt(this[t+4])<<c[24],e+=BigInt(this[t+3])<<c[32],e+=BigInt(this[t+2])<<c[40],e+=BigInt(this[t+1])<<c[48],e+=BigInt(this[t])<<c[56],e}readBigUInt64LE(t=0){if(t<0||t+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let e=BigInt(this[t]);return e+=BigInt(this[t+1])<<c[8],e+=BigInt(this[t+2])<<c[16],e+=BigInt(this[t+3])<<c[24],e+=BigInt(this[t+4])<<c[32],e+=BigInt(this[t+5])<<c[40],e+=BigInt(this[t+6])<<c[48],e+=BigInt(this[t+7])<<c[56],e}readDoubleBE(t=0){if(t<0||t+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");for(let e=0;e<8;e+=1)r[e]=this[e+t];return r.reverse(),o[0]}readDoubleLE(t=0){if(t<0||t+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");for(let e=0;e<8;e+=1)r[e]=this[e+t];return o[0]}readFloatBE(t=0){if(t<0||t+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");for(let e=0;e<4;e+=1)i[e]=this[e+t];return i.reverse(),a[0]}readFloatLE(t=0){if(t<0||t+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");for(let e=0;e<4;e+=1)i[e]=this[e+t];return a[0]}readInt8(t=0){if(t<0||t>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let e=this[t];return e>127&&(e-=256),e}readInt16BE(t=0){let e=this.readUInt16BE(t);return e>32767&&(e-=65536),e}readInt16LE(t=0){let e=this.readUInt16LE(t);return e>32767&&(e-=65536),e}readInt32BE(t=0){let e=this.readUInt32BE(t);return e>2147483647&&(e-=4294967296),e}readInt32LE(t=0){let e=this.readUInt32LE(t);return e>2147483647&&(e-=4294967296),e}readIntBE(t=0,e){let n=this.readUIntBE(t,e);return n>2**(8*e-1)&&(n-=2**(8*e)),n}readIntLE(t=0,e){let n=this.readUIntLE(t,e);return n>2**(8*e-1)&&(n-=2**(8*e)),n}readUInt8(t=0){if(t<0||t>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[t]}readUInt16BE(t=0){if(t<0||t+1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let e=this[t+1];return e+=this[t]<<8,e}readUInt16LE(t=0){if(t<0||t+1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let e=this[t];return e+=this[t+1]<<8,e}readUInt32BE(t=0){if(t<0||t+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let e=this[t+3];return e+=this[t+2]<<8,e+=this[t+1]<<16,e+=16777216*this[t],e}readUInt32LE(t=0){if(t<0||t+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let e=this[t];return e+=this[t+1]<<8,e+=this[t+2]<<16,e+=16777216*this[t+3],e}readUIntBE(t,e){if("number"!=typeof e)throw new TypeError('"byteLength" must be a number');if(t<0||t+e-1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let n=1,r=0;for(let i=e-1;i>=0;i-=1)r+=this[t+i]*n,n*=256;return r}readUIntLE(t,e){if("number"!=typeof e)throw new TypeError('"byteLength" must be a number');if(t<0||t+e-1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let n=1,r=0;for(let i=0;i<e;i+=1)r+=this[t+i]*n,n*=256;return r}subarray(t=0,e=this.length){const n=super.subarray(t,e);return new d(n.buffer,n.byteOffset,n.byteLength)}slice(t=0,e=this.length){return this.subarray(t,e)}swap16(){if(this.length%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<this.length;t+=2)s[0]=this[t],this[t]=this[t+1],this[t+1]=s[0];return this}swap32(){if(this.length%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<this.length;t+=4)i[0]=this[t],i[1]=this[t+1],i[2]=this[t+2],i[3]=this[t+3],this[t]=i[3],this[t+1]=i[2],this[t+2]=i[1],this[t+3]=i[0];return this}swap64(){if(this.length%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<this.length;t+=8){for(let e=0;e<8;e+=1)r[e]=this[t+e];r.reverse();for(let e=0;e<8;e+=1)this[t+e]=r[e]}return this}toJSON(){return{data:[...this],type:"Buffer"}}toString(t="utf8",e=0,n=this.length){const r=this.subarray(e,n);switch(t.toLowerCase()){case"utf8":case"utf-8":return h.decode(r);case"utf16le":case"utf-16le":case"ucs2":return f(new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2));case"latin1":case"binary":return f(r);case"ascii":return f(r.map((t=>127&t)));case"base64":return btoa(f(r));case"base64url":{const t=btoa(f(r));let e=t.length;for(;e>1&&"="===t[e-1];)e-=1;return t.substring(0,e).replace(/\+/g,"-").replace(/\//g,"_")}case"hex":{let t="";for(let e=0;e<r.length;e+=1){const n=r[e];n<16&&(t+="0"),t+=n.toString(16)}return t}default:throw new Error("Unknown encoding: "+t)}}write(t,e=0,n=this.length-e,r="utf8"){if("string"!=typeof t)throw new TypeError("argument must be a string");const i=d.from(t,r);return i.copy(this,e,0,n),i.length<n?i.length:n}writeBigInt64BE(t,e=0){return t<0&&(t=c["18446744073709551616"]+t),this.writeBigUInt64BE(t,e)}writeBigInt64LE(t,e=0){return t<0&&(t=c["18446744073709551616"]+t),this.writeBigUInt64LE(t,e)}writeBigUInt64BE(t,e=0){if(e<0||e+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[e+7]=Number(t&c[255]),this[e+6]=Number(t>>c[8]&c[255]),this[e+5]=Number(t>>c[16]&c[255]),this[e+4]=Number(t>>c[24]&c[255]),this[e+3]=Number(t>>c[32]&c[255]),this[e+2]=Number(t>>c[40]&c[255]),this[e+1]=Number(t>>c[48]&c[255]),this[e]=Number(t>>c[56]&c[255]),e+8}writeBigUInt64LE(t,e=0){if(e<0||e+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[e]=Number(t&c[255]),this[e+1]=Number(t>>c[8]&c[255]),this[e+2]=Number(t>>c[16]&c[255]),this[e+3]=Number(t>>c[24]&c[255]),this[e+4]=Number(t>>c[32]&c[255]),this[e+5]=Number(t>>c[40]&c[255]),this[e+6]=Number(t>>c[48]&c[255]),this[e+7]=Number(t>>c[56]&c[255]),e+8}writeDoubleBE(t,e=0){if(e<0||e+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");o[0]=t,r.reverse();for(let t=0;t<8;t+=1)this[e+t]=r[t];return e+8}writeDoubleLE(t,e=0){if(e<0||e+7>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");o[0]=t;for(let t=0;t<8;t+=1)this[e+t]=r[t];return e+8}writeFloatBE(t,e=0){if(e<0||e+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");a[0]=t,i.reverse();for(let t=0;t<4;t+=1)this[e+t]=i[t];return e+4}writeFloatLE(t,e=0){if(e<0||e+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");a[0]=t;for(let t=0;t<4;t+=1)this[e+t]=i[t];return e+4}writeInt8(t,e=0){if(e<0||e>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return t<0&&(t=256+t),this[e]=t,e+1}writeInt16BE(t,e=0){return t<0&&(t=65536+t),this.writeUInt16BE(t,e),e+2}writeInt16LE(t,e=0){return t<0&&(t=65536+t),this.writeUInt16LE(t,e),e+2}writeInt32BE(t,e=0){return t<0&&(t=4294967296+t),this.writeUInt32BE(t,e),e+4}writeInt32LE(t,e=0){return t<0&&(t=4294967296+t),this.writeUInt32LE(t,e),e+4}writeIntBE(t,e,n){return t<0&&(t=2**(8*n)+t),this.writeUIntBE(t,e,n)}writeIntLE(t,e,n){return t<0&&(t=2**(8*n)+t),this.writeUIntLE(t,e,n)}writeUInt8(t,e=0){if(e<0||e>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[e]=t,e+1}writeUInt16BE(t,e=0){if(e<0||e+1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[e+1]=255&t,this[e]=t>>8&255,e+2}writeUInt16LE(t,e=0){if(e<0||e+1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[e]=255&t,this[e+1]=t>>8&255,e+2}writeUInt32BE(t,e=0){if(e<0||e+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[e+3]=255&t,this[e+2]=t>>8&255,this[e+1]=t>>16&255,this[e]=t>>24&255,e+4}writeUInt32LE(t,e=0){if(e<0||e+3>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");return this[e]=255&t,this[e+1]=t>>8&255,this[e+2]=t>>16&255,this[e+3]=t>>24&255,e+4}writeUIntBE(t,e,n){if("number"!=typeof n)throw new TypeError('"byteLength" must be a number');if("number"!=typeof e)throw new TypeError('"offset" must be a number');if(e<0||e+n-1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let r=256**n;for(let i=0;i<n;i+=1)r/=256,this[e+i]=255&Math.floor(t/r);return e+n}writeUIntLE(t,e,n){if("number"!=typeof n)throw new TypeError('"byteLength" must be a number');if("number"!=typeof e)throw new TypeError('"offset" must be a number');if(e<0||e+n-1>=this.length)throw new RangeError("Attempt to access memory outside buffer bounds");let r=1;for(let i=0;i<n;i+=1)this[e+i]=255&Math.floor(t/r),r*=256;return e+n}}const _=function(t,e,n){return 0!==e&&t.fill(e,0,t.length,n),t};let p=new d(8192),g=0;d.alloc=function(t,e=0,n="utf8"){if("number"!=typeof t)throw new TypeError("size argument must be a number");if(0===t)return new d(0);if(t>=d.poolSize/2)return _(new d(t),e,n);g+t>d.poolSize&&(p=new d(d.poolSize),g=0);const r=p.subarray(g,g+t);return g+=t,g%8!=0&&(g+=8-g%8),_(r,e,n)},d.allocUnsafe=d.alloc,d.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("size argument must be a number");return new d(t)};d.byteLength=function(t,e="utf8"){if("string"!=typeof t)return t.length;switch(e){case"utf8":case"utf-8":return function(t){let e=0;for(let n=0;n<t.length;n+=1){const r=t.codePointAt(n);r<=127?e+=1:r<=2047?e+=2:r<=65535?e+=3:(n+=1,e+=4)}return e}(t);case"latin1":case"binary":case"ascii":return t.length;case"utf16le":case"utf-16le":case"ucs2":return 2*t.length;case"base64":case"base64url":return function(t){let e=t.length;for(;e>1&&"="===t[e-1];)e-=1;return Math.floor(.75*e)}(t);case"hex":return t.length/2;default:throw new Error("Unknown encoding: "+e)}},d.compare=function(t,e){if(!(t instanceof Uint8Array))throw new TypeError("buf1 must be a Buffer or Uint8Array");return d.isBuffer(t)?t.compare(e):d.prototype.compare.call(t,e)},d.concat=function(t,e){if(!Array.isArray(t))throw new TypeError("list argument must be an Array");if(void 0===e){e=0;for(let n=0;n<t.length;n+=1)e+=t[n].length}let n=0;const r=d.alloc(e);for(let e=0;e<t.length;e+=1){const i=t[e];if(!(i instanceof Uint8Array))throw new TypeError('"list['+e+']" must be an instance of Buffer or Uint8Array');r.set(i,n),n+=i.length}return r};const m="The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object";d.from=function(t,e,n){if("object"==typeof t){if("number"==typeof t.length&&"function"==typeof t[Symbol.iterator])return new d(t);if(t instanceof ArrayBuffer)return new d(t,e,n);if("Buffer"!==t.type||!Array.isArray(t.data))throw new TypeError(m);return new d(t.data)}if("string"==typeof t)switch("string"!=typeof e&&(e="utf8"),e.toLowerCase()){case"utf8":case"utf-8":return new d(u.encode(t));case"utf16le":case"utf-16le":case"ucs2":return new d(new Uint16Array([...t].map((t=>t.charCodeAt(0)))).buffer);case"latin1":case"binary":case"ascii":return new d([...t].map((t=>t.charCodeAt(0))));case"base64":case"base64url":return new d([...atob(t.replace(/-/g,"+").replace(/_/g,"/"))].map((t=>t.charCodeAt(0))));case"hex":{const e=new d(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=parseInt(t.substring(n,n+2),16);return e}default:throw new Error("Unknown encoding: "+e)}throw new TypeError(m)},d.copyBytesFrom=function(t,e=0,n=t.length-e){const r=t instanceof Uint8Array||t instanceof Int8Array||t instanceof Uint8ClampedArray?1:t instanceof Int16Array||t instanceof Uint16Array?2:t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array?4:t instanceof Float64Array||"undefined"!=typeof BigInt64Array&&t instanceof BigInt64Array||"undefined"!=typeof BigInt64Array&&t instanceof BigUint64Array?8:1,i=new Uint8Array(t.buffer,t.byteOffset+e*r,n*r);return d.from(i)},d.isBuffer=function(t){return t instanceof d},d.isEncoding=function(t){return"string"==typeof t&&e.has(t.toLowerCase())},d.poolSize=8192,t.exports={Buffer:d,SlowBuffer:function(t){return d.alloc(t)},INSPECT_MAX_BYTES:0,kMaxLength:2147483647}},32485:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var s=typeof n;if("string"===s||"number"===s)t.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&t.push(o)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&t.push(a)}}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},80669:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});const r=!("undefined"==typeof window||!window.document||!window.document.createElement);var i;function s(t){if((!i&&0!==i||t)&&r){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),i=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return i}},33904:(t,e,n)=>{"use strict";var r=n(44576),i=n(79039),s=n(79504),o=n(655),a=n(43802).trim,u=n(47452),h=s("".charAt),c=r.parseFloat,l=r.Symbol,f=l&&l.iterator,d=1/c(u+"-0")!=-1/0||f&&!i((function(){c(Object(f))}));t.exports=d?function(t){var e=a(o(t)),n=c(e);return 0===n&&"-"===h(e,0)?-0:n}:c},52703:(t,e,n)=>{"use strict";var r=n(44576),i=n(79039),s=n(79504),o=n(655),a=n(43802).trim,u=n(47452),h=r.parseInt,c=r.Symbol,l=c&&c.iterator,f=/^[+-]?0x/i,d=s(f.exec),_=8!==h(u+"08")||22!==h(u+"0x16")||l&&!i((function(){h(Object(l))}));t.exports=_?function(t,e){var n=a(o(t));return h(n,e>>>0||(d(f,n)?16:10))}:h},83063:(t,e,n)=>{"use strict";var r=n(82839);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},60533:(t,e,n)=>{"use strict";var r=n(79504),i=n(18014),s=n(655),o=n(72333),a=n(67750),u=r(o),h=r("".slice),c=Math.ceil,l=function(t){return function(e,n,r){var o,l,f=s(a(e)),d=i(n),_=f.length,p=void 0===r?" ":s(r);return d<=_||""===p?f:((l=u(p,c((o=d-_)/p.length))).length>o&&(l=h(l,0,o)),t?f+l:l+f)}};t.exports={start:l(!1),end:l(!0)}},3717:(t,e,n)=>{"use strict";var r=n(79504),i=2147483647,s=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",u=RangeError,h=r(o.exec),c=Math.floor,l=String.fromCharCode,f=r("".charCodeAt),d=r([].join),_=r([].push),p=r("".replace),g=r("".split),m=r("".toLowerCase),w=function(t){return t+22+75*(t<26)},y=function(t,e,n){var r=0;for(t=n?c(t/700):t>>1,t+=c(t/e);t>455;)t=c(t/35),r+=36;return c(r+36*t/(t+38))},b=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=f(t,n++);if(i>=55296&&i<=56319&&n<r){var s=f(t,n++);56320==(64512&s)?_(e,((1023&i)<<10)+(1023&s)+65536):(_(e,i),n--)}else _(e,i)}return e}(t);var n,r,s=t.length,o=128,h=0,p=72;for(n=0;n<t.length;n++)(r=t[n])<128&&_(e,l(r));var g=e.length,m=g;for(g&&_(e,"-");m<s;){var b=i;for(n=0;n<t.length;n++)(r=t[n])>=o&&r<b&&(b=r);var v=m+1;if(b-o>c((i-h)/v))throw new u(a);for(h+=(b-o)*v,o=b,n=0;n<t.length;n++){if((r=t[n])<o&&++h>i)throw new u(a);if(r===o){for(var I=h,E=36;;){var A=E<=p?1:E>=p+26?26:E-p;if(I<A)break;var B=I-A,x=36-A;_(e,l(w(A+B%x))),I=c(B/x),E+=36}_(e,l(w(I))),p=y(h,v,m===g),h=0,m++}}h++,o++}return d(e,"")};t.exports=function(t){var e,n,r=[],i=g(p(m(t),o,"."),".");for(e=0;e<i.length;e++)n=i[e],_(r,h(s,n)?"xn--"+b(n):n);return d(r,".")}},72333:(t,e,n)=>{"use strict";var r=n(91291),i=n(655),s=n(67750),o=RangeError;t.exports=function(t){var e=i(s(this)),n="",a=r(t);if(a<0||a===1/0)throw new o("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},67416:(t,e,n)=>{"use strict";var r=n(79039),i=n(78227),s=n(43724),o=n(96395),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),n.delete("a",2),n.delete("b",void 0),o&&(!t.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!e.size&&(o||!s)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==r||"x"!==new URL("https://x",void 0).host}))},33771:(t,e,n)=>{"use strict";var r=n(46518),i=n(84373),s=n(6469);r({target:"Array",proto:!0},{fill:i}),s("fill")},48598:(t,e,n)=>{"use strict";var r=n(46518),i=n(79504),s=n(47055),o=n(25397),a=n(34598),u=i([].join);r({target:"Array",proto:!0,forced:s!==Object||!a("join",",")},{join:function(t){return u(o(this),void 0===t?",":t)}})},31051:(t,e,n)=>{"use strict";var r=n(46518),i=n(79039),s=n(33517),o=n(97040),a=Array;r({target:"Array",stat:!0,forced:i((function(){function t(){}return!(a.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new(s(this)?this:a)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},15086:(t,e,n)=>{"use strict";var r=n(46518),i=n(59213).some;r({target:"Array",proto:!0,forced:!n(34598)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},60739:(t,e,n)=>{"use strict";var r=n(46518),i=n(79039),s=n(48981),o=n(72777);r({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=s(this),n=o(e,"number");return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},60605:(t,e,n)=>{"use strict";n(46518)({target:"Math",stat:!0},{fround:n(15617)})},39469:(t,e,n)=>{"use strict";var r=n(46518),i=Math.hypot,s=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,a=0,u=arguments.length,h=0;a<u;)h<(n=s(arguments[a++]))?(i=i*(r=h/n)*r+1,h=n):i+=n>0?(r=n/h)*r:n;return h===1/0?1/0:h*o(i)}})},9868:(t,e,n)=>{"use strict";var r=n(46518),i=n(79504),s=n(91291),o=n(31240),a=n(72333),u=n(79039),h=RangeError,c=String,l=Math.floor,f=i(a),d=i("".slice),_=i(1..toFixed),p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)},g=function(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=l(i/1e7)},m=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=l(r/e),r=r%e*1e7},w=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=c(t[e]);n=""===n?r:n+f("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:u((function(){return"0.000"!==_(8e-5,3)||"1"!==_(.9,0)||"1.25"!==_(1.255,2)||"1000000000000000128"!==_(0xde0b6b3a7640080,0)}))||!u((function(){_({})}))},{toFixed:function(t){var e,n,r,i,a=o(this),u=s(t),l=[0,0,0,0,0,0],_="",y="0";if(u<0||u>20)throw new h("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return c(a);if(a<0&&(_="-",a=-a),a>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(a*p(2,69,1))-69)<0?a*p(2,-e,1):a/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(g(l,0,n),r=u;r>=7;)g(l,1e7,0),r-=7;for(g(l,p(10,r,1),0),r=e-1;r>=23;)m(l,1<<23),r-=23;m(l,1<<r),g(l,1,1),m(l,2),y=w(l)}else g(l,0,n),g(l,1<<-e,0),y=w(l)+f("0",u);return y=u>0?_+((i=y.length)<=u?"0."+f("0",u-i)+y:d(y,0,i-u)+"."+d(y,i-u)):_+y}})},16034:(t,e,n)=>{"use strict";var r=n(46518),i=n(32357).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},78459:(t,e,n)=>{"use strict";var r=n(46518),i=n(33904);r({global:!0,forced:parseFloat!==i},{parseFloat:i})},58940:(t,e,n)=>{"use strict";var r=n(46518),i=n(52703);r({global:!0,forced:parseInt!==i},{parseInt:i})},96167:(t,e,n)=>{"use strict";var r=n(46518),i=n(69565),s=n(79306),o=n(36043),a=n(1103),u=n(72652);r({target:"Promise",stat:!0,forced:n(90537)},{allSettled:function(t){var e=this,n=o.f(e),r=n.resolve,h=n.reject,c=a((function(){var n=s(e.resolve),o=[],a=0,h=1;u(t,(function(t){var s=a++,u=!1;h++,i(n,e,t).then((function(t){u||(u=!0,o[s]={status:"fulfilled",value:t},--h||r(o))}),(function(t){u||(u=!0,o[s]={status:"rejected",reason:t},--h||r(o))}))})),--h||r(o)}));return c.error&&h(c.value),n.promise}})},27337:(t,e,n)=>{"use strict";var r=n(46518),i=n(79504),s=n(35610),o=RangeError,a=String.fromCharCode,u=String.fromCodePoint,h=i([].join);r({target:"String",stat:!0,arity:1,forced:!!u&&1!==u.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],s(e,1114111)!==e)throw new o(e+" is not a valid code point");n[i]=e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320)}return h(n,"")}})},68156:(t,e,n)=>{"use strict";var r=n(46518),i=n(60533).start;r({target:"String",proto:!0,forced:n(83063)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},34594:(t,e,n)=>{"use strict";n(15823)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},48345:(t,e,n)=>{"use strict";var r=n(72805);(0,n(94644).exportTypedArrayStaticMethod)("from",n(43251),r)},61740:(t,e,n)=>{"use strict";n(15823)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},22134:(t,e,n)=>{"use strict";n(15823)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},35874:(t,e,n)=>{"use strict";n(96167)},98406:(t,e,n)=>{"use strict";n(23792),n(27337);var r=n(46518),i=n(44576),s=n(93389),o=n(97751),a=n(69565),u=n(79504),h=n(43724),c=n(67416),l=n(36840),f=n(62106),d=n(56279),_=n(10687),p=n(33994),g=n(91181),m=n(90679),w=n(94901),y=n(39297),b=n(76080),v=n(36955),I=n(28551),E=n(20034),A=n(655),B=n(2360),x=n(6980),S=n(70081),U=n(50851),k=n(62529),O=n(22812),T=n(78227),P=n(74488),C=T("iterator"),R="URLSearchParams",L=R+"Iterator",F=g.set,N=g.getterFor(R),j=g.getterFor(L),D=s("fetch"),$=s("Request"),z=s("Headers"),q=$&&$.prototype,M=z&&z.prototype,H=i.TypeError,G=i.encodeURIComponent,V=String.fromCharCode,J=o("String","fromCodePoint"),W=parseInt,X=u("".charAt),Y=u([].join),Z=u([].push),Q=u("".replace),K=u([].shift),tt=u([].splice),et=u("".split),nt=u("".slice),rt=u(/./.exec),it=/\+/g,st=/^[0-9a-f]+$/i,ot=function(t,e){var n=nt(t,e,e+2);return rt(st,n)?W(n,16):NaN},at=function(t){for(var e=0,n=128;n>0&&t&n;n>>=1)e++;return e},ut=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},ht=function(t){for(var e=(t=Q(t,it," ")).length,n="",r=0;r<e;){var i=X(t,r);if("%"===i){if("%"===X(t,r+1)||r+3>e){n+="%",r++;continue}var s=ot(t,r+1);if(s!=s){n+=i,r++;continue}r+=2;var o=at(s);if(0===o)i=V(s);else{if(1===o||o>4){n+="�",r++;continue}for(var a=[s],u=1;u<o&&!(++r+3>e||"%"!==X(t,r));){var h=ot(t,r+1);if(h!=h){r+=3;break}if(h>191||h<128)break;Z(a,h),r+=2,u++}if(a.length!==o){n+="�";continue}var c=ut(a);null===c?n+="�":i=J(c)}}n+=i,r++}return n},ct=/[!'()~]|%20/g,lt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ft=function(t){return lt[t]},dt=function(t){return Q(G(t),ct,ft)},_t=p((function(t,e){F(this,{type:L,target:N(t).entries,index:0,kind:e})}),R,(function(){var t=j(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,k(void 0,!0);var r=e[n];switch(t.kind){case"keys":return k(r.key,!1);case"values":return k(r.value,!1)}return k([r.key,r.value],!1)}),!0),pt=function(t){this.entries=[],this.url=null,void 0!==t&&(E(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===X(t,0)?nt(t,1):t:A(t)))};pt.prototype={type:R,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,s,o,u,h=this.entries,c=U(t);if(c)for(n=(e=S(t,c)).next;!(r=a(n,e)).done;){if(s=(i=S(I(r.value))).next,(o=a(s,i)).done||(u=a(s,i)).done||!a(s,i).done)throw new H("Expected sequence with length 2");Z(h,{key:A(o.value),value:A(u.value)})}else for(var l in t)y(t,l)&&Z(h,{key:l,value:A(t[l])})},parseQuery:function(t){if(t)for(var e,n,r=this.entries,i=et(t,"&"),s=0;s<i.length;)(e=i[s++]).length&&(n=et(e,"="),Z(r,{key:ht(K(n)),value:ht(Y(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],Z(n,dt(t.key)+"="+dt(t.value));return Y(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var gt=function(){m(this,mt);var t=F(this,new pt(arguments.length>0?arguments[0]:void 0));h||(this.size=t.entries.length)},mt=gt.prototype;if(d(mt,{append:function(t,e){var n=N(this);O(arguments.length,2),Z(n.entries,{key:A(t),value:A(e)}),h||this.length++,n.updateURL()},delete:function(t){for(var e=N(this),n=O(arguments.length,1),r=e.entries,i=A(t),s=n<2?void 0:arguments[1],o=void 0===s?s:A(s),a=0;a<r.length;){var u=r[a];if(u.key!==i||void 0!==o&&u.value!==o)a++;else if(tt(r,a,1),void 0!==o)break}h||(this.size=r.length),e.updateURL()},get:function(t){var e=N(this).entries;O(arguments.length,1);for(var n=A(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){var e=N(this).entries;O(arguments.length,1);for(var n=A(t),r=[],i=0;i<e.length;i++)e[i].key===n&&Z(r,e[i].value);return r},has:function(t){for(var e=N(this).entries,n=O(arguments.length,1),r=A(t),i=n<2?void 0:arguments[1],s=void 0===i?i:A(i),o=0;o<e.length;){var a=e[o++];if(a.key===r&&(void 0===s||a.value===s))return!0}return!1},set:function(t,e){var n=N(this);O(arguments.length,1);for(var r,i=n.entries,s=!1,o=A(t),a=A(e),u=0;u<i.length;u++)(r=i[u]).key===o&&(s?tt(i,u--,1):(s=!0,r.value=a));s||Z(i,{key:o,value:a}),h||(this.size=i.length),n.updateURL()},sort:function(){var t=N(this);P(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=N(this).entries,r=b(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new _t(this,"keys")},values:function(){return new _t(this,"values")},entries:function(){return new _t(this,"entries")}},{enumerable:!0}),l(mt,C,mt.entries,{name:"entries"}),l(mt,"toString",(function(){return N(this).serialize()}),{enumerable:!0}),h&&f(mt,"size",{get:function(){return N(this).entries.length},configurable:!0,enumerable:!0}),_(gt,R),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:gt}),!c&&w(z)){var wt=u(M.has),yt=u(M.set),bt=function(t){if(E(t)){var e,n=t.body;if(v(n)===R)return e=t.headers?new z(t.headers):new z,wt(e,"content-type")||yt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),B(t,{body:x(0,A(n)),headers:x(0,e)})}return t};if(w(D)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return D(t,arguments.length>1?bt(arguments[1]):{})}}),w($)){var vt=function(t){return m(this,q),new $(t,arguments.length>1?bt(arguments[1]):{})};q.constructor=vt,vt.prototype=q,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:vt})}}t.exports={URLSearchParams:gt,getState:N}},48408:(t,e,n)=>{"use strict";n(98406)},45806:(t,e,n)=>{"use strict";n(47764);var r,i=n(46518),s=n(43724),o=n(67416),a=n(44576),u=n(76080),h=n(79504),c=n(36840),l=n(62106),f=n(90679),d=n(39297),_=n(44213),p=n(97916),g=n(67680),m=n(68183).codeAt,w=n(3717),y=n(655),b=n(10687),v=n(22812),I=n(98406),E=n(91181),A=E.set,B=E.getterFor("URL"),x=I.URLSearchParams,S=I.getState,U=a.URL,k=a.TypeError,O=a.parseInt,T=Math.floor,P=Math.pow,C=h("".charAt),R=h(/./.exec),L=h([].join),F=h(1..toString),N=h([].pop),j=h([].push),D=h("".replace),$=h([].shift),z=h("".split),q=h("".slice),M=h("".toLowerCase),H=h([].unshift),G="Invalid scheme",V="Invalid host",J="Invalid port",W=/[a-z]/i,X=/[\d+-.a-z]/i,Y=/\d/,Z=/^0x/i,Q=/^[0-7]+$/,K=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,nt=/[\0\t\n\r #/:<>?@[\\\]^|]/,rt=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,st=/[\t\n\r]/g,ot=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)H(e,t%256),t=T(t/256);return L(e,".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,s=0;s<8;s++)0!==t[s]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=s),++i);return i>n?r:e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=F(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},at={},ut=_({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),ht=_({},ut,{"#":1,"?":1,"{":1,"}":1}),ct=_({},ht,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),lt=function(t,e){var n=m(t,0);return n>32&&n<127&&!d(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dt=function(t,e){var n;return 2===t.length&&R(W,C(t,0))&&(":"===(n=C(t,1))||!e&&"|"===n)},_t=function(t){var e;return t.length>1&&dt(q(t,0,2))&&(2===t.length||"/"===(e=C(t,2))||"\\"===e||"?"===e||"#"===e)},pt=function(t){return"."===t||"%2e"===M(t)},gt={},mt={},wt={},yt={},bt={},vt={},It={},Et={},At={},Bt={},xt={},St={},Ut={},kt={},Ot={},Tt={},Pt={},Ct={},Rt={},Lt={},Ft={},Nt=function(t,e,n){var r,i,s,o=y(t);if(e){if(i=this.parse(o))throw new k(i);this.searchParams=null}else{if(void 0!==n&&(r=new Nt(n,!0)),i=this.parse(o,null,r))throw new k(i);(s=S(new x)).bindURL(this),this.searchParams=s}};Nt.prototype={type:"URL",parse:function(t,e,n){var i,s,o,a,u,h=this,c=e||gt,l=0,f="",_=!1,m=!1,w=!1;for(t=y(t),e||(h.scheme="",h.username="",h.password="",h.host=null,h.port=null,h.path=[],h.query=null,h.fragment=null,h.cannotBeABaseURL=!1,t=D(t,rt,""),t=D(t,it,"$1")),t=D(t,st,""),i=p(t);l<=i.length;){switch(s=i[l],c){case gt:if(!s||!R(W,s)){if(e)return G;c=wt;continue}f+=M(s),c=mt;break;case mt:if(s&&(R(X,s)||"+"===s||"-"===s||"."===s))f+=M(s);else{if(":"!==s){if(e)return G;f="",c=wt,l=0;continue}if(e&&(h.isSpecial()!==d(ft,f)||"file"===f&&(h.includesCredentials()||null!==h.port)||"file"===h.scheme&&!h.host))return;if(h.scheme=f,e)return void(h.isSpecial()&&ft[h.scheme]===h.port&&(h.port=null));f="","file"===h.scheme?c=kt:h.isSpecial()&&n&&n.scheme===h.scheme?c=yt:h.isSpecial()?c=Et:"/"===i[l+1]?(c=bt,l++):(h.cannotBeABaseURL=!0,j(h.path,""),c=Rt)}break;case wt:if(!n||n.cannotBeABaseURL&&"#"!==s)return G;if(n.cannotBeABaseURL&&"#"===s){h.scheme=n.scheme,h.path=g(n.path),h.query=n.query,h.fragment="",h.cannotBeABaseURL=!0,c=Ft;break}c="file"===n.scheme?kt:vt;continue;case yt:if("/"!==s||"/"!==i[l+1]){c=vt;continue}c=At,l++;break;case bt:if("/"===s){c=Bt;break}c=Ct;continue;case vt:if(h.scheme=n.scheme,s===r)h.username=n.username,h.password=n.password,h.host=n.host,h.port=n.port,h.path=g(n.path),h.query=n.query;else if("/"===s||"\\"===s&&h.isSpecial())c=It;else if("?"===s)h.username=n.username,h.password=n.password,h.host=n.host,h.port=n.port,h.path=g(n.path),h.query="",c=Lt;else{if("#"!==s){h.username=n.username,h.password=n.password,h.host=n.host,h.port=n.port,h.path=g(n.path),h.path.length--,c=Ct;continue}h.username=n.username,h.password=n.password,h.host=n.host,h.port=n.port,h.path=g(n.path),h.query=n.query,h.fragment="",c=Ft}break;case It:if(!h.isSpecial()||"/"!==s&&"\\"!==s){if("/"!==s){h.username=n.username,h.password=n.password,h.host=n.host,h.port=n.port,c=Ct;continue}c=Bt}else c=At;break;case Et:if(c=At,"/"!==s||"/"!==C(f,l+1))continue;l++;break;case At:if("/"!==s&&"\\"!==s){c=Bt;continue}break;case Bt:if("@"===s){_&&(f="%40"+f),_=!0,o=p(f);for(var b=0;b<o.length;b++){var v=o[b];if(":"!==v||w){var I=lt(v,ct);w?h.password+=I:h.username+=I}else w=!0}f=""}else if(s===r||"/"===s||"?"===s||"#"===s||"\\"===s&&h.isSpecial()){if(_&&""===f)return"Invalid authority";l-=p(f).length+1,f="",c=xt}else f+=s;break;case xt:case St:if(e&&"file"===h.scheme){c=Tt;continue}if(":"!==s||m){if(s===r||"/"===s||"?"===s||"#"===s||"\\"===s&&h.isSpecial()){if(h.isSpecial()&&""===f)return V;if(e&&""===f&&(h.includesCredentials()||null!==h.port))return;if(a=h.parseHost(f))return a;if(f="",c=Pt,e)return;continue}"["===s?m=!0:"]"===s&&(m=!1),f+=s}else{if(""===f)return V;if(a=h.parseHost(f))return a;if(f="",c=Ut,e===St)return}break;case Ut:if(!R(Y,s)){if(s===r||"/"===s||"?"===s||"#"===s||"\\"===s&&h.isSpecial()||e){if(""!==f){var E=O(f,10);if(E>65535)return J;h.port=h.isSpecial()&&E===ft[h.scheme]?null:E,f=""}if(e)return;c=Pt;continue}return J}f+=s;break;case kt:if(h.scheme="file","/"===s||"\\"===s)c=Ot;else{if(!n||"file"!==n.scheme){c=Ct;continue}switch(s){case r:h.host=n.host,h.path=g(n.path),h.query=n.query;break;case"?":h.host=n.host,h.path=g(n.path),h.query="",c=Lt;break;case"#":h.host=n.host,h.path=g(n.path),h.query=n.query,h.fragment="",c=Ft;break;default:_t(L(g(i,l),""))||(h.host=n.host,h.path=g(n.path),h.shortenPath()),c=Ct;continue}}break;case Ot:if("/"===s||"\\"===s){c=Tt;break}n&&"file"===n.scheme&&!_t(L(g(i,l),""))&&(dt(n.path[0],!0)?j(h.path,n.path[0]):h.host=n.host),c=Ct;continue;case Tt:if(s===r||"/"===s||"\\"===s||"?"===s||"#"===s){if(!e&&dt(f))c=Ct;else if(""===f){if(h.host="",e)return;c=Pt}else{if(a=h.parseHost(f))return a;if("localhost"===h.host&&(h.host=""),e)return;f="",c=Pt}continue}f+=s;break;case Pt:if(h.isSpecial()){if(c=Ct,"/"!==s&&"\\"!==s)continue}else if(e||"?"!==s)if(e||"#"!==s){if(s!==r&&(c=Ct,"/"!==s))continue}else h.fragment="",c=Ft;else h.query="",c=Lt;break;case Ct:if(s===r||"/"===s||"\\"===s&&h.isSpecial()||!e&&("?"===s||"#"===s)){if(".."===(u=M(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(h.shortenPath(),"/"===s||"\\"===s&&h.isSpecial()||j(h.path,"")):pt(f)?"/"===s||"\\"===s&&h.isSpecial()||j(h.path,""):("file"===h.scheme&&!h.path.length&&dt(f)&&(h.host&&(h.host=""),f=C(f,0)+":"),j(h.path,f)),f="","file"===h.scheme&&(s===r||"?"===s||"#"===s))for(;h.path.length>1&&""===h.path[0];)$(h.path);"?"===s?(h.query="",c=Lt):"#"===s&&(h.fragment="",c=Ft)}else f+=lt(s,ht);break;case Rt:"?"===s?(h.query="",c=Lt):"#"===s?(h.fragment="",c=Ft):s!==r&&(h.path[0]+=lt(s,at));break;case Lt:e||"#"!==s?s!==r&&("'"===s&&h.isSpecial()?h.query+="%27":h.query+="#"===s?"%23":lt(s,at)):(h.fragment="",c=Ft);break;case Ft:s!==r&&(h.fragment+=lt(s,ut))}l++}},parseHost:function(t){var e,n,r;if("["===C(t,0)){if("]"!==C(t,t.length-1))return V;if(e=function(t){var e,n,r,i,s,o,a,u=[0,0,0,0,0,0,0,0],h=0,c=null,l=0,f=function(){return C(t,l)};if(":"===f()){if(":"!==C(t,1))return;l+=2,c=++h}for(;f();){if(8===h)return;if(":"!==f()){for(e=n=0;n<4&&R(tt,f());)e=16*e+O(f(),16),l++,n++;if("."===f()){if(0===n)return;if(l-=n,h>6)return;for(r=0;f();){if(i=null,r>0){if(!("."===f()&&r<4))return;l++}if(!R(Y,f()))return;for(;R(Y,f());){if(s=O(f(),10),null===i)i=s;else{if(0===i)return;i=10*i+s}if(i>255)return;l++}u[h]=256*u[h]+i,2!=++r&&4!==r||h++}if(4!==r)return;break}if(":"===f()){if(l++,!f())return}else if(f())return;u[h++]=e}else{if(null!==c)return;l++,c=++h}}if(null!==c)for(o=h-c,h=7;0!==h&&o>0;)a=u[h],u[h--]=u[c+o-1],u[c+--o]=a;else if(8!==h)return;return u}(q(t,1,-1)),!e)return V;this.host=e}else if(this.isSpecial()){if(t=w(t),R(et,t))return V;if(e=function(t){var e,n,r,i,s,o,a,u=z(t,".");if(u.length&&""===u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(n=[],r=0;r<e;r++){if(""===(i=u[r]))return t;if(s=10,i.length>1&&"0"===C(i,0)&&(s=R(Z,i)?16:8,i=q(i,8===s?1:2)),""===i)o=0;else{if(!R(10===s?K:8===s?Q:tt,i))return t;o=O(i,s)}j(n,o)}for(r=0;r<e;r++)if(o=n[r],r===e-1){if(o>=P(256,5-e))return null}else if(o>255)return null;for(a=N(n),r=0;r<n.length;r++)a+=n[r]*P(256,3-r);return a}(t),null===e)return V;this.host=e}else{if(R(nt,t))return V;for(e="",n=p(t),r=0;r<n.length;r++)e+=lt(n[r],at);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return d(ft,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&dt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,s=t.port,o=t.path,a=t.query,u=t.fragment,h=e+":";return null!==i?(h+="//",t.includesCredentials()&&(h+=n+(r?":"+r:"")+"@"),h+=ot(i),null!==s&&(h+=":"+s)):"file"===e&&(h+="//"),h+=t.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==a&&(h+="?"+a),null!==u&&(h+="#"+u),h},setHref:function(t){var e=this.parse(t);if(e)throw new k(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new jt(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+ot(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(y(t)+":",gt)},getUsername:function(){return this.username},setUsername:function(t){var e=p(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=lt(e[n],ct)}},getPassword:function(){return this.password},setPassword:function(t){var e=p(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=lt(e[n],ct)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ot(t):ot(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,xt)},getHostname:function(){var t=this.host;return null===t?"":ot(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,St)},getPort:function(){var t=this.port;return null===t?"":y(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=y(t))?this.port=null:this.parse(t,Ut))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+L(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Pt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=y(t))?this.query=null:("?"===C(t,0)&&(t=q(t,1)),this.query="",this.parse(t,Lt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=y(t))?("#"===C(t,0)&&(t=q(t,1)),this.fragment="",this.parse(t,Ft)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var jt=function(t){var e=f(this,Dt),n=v(arguments.length,1)>1?arguments[1]:void 0,r=A(e,new Nt(t,!1,n));s||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Dt=jt.prototype,$t=function(t,e){return{get:function(){return B(this)[t]()},set:e&&function(t){return B(this)[e](t)},configurable:!0,enumerable:!0}};if(s&&(l(Dt,"href",$t("serialize","setHref")),l(Dt,"origin",$t("getOrigin")),l(Dt,"protocol",$t("getProtocol","setProtocol")),l(Dt,"username",$t("getUsername","setUsername")),l(Dt,"password",$t("getPassword","setPassword")),l(Dt,"host",$t("getHost","setHost")),l(Dt,"hostname",$t("getHostname","setHostname")),l(Dt,"port",$t("getPort","setPort")),l(Dt,"pathname",$t("getPathname","setPathname")),l(Dt,"search",$t("getSearch","setSearch")),l(Dt,"searchParams",$t("getSearchParams")),l(Dt,"hash",$t("getHash","setHash"))),c(Dt,"toJSON",(function(){return B(this).serialize()}),{enumerable:!0}),c(Dt,"toString",(function(){return B(this).serialize()}),{enumerable:!0}),U){var zt=U.createObjectURL,qt=U.revokeObjectURL;zt&&c(jt,"createObjectURL",u(zt,U)),qt&&c(jt,"revokeObjectURL",u(qt,U))}b(jt,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!s},{URL:jt})},3296:(t,e,n)=>{"use strict";n(45806)},27208:(t,e,n)=>{"use strict";var r=n(46518),i=n(69565);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},53954:(t,e,n)=>{"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,{A:()=>r})},85501:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(63662);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,r.A)(t,e)}},56822:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(82284),i=n(9417);function s(t,e){if(e&&("object"==(0,r.A)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.A)(t)}},60987:(t,e,n)=>{"use strict";n.d(e,{Kj:()=>dt});var r,i=n(65606),s=(n(31546).Buffer,Object.defineProperty),o=(t,e,n)=>(((t,e,n)=>{e in t?s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n),a=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},u=(t,e,n)=>(a(t,e,"read from private field"),n?n.call(t):e.get(t)),h=new Intl.Collator(0,{numeric:1}).compare;function c(t,e,n){return t=t.split("."),e=e.split("."),h(t[0],e[0])||h(t[1],e[1])||(e[2]=e.slice(2).join("."),(n=/[.-]/.test(t[2]=t.slice(2).join(".")))==/[.-]/.test(e[2])?h(t[2],e[2]):n?-1:1)}const l="host",f="queue/data",d="upload",_="login",p="runtime",g="sleeptime",m="This application is currently busy. Please try again. ",w="Connection errored out. ",y="Could not resolve app config. ",b="Space metadata could not be loaded. ",v="Invalid credentials. Could not login. ",I="File system access is only available in Node.js environments",E="Root URL not found in client config",A="Error uploading file";function B(t,e,n){return e.startsWith("http://")||e.startsWith("https://")?n?t:e:t+e}async function x(t,e,n){try{const r=await fetch(`https://huggingface.co/api/spaces/${t}/jwt`,{headers:{Authorization:`Bearer ${e}`,...n?{Cookie:n}:{}}});return(await r.json()).token||!1}catch(t){return!1}}async function S(t){var e;const n=this.options.hf_token?{Authorization:`Bearer ${this.options.hf_token}`}:{};if(n["Content-Type"]="application/json","undefined"!=typeof window&&window.gradio_config&&"http://localhost:9876"!==location.origin&&!window.gradio_config.dev_mode){const e=window.gradio_config.root,n=window.gradio_config;let r=B(t,n.root,!1);return n.root=r,{...n,path:e}}if(t){const r=L(t,"config"),i=await this.fetch(r,{headers:n,credentials:"include"});if(401===(null==i?void 0:i.status)&&!this.options.auth)throw new Error("Login credentials are required to access this space.");if(401===(null==i?void 0:i.status)&&this.options.auth)throw new Error(v);if(200===(null==i?void 0:i.status)){let n=await i.json();return n.path=n.path??"",n.root=t,null==(e=n.dependencies)||e.forEach(((t,e)=>{void 0===t.id&&(t.id=e)})),n}if(401===(null==i?void 0:i.status))throw new Error("Not authorized to access this space. ");throw new Error(y)}throw new Error(y)}async function U(){const{http_protocol:t,host:e}=await R(this.app_reference,this.options.hf_token);try{if(this.options.auth){const n=await k(t,e,this.options.auth,this.fetch,this.options.hf_token);n&&this.set_cookies(n)}}catch(t){throw Error(t.message)}}async function k(t,e,n,r,i){const s=new FormData;s.append("username",null==n?void 0:n[0]),s.append("password",null==n?void 0:n[1]);let o={};i&&(o.Authorization=`Bearer ${i}`);const a=await r(`${t}//${e}/${_}`,{headers:o,method:"POST",body:s,credentials:"include"});if(200===a.status)return a.headers.get("set-cookie");throw 401===a.status?new Error(v):new Error(b)}function O(t){if(t.startsWith("http")){const{protocol:e,host:n,pathname:r}=new URL(t);return{ws_protocol:"https:"===e?"wss":"ws",http_protocol:e,host:n+("/"!==r?r:"")}}return t.startsWith("file:")?{ws_protocol:"ws",http_protocol:"http:",host:"lite.local"}:{ws_protocol:"wss",http_protocol:"https:",host:new URL(t).host}}const T=t=>{let e=[];return t.split(/,(?=\s*[^\s=;]+=[^\s=;]+)/).forEach((t=>{const[n,r]=t.split(";")[0].split("=");n&&r&&e.push(`${n.trim()}=${r.trim()}`)})),e},P=/^[a-zA-Z0-9_\-\.]+\/[a-zA-Z0-9_\-\.]+$/,C=/.*hf\.space\/{0,1}.*$/;async function R(t,e){const n={};e&&(n.Authorization=`Bearer ${e}`);const r=t.trim().replace(/\/$/,"");if(P.test(r))try{const e=await fetch(`https://huggingface.co/api/spaces/${r}/${l}`,{headers:n});return{space_id:t,...O((await e.json()).host)}}catch(t){throw new Error(b)}if(C.test(r)){const{ws_protocol:t,http_protocol:e,host:n}=O(r);return{space_id:n.split("/")[0].replace(".hf.space",""),ws_protocol:t,http_protocol:e,host:n}}return{space_id:!1,...O(r)}}const L=(...t)=>{try{return t.reduce(((t,e)=>(t=t.replace(/\/+$/,""),e=e.replace(/^\/+/,""),new URL(e,t+"/").toString())))}catch(t){throw new Error("Invalid URL. A full URL path is required.")}};function F(t,e,n,r){switch(null==t?void 0:t.type){case"string":return"string";case"boolean":return"boolean";case"number":return"number"}return"JSONSerializable"===n||"StringSerializable"===n?"any":"ListStringSerializable"===n?"string[]":"Image"===e?"parameter"===r?"Blob | File | Buffer":"string":"FileSerializable"===n?"array"===(null==t?void 0:t.type)?"parameter"===r?"(Blob | File | Buffer)[]":"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}[]":"parameter"===r?"Blob | File | Buffer":"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}":"GallerySerializable"===n?"parameter"===r?"[(Blob | File | Buffer), (string | null)][]":"[{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}, (string | null))][]":void 0}function N(t,e){return"GallerySerializable"===e?"array of [file, label] tuples":"ListStringSerializable"===e?"array of strings":"FileSerializable"===e?"array of files or single file":null==t?void 0:t.description}function j(t,e){const n=!0;switch(t.msg){case"send_data":return{type:"data"};case"send_hash":return{type:"hash"};case"queue_full":return{type:"update",status:{queue:n,message:m,stage:"error",code:t.code,success:t.success}};case"heartbeat":return{type:"heartbeat"};case"unexpected_error":return{type:"unexpected_error",status:{queue:n,message:t.message,stage:"error",success:!1}};case"estimation":return{type:"update",status:{queue:n,stage:e||"pending",code:t.code,size:t.queue_size,position:t.rank,eta:t.rank_eta,success:t.success}};case"progress":return{type:"update",status:{queue:n,stage:"pending",code:t.code,progress_data:t.progress_data,success:t.success}};case"log":return{type:"log",data:t};case"process_generating":return{type:"generating",status:{queue:n,message:t.success?null:t.output.error,stage:t.success?"generating":"error",code:t.code,progress_data:t.progress_data,eta:t.average_duration,changed_state_ids:t.success?t.output.changed_state_ids:void 0},data:t.success?t.output:null};case"process_streaming":return{type:"streaming",status:{queue:n,message:t.output.error,stage:"streaming",time_limit:t.time_limit,code:t.code,progress_data:t.progress_data,eta:t.eta},data:t.output};case"process_completed":return"error"in t.output?{type:"update",status:{queue:n,title:t.output.title,message:t.output.error,visible:t.output.visible,duration:t.output.duration,stage:"error",code:t.code,success:t.success}}:{type:"complete",status:{queue:n,message:t.success?void 0:t.output.error,stage:t.success?"complete":"error",code:t.code,progress_data:t.progress_data,changed_state_ids:t.success?t.output.changed_state_ids:void 0},data:t.success?t.output:null};case"process_starts":return{type:"update",status:{queue:n,stage:"pending",code:t.code,size:t.rank,position:0,success:t.success,eta:t.eta},original_msg:"process_starts"}}return{type:"none",status:{stage:"error",queue:n}}}async function D(){if(this.api_info)return this.api_info;const{hf_token:t}=this.options,{config:e}=this,n={"Content-Type":"application/json"};if(t&&(n.Authorization=`Bearer ${t}`),e)try{let t,r;if("undefined"!=typeof window&&window.gradio_api_info)r=window.gradio_api_info;else{if(c((null==e?void 0:e.version)||"2.0.0","3.30")<0)t=await this.fetch("https://gradio-space-api-fetcher-v2.hf.space/api",{method:"POST",body:JSON.stringify({serialize:!1,config:JSON.stringify(e)}),headers:n,credentials:"include"});else{const r=L(e.root,this.api_prefix,"info");t=await this.fetch(r,{headers:n,credentials:"include"})}if(!t.ok)throw new Error(w);r=await t.json()}return"api"in r&&(r=r.api),r.named_endpoints["/predict"]&&!r.unnamed_endpoints[0]&&(r.unnamed_endpoints[0]=r.named_endpoints["/predict"]),function(t,e,n){const r={named_endpoints:{},unnamed_endpoints:{}};return Object.keys(t).forEach((i=>{"named_endpoints"!==i&&"unnamed_endpoints"!==i||(r[i]={},Object.entries(t[i]).forEach((([t,{parameters:s,returns:o}])=>{var a,u,h,c;const l=(null==(a=e.dependencies.find((e=>e.api_name===t||e.api_name===t.replace("/",""))))?void 0:a.id)||n[t.replace("/","")]||-1,f=-1!==l?null==(u=e.dependencies.find((t=>t.id==l)))?void 0:u.types:{generator:!1,cancel:!1};if(-1!==l&&(null==(c=null==(h=e.dependencies.find((t=>t.id==l)))?void 0:h.inputs)?void 0:c.length)!==s.length){const t=e.dependencies.find((t=>t.id==l)).inputs.map((t=>{var n;return null==(n=e.components.find((e=>e.id===t)))?void 0:n.type}));try{t.forEach(((t,e)=>{if("state"===t){const t={component:"state",example:null,parameter_default:null,parameter_has_default:!0,parameter_name:null,hidden:!0};s.splice(e,0,t)}}))}catch(t){console.error(t)}}const d=(t,e,n,r)=>({...t,description:N(null==t?void 0:t.type,n),type:F(null==t?void 0:t.type,e,n,r)||""});r[i][t]={parameters:s.map((t=>d(t,null==t?void 0:t.component,null==t?void 0:t.serializer,"parameter"))),returns:o.map((t=>d(t,null==t?void 0:t.component,null==t?void 0:t.serializer,"return"))),type:f}})))})),r}(r,e,this.api_map)}catch(t){t.message}}async function $(t,e,n){var r;const i={};(null==(r=null==this?void 0:this.options)?void 0:r.hf_token)&&(i.Authorization=`Bearer ${this.options.hf_token}`);const s=[];let o;for(let r=0;r<e.length;r+=1e3){const a=e.slice(r,r+1e3),u=new FormData;a.forEach((t=>{u.append("files",t)}));try{const e=n?`${t}${this.api_prefix}/${d}?upload_id=${n}`:`${t}${this.api_prefix}/${d}`;o=await this.fetch(e,{method:"POST",body:u,headers:i,credentials:"include"})}catch(t){throw new Error(w+t.message)}if(!o.ok){const t=await o.text();return{error:`HTTP ${o.status}: ${t}`}}const h=await o.json();h&&s.push(...h)}return{files:s}}async function z(t,e,n,r){let i=(Array.isArray(t)?t:[t]).map((t=>t.blob));const s=i.filter((t=>t.size>(r??1/0)));if(s.length)throw new Error(`File size exceeds the maximum allowed size of ${r} bytes: ${s.map((t=>t.name)).join(", ")}`);return await Promise.all(await this.upload_files(e,i,n).then((async n=>{if(n.error)throw new Error(n.error);return n.files?n.files.map(((n,r)=>new q({...t[r],path:n,url:`${e}${this.api_prefix}/file=${n}`}))):[]})))}class q{constructor({path:t,url:e,orig_name:n,size:r,blob:i,is_stream:s,mime_type:a,alt_text:u,b64:h}){o(this,"path"),o(this,"url"),o(this,"orig_name"),o(this,"size"),o(this,"blob"),o(this,"is_stream"),o(this,"mime_type"),o(this,"alt_text"),o(this,"b64"),o(this,"meta",{_type:"gradio.FileData"}),this.path=t,this.url=e,this.orig_name=n,this.size=r,this.blob=e?void 0:i,this.is_stream=s,this.mime_type=a,this.alt_text=u,this.b64=h}}class M{constructor(t,e){o(this,"type"),o(this,"command"),o(this,"meta"),o(this,"fileData"),this.type="command",this.command=t,this.meta=e}}void 0!==i&&i.versions&&i.versions.node;function H(t,e,n){for(;n.length>1;){const e=n.shift();if("string"!=typeof e&&"number"!=typeof e)throw new Error("Invalid key type");t=t[e]}const r=n.shift();if("string"!=typeof r&&"number"!=typeof r)throw new Error("Invalid key type");t[r]=e}async function G(t,e=void 0,n=[],r=!1,i=void 0){if(Array.isArray(t)){let s=[];return await Promise.all(t.map((async(o,a)=>{var u;let h=n.slice();h.push(String(a));const c=await G(t[a],r?(null==(u=null==i?void 0:i.parameters[a])?void 0:u.component)||void 0:e,h,!1,i);s=s.concat(c)}))),s}if(globalThis.Buffer&&t instanceof globalThis.Buffer||t instanceof Blob)return[{path:n,blob:new Blob([t]),type:e}];if("object"==typeof t&&null!==t){let e=[];for(const r of Object.keys(t)){const s=[...n,r],o=t[r];e=e.concat(await G(o,void 0,s,!1,i))}return e}return[]}function V(t,e,n,r,i=!1){if("input"===r&&!i)throw new Error("Invalid code path. Cannot skip state inputs for input.");if("output"===r&&i)return t;let s=[],o=0;const a="input"===r?e.inputs:e.outputs;for(let e=0;e<a.length;e++){const r=a[e],u=n.find((t=>t.id===r));if("state"!==(null==u?void 0:u.type)){const e=t[o];s.push(e),o++}else{if(!i){o++;continue}if(t.length===a.length){const e=t[o];s.push(e),o++}else s.push(null)}}return s}async function J(t,e,n){const r=this;await async function(t,e){var n,r;if(!(null==(n=t.config)?void 0:n.root)&&!(null==(r=t.config)?void 0:r.root_url))throw new Error(E);await W(t,e)}(r,e);const i=await G(e,void 0,[],!0,n);return(await Promise.all(i.map((async({path:e,blob:n,type:i})=>{if(!n)return{path:e,type:i};const s=await r.upload_files(t,[n]);return{path:e,file_url:s.files&&s.files[0],type:i,name:"undefined"!=typeof File&&n instanceof File?null==n?void 0:n.name:void 0}})))).forEach((({path:t,file_url:n,type:r,name:i})=>{if("Gallery"===r)H(e,n,t);else if(n){const r=new q({path:n,orig_name:i});H(e,r,t)}})),e}async function W(t,e,n=[]){for(const r in e)e[r]instanceof M?await X(t,e,r):"object"==typeof e[r]&&null!==e[r]&&await W(t,e[r],[...n,r])}async function X(t,e,r){var s,o;let a=e[r];const u=(null==(s=t.config)?void 0:s.root)||(null==(o=t.config)?void 0:o.root_url);if(!u)throw new Error(E);try{let s,o;if(void 0===i||!i.versions||!i.versions.node)throw new Error(I);{const t=await n.e("_b1f2").then(n.t.bind(n,34584,19));o=(await n.e("node_modules_path-browserify_index_js").then(n.t.bind(n,57975,19))).resolve(i.cwd(),a.meta.path),s=await t.readFile(o)}const h=new Blob([s],{type:"application/octet-stream"}),c=await t.upload_files(u,[h]),l=c.files&&c.files[0];if(l){const t=new q({path:l,orig_name:a.meta.name||""});e[r]=t}}catch(t){console.error(A,t)}}async function Y(t,e,n){const r={"Content-Type":"application/json"};this.options.hf_token&&(r.Authorization=`Bearer ${this.options.hf_token}`);try{var i=await this.fetch(t,{method:"POST",body:JSON.stringify(e),headers:{...r,...n},credentials:"include"})}catch(t){return[{error:w},500]}let s,o;try{s=await i.json(),o=i.status}catch(t){s={error:`Could not parse server response: ${t}`},o=500}return[s,o]}async function Z(t,e={}){let n=!1,r=!1;if(!this.config)throw new Error("Could not resolve app config");if("number"==typeof t)this.config.dependencies.find((e=>e.id==t));else{const e=t.replace(/^\//,"");this.config.dependencies.find((t=>t.id==this.api_map[e]))}return new Promise((async(i,s)=>{const o=this.submit(t,e,null,null,!0);let a;for await(const t of o)"data"===t.type&&(r&&i(a),n=!0,a=t),"status"===t.type&&("error"===t.stage&&s(t),"complete"===t.stage&&(r=!0,n&&i(a)))}))}async function Q(t,e,n){let r,i,s="subdomain"===e?`https://huggingface.co/api/spaces/by-subdomain/${t}`:`https://huggingface.co/api/spaces/${t}`;try{if(r=await fetch(s),i=r.status,200!==i)throw new Error;r=await r.json()}catch(t){return void n({status:"error",load_status:"error",message:"Could not get space status. ",detail:"NOT_FOUND"})}if(!r||200!==i)return;const{runtime:{stage:o},id:a}=r;switch(o){case"STOPPED":case"SLEEPING":n({status:"sleeping",load_status:"pending",message:"Space is asleep. Waking it up...",detail:o}),setTimeout((()=>{Q(t,e,n)}),1e3);break;case"PAUSED":n({status:"paused",load_status:"error",message:"This space has been paused by the author. If you would like to try this demo, consider duplicating the space.",detail:o,discussions_enabled:await et(a)});break;case"RUNNING":case"RUNNING_BUILDING":n({status:"running",load_status:"complete",message:"Space is running.",detail:o});break;case"BUILDING":n({status:"building",load_status:"pending",message:"Space is building...",detail:o}),setTimeout((()=>{Q(t,e,n)}),1e3);break;case"APP_STARTING":n({status:"starting",load_status:"pending",message:"Space is starting...",detail:o}),setTimeout((()=>{Q(t,e,n)}),1e3);break;default:n({status:"space_error",load_status:"error",message:"This space is experiencing an issue.",detail:o,discussions_enabled:await et(a)})}}const K=async(t,e)=>{let n=0;return new Promise((r=>{Q(t,P.test(t)?"space_name":"subdomain",(i=>{e(i),"running"===i.status||"error"===i.status||"paused"===i.status||"space_error"===i.status?r():"sleeping"!==i.status&&"building"!==i.status||(n<12?(n++,setTimeout((()=>{K(t,e).then(r)}),5e3)):r())}))}))},tt=/^(?=[^]*\b[dD]iscussions{0,1}\b)(?=[^]*\b[dD]isabled\b)[^]*$/;async function et(t){try{const e=await fetch(`https://huggingface.co/api/spaces/${t}/discussions`,{method:"HEAD"}),n=e.headers.get("x-error-message");return!(!e.ok||n&&tt.test(n))}catch(t){return!1}}const nt=["cpu-basic","cpu-upgrade","cpu-xl","t4-small","t4-medium","a10g-small","a10g-large","a10g-largex2","a10g-largex4","a100-large","zero-a10g","h100","h100x8"];async function rt(t,e){const{hf_token:n,private:r,hardware:i,timeout:s,auth:o}=e;if(i&&!nt.includes(i))throw new Error(`Invalid hardware type provided. Valid types are: ${nt.map((t=>`"${t}"`)).join(",")}.`);const{http_protocol:a,host:u}=await R(t,n);let h=null;if(o){const t=await k(a,u,o,fetch);t&&(h=T(t))}const c={Authorization:`Bearer ${n}`,"Content-Type":"application/json",...h?{Cookie:h.join("; ")}:{}},l=(await(await fetch("https://huggingface.co/api/whoami-v2",{headers:c})).json()).name,f=t.split("/")[1],d={repository:`${l}/${f}`};let _;r&&(d.private=!0);try{i||(_=await async function(t,e){const n={};e&&(n.Authorization=`Bearer ${e}`);try{const e=await fetch(`https://huggingface.co/api/spaces/${t}/${p}`,{headers:n});if(200!==e.status)throw new Error("Space hardware could not be obtained.");const{hardware:r}=await e.json();return r.current}catch(t){throw new Error(t.message)}}(t,n))}catch(t){throw Error(b+t.message)}const m=i||_||"cpu-basic";d.hardware=m;try{const r=await fetch(`https://huggingface.co/api/spaces/${t}/duplicate`,{method:"POST",headers:c,body:JSON.stringify(d)});if(409===r.status)try{return await dt.connect(`${l}/${f}`,e)}catch(t){throw console.error("Failed to connect Client instance:",t),t}else if(200!==r.status)throw new Error(r.statusText);const i=await r.json();return await async function(t,e,n){const r={};n&&(r.Authorization=`Bearer ${n}`);const i={seconds:e};try{const e=await fetch(`https://huggingface.co/api/spaces/${t}/${g}`,{method:"POST",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(i)});if(200!==e.status)throw new Error("Could not set sleep timeout on duplicated Space. Please visit *ADD HF LINK TO SETTINGS* to set a timeout manually to reduce billing charges.");return await e.json()}catch(t){throw new Error(t.message)}}(`${l}/${f}`,s||300,n),await dt.connect(function(t){const e=/https:\/\/huggingface.co\/spaces\/([^/]+\/[^/]+)/,n=t.match(e);if(n)return n[1]}(i.url),e)}catch(t){throw new Error(t)}}class it extends TransformStream{constructor(t={allowCR:!1}){super({transform:(e,n)=>{for(e=u(this,r)+e;;){const r=e.indexOf("\n"),i=t.allowCR?e.indexOf("\r"):-1;if(-1!==i&&i!==e.length-1&&(-1===r||r-1>i)){n.enqueue(e.slice(0,i)),e=e.slice(i+1);continue}if(-1===r)break;const s="\r"===e[r-1]?r-1:r;n.enqueue(e.slice(0,s)),e=e.slice(r+1)}var i,s,o,h;o=e,a(i=this,s=r,"write to private field"),h?h.call(i,o):s.set(i,o)},flush:e=>{if(""===u(this,r))return;const n=t.allowCR&&u(this,r).endsWith("\r")?u(this,r).slice(0,-1):u(this,r);e.enqueue(n)}}),((t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)})(this,r,"")}}function st(t){let e=/[:]\s*/.exec(t),n=e&&e.index;if(n)return[t.substring(0,n),t.substring(n+e[0].length)]}function ot(t,e,n){t.get(e)||t.set(e,n)}async function*at(t,e){if(!t.body)return;let n,r,i=function(t){let e=new TextDecoderStream,n=new it({allowCR:!0});return t.pipeThrough(e).pipeThrough(n)}(t.body).getReader();for(;;){if(e&&e.aborted)return i.cancel();if(n=await i.read(),n.done)return;if(!n.value){r&&(yield r),r=void 0;continue}let[t,s]=st(n.value)||[];t&&("data"===t?(r||(r={}),r[t]=r[t]?r[t]+"\n"+s:s):"event"===t?(r||(r={}),r[t]=s):"id"===t?(r||(r={}),r[t]=+s||s):"retry"===t&&(r||(r={}),r[t]=+s||void 0))}}async function ut(){let{event_callbacks:t,unclosed_events:e,pending_stream_messages:n,stream_status:r,config:i,jwt:s}=this;const o=this;if(!i)throw new Error("Could not resolve app config");r.open=!0;let a=null,u=new URLSearchParams({session_hash:this.session_hash}).toString(),h=new URL(`${i.root}${this.api_prefix}/${f}?${u}`);s&&h.searchParams.set("__sign",s),a=this.stream(h),a?(a.onmessage=async function(s){let a=JSON.parse(s.data);if("close_stream"===a.msg)return void ht(r,o.abort_controller);const u=a.event_id;if(u)if(t[u]&&i){"process_completed"===a.msg&&["sse","sse_v1","sse_v2","sse_v2.1","sse_v3"].includes(i.protocol)&&e.delete(u);let n=t[u];"undefined"!=typeof window&&"undefined"!=typeof document?setTimeout(n,0,a):n(a)}else n[u]||(n[u]=[]),n[u].push(a);else await Promise.all(Object.keys(t).map((e=>t[e](a))))},a.onerror=async function(){await Promise.all(Object.keys(t).map((e=>t[e]({msg:"unexpected_error",message:w}))))}):console.warn("Cannot connect to SSE endpoint: "+h.toString())}function ht(t,e){t&&(t.open=!1,null==e||e.abort())}function ct(t,e,n){!t[e]?(t[e]=[],n.data.forEach(((n,r)=>{t[e][r]=n}))):n.data.forEach(((r,i)=>{let s=(o=t[e][i],r.forEach((([t,e,n])=>{o=function(t,e,n,r){if(0===e.length){if("replace"===n)return r;if("append"===n)return t+r;throw new Error(`Unsupported action: ${n}`)}let i=t;for(let t=0;t<e.length-1;t++)i=i[e[t]];const s=e[e.length-1];switch(n){case"replace":i[s]=r;break;case"append":i[s]+=r;break;case"add":Array.isArray(i)?i.splice(Number(s),0,r):i[s]=r;break;case"delete":Array.isArray(i)?i.splice(Number(s),1):delete i[s];break;default:throw new Error(`Unknown action: ${n}`)}return t}(o,e,t,n)})),o);var o;t[e][i]=s,n.data[i]=s}))}function lt(t,e={}){const n={close:()=>{console.warn("Method not implemented.")},onerror:null,onmessage:null,onopen:null,readyState:0,url:t.toString(),withCredentials:!1,CONNECTING:0,OPEN:1,CLOSED:2,addEventListener:()=>{throw new Error("Method not implemented.")},dispatchEvent:()=>{throw new Error("Method not implemented.")},removeEventListener:()=>{throw new Error("Method not implemented.")}};return async function(t,e){let n=new Request(t,e);ot(n.headers,"Accept","text/event-stream"),ot(n.headers,"Content-Type","application/json");let r=await fetch(n);if(!r.ok)throw r;return at(r,n.signal)}(t,e).then((async t=>{n.readyState=n.OPEN;try{for await(const e of t)n.onmessage&&n.onmessage(e);n.readyState=n.CLOSED}catch(t){n.onerror&&n.onerror(t),n.readyState=n.CLOSED}})).catch((t=>{console.error(t),n.onerror&&n.onerror(t),n.readyState=n.CLOSED})),n}function ft(t,e={},n,r,i){var s;try{let o=function(t){(i||Z[t.type])&&l(t)},a=function(){for(et=!0;rt.length>0;)rt.shift()({value:void 0,done:!0})},u=function(t){et||(rt.length>0?rt.shift()(t):nt.push(t))},h=function(t){u(function(t){return{then:(e,n)=>n(t)}}(t)),a()},l=function(t){u({value:t,done:!1})},d=function(){return nt.length>0?Promise.resolve(nt.shift()):et?Promise.resolve({value:void 0,done:!0}):new Promise((t=>rt.push(t)))};const{hf_token:_}=this.options,{fetch:p,app_reference:g,config:y,session_hash:b,api_info:v,api_map:I,stream_status:E,pending_stream_messages:A,pending_diff_streams:x,event_callbacks:S,unclosed_events:U,post_data:k,options:O,api_prefix:T}=this,P=this;if(!v)throw new Error("No API found");if(!y)throw new Error("Could not resolve app config");let C,L,{fn_index:F,endpoint_info:N,dependency:D}=function(t,e,n,r){let i,s,o;if("number"==typeof e)i=e,s=t.unnamed_endpoints[i],o=r.dependencies.find((t=>t.id==e));else{const a=e.replace(/^\//,"");i=n[a],s=t.named_endpoints[e.trim()],o=r.dependencies.find((t=>t.id==n[a]))}if("number"!=typeof i)throw new Error("There is no endpoint matching that name of fn_index matching that number.");return{fn_index:i,endpoint_info:s,dependency:o}}(v,t,I,y),$=((t=[],e)=>{const n=e?e.parameters:[];if(Array.isArray(t))return t.length>n.length&&console.warn("Too many arguments provided for the endpoint."),t;const r=[],i=Object.keys(t);return n.forEach(((e,n)=>{if(t.hasOwnProperty(e.parameter_name))r[n]=t[e.parameter_name];else{if(!e.parameter_has_default)throw new Error(`No value provided for required parameter: ${e.parameter_name}`);r[n]=e.parameter_default}})),i.forEach((t=>{if(!n.some((e=>e.parameter_name===t)))throw new Error(`Parameter \`${t}\` is not a valid keyword argument. Please refer to the API for usage.`)})),r.forEach(((t,e)=>{if(void 0===t&&!n[e].parameter_has_default)throw new Error(`No value provided for required parameter: ${n[e].parameter_name}`)})),r})(e,N),z=y.protocol??"ws",q="",M=()=>q;const H="number"==typeof t?"/predict":t;let G,J=null,W=!1,X={},Y="undefined"!=typeof window&&"undefined"!=typeof document?new URLSearchParams(window.location.search).toString():"";const Z=(null==(s=null==O?void 0:O.events)?void 0:s.reduce(((t,e)=>(t[e]=!0,t)),{}))||{};async function Q(){const t={stage:"complete",queue:!1,time:new Date};W=t,o({...t,type:"status",endpoint:H,fn_index:F});let e={},n={};"ws"===z?(C&&0===C.readyState?C.addEventListener("open",(()=>{C.close()})):C.close(),e={fn_index:F,session_hash:b}):(ht(E,P.abort_controller),a(),e={event_id:J},n={event_id:J,session_hash:b,fn_index:F});try{if(!y)throw new Error("Could not resolve app config");"event_id"in n&&await p(`${y.root}${T}/cancel`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)}),await p(`${y.root}${T}/reset`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)})}catch(t){console.warn("The `/reset` endpoint could not be called. Subsequent endpoint results may be unreliable.")}}const K=async t=>{await this._resolve_hearbeat(t)};async function tt(t){if(!y)return;let e=t.render_id;y.components=[...y.components.filter((t=>t.props.rendered_in!==e)),...t.components],y.dependencies=[...y.dependencies.filter((t=>t.rendered_in!==e)),...t.dependencies];const n=y.components.some((t=>"state"===t.type)),r=y.dependencies.some((t=>t.targets.some((t=>"unload"===t[1]))));y.connect_heartbeat=n||r,await K(y),o({type:"render",data:t,endpoint:H,fn_index:F})}this.handle_blob(y.root,$,N).then((async t=>{var e;let i=V(t,D,y.components,"input",!0);if(G={data:i||[],event_data:n,fn_index:F,trigger_id:r},function(t,e){var n,r;let i=null==(r=null==(n=null==e?void 0:e.dependencies)?void 0:n.find((e=>e.id==t)))?void 0:r.queue;return null!=i?!i:!e.enable_queue}(F,y))o({type:"status",endpoint:H,stage:"pending",queue:!1,fn_index:F,time:new Date}),k(`${y.root}${T}/run${H.startsWith("/")?H:`/${H}`}${Y?"?"+Y:""}`,{...G,session_hash:b}).then((([t,e])=>{const i=t.data;200==e?(o({type:"data",endpoint:H,fn_index:F,data:V(i,D,y.components,"output",O.with_null_state),time:new Date,event_data:n,trigger_id:r}),t.render_config&&tt(t.render_config),o({type:"status",endpoint:H,fn_index:F,stage:"complete",eta:t.average_duration,queue:!1,time:new Date})):o({type:"status",stage:"error",endpoint:H,fn_index:F,message:t.error,queue:!1,time:new Date})})).catch((t=>{o({type:"status",stage:"error",message:t.message,endpoint:H,fn_index:F,queue:!1,time:new Date})}));else if("ws"==z){const{ws_protocol:t,host:e}=await R(g,_);o({type:"status",stage:"pending",queue:!0,endpoint:H,fn_index:F,time:new Date});let i=new URL(`${t}://${B(e,y.path,!0)}/queue/join${Y?"?"+Y:""}`);this.jwt&&i.searchParams.set("__sign",this.jwt),C=new WebSocket(i),C.onclose=t=>{t.wasClean||o({type:"status",stage:"error",broken:!0,message:w,queue:!0,endpoint:H,fn_index:F,time:new Date})},C.onmessage=function(t){const e=JSON.parse(t.data),{type:i,status:s,data:a}=j(e,X[F]);if("update"===i&&s&&!W)o({type:"status",endpoint:H,fn_index:F,time:new Date,...s}),"error"===s.stage&&C.close();else{if("hash"===i)return void C.send(JSON.stringify({fn_index:F,session_hash:b}));"data"===i?C.send(JSON.stringify({...G,session_hash:b})):"complete"===i?W=s:"log"===i?o({type:"log",title:a.title,log:a.log,level:a.level,endpoint:H,duration:a.duration,visible:a.visible,fn_index:F}):"generating"===i&&o({type:"status",time:new Date,...s,stage:null==s?void 0:s.stage,queue:!0,endpoint:H,fn_index:F})}a&&(o({type:"data",time:new Date,data:V(a.data,D,y.components,"output",O.with_null_state),endpoint:H,fn_index:F,event_data:n,trigger_id:r}),W&&(o({type:"status",time:new Date,...W,stage:null==s?void 0:s.stage,queue:!0,endpoint:H,fn_index:F}),C.close()))},c(y.version||"2.0.0","3.6")<0&&addEventListener("open",(()=>C.send(JSON.stringify({hash:b}))))}else if("sse"==z){o({type:"status",stage:"pending",queue:!0,endpoint:H,fn_index:F,time:new Date});var s=new URLSearchParams({fn_index:F.toString(),session_hash:b}).toString();let t=new URL(`${y.root}${T}/${f}?${Y?Y+"&":""}${s}`);if(this.jwt&&t.searchParams.set("__sign",this.jwt),L=this.stream(t),!L)return Promise.reject(new Error("Cannot connect to SSE endpoint: "+t.toString()));L.onmessage=async function(t){const e=JSON.parse(t.data),{type:i,status:s,data:u}=j(e,X[F]);if("update"===i&&s&&!W)o({type:"status",endpoint:H,fn_index:F,time:new Date,...s}),"error"===s.stage&&(null==L||L.close(),a());else if("data"===i){let[t,e]=await k(`${y.root}${T}/queue/data`,{...G,session_hash:b,event_id:J});200!==e&&(o({type:"status",stage:"error",message:w,queue:!0,endpoint:H,fn_index:F,time:new Date}),null==L||L.close(),a())}else"complete"===i?W=s:"log"===i?o({type:"log",title:u.title,log:u.log,level:u.level,endpoint:H,duration:u.duration,visible:u.visible,fn_index:F}):"generating"!==i&&"streaming"!==i||o({type:"status",time:new Date,...s,stage:null==s?void 0:s.stage,queue:!0,endpoint:H,fn_index:F});u&&(o({type:"data",time:new Date,data:V(u.data,D,y.components,"output",O.with_null_state),endpoint:H,fn_index:F,event_data:n,trigger_id:r}),W&&(o({type:"status",time:new Date,...W,stage:null==s?void 0:s.stage,queue:!0,endpoint:H,fn_index:F}),null==L||L.close(),a()))}}else if("sse_v1"==z||"sse_v2"==z||"sse_v2.1"==z||"sse_v3"==z){o({type:"status",stage:"pending",queue:!0,endpoint:H,fn_index:F,time:new Date});let t="";"undefined"!=typeof window&&"undefined"!=typeof document&&(t=null==(e=null==window?void 0:window.location)?void 0:e.hostname);let n="dev.spaces.huggingface.tech";const r=t.includes(".dev.")?`https://moon-${t.split(".")[1]}.${n}`:"https://huggingface.co",i="undefined"!=typeof window&&"undefined"!=typeof document&&window.parent!=window,s=D.zerogpu&&y.space_id,u=i&&s?function(t,e){return new Promise(((n,r)=>{const i=new MessageChannel;i.port1.onmessage=({data:t})=>{i.port1.close(),n(t)},window.parent.postMessage(t,e,[i.port2])}))}("zerogpu-headers",r):Promise.resolve(null);u.then((t=>k(`${y.root}${T}/queue/join?${Y}`,{...G,session_hash:b},t))).then((async([t,e])=>{if(503===e)o({type:"status",stage:"error",message:m,queue:!0,endpoint:H,fn_index:F,time:new Date});else if(200!==e)o({type:"status",stage:"error",message:w,queue:!0,endpoint:H,fn_index:F,time:new Date});else{J=t.event_id,q=J;let e=async function(t){try{const{type:e,status:n,data:r,original_msg:i}=j(t,X[F]);if("heartbeat"==e)return;if("update"===e&&n&&!W)o({type:"status",endpoint:H,fn_index:F,time:new Date,original_msg:i,...n});else if("complete"===e)W=n;else if("unexpected_error"==e)console.error("Unexpected error",null==n?void 0:n.message),o({type:"status",stage:"error",message:(null==n?void 0:n.message)||"An Unexpected Error Occurred!",queue:!0,endpoint:H,fn_index:F,time:new Date});else{if("log"===e)return void o({type:"log",title:r.title,log:r.log,level:r.level,endpoint:H,duration:r.duration,visible:r.visible,fn_index:F});"generating"!==e&&"streaming"!==e||(o({type:"status",time:new Date,...n,stage:null==n?void 0:n.stage,queue:!0,endpoint:H,fn_index:F}),r&&"stream"!==D.connection&&["sse_v2","sse_v2.1","sse_v3"].includes(z)&&ct(x,J,r))}r&&(o({type:"data",time:new Date,data:V(r.data,D,y.components,"output",O.with_null_state),endpoint:H,fn_index:F}),r.render_config&&await tt(r.render_config),W&&(o({type:"status",time:new Date,...W,stage:null==n?void 0:n.stage,queue:!0,endpoint:H,fn_index:F}),a())),"complete"!==(null==n?void 0:n.stage)&&"error"!==(null==n?void 0:n.stage)||(S[J]&&delete S[J],J in x&&delete x[J])}catch(t){console.error("Unexpected client exception",t),o({type:"status",stage:"error",message:"An Unexpected Error Occurred!",queue:!0,endpoint:H,fn_index:F,time:new Date}),["sse_v2","sse_v2.1","sse_v3"].includes(z)&&(ht(E,P.abort_controller),E.open=!1,a())}};J in A&&(A[J].forEach((t=>e(t))),delete A[J]),S[J]=e,U.add(J),E.open||await this.open_stream()}}))}}));let et=!1;const nt=[],rt=[],it={[Symbol.asyncIterator]:()=>it,next:d,throw:async t=>(h(t),d()),return:async()=>(a(),d()),cancel:Q,event_id:M};return it}catch(st){throw console.error("Submit function encountered an error:",st),st}}r=new WeakMap;class dt{constructor(t,e={events:["data"]}){o(this,"app_reference"),o(this,"options"),o(this,"config"),o(this,"api_prefix",""),o(this,"api_info"),o(this,"api_map",{}),o(this,"session_hash",Math.random().toString(36).substring(2)),o(this,"jwt",!1),o(this,"last_status",{}),o(this,"cookies",null),o(this,"stream_status",{open:!1}),o(this,"pending_stream_messages",{}),o(this,"pending_diff_streams",{}),o(this,"event_callbacks",{}),o(this,"unclosed_events",new Set),o(this,"heartbeat_event",null),o(this,"abort_controller",null),o(this,"stream_instance",null),o(this,"current_payload"),o(this,"ws_map",{}),o(this,"view_api"),o(this,"upload_files"),o(this,"upload"),o(this,"handle_blob"),o(this,"post_data"),o(this,"submit"),o(this,"predict"),o(this,"open_stream"),o(this,"resolve_config"),o(this,"resolve_cookies"),this.app_reference=t,e.events||(e.events=["data"]),this.options=e,this.current_payload={},this.view_api=D.bind(this),this.upload_files=$.bind(this),this.handle_blob=J.bind(this),this.post_data=Y.bind(this),this.submit=ft.bind(this),this.predict=Z.bind(this),this.open_stream=ut.bind(this),this.resolve_config=S.bind(this),this.resolve_cookies=U.bind(this),this.upload=z.bind(this),this.fetch=this.fetch.bind(this),this.handle_space_success=this.handle_space_success.bind(this),this.stream=this.stream.bind(this)}fetch(t,e){const n=new Headers((null==e?void 0:e.headers)||{});return this&&this.cookies&&n.append("Cookie",this.cookies),fetch(t,{...e,headers:n})}stream(t){const e=new Headers;return this&&this.cookies&&e.append("Cookie",this.cookies),this.abort_controller=new AbortController,this.stream_instance=lt(t.toString(),{credentials:"include",headers:e,signal:this.abort_controller.signal}),this.stream_instance}async init(){var t;if(!("undefined"!=typeof window&&"WebSocket"in window||global.WebSocket)){const t=await Promise.all([n.e("node_modules_abort-controller_browser_js-node_modules_asn1_js_lib_asn1_js"),n.e("node_modules_hash-base_index_js-node_modules_gradio_client_dist_wrapper-CviSselG_js"),n.e("node_modules_md5_js_index_js-node_modules_miller-rabin_lib_mr_js-node_modules_minimalistic-as-420d46")]).then(n.bind(n,37933));global.WebSocket=t.WebSocket}this.options.auth&&await this.resolve_cookies(),await this._resolve_config().then((({config:t})=>this._resolve_hearbeat(t))),this.api_info=await this.view_api(),this.api_map=function(t){let e={};return t.forEach((({api_name:t,id:n})=>{t&&(e[t]=n)})),e}((null==(t=this.config)?void 0:t.dependencies)||[])}async _resolve_hearbeat(t){if(t&&(this.config=t,this.api_prefix=t.api_prefix||"",this.config&&this.config.connect_heartbeat&&this.config.space_id&&this.options.hf_token&&(this.jwt=await x(this.config.space_id,this.options.hf_token,this.cookies))),t.space_id&&this.options.hf_token&&(this.jwt=await x(t.space_id,this.options.hf_token)),this.config&&this.config.connect_heartbeat){const t=new URL(`${this.config.root}${this.api_prefix}/heartbeat/${this.session_hash}`);this.jwt&&t.searchParams.set("__sign",this.jwt),this.heartbeat_event||(this.heartbeat_event=this.stream(t))}}static async connect(t,e={events:["data"]}){const n=new this(t,e);return await n.init(),n}close(){ht(this.stream_status,this.abort_controller)}set_current_payload(t){this.current_payload=t}static async duplicate(t,e={events:["data"]}){return rt(t,e)}async _resolve_config(){const{http_protocol:t,host:e,space_id:n}=await R(this.app_reference,this.options.hf_token),{status_callback:r}=this.options;let i;n&&r&&await K(n,r);try{if(i=await this.resolve_config(`${t}//${e}`),!i)throw new Error(y);return this.config_success(i)}catch(t){if(!n||!r)throw r&&r({status:"error",message:"Could not load this space.",load_status:"error",detail:"NOT_FOUND"}),Error(t);Q(n,P.test(n)?"space_name":"subdomain",this.handle_space_success)}}async config_success(t){if(this.config=t,this.api_prefix=t.api_prefix||"","undefined"!=typeof window&&"undefined"!=typeof document&&"https:"===window.location.protocol&&(this.config.root=this.config.root.replace("http://","https://")),this.config.auth_required)return this.prepare_return_obj();try{this.api_info=await this.view_api()}catch(t){console.error("Could not get API info. "+t.message)}return this.prepare_return_obj()}async handle_space_success(t){var e;if(!this)throw new Error(y);const{status_callback:n}=this.options;if(n&&n(t),"running"===t.status)try{if(this.config=await this._resolve_config(),this.api_prefix=(null==(e=null==this?void 0:this.config)?void 0:e.api_prefix)||"",!this.config)throw new Error(y);return await this.config_success(this.config)}catch(t){throw n&&n({status:"error",message:"Could not load this space.",load_status:"error",detail:"NOT_FOUND"}),t}}async component_server(t,e,n){var r;if(!this.config)throw new Error(y);const i={},{hf_token:s}=this.options,{session_hash:o}=this;let a;s&&(i.Authorization=`Bearer ${this.options.hf_token}`);let u,h=this.config.components.find((e=>e.id===t));if(a=(null==(r=null==h?void 0:h.props)?void 0:r.root_url)?h.props.root_url:this.config.root,"binary"in n){u=new FormData;for(const t in n.data)"binary"!==t&&u.append(t,n.data[t]);u.set("component_id",t.toString()),u.set("fn_name",e),u.set("session_hash",o)}else u=JSON.stringify({data:n,component_id:t,fn_name:e,session_hash:o}),i["Content-Type"]="application/json";s&&(i.Authorization=`Bearer ${s}`);try{const t=await this.fetch(`${a}${this.api_prefix}/component_server/`,{method:"POST",body:u,headers:i,credentials:"include"});if(!t.ok)throw new Error("Could not connect to component server: "+t.statusText);return await t.json()}catch(t){console.warn(t)}}set_cookies(t){this.cookies=T(t).join("; ")}prepare_return_obj(){return{config:this.config,predict:this.predict,submit:this.submit,view_api:this.view_api,component_server:this.component_server}}async connect_ws(t){return new Promise(((e,n)=>{let r;try{r=new WebSocket(t)}catch(e){return void(this.ws_map[t]="failed")}r.onopen=()=>{e()},r.onerror=n=>{console.error("WebSocket error:",n),this.close_ws(t),this.ws_map[t]="failed",e()},r.onclose=()=>{delete this.ws_map[t],this.ws_map[t]="failed"},r.onmessage=t=>{},this.ws_map[t]=r}))}async send_ws_message(t,e){t in this.ws_map||await this.connect_ws(t);const n=this.ws_map[t];n instanceof WebSocket?n.send(JSON.stringify(e)):this.post_data(t,e)}async close_ws(t){if(t in this.ws_map){const e=this.ws_map[t];e instanceof WebSocket&&(e.close(),delete this.ws_map[t])}}}},72706:(t,e,n)=>{"use strict";n.d(e,{x3:()=>O});var r="text/plain",i=t=>{};function s(t){i(t)}(function(){(console.warn||console.log).apply(console,arguments)}).bind("[clipboard-polyfill]");var o,a,u,h="undefined"==typeof window?void 0:window,c="undefined"==typeof globalThis?void 0:globalThis,l=null!=(u=null==(o=h)?void 0:o.Promise)?u:null==(a=c)?void 0:a.Promise;var f,d,_,p,g,m="undefined"==typeof navigator?void 0:navigator,w=null==m?void 0:m.clipboard,y=(null==(f=null==w?void 0:w.read)||f.bind(w),null==(d=null==w?void 0:w.readText)||d.bind(w),null==(_=null==w?void 0:w.write)||_.bind(w),null==(p=null==w?void 0:w.writeText)?void 0:p.bind(w)),b=(null==(g=h)||g.ClipboardItem,function(){if(!l)throw new Error("No `Promise` implementation available for `clipboard-polyfill`. Consider using: https://github.com/lgarron/clipboard-polyfill#flat-file-version-with-promise-included");return l}()),v=h;function I(){return"undefined"==typeof ClipboardEvent&&void 0!==(null==v?void 0:v.clipboardData)&&void 0!==(null==v?void 0:v.clipboardData.setData)}function E(t,e,n){for(var i in s("listener called"),t.success=!0,e){var o=e[i],a=n.clipboardData;a.setData(i,o),i===r&&a.getData(i)!==o&&(s("setting text/plain failed"),t.success=!1)}n.preventDefault()}function A(t){var e={success:!1},n=E.bind(this,e,t);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return e.success}function B(t,e){x(t);var n=A(e);return S(),n}function x(t){var e=document.getSelection();if(e){var n=document.createRange();n.selectNodeContents(t),e.removeAllRanges(),e.addRange(n)}}function S(){var t=document.getSelection();t&&t.removeAllRanges()}function U(t){var e=r in t;if(I()){if(!e)throw new Error("No `text/plain` value was specified.");if(function(t){if(!v.clipboardData)return!1;var e=v.clipboardData.setData("Text",t);return e&&s("writeTextIE worked"),e}(t[r]))return!0;throw new Error("Copying failed, possibly because the user rejected it.")}return A(t)?(s("regular execCopy worked"),!0):navigator.userAgent.indexOf("Edge")>-1?(s('UA "Edge" => assuming success'),!0):B(document.body,t)?(s("copyUsingTempSelection worked"),!0):function(t){var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important"),e.textContent="temporary element",document.body.appendChild(e);var n=B(e,t);return document.body.removeChild(e),n}(t)?(s("copyUsingTempElem worked"),!0):!!function(t){s("copyTextUsingDOM");var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important");var n=e;e.attachShadow&&(s("Using shadow DOM."),n=e.attachShadow({mode:"open"}));var r=document.createElement("span");r.innerText=t,n.appendChild(r),document.body.appendChild(e),x(r);var i=document.execCommand("copy");return S(),document.body.removeChild(e),i}(t[r])&&(s("copyTextUsingDOM worked"),!0)}b.resolve(),b.resolve(!1);function k(t){return new b(((e,n)=>{try{e(t())}catch(t){n(t)}}))}function O(t){return k((()=>y?(s("Using `navigator.clipboard.writeText()`."),y(t).catch(T)):b.resolve(T(t))))}function T(t){if(!U(function(t){var e={};return e[r]=t,e}(t)))throw new Error("writeText() failed")}},71768:(t,e,n)=>{"use strict";n.a(t,(async(t,r)=>{try{n.d(e,{XX:()=>s.XX});var i=n(50109),s=n(56612),o=t([i]);i=(o.then?(await o)():o)[0],(0,s.lI)(i),i.__wbindgen_start(),r()}catch(t){r(t)}}))},56612:(t,e,n)=>{"use strict";let r;function i(t){r=t}function s(t,e){try{return t.apply(this,e)}catch(t){const e=function(t){const e=r.__externref_table_alloc();return r.__wbindgen_export_2.set(e,t),e}(t);r.__wbindgen_exn_store(e)}}function o(t){const e=typeof t;if("number"==e||"boolean"==e||null==t)return`${t}`;if("string"==e)return`"${t}"`;if("symbol"==e){const e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){const e=t.length;let n="[";e>0&&(n+=o(t[0]));for(let r=1;r<e;r++)n+=", "+o(t[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(!(n&&n.length>1))return toString.call(t);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(t)+")"}catch(t){return"Object"}return t instanceof Error?`${t.name}: ${t.message}\n${t.stack}`:r}n.d(e,{FH:()=>m,MN:()=>b,Py:()=>A,QR:()=>B,Qn:()=>S,XX:()=>g,bL:()=>E,lI:()=>i,oK:()=>y,rl:()=>I,v:()=>w,w2:()=>v,yc:()=>x});let a=0,u=null;function h(){return null!==u&&0!==u.byteLength||(u=new Uint8Array(r.memory.buffer)),u}let c=new("undefined"==typeof TextEncoder?(0,module.require)("util").TextEncoder:TextEncoder)("utf-8");const l="function"==typeof c.encodeInto?function(t,e){return c.encodeInto(t,e)}:function(t,e){const n=c.encode(t);return e.set(n),{read:t.length,written:n.length}};let f=null;function d(){return(null===f||!0===f.buffer.detached||void 0===f.buffer.detached&&f.buffer!==r.memory.buffer)&&(f=new DataView(r.memory.buffer)),f}let _=new("undefined"==typeof TextDecoder?(0,module.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function p(t,e){return t>>>=0,_.decode(h().subarray(t,t+e))}function g(t,e,n,i){const s=function(t,e){const n=e(1*t.length,1)>>>0;return h().set(t,n/1),a=t.length,n}(t,r.__wbindgen_malloc),o=a;return r.render(s,o,e,n,i)}function m(t){return t.buffer}function w(){return new Object}function y(t){return new Uint8ClampedArray(t)}function b(t,e,n){return new Uint8ClampedArray(t,e>>>0,n>>>0)}function v(){return s((function(t,e,n){return Reflect.set(t,e,n)}),arguments)}function I(t,e){const n=function(t,e,n){if(void 0===n){const n=c.encode(t),r=e(n.length,1)>>>0;return h().subarray(r,r+n.length).set(n),a=n.length,r}let r=t.length,i=e(r,1)>>>0;const s=h();let o=0;for(;o<r;o++){const e=t.charCodeAt(o);if(e>127)break;s[i+o]=e}if(o!==r){0!==o&&(t=t.slice(o)),i=n(i,r,r=o+3*t.length,1)>>>0;const e=h().subarray(i+o,i+r);o+=l(t,e).written,i=n(i,r,o,1)>>>0}return a=o,i}(o(e),r.__wbindgen_malloc,r.__wbindgen_realloc),i=a;d().setInt32(t+4,i,!0),d().setInt32(t+0,n,!0)}function E(){const t=r.__wbindgen_export_2,e=t.grow(4);t.set(0,void 0),t.set(e+0,void 0),t.set(e+1,null),t.set(e+2,!0),t.set(e+3,!1)}function A(){return r.memory}function B(t){return t}function x(t,e){return p(t,e)}function S(t,e){throw new Error(p(t,e))}_.decode()},2657:(t,e,n)=>{"use strict";n.d(e,{R9:()=>wt});var r=new TextDecoder,i=(t,e=0,n=t.length)=>r.decode(t.slice(e,n)),s=(t,e=0,n=t.length)=>t.slice(e,n).reduce(((t,e)=>t+`0${e.toString(16)}`.slice(-2)),""),o=(t,e)=>new DataView(t.buffer,t.byteOffset+e),a=(t,e=0)=>o(t,e).getInt16(0,!0),u=(t,e=0)=>o(t,e).getUint16(0,!1),h=(t,e=0)=>o(t,e).getUint16(0,!0),c=(t,e=0)=>{const n=o(t,e);return n.getUint16(0,!0)+(n.getUint8(2)<<16)},l=(t,e=0)=>o(t,e).getInt32(0,!0),f=(t,e=0)=>o(t,e).getUint32(0,!1),d=(t,e=0)=>o(t,e).getUint32(0,!0),_=(t,e,n)=>o(t,e).getBigUint64(0,!n),p={readUInt16BE:u,readUInt16LE:h,readUInt32BE:f,readUInt32LE:d};function g(t,e,n=0,r=!1){return p[`readUInt${e}${r?"BE":"LE"}`](t,n)}function m(t,e){if(t.length-e<4)return;const n=f(t,e);return t.length-e<n?void 0:{name:i(t,4+e,8+e),offset:e,size:n}}function w(t,e,n){for(;n<t.length;){const r=m(t,n);if(!r)break;if(r.name===e)return r;n+=r.size>0?r.size:8}}var y={validate:t=>"BM"===i(t,0,2),calculate:t=>({height:Math.abs(l(t,22)),width:d(t,18)})};function b(t,e){const n=t[e];return 0===n?256:n}function v(t,e){const n=6+16*e;return{height:b(t,n+1),width:b(t,n)}}var I={validate(t){const e=h(t,0),n=h(t,4);if(0!==e||0===n)return!1;return 1===h(t,2)},calculate(t){const e=h(t,4),n=v(t,0);if(1===e)return n;const r=[];for(let n=0;n<e;n+=1)r.push(v(t,n));return{width:n.width,height:n.height,images:r}}},E={validate(t){const e=h(t,0),n=h(t,4);if(0!==e||0===n)return!1;return 2===h(t,2)},calculate:t=>I.calculate(t)},A={validate:t=>542327876===d(t,0),calculate:t=>({height:d(t,12),width:d(t,16)})},B=/^GIF8[79]a/,x={validate:t=>B.test(i(t,0,6)),calculate:t=>({height:h(t,8),width:h(t,6)})},S={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"},U={validate(t){if("ftyp"!==i(t,4,8))return!1;const e=w(t,"ftyp",0);if(!e)return!1;return i(t,e.offset+8,e.offset+12)in S},calculate(t){const e=w(t,"meta",0),n=e&&w(t,"iprp",e.offset+12),r=n&&w(t,"ipco",n.offset+8);if(!r)throw new TypeError("Invalid HEIF, no ipco box found");const s=i(t,8,12),o=[];let a=r.offset+8;for(;a<r.offset+r.size;){const e=w(t,"ispe",a);if(!e)break;const n=f(t,e.offset+12),i=f(t,e.offset+16),s=w(t,"clap",a);let u=n,h=i;if(s&&s.offset<r.offset+r.size){u=n-f(t,s.offset+12)}o.push({height:h,width:u}),a=e.offset+e.size}if(0===o.length)throw new TypeError("Invalid HEIF, no sizes found");return{width:o[0].width,height:o[0].height,type:s,...o.length>1?{images:o}:{}}}},k={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function O(t,e){const n=e+4;return[i(t,e,n),f(t,n)]}function T(t){const e=k[t];return{width:e,height:e,type:t}}var P={validate:t=>"icns"===i(t,0,4),calculate(t){const e=t.length,n=f(t,4);let r=8;const i=[];for(;r<n&&r<e;){const e=O(t,r),n=T(e[0]);i.push(n),r+=e[1]}if(0===i.length)throw new TypeError("Invalid ICNS, no sizes found");return{width:i[0].width,height:i[0].height,...i.length>1?{images:i}:{}}}},C={validate:t=>4283432785===f(t,0),calculate:t=>({height:f(t,12),width:f(t,8)})},R={validate(t){if("jP  "!==i(t,4,8))return!1;const e=w(t,"ftyp",0);if(!e)return!1;return"jp2 "===i(t,e.offset+8,e.offset+12)},calculate(t){const e=w(t,"jp2h",0),n=e&&w(t,"ihdr",e.offset+8);if(n)return{height:f(t,n.offset+8),width:f(t,n.offset+12)};throw new TypeError("Unsupported JPEG 2000 format")}},L=6,F=12,N=2;function j(t){return"45786966"===s(t,2,6)}function D(t,e){return{height:u(t,e),width:u(t,e+2)}}function $(t,e){const n=t.slice(2,e),r=s(n,L,L+2),i="4d4d"===r;if(i||"4949"===r)return function(t,e){const n=L+8,r=g(t,16,n,e);for(let i=0;i<r;i++){const r=n+N+i*F,s=r+F;if(r>t.length)return;const o=t.slice(r,s);if(274===g(o,16,0,e)){if(3!==g(o,16,2,e))return;if(1!==g(o,32,4,e))return;return g(o,16,8,e)}}}(n,i)}function z(t,e){if(e>t.length)throw new TypeError("Corrupt JPG, exceeded buffer limits")}var q={validate:t=>"ffd8"===s(t,0,2),calculate(t){let e,n,r=t.slice(4);for(;r.length;){const t=u(r,0);if(z(r,t),255===r[t]){if(j(r)&&(e=$(r,t)),n=r[t+1],192===n||193===n||194===n){const n=D(r,t+5);return e?{height:n.height,orientation:e,width:n.width}:n}r=r.slice(t+2)}else r=r.slice(1)}throw new TypeError("Invalid JPG, no size found")}},M=class{constructor(t,e){this.input=t,this.endianness=e,this.byteOffset=2,this.bitOffset=0}getBits(t=1){let e=0,n=0;for(;n<t;){if(this.byteOffset>=this.input.length)throw new Error("Reached end of input");const r=this.input[this.byteOffset],i=8-this.bitOffset,s=Math.min(t-n,i);if("little-endian"===this.endianness){const t=(1<<s)-1;e|=(r>>this.bitOffset&t)<<n}else{e=e<<s|(r&(1<<s)-1<<8-this.bitOffset-s)>>8-this.bitOffset-s}n+=s,this.bitOffset+=s,8===this.bitOffset&&(this.byteOffset++,this.bitOffset=0)}return e}};function H(t,e){if(e)return 8*(1+t.getBits(5));const n=[9,13,18,30][t.getBits(2)];return 1+t.getBits(n)}var G={validate:t=>"ff0a"===s(t,0,2),calculate(t){const e=new M(t,"little-endian"),n=1===e.getBits(1),r=H(e,n),i=e.getBits(3),s=function(t,e,n,r){return e&&0===n?8*(1+t.getBits(5)):0===n?H(t,!1):Math.floor(r*[1,1.2,4/3,1.5,16/9,5/4,2][n-1])}(e,n,i,r);return{width:s,height:r}}};function V(t){const e=w(t,"jxlc",0);if(e)return t.slice(e.offset+8,e.offset+e.size);const n=function(t){const e=[];let n=0;for(;n<t.length;){const r=w(t,"jxlp",n);if(!r)break;e.push(t.slice(r.offset+12,r.offset+r.size)),n=r.offset+r.size}return e}(t);return n.length>0?function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(n):void 0}var J={validate:t=>{if("JXL "!==i(t,4,8))return!1;const e=w(t,"ftyp",0);if(!e)return!1;return"jxl "===i(t,e.offset+8,e.offset+12)},calculate(t){const e=V(t);if(e)return G.calculate(e);throw new Error("No codestream found in JXL container")}},W={validate:t=>{const e=i(t,1,7);return["KTX 11","KTX 20"].includes(e)},calculate:t=>{const e=49===t[5]?"ktx":"ktx2",n="ktx"===e?36:20;return{height:d(t,n+4),width:d(t,n),type:e}}},X="CgBI",Y={validate(t){if("PNG\r\n\n"===i(t,1,8)){let e=i(t,12,16);if(e===X&&(e=i(t,28,32)),"IHDR"!==e)throw new TypeError("Invalid PNG");return!0}return!1},calculate:t=>i(t,12,16)===X?{height:f(t,36),width:f(t,32)}:{height:f(t,20),width:f(t,16)}},Z={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},Q={default:t=>{let e=[];for(;t.length>0;){const n=t.shift();if("#"!==n[0]){e=n.split(" ");break}}if(2===e.length)return{height:Number.parseInt(e[1],10),width:Number.parseInt(e[0],10)};throw new TypeError("Invalid PNM")},pam:t=>{const e={};for(;t.length>0;){const n=t.shift();if(n.length>16||n.charCodeAt(0)>128)continue;const[r,i]=n.split(" ");if(r&&i&&(e[r.toLowerCase()]=Number.parseInt(i,10)),e.height&&e.width)break}if(e.height&&e.width)return{height:e.height,width:e.width};throw new TypeError("Invalid PAM")}},K={validate:t=>i(t,0,2)in Z,calculate(t){const e=i(t,0,2),n=Z[e],r=i(t,3).split(/[\r\n]+/);return(Q[n]||Q.default)(r)}},tt={validate:t=>"8BPS"===i(t,0,4),calculate:t=>({height:f(t,14),width:f(t,18)})},et=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,nt={height:/\sheight=(['"])([^%]+?)\1/,root:et,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},rt=2.54,it={in:96,cm:96/rt,em:16,ex:8,m:96/rt*100,mm:96/rt/10,pc:96/72/12,pt:96/72,px:1},st=new RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(it).join("|")})?$`);function ot(t){const e=st.exec(t);if(e)return Math.round(Number(e[1])*(it[e[2]]||1))}function at(t){const e=t.split(" ");return{height:ot(e[3]),width:ot(e[2])}}var ut={validate:t=>et.test(i(t,0,1e3)),calculate(t){const e=i(t).match(nt.root);if(e){const t=function(t){const e=t.match(nt.width),n=t.match(nt.height),r=t.match(nt.viewbox);return{height:n&&ot(n[2]),viewbox:r&&at(r[2]),width:e&&ot(e[2])}}(e[0]);if(t.width&&t.height)return function(t){return{height:t.height,width:t.width}}(t);if(t.viewbox)return function(t,e){const n=e.width/e.height;return t.width?{height:Math.floor(t.width/n),width:t.width}:t.height?{height:t.height,width:Math.floor(t.height*n)}:{height:e.height,width:e.width}}(t,t.viewbox)}throw new TypeError("Invalid SVG")}},ht={validate:t=>0===h(t,0)&&0===h(t,4),calculate:t=>({height:h(t,14),width:h(t,12)})},ct={TAG:{WIDTH:256,HEIGHT:257,COMPRESSION:259},TYPE:{SHORT:3,LONG:4,LONG8:16},ENTRY_SIZE:{STANDARD:12,BIG:20},COUNT_SIZE:{STANDARD:2,BIG:8}};function lt(t,e,n,r){switch(e){case ct.TYPE.SHORT:return g(t,16,n,r);case ct.TYPE.LONG:return g(t,32,n,r);case ct.TYPE.LONG8:{const e=Number(_(t,n,r));if(e>Number.MAX_SAFE_INTEGER)throw new TypeError("Value too large");return e}default:return 0}}function ft(t,e){const n=e?ct.ENTRY_SIZE.BIG:ct.ENTRY_SIZE.STANDARD;if(t.length>n)return t.slice(n)}var dt=new Set(["49492a00","4d4d002a","49492b00","4d4d002b"]);var _t=new Map([["bmp",y],["cur",E],["dds",A],["gif",x],["heif",U],["icns",P],["ico",I],["j2c",C],["jp2",R],["jpg",q],["jxl",J],["jxl-stream",G],["ktx",W],["png",Y],["pnm",K],["psd",tt],["svg",ut],["tga",ht],["tiff",{validate:t=>{const e=s(t,0,4);return dt.has(e)},calculate(t){const e=function(t){const e=i(t,0,2);return{isBigEndian:"MM"===e,isBigTiff:43===g(t,16,2,"MM"===e)}}(t);e.isBigTiff&&function(t,e){const n=g(t,16,4,e),r=g(t,16,6,e);if(8!==n||0!==r)throw new TypeError("Invalid BigTIFF header")}(t,e.isBigEndian);const n=function(t,{isBigEndian:e,isBigTiff:n}){const r=n?Number(_(t,8,e)):g(t,32,4,e),i=n?ct.COUNT_SIZE.BIG:ct.COUNT_SIZE.STANDARD;return t.slice(r+i)}(t,e),r=function(t,{isBigEndian:e,isBigTiff:n}){const r={};let i=t;for(;i?.length;){const t=g(i,16,0,e),s=g(i,16,2,e),o=n?Number(_(i,4,e)):g(i,32,4,e);if(0===t)break;if(1===o&&(s===ct.TYPE.SHORT||s===ct.TYPE.LONG||n&&s===ct.TYPE.LONG8)){const o=n?12:8;r[t]=lt(i,s,o,e)}i=ft(i,n)}return r}(n,e),s={height:r[ct.TAG.HEIGHT],width:r[ct.TAG.WIDTH],type:e.isBigTiff?"bigtiff":"tiff"};if(r[ct.TAG.COMPRESSION]&&(s.compression=r[ct.TAG.COMPRESSION]),!s.width||!s.height)throw new TypeError("Invalid Tiff. Missing tags");return s}}],["webp",{validate(t){const e="RIFF"===i(t,0,4),n="WEBP"===i(t,8,12),r="VP8"===i(t,12,15);return e&&n&&r},calculate(t){const e=i(t,12,16),n=t.slice(20,30);if("VP8X"===e){const t=n[0];if(!(192&t)&&!(1&t))return function(t){return{height:1+c(t,7),width:1+c(t,4)}}(n);throw new TypeError("Invalid WebP")}if("VP8 "===e&&47!==n[0])return function(t){return{height:16383&a(t,8),width:16383&a(t,6)}}(n);const r=s(n,3,6);if("VP8L"===e&&"9d012a"!==r)return function(t){return{height:1+((15&t[4])<<10|t[3]<<2|(192&t[2])>>6),width:1+((63&t[2])<<8|t[1])}}(n);throw new TypeError("Invalid WebP")}}]]),pt=Array.from(_t.keys()),gt=new Map([[0,"heif"],[56,"psd"],[66,"bmp"],[68,"dds"],[71,"gif"],[73,"tiff"],[77,"tiff"],[82,"webp"],[105,"icns"],[137,"png"],[255,"jpg"]]);var mt={disabledTypes:[]};function wt(t){const e=function(t){const e=t[0],n=gt.get(e);return n&&_t.get(n).validate(t)?n:pt.find((e=>_t.get(e).validate(t)))}(t);if(void 0!==e){if(mt.disabledTypes.indexOf(e)>-1)throw new TypeError(`disabled file type: ${e}`);const n=_t.get(e).calculate(t);if(void 0!==n){if(n.type=n.type??e,n.images&&n.images.length>1){const t=n.images.reduce(((t,e)=>e.width*e.height>t.width*t.height?e:t),n.images[0]);n.width=t.width,n.height=t.height}return n}}throw new TypeError(`unsupported file type: ${e}`)}},50109:(t,e,n)=>{"use strict";var r=n(56612);t.exports=n.v(e,t.id,"efbbf30bdcc38b965c2c",{"./hexagon_wasm_bg.js":{__wbg_new_405e22f390576ce2:r.v,__wbindgen_string_new:r.yc,__wbindgen_number_new:r.QR,__wbindgen_memory:r.Py,__wbg_buffer_609cc3eee51ed158:r.FH,__wbg_newwithbyteoffsetandlength_6d34787141015158:r.MN,__wbg_new_7a91e41fe43b3c92:r.oK,__wbg_set_bb8cecf6a62b9f46:r.w2,__wbindgen_throw:r.Qn,__wbindgen_debug_string:r.rl,__wbindgen_init_externref_table:r.bL}})}}]);