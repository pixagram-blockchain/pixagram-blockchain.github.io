"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([["node_modules_draft-js_lib_insertFragmentIntoContentState_js-node_modules_draft-js_lib_insertT-b2aa95"],{19127:(e,t,n)=>{var r=n(95748),i=n(65224),o=n(9404),a=n(56269),g=n(93619),c=n(53310),u=o.List,f=function(e,t,n,o,a,g){var c=n.first()instanceof i,f=[],s=o.size,l=n.get(a),y=o.first(),d=o.last(),v=d.getLength(),p=d.getKey(),h=c&&(!l.getChildKeys().isEmpty()||!y.getChildKeys().isEmpty());n.forEach((function(e,t){t===a?(h?f.push(e):f.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.slice(0,t),a=i.slice(0,t),g=n.first();return e.merge({text:o+g.getText(),characterList:a.concat(g.getCharacterList()),type:o?e.getType():g.getType(),data:g.getData()})}(e,g,o)),o.slice(h?0:1,s-1).forEach((function(e){return f.push(e)})),f.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.length,a=r.slice(t,o),g=i.slice(t,o),c=n.last();return c.merge({text:c.getText()+a,characterList:c.getCharacterList().concat(g),data:c.getData()})}(e,g,o))):f.push(e)}));var x=r.createFromArray(f);return c&&(x=function(e,t,n,r){return e.withMutations((function(t){var i=n.getKey(),o=r.getKey(),a=n.getNextSiblingKey(),g=n.getParentKey(),c=function(e,t){var n=e.getKey(),r=e,i=[];for(t.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;i.push(o),r=t.get(o)}return i}(r,e),f=c[c.length-1];if(t.get(o)?(t.setIn([i,"nextSibling"],o),t.setIn([o,"prevSibling"],i)):(t.setIn([i,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],i)),t.setIn([f,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],f),c.forEach((function(e){return t.setIn([e,"parent"],g)})),g){var s=e.get(g).getChildKeys(),l=s.indexOf(i)+1,y=s.toArray();y.splice.apply(y,[l,0].concat(c)),t.setIn([g,"children"],u(y))}}))}(x,0,l,y)),e.merge({blockMap:x,selectionBefore:t,selectionAfter:t.merge({anchorKey:p,anchorOffset:v,focusKey:p,focusOffset:v,isBackward:!1})})};e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||g(!1);var o=e.getBlockMap(),u=c(n),s=t.getStartKey(),l=t.getStartOffset(),y=o.get(s);return y instanceof i&&(y.getChildKeys().isEmpty()||g(!1)),1===u.size?function(e,t,n,r,i,o){var g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",c=n.get(i),u=c.getText(),f=c.getCharacterList(),s=i,l=o+r.getText().length,y=null;switch(g){case"MERGE_OLD_DATA_TO_NEW_DATA":y=r.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":y=r.getData()}var d=c.getType();u&&"unstyled"===d&&(d=r.getType());var v=c.merge({text:u.slice(0,o)+r.getText()+u.slice(o),characterList:a(f,r.getCharacterList(),o),type:d,data:y});return e.merge({blockMap:n.set(i,v),selectionBefore:t,selectionAfter:t.merge({anchorKey:s,anchorOffset:l,focusKey:s,focusOffset:l,isBackward:!1})})}(e,t,o,u.first(),s,l,r):f(e,t,o,u,s,l)}},56269:e=>{e.exports=function(e,t,n){var r=e;if(n===r.count())t.forEach((function(e){r=r.push(e)}));else if(0===n)t.reverse().forEach((function(e){r=r.unshift(e)}));else{var i=r.slice(0,n),o=r.slice(n);r=i.concat(t,o).toList()}return r}},3136:(e,t,n)=>{var r=n(9404),i=n(56269),o=n(93619),a=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||o(!1);var g=null;if(null!=n&&(g=n.length),null==g||0===g)return e;var c=e.getBlockMap(),u=t.getStartKey(),f=t.getStartOffset(),s=c.get(u),l=s.getText(),y=s.merge({text:l.slice(0,f)+n+l.slice(f,s.getLength()),characterList:i(s.getCharacterList(),a(r,g).toList(),f)}),d=f+g;return e.merge({blockMap:c.set(u,y),selectionAfter:t.merge({anchorOffset:d,focusOffset:d})})}},93816:e=>{e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},73680:e=>{e.exports=function(e){return"handled"===e||!0===e}},20316:(e,t,n)=>{var r=n(93816);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"A"===e.nodeName)}},12623:(e,t,n)=>{var r=n(93816);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"BR"===e.nodeName)}},55291:e=>{e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},7296:(e,t,n)=>{var r=n(93816);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"IMG"===e.nodeName)}},64316:e=>{e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},17759:e=>{e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),i=t.getStartOffset(),o=!1;return r.some((function(e){return i===e.get("start")?(o=!0,!0):i<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return i===t&&(o=!0,!0)}))})),o}},83174:(e,t,n)=>{var r=n(24431);e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},88771:(e,t,n)=>{var r=n(12242),i=n(85989),o=n(29215),a=n(58488),g=n(5188);e.exports=function(e,t){var n=g(e,(function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(e,1);var r=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=i(r),o(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}},94143:(e,t,n)=>{var r=n(73998),i=n(12242),o=n(58488),a=n(5188);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return o(e,1);var i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(0,n),g=r.getBackward(a);return o(e,g.length||1)}),"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},70525:(e,t,n)=>{var r=n(73998),i=n(12242),o=n(77800),a=n(5188);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(n),g=r.getForward(a);return o(e,g.length||1)}),"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},64071:(e,t,n)=>{var r=n(49938),i=n(12242);e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}},15169:(e,t,n)=>{var r=n(12242);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),i=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}},20070:(e,t,n)=>{var r=n(12242);e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},47381:(e,t,n)=>{var r=n(12242),i=n(73991),o=n(58488),a=n(5188);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),g=n.getBlockForKey(r).getText()[a-1];return o(e,g?i.getUTF16Length(g,0):1)}),"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},2383:(e,t,n)=>{var r=n(12242),i=n(73991),o=n(77800),a=n(5188);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),g=n.getBlockForKey(r).getText()[a];return o(e,g?i.getUTF16Length(g,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},25935:(e,t,n)=>{var r=n(49938),i=n(12242),o=n(30866);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var a,g,c=t.getAnchorKey(),u=e.getCurrentContent(),f=u.getBlockForKey(c).getLength();if(f<=1)return e;n===f?(a=t.set("anchorOffset",n-1),g=t):g=(a=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var s=o(u,a),l=r.removeRange(u,a,"backward"),y=l.getSelectionAfter(),d=y.getAnchorOffset()-1,v=y.merge({anchorOffset:d,focusOffset:d}),p=r.replaceWithFragment(l,v,s),h=i.push(e,p,"insert-fragment");return i.acceptSelection(h,g)}},8976:(e,t,n)=>{var r=n(12242);e.exports=function(e,t,n){var i=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(i)}),0)):n(i);else{var o=i.getCurrentContent();n(r.set(i,{nativelyRenderedContent:o}))}}},5462:(e,t,n)=>{var r=n(9404).Map;e.exports=function(e,t,n){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),g=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat(r([[o,a.get(o)]])).map(n);return e.merge({blockMap:a.merge(g),selectionBefore:t,selectionAfter:t})}},46059:(e,t,n)=>{var r=n(65224),i=n(7376),o=n(9404),a=n(93619),g=o.OrderedMap,c=o.List,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},f=function(e,t,n,r,i){if(!i)return e;var o="after"===r,a=t.getKey(),g=n.getKey(),f=t.getParentKey(),s=t.getNextSiblingKey(),l=t.getPrevSiblingKey(),y=n.getParentKey(),d=o?n.getNextSiblingKey():g,v=o?g:n.getPrevSiblingKey();return e.withMutations((function(e){u(f,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})})),u(l,e,(function(e){return e.merge({nextSibling:s})})),u(s,e,(function(e){return e.merge({prevSibling:l})})),u(d,e,(function(e){return e.merge({prevSibling:a})})),u(v,e,(function(e){return e.merge({nextSibling:a})})),u(y,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(g),r=o?n+1:0!==n?n-1:0,i=t.toArray();return i.splice(r,0,a),e.merge({children:c(i)})})),u(a,e,(function(e){return e.merge({nextSibling:d,prevSibling:v,parent:y})}))}))};e.exports=function(e,t,n,o){"replace"===o&&a(!1);var c=n.getKey(),u=t.getKey();u===c&&a(!1);var s=e.getBlockMap(),l=t instanceof r,y=[t],d=s.delete(u);l&&(y=[],d=s.withMutations((function(e){var n=t.getNextSiblingKey(),r=i(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===u})).takeWhile((function(e){var t=e.getKey(),i=t===u,o=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(i||o||a)})).forEach((function(t){y.push(t),e.delete(t.getKey())}))})));var v=d.toSeq().takeUntil((function(e){return e===n})),p=d.toSeq().skipUntil((function(e){return e===n})).skip(1),h=y.map((function(e){return[e.getKey(),e]})),x=g();if("before"===o){var S=e.getBlockBefore(c);S&&S.getKey()===t.getKey()&&a(!1),x=v.concat([].concat(h,[[c,n]]),p).toOrderedMap()}else if("after"===o){var K=e.getBlockAfter(c);K&&K.getKey()===u&&a(!1),x=v.concat([[c,n]].concat(h),p).toOrderedMap()}return e.merge({blockMap:f(x,t,n,o,l),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:u,focusKey:u})})}},58488:(e,t,n)=>{n(81975);e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),a=i,g=0;if(t>o){var c=r.getKeyBefore(i);if(null==c)a=i;else a=c,g=r.getBlockForKey(c).getText().length}else g=o-t;return n.merge({focusKey:a,focusOffset:g,isBackward:!0})}},77800:(e,t,n)=>{n(81975);e.exports=function(e,t){var n,r=e.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),a=e.getCurrentContent(),g=i;return t>a.getBlockForKey(i).getText().length-o?(g=a.getKeyAfter(i),n=0):n=o+t,r.merge({focusKey:g,focusOffset:n})}},53310:(e,t,n)=>{var r=n(65224),i=n(6991),o=n(9404).OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t,n={};return o(e.withMutations((function(e){e.forEach((function(r,o){var a=r.getKey(),g=r.getNextSiblingKey(),c=r.getPrevSiblingKey(),u=r.getChildKeys(),f=r.getParentKey(),s=i();if(n[a]=s,g&&(e.get(g)?e.setIn([g,"prevSibling"],s):e.setIn([a,"nextSibling"],null)),c&&(e.get(c)?e.setIn([c,"nextSibling"],s):e.setIn([a,"prevSibling"],null)),f&&e.get(f)){var l=e.get(f).getChildKeys();e.setIn([f,"children"],l.set(l.indexOf(r.getKey()),s))}else e.setIn([a,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],s),e.setIn([a,"prevSibling"],n[t.getKey()])),t=e.get(a);u.forEach((function(t){e.get(t)?e.setIn([t,"parent"],s):e.setIn([a,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]})))}(e):function(e){return o(e.toArray().map((function(e){var t=i();return[t,e.set("key",t)]})))}(e)}},86044:(e,t,n)=>{var r=n(23018),i=n(18227),o=n(93619);function a(e,t,n){var a=t.getCharacterList(),g=n>0?a.get(n-1):void 0,c=n<a.count()?a.get(n):void 0,u=g?g.getEntity():void 0,f=c?c.getEntity():void 0;if(f&&f===u&&"MUTABLE"!==e.__get(f).getMutability()){for(var s,l=function(e,t,n){var r;return i(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!=typeof r&&o(!1),r}(a,f,n),y=l.start,d=l.end;y<d;)s=a.get(y),a=a.set(y,r.applyEntity(s,null)),y++;return t.set("characterList",a)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),i={},o=t.getStartKey(),g=t.getStartOffset(),c=n.get(o),u=a(r,c,g);u!==c&&(i[o]=u);var f=t.getEndKey(),s=t.getEndOffset(),l=n.get(f);o===f&&(l=u);var y=a(r,l,s);return y!==l&&(i[f]=y),Object.keys(i).length?e.merge({blockMap:n.merge(i),selectionAfter:t}):e.set("selectionAfter",t)}},54435:(e,t,n)=>{var r=n(65224),i=n(7376),o=n(9404),a=(o.List,o.Map),g=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},c=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},u=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},f=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},s=function(e,t,n,r){return e.withMutations((function(o){if(g(t.getKey(),o,(function(e){return e.merge({nextSibling:u(e,o,r),prevSibling:f(e,o,r)})})),g(n.getKey(),o,(function(e){return e.merge({nextSibling:u(e,o,r),prevSibling:f(e,o,r)})})),c(t.getKey(),r).forEach((function(e){return g(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:u(e,o,r),prevSibling:f(e,o,r)})}))})),g(t.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),g(t.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:u(e,o,r)})})),g(n.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:f(e,o,r)})})),g(n.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),c(n.getKey(),r).forEach((function(e){g(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:u(e,o,r),prevSibling:f(e,o,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=i(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?i(o,t):null}return n}(n,r).forEach((function(e){return g(e,o,(function(e){return e.merge({nextSibling:u(e,o,r),prevSibling:f(e,o,r)})}))})),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var a=t.getPrevSiblingKey();g(n.getKey(),o,(function(e){return e.merge({prevSibling:a})})),g(a,o,(function(e){return e.merge({nextSibling:n.getKey()})}));var s=a?e.get(a):null,l=s?s.getParentKey():null;if(t.getChildKeys().forEach((function(e){g(e,o,(function(e){return e.merge({parent:l})}))})),null!=l){var y=e.get(l);g(l,o,(function(e){return e.merge({children:y.getChildKeys().concat(t.getChildKeys())})}))}g(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),o,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))},l=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n,o=e.getBlockMap(),g=t.getStartKey(),u=t.getStartOffset(),f=t.getEndKey(),y=t.getEndOffset(),d=o.get(g),v=o.get(f),p=d instanceof r,h=[];if(p){var x=v.getChildKeys(),S=c(f,o);v.getNextSiblingKey()&&(h=h.concat(S)),x.isEmpty()||(h=h.concat(S.concat([f]))),h=h.concat(c(i(v,o),o))}n=d===v?l(d.getCharacterList(),u,y):d.getCharacterList().slice(0,u).concat(v.getCharacterList().slice(y));var K=d.merge({text:d.getText().slice(0,u)+v.getText().slice(y),characterList:n}),m=p&&0===u&&0===y&&v.getParentKey()===g&&null==v.getPrevSiblingKey()?a([[g,null]]):o.toSeq().skipUntil((function(e,t){return t===g})).takeUntil((function(e,t){return t===f})).filter((function(e,t){return-1===h.indexOf(t)})).concat(a([[f,null]])).map((function(e,t){return t===g?K:null})),b=o.merge(m).filter((function(e){return!!e}));return p&&d!==v&&(b=s(b,d,v,o)),e.merge({blockMap:b,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:u,focusKey:g,focusOffset:u,isBackward:!1})})}},5188:(e,t,n)=>{var r=n(49938),i=n(47282)("draft_tree_data_support");e.exports=function(e,t,n){var o=e.getSelection(),a=e.getCurrentContent(),g=o,c=o.getAnchorKey(),u=o.getFocusKey(),f=a.getBlockForKey(c);if(i&&"forward"===n&&c!==u)return a;if(o.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return a;if(i)if(o.getAnchorOffset()===a.getBlockForKey(c).getLength()){var s=a.getBlockForKey(f.nextSibling);if(!s||0===s.getLength())return a}}else if(e.isSelectionAtStartOfContent())return a;if((g=t(e))===o)return a}return r.removeRange(a,g,n)}},91721:e=>{var t=new RegExp("\r","g");e.exports=function(e){return e.replace(t,"")}},94660:(e,t,n)=>{var r=n(953),i=n(67204),o=n(23811),a=n(27614),g=n(48021),c=n(19677),u=n(93619),f=n(93816),s=o.isBrowser("IE");function l(e,t){if(!e)return"[empty]";var n=y(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(f(n)||u(!1),n.outerHTML)}function y(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return c(e).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=e.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var o=e.childNodes,a=0;a<o.length;a++)i.appendChild(y(o[a],t));return i}function d(e,t){for(var n=e,r=n;n;){if(f(n)&&r.hasAttribute("contenteditable"))return l(n,t);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function v(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function p(e,t,n,r){var o=g();if(e.extend&&null!=t&&a(o,t)){n>v(t)&&i.logSelectionStateFailure({anonymizedDom:d(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var c=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(a){throw i.logSelectionStateFailure({anonymizedDom:d(t,(function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:a?""+a:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),a}}else if(t&&e.rangeCount>0){var u=e.getRangeAt(0);u.setEnd(t,n),e.addRange(u.cloneRange())}}function h(e,t,n,o){var a=c(t).createRange();if(n>v(t)&&(i.logSelectionStateFailure({anonymizedDom:d(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),r.handleExtensionCausedError()),a.setStart(t,n),s)try{e.addRange(a)}catch(e){0}else e.addRange(a)}e.exports={setDraftEditorSelection:function(e,t,n,r,i){var o=c(t);if(a(o.documentElement,t)){var g=o.defaultView.getSelection(),u=e.getAnchorKey(),f=e.getAnchorOffset(),s=e.getFocusKey(),l=e.getFocusOffset(),y=e.getIsBackward();if(!g.extend&&y){var d=u,v=f;u=s,f=l,s=d,l=v,y=!1}var x=u===n&&r<=f&&i>=f,S=s===n&&r<=l&&i>=l;if(x&&S)return g.removeAllRanges(),h(g,t,f-r,e),void p(g,t,l-r,e);if(y){if(S&&(g.removeAllRanges(),h(g,t,l-r,e)),x){var K=g.focusNode,m=g.focusOffset;g.removeAllRanges(),h(g,t,f-r,e),p(g,K,m,e)}}else x&&(g.removeAllRanges(),h(g,t,f-r,e)),S&&p(g,t,l-r,e)}},addFocusToSelection:p}},53222:(e,t,n)=>{var r=n(65224),i=n(6991),o=n(9404),a=n(93619),g=n(5462),c=o.List,u=o.Map,f=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||a(!1);var n=t.getAnchorKey(),o=e.getBlockMap(),s=o.get(n),l=s.getText();if(!l){var y=s.getType();if("unordered-list-item"===y||"ordered-list-item"===y)return g(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var d=t.getAnchorOffset(),v=s.getCharacterList(),p=i(),h=s instanceof r,x=s.merge({text:l.slice(0,d),characterList:v.slice(0,d)}),S=x.merge({key:p,text:l.slice(d),characterList:v.slice(d),data:u()}),K=o.toSeq().takeUntil((function(e){return e===s})),m=o.toSeq().skipUntil((function(e){return e===s})).rest(),b=K.concat([[n,x],[p,S]],m).toOrderedMap();return h&&(s.getChildKeys().isEmpty()||a(!1),b=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),i=n.getKey();f(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,o=t.toArray();return o.splice(n,0,i),e.merge({children:c(o)})})),f(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:i})})),f(r,e,(function(e){return e.merge({nextSibling:i})})),f(i,e,(function(e){return e.merge({prevSibling:r})}))}))}(b,x,S)),e.merge({blockMap:b,selectionBefore:t,selectionAfter:t.merge({anchorKey:p,anchorOffset:0,focusKey:p,focusOffset:0,isBackward:!1})})}},73676:e=>{var t=/\r\n?|\n/g;e.exports=function(e){return e.split(t)}},24809:e=>{e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}}}]);