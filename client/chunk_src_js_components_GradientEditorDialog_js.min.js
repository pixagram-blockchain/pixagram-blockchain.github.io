"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([["src_js_components_GradientEditorDialog_js"],{21234:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});a(27495),a(42762),a(62953),a(3296),a(27208),a(48408);var r=a(17402),n=a(79626),i=a(39870),o=a(65816),l=a(68016),s=a(5696),h=a(96746),c=a(54392),u=a(27606),d=a(72572),m=a(44041),g=a(40827),p=a(84630),b=a(69312),v=a(38306),f=a(69440),y=a(69113),M=a(10819),x=a(46845),C=a(95834),A=a(53976),E=a(86074),_=a(56494),T=a(42561),P=a(23078),w=a(44122),S=a(48085);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){I(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class R{constructor(){this.hex="#000000",this.rgb_r=0,this.rgb_g=0,this.rgb_b=0,this.xyz_x=0,this.xyz_y=0,this.xyz_z=0,this.luv_l=0,this.luv_u=0,this.luv_v=0,this.lch_l=0,this.lch_c=0,this.lch_h=0,this.hsluv_h=0,this.hsluv_s=0,this.hsluv_l=0,this.hpluv_h=0,this.hpluv_p=0,this.hpluv_l=0,this.r0s=0,this.r0i=0,this.r1s=0,this.r1i=0,this.g0s=0,this.g0i=0,this.g1s=0,this.g1i=0,this.b0s=0,this.b0i=0,this.b1s=0,this.b1i=0}static fromLinear(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}static toLinear(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92}static yToL(e){return e<=R.epsilon?e/R.refY*R.kappa:116*Math.pow(e/R.refY,1/3)-16}static lToY(e){return e<=8?R.refY*e/R.kappa:R.refY*Math.pow((e+16)/116,3)}static rgbChannelToHex(e){const t=Math.round(255*e),a=t%16,r=(t-a)/16|0;return R.hexChars.charAt(r)+R.hexChars.charAt(a)}static distanceFromOriginAngle(e,t,a){const r=t/(Math.sin(a)-e*Math.cos(a));return r<0?1/0:r}static min6(e,t,a,r,n,i){return Math.min(e,Math.min(t,Math.min(a,Math.min(r,Math.min(n,i)))))}rgbToHex(){this.hex="#",this.hex+=R.rgbChannelToHex(this.rgb_r),this.hex+=R.rgbChannelToHex(this.rgb_g),this.hex+=R.rgbChannelToHex(this.rgb_b)}xyzToRgb(){this.rgb_r=R.fromLinear(R.m_r0*this.xyz_x+R.m_r1*this.xyz_y+R.m_r2*this.xyz_z),this.rgb_g=R.fromLinear(R.m_g0*this.xyz_x+R.m_g1*this.xyz_y+R.m_g2*this.xyz_z),this.rgb_b=R.fromLinear(R.m_b0*this.xyz_x+R.m_b1*this.xyz_y+R.m_b2*this.xyz_z)}rgbToXyz(){const e=R.toLinear(this.rgb_r),t=R.toLinear(this.rgb_g),a=R.toLinear(this.rgb_b);this.xyz_x=.41239079926595*e+.35758433938387*t+.18048078840183*a,this.xyz_y=.21263900587151*e+.71516867876775*t+.072192315360733*a,this.xyz_z=.019330818715591*e+.11919477979462*t+.95053215224966*a}xyzToLuv(){const e=this.xyz_x+15*this.xyz_y+3*this.xyz_z;let t=4*this.xyz_x,a=9*this.xyz_y;0!==e?(t/=e,a/=e):(t=NaN,a=NaN),this.luv_l=R.yToL(this.xyz_y),0===this.luv_l?(this.luv_u=0,this.luv_v=0):(this.luv_u=13*this.luv_l*(t-R.refU),this.luv_v=13*this.luv_l*(a-R.refV))}luvToXyz(){if(0===this.luv_l)return this.xyz_x=0,this.xyz_y=0,void(this.xyz_z=0);const e=this.luv_u/(13*this.luv_l)+R.refU,t=this.luv_v/(13*this.luv_l)+R.refV;this.xyz_y=R.lToY(this.luv_l),this.xyz_x=0-9*this.xyz_y*e/((e-4)*t-e*t),this.xyz_z=(9*this.xyz_y-15*t*this.xyz_y-t*this.xyz_x)/(3*t)}luvToLch(){if(this.lch_l=this.luv_l,this.lch_c=Math.sqrt(this.luv_u*this.luv_u+this.luv_v*this.luv_v),this.lch_c<1e-8)this.lch_h=0;else{const e=Math.atan2(this.luv_v,this.luv_u);this.lch_h=180*e/Math.PI,this.lch_h<0&&(this.lch_h=360+this.lch_h)}}lchToLuv(){const e=this.lch_h/180*Math.PI;this.luv_l=this.lch_l,this.luv_u=Math.cos(e)*this.lch_c,this.luv_v=Math.sin(e)*this.lch_c}calculateBoundingLines(e){const t=Math.pow(e+16,3)/1560896,a=t>R.epsilon?t:e/R.kappa,r=a*(284517*R.m_r0-94839*R.m_r2),n=a*(838422*R.m_r2+769860*R.m_r1+731718*R.m_r0),i=a*(632260*R.m_r2-126452*R.m_r1),o=a*(284517*R.m_g0-94839*R.m_g2),l=a*(838422*R.m_g2+769860*R.m_g1+731718*R.m_g0),s=a*(632260*R.m_g2-126452*R.m_g1),h=a*(284517*R.m_b0-94839*R.m_b2),c=a*(838422*R.m_b2+769860*R.m_b1+731718*R.m_b0),u=a*(632260*R.m_b2-126452*R.m_b1);this.r0s=r/i,this.r0i=n*e/i,this.r1s=r/(i+126452),this.r1i=(n-769860)*e/(i+126452),this.g0s=o/s,this.g0i=l*e/s,this.g1s=o/(s+126452),this.g1i=(l-769860)*e/(s+126452),this.b0s=h/u,this.b0i=c*e/u,this.b1s=h/(u+126452),this.b1i=(c-769860)*e/(u+126452)}calcMaxChromaHsluv(e){const t=e/360*Math.PI*2,a=R.distanceFromOriginAngle(this.r0s,this.r0i,t),r=R.distanceFromOriginAngle(this.r1s,this.r1i,t),n=R.distanceFromOriginAngle(this.g0s,this.g0i,t),i=R.distanceFromOriginAngle(this.g1s,this.g1i,t),o=R.distanceFromOriginAngle(this.b0s,this.b0i,t),l=R.distanceFromOriginAngle(this.b1s,this.b1i,t);return R.min6(a,r,n,i,o,l)}hsluvToLch(){if(this.hsluv_l>99.9999999)this.lch_l=100,this.lch_c=0;else if(this.hsluv_l<1e-8)this.lch_l=0,this.lch_c=0;else{this.lch_l=this.hsluv_l,this.calculateBoundingLines(this.hsluv_l);const e=this.calcMaxChromaHsluv(this.hsluv_h);this.lch_c=e/100*this.hsluv_s}this.lch_h=this.hsluv_h}lchToHsluv(){if(this.lch_l>99.9999999)this.hsluv_s=0,this.hsluv_l=100;else if(this.lch_l<1e-8)this.hsluv_s=0,this.hsluv_l=0;else{this.calculateBoundingLines(this.lch_l);const e=this.calcMaxChromaHsluv(this.lch_h);this.hsluv_s=this.lch_c/e*100,this.hsluv_l=this.lch_l}this.hsluv_h=this.lch_h}hsluvToRgb(){this.hsluvToLch(),this.lchToLuv(),this.luvToXyz(),this.xyzToRgb()}rgbToHsluv(){this.rgbToXyz(),this.xyzToLuv(),this.luvToLch(),this.lchToHsluv()}hsluvToHex(){this.hsluvToRgb(),this.rgbToHex()}}I(R,"hexChars","0123456789abcdef"),I(R,"refY",1),I(R,"refU",.19783000664283),I(R,"refV",.46831999493879),I(R,"kappa",903.2962962),I(R,"epsilon",.0088564516),I(R,"m_r0",3.240969941904521),I(R,"m_r1",-1.537383177570093),I(R,"m_r2",-.498610760293),I(R,"m_g0",-.96924363628087),I(R,"m_g1",1.87596750150772),I(R,"m_g2",.041555057407175),I(R,"m_b0",.055630079696993),I(R,"m_b1",-.20397695888897),I(R,"m_b2",1.056971514242878);let G=null;const H=()=>(G||(G=new R),G),N=(e,t,a)=>{const r=H();return r.hsluv_h=e,r.hsluv_s=t,r.hsluv_l=a,r.hsluvToHex(),r.hex.toUpperCase()},B=e=>{let{color:t={r:0,g:150,b:255,a:1},onChange:a,onConfirm:n,size:i=280}=e;const o=Math.max(128,Math.min(1024,i||280)),[l,s]=(0,r.useState)((()=>{const[e,a,r]=((e,t,a)=>{const r=H();return r.rgb_r=e/255,r.rgb_g=t/255,r.rgb_b=a/255,r.rgbToHsluv(),[r.hsluv_h,r.hsluv_s,r.hsluv_l]})(t.r,t.g,t.b);return{h:e,s:a,l:r}})),[h,c]=(0,r.useState)(null),u=(0,r.useRef)(null),d=(0,r.useRef)(null),m=o,g=m/2,p=m/2,b=m/280,v=36*b,f=24*b,y=24*b,M=v+12*b,x=M+f,C=x+12*b,A=C+y,E=100,_=260,T=-80,P=80,w=(0,r.useCallback)((()=>{const e=((e,t,a)=>{const r=H();return r.hsluv_h=e,r.hsluv_s=t,r.hsluv_l=a,r.hsluvToRgb(),{r:Math.round(255*r.rgb_r),g:Math.round(255*r.rgb_g),b:Math.round(255*r.rgb_b),a:1}})(l.h,l.s,l.l);a&&a(e)}),[l,a]);(0,r.useEffect)((()=>{w()}),[w]);const S=(0,r.useMemo)((()=>N(l.h,l.s,l.l)),[l]),z=(0,r.useCallback)(((e,t)=>{if(!u.current)return;const a=u.current.getBoundingClientRect(),r=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY,i=r-a.left-g,o=n-a.top-p;if("hue"===t){let e=Math.atan2(o,i)*(180/Math.PI);e=(e+360)%360,s((t=>k(k({},t),{},{h:Math.round(e)})))}else if("lightness"===t){let e=Math.atan2(o,i)*(180/Math.PI);e<0&&(e+=360),e<E&&(e=E),e>_&&(e=_);const t=(e-E)/160;s((e=>k(k({},e),{},{l:Math.round(100*(1-t))})))}else if("saturation"===t){let e=Math.atan2(o,i)*(180/Math.PI);e<T&&(e=T),e>P&&(e=P);const t=(e-T)/160;s((e=>k(k({},e),{},{s:Math.round(100*(1-t))})))}}),[g,p,E,_,T,P]),I=(0,r.useCallback)(((e,t)=>{e.preventDefault(),e.stopPropagation(),c(t),e.target.setPointerCapture&&e.target.setPointerCapture(e.pointerId),z(e,t)}),[z]),R=(0,r.useCallback)((e=>{h&&(e.preventDefault(),z(e,h))}),[h,z]),G=(0,r.useCallback)((e=>{e.target.releasePointerCapture&&e.target.releasePointerCapture(e.pointerId),c(null)}),[]);(0,r.useEffect)((()=>{if(h){const e=e=>{e.preventDefault(),z(e,h)},t=()=>{c(null)};return document.addEventListener("pointermove",e,{passive:!1}),document.addEventListener("pointerup",t),document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",t),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",t),document.removeEventListener("touchmove",e),document.removeEventListener("touchend",t)}}}),[h,z]);const B=(0,r.useMemo)((()=>{const e=l.h*Math.PI/180,t=g+Math.cos(e)*(M+f/2),a=p+Math.sin(e)*(M+f/2),r=(E+160*(1-l.l/100))*Math.PI/180,n=g+Math.cos(r)*(C+y/2),i=p+Math.sin(r)*(C+y/2),o=(P-l.s/100*160)*Math.PI/180;return{hueIndicatorX:t,hueIndicatorY:a,lightIndicatorX:n,lightIndicatorY:i,satIndicatorX:g+Math.cos(o)*(C+y/2),satIndicatorY:p+Math.sin(o)*(C+y/2)}}),[l,g,p,M,f,E,_,T,P,C,y]),L=(0,r.useMemo)((()=>({light:"light-".concat(Math.round(l.h),"-").concat(Math.round(l.s)),sat:"sat-".concat(Math.round(l.h),"-").concat(Math.round(l.l))})),[l]),W=(0,r.useMemo)((()=>Array.from({length:20},((e,t)=>{const a=t/19*100,r=100-a;return{offset:a,color:N(l.h,l.s,r)}}))),[l.h,l.s]),O=(0,r.useMemo)((()=>Array.from({length:20},((e,t)=>{const a=t/19*100,r=100-a;return{offset:a,color:N(l.h,r,l.l)}}))),[l.h,l.l]),D=(0,r.useMemo)((()=>Array.from({length:90},((e,t)=>{const a=4*t,r=4*(t+1),n=a*Math.PI/180,i=r*Math.PI/180,o=N(a+2,l.s,l.l);return{key:t,path:"\n                    M ".concat(g+Math.cos(n)*M," ").concat(p+Math.sin(n)*M,"\n                    A ").concat(M," ").concat(M," 0 0 1 ").concat(g+Math.cos(i)*M," ").concat(p+Math.sin(i)*M,"\n                    L ").concat(g+Math.cos(i)*x," ").concat(p+Math.sin(i)*x,"\n                    A ").concat(x," ").concat(x," 0 0 0 ").concat(g+Math.cos(n)*x," ").concat(p+Math.sin(n)*x,"\n                    Z\n                "),fill:o}}))),[l.s,l.l,g,p,M,x]),Y=6*b;return r.default.createElement("div",{ref:d,style:{width:m,height:m,margin:"0 auto",touchAction:"none",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",position:"relative"}},r.default.createElement("svg",{ref:u,width:m,height:m,style:{position:"absolute",top:0,left:0,cursor:h?"grabbing":"grab",touchAction:"none"}},r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:L.light,gradientUnits:"userSpaceOnUse",x1:g+Math.cos(E*Math.PI/180)*(C+y/2),y1:p+Math.sin(E*Math.PI/180)*(C+y/2),x2:g+Math.cos(_*Math.PI/180)*(C+y/2),y2:p+Math.sin(_*Math.PI/180)*(C+y/2)},W.map(((e,t)=>r.default.createElement("stop",{key:t,offset:"".concat(e.offset,"%"),stopColor:e.color})))),r.default.createElement("linearGradient",{id:L.sat,gradientUnits:"userSpaceOnUse",x1:g+Math.cos(T*Math.PI/180)*(C+y/2),y1:p+Math.sin(T*Math.PI/180)*(C+y/2),x2:g+Math.cos(P*Math.PI/180)*(C+y/2),y2:p+Math.sin(P*Math.PI/180)*(C+y/2)},O.map(((e,t)=>r.default.createElement("stop",{key:t,offset:"".concat(e.offset,"%"),stopColor:e.color})))),r.default.createElement("filter",{id:"centerGlow"},r.default.createElement("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.default.createElement("feMerge",null,r.default.createElement("feMergeNode",{in:"coloredBlur"}),r.default.createElement("feMergeNode",{in:"SourceGraphic"}))),r.default.createElement("filter",{id:"indicatorShadow"},r.default.createElement("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodOpacity:"0.3"}))),r.default.createElement("g",{style:{pointerEvents:"all"},onPointerDown:e=>I(e,"hue"),onPointerMove:R,onPointerUp:G},D.map((e=>r.default.createElement("path",{key:e.key,d:e.path,fill:e.fill,stroke:e.fill,strokeWidth:"1"})))),r.default.createElement("g",{style:{pointerEvents:"all"},onPointerDown:e=>I(e,"lightness"),onPointerMove:R,onPointerUp:G},r.default.createElement("path",{d:"\n                            M ".concat(g+Math.cos(E*Math.PI/180)*C," ").concat(p+Math.sin(E*Math.PI/180)*C,"\n                            A ").concat(C," ").concat(C," 0 0 1 ").concat(g+Math.cos(_*Math.PI/180)*C," ").concat(p+Math.sin(_*Math.PI/180)*C,"\n                            L ").concat(g+Math.cos(_*Math.PI/180)*A," ").concat(p+Math.sin(_*Math.PI/180)*A,"\n                            A ").concat(A," ").concat(A," 0 0 0 ").concat(g+Math.cos(E*Math.PI/180)*A," ").concat(p+Math.sin(E*Math.PI/180)*A,"\n                            Z\n                        "),fill:"url(#".concat(L.light,")"),stroke:"none"}),r.default.createElement("circle",{cx:g+Math.cos(E*Math.PI/180)*(C+y/2),cy:p+Math.sin(E*Math.PI/180)*(C+y/2),r:y/2,fill:N(l.h,l.s,100),stroke:"none"}),r.default.createElement("circle",{cx:g+Math.cos(_*Math.PI/180)*(C+y/2),cy:p+Math.sin(_*Math.PI/180)*(C+y/2),r:y/2,fill:N(l.h,l.s,0),stroke:"none"})),r.default.createElement("g",{style:{pointerEvents:"all"},onPointerDown:e=>I(e,"saturation"),onPointerMove:R,onPointerUp:G},r.default.createElement("path",{d:"\n                            M ".concat(g+Math.cos(T*Math.PI/180)*C," ").concat(p+Math.sin(T*Math.PI/180)*C,"\n                            A ").concat(C," ").concat(C," 0 0 1 ").concat(g+Math.cos(P*Math.PI/180)*C," ").concat(p+Math.sin(P*Math.PI/180)*C,"\n                            L ").concat(g+Math.cos(P*Math.PI/180)*A," ").concat(p+Math.sin(P*Math.PI/180)*A,"\n                            A ").concat(A," ").concat(A," 0 0 0 ").concat(g+Math.cos(T*Math.PI/180)*A," ").concat(p+Math.sin(T*Math.PI/180)*A,"\n                            Z\n                        "),fill:"url(#".concat(L.sat,")"),stroke:"none"}),r.default.createElement("circle",{cx:g+Math.cos(T*Math.PI/180)*(C+y/2),cy:p+Math.sin(T*Math.PI/180)*(C+y/2),r:y/2,fill:N(l.h,100,l.l),stroke:"none"}),r.default.createElement("circle",{cx:g+Math.cos(P*Math.PI/180)*(C+y/2),cy:p+Math.sin(P*Math.PI/180)*(C+y/2),r:y/2,fill:N(l.h,0,l.l),stroke:"none"})),r.default.createElement("circle",{cx:g,cy:p,r:v,fill:S,stroke:"rgba(0,0,0,0.15)",strokeWidth:"1.5",filter:"url(#centerGlow)",style:{pointerEvents:"none"}}),r.default.createElement("circle",{cx:B.hueIndicatorX,cy:B.hueIndicatorY,r:Y,fill:"white",stroke:"rgba(0,0,0,0.5)",strokeWidth:"1.5",filter:"url(#indicatorShadow)",style:{pointerEvents:"none"}}),r.default.createElement("circle",{cx:B.lightIndicatorX,cy:B.lightIndicatorY,r:Y,fill:"white",stroke:"rgba(0,0,0,0.5)",strokeWidth:"1.5",filter:"url(#indicatorShadow)",style:{pointerEvents:"none"}}),r.default.createElement("circle",{cx:B.satIndicatorX,cy:B.satIndicatorY,r:Y,fill:"white",stroke:"rgba(0,0,0,0.5)",strokeWidth:"1.5",filter:"url(#indicatorShadow)",style:{pointerEvents:"none"}})),n&&r.default.createElement("button",{onClick:n,style:{position:"absolute",left:g-20*b,top:p-20*b,width:40*b,height:40*b,border:"none",borderRadius:"50%",background:"transparent",color:l.l<=50?"#fff":"#000",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"".concat(12*b,"px"),fontWeight:"bold"}},S))};var L=a(19231);function W(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class O{static hexToRgb(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}static rgbToHex(e,t,a){return"#"+((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1)}static rgbToHsl(e,t,a){e/=255,t/=255,a/=255;const r=Math.max(e,t,a),n=Math.min(e,t,a);let i,o,l=(r+n)/2;if(r===n)i=o=0;else{const s=r-n;switch(o=l>.5?s/(2-r-n):s/(r+n),r){case e:i=(t-a)/s+(t<a?6:0);break;case t:i=(a-e)/s+2;break;case a:i=(e-t)/s+4}i/=6}return{h:360*i,s:100*o,l:100*l}}static hslToRgb(e,t,a){e/=360,a/=100;const r=(e,t,a)=>(a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e);let n,i,o;if(0===(t/=100))n=i=o=a;else{const l=a<.5?a*(1+t):a+t-a*t,s=2*a-l;n=r(s,l,e+1/3),i=r(s,l,e),o=r(s,l,e-1/3)}return{r:Math.round(255*n),g:Math.round(255*i),b:Math.round(255*o)}}static generateMonotone(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const a=this.hexToRgb(e),r=this.rgbToHsl(a.r,a.g,a.b),n=[];for(let e=0;e<t;e++){const a=20+80*e/(t-1),i=20+60*e/(t-1),o=this.hslToRgb(r.h,a,i);n.push(this.rgbToHex(o.r,o.g,o.b))}return n}static generateComplementary(e){const t=this.hexToRgb(e),a=this.rgbToHsl(t.r,t.g,t.b),r=(a.h+180)%360,n=this.hslToRgb(r,a.s,a.l);return[e,this.rgbToHex(n.r,n.g,n.b)]}static generateDarkerTones(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const a=this.hexToRgb(e),r=this.rgbToHsl(a.r,a.g,a.b),n=[];for(let e=0;e<t;e++){const t=Math.max(10,r.l-15*e),a=this.hslToRgb(r.h,r.s,t);n.push(this.rgbToHex(a.r,a.g,a.b))}return n}static generateLighterTones(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const a=this.hexToRgb(e),r=this.rgbToHsl(a.r,a.g,a.b),n=[];for(let e=0;e<t;e++){const t=Math.min(90,r.l+15*e),a=this.hslToRgb(r.h,r.s,t);n.push(this.rgbToHex(a.r,a.g,a.b))}return n}static interpolateColors(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=this.hexToRgb(e),i=this.hexToRgb(t),o=this.rgbToHsl(n.r,n.g,n.b),l=this.rgbToHsl(i.r,i.g,i.b),s=[];let h=l.h-o.h;r?Math.abs(h)<180&&(h=h>0?h-360:h+360):(h>180&&(h-=360),h<-180&&(h+=360));for(let e=0;e<a;e++){const t=e/(a-1),r=(o.h+h*t+360)%360,n=o.s+(l.s-o.s)*t,i=o.l+(l.l-o.l)*t,c=this.hslToRgb(r,n,i);s.push(this.rgbToHex(c.r,c.g,c.b))}return s}static generateTriadic(e,t){const a=this.hexToRgb(e),r=this.hexToRgb(t),n=this.rgbToHsl(a.r,a.g,a.b),i=this.rgbToHsl(r.r,r.g,r.b),o=((n.h+i.h)/2+120)%360,l=(n.s+i.s)/2,s=(n.l+i.l)/2,h=this.hslToRgb(o,l,s);return[e,t,this.rgbToHex(h.r,h.g,h.b)]}static interpolateThreeColors(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:7;const i=this.interpolateColors(e,t,Math.ceil(n/2)+1,r),o=this.interpolateColors(t,a,Math.floor(n/2)+1,r);return[...i.slice(0,-1),...o.slice(1)]}static generateRandomColor(){return"#".concat(Math.floor(16777215*Math.random()).toString(16).padStart(6,"0"))}}class D{static optimizeSVG(e){return(0,L.ky)(e,{multipass:!0,plugins:[{name:"cleanupNumericValues",params:{floatPrecision:1,transformPrecision:0}}],js2svg:{indent:0,pretty:!1}}).data}static seededRandom(e){let t=2147483648,a=e||Math.floor(Math.random()*(t-1));return function(){return a=(1103515245*a+12345)%t,a/(t-1)}}static createLinearGradient(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:45;const a=50+50*Math.cos((90-t)*Math.PI/180),r=50+50*Math.sin((90-t)*Math.PI/180),n=50-50*Math.cos((90-t)*Math.PI/180),i=50-50*Math.sin((90-t)*Math.PI/180);return{type:"linear",x1:"".concat(a,"%"),y1:"".concat(r,"%"),x2:"".concat(n,"%"),y2:"".concat(i,"%"),colors:e,angle:t}}static createRadialGradient(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50;return{type:"radial",cx:"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,"%"),cy:"".concat(t,"%"),rx:"".concat(a,"%"),ry:"".concat(r,"%"),colors:e}}static createBlobGradient(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:60,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===i&&(i=1e4*Math.random());const o=this.seededRandom(i),l=[];for(let a=0;a<Math.min(t,e.length);a++){const i=a/t*2*Math.PI+.5*o(),s=20+30*o(),h=50+Math.cos(i)*s,c=50+Math.sin(i)*s,u=r+o()*(n-r);l.push({cx:Math.max(10,Math.min(90,h)),cy:Math.max(10,Math.min(90,c)),r:u,color:e[a],opacity:.8+.2*o()})}const s=Math.min(3,e.length);for(let t=0;t<s;t++){const t=Math.floor(o()*e.length);l.push({cx:20+60*o(),cy:20+60*o(),r:.7*r,color:e[t],opacity:.6+.3*o()})}return{type:"blob",blobs:l,smoothness:a,seed:i}}static createMeshGradient(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150;const r=[];for(let a=0;a<t;a++)for(let n=0;n<t;n++){const i=n/(t-1)*100,o=a/(t-1)*100,l=Math.floor((a*t+n)*e.length/(t*t)),s=e[Math.min(l,e.length-1)],h=100/t*1.2+10*Math.sin(.5*(n+a));r.push({cx:i,cy:o,r:h,color:s,opacity:.7+.3*Math.sin(n*a*.1)})}return{type:"mesh",meshPoints:r,gridSize:t,blurIntensity:a}}}class Y extends r.Component{constructor(e){super(e),W(this,"handleDialogEnter",(()=>{this.newSeed()})),W(this,"handleDialogEntered",(()=>{this.syncPreviewSize(),this.generateNewGradient()})),W(this,"handlePanelChange",(e=>(t,a)=>{this.setState({expandedPanel:!!a&&e})})),W(this,"getPreview",(()=>this.previewRef.current)),W(this,"getPreviewWrap",(()=>{var e;return(null===(e=this.previewRef.current)||void 0===e?void 0:e.parentElement)||null})),W(this,"syncPreviewSize",(()=>{const e=this.getPreview(),t=this.getPreviewWrap();if(!e||!t)return;const{canvasWidth:a,canvasHeight:r}=this.state,n=Number(r)/Number(a||1),i=t.clientWidth,o=Math.max(1,Math.round(i*n));e.style.height="".concat(o,"px")})),W(this,"hexToRgb",(e=>{let t=String(e||"").trim();if("#"===t[0]&&(t=t.slice(1)),3===t.length&&(t=t.split("").map((e=>e+e)).join("")),!/^[0-9a-fA-F]{6}$/.test(t))return{r:0,g:0,b:0};const a=parseInt(t,16);return{r:a>>16&255,g:a>>8&255,b:255&a}})),W(this,"rgbToHex",(e=>{let{r:t,g:a,b:r}=e;const n=e=>Math.max(0,Math.min(255,Math.round(e))).toString(16).padStart(2,"0");return("#"+n(t)+n(a)+n(r)).toUpperCase()})),W(this,"luminance",(e=>{let{r:t,g:a,b:r}=e;const n=[t,a,r].map((e=>(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)));return.2126*n[0]+.7152*n[1]+.0722*n[2]})),W(this,"generatePalette",(()=>{const{colorCount:e,primaryColor:t,secondaryColor:a,tertiaryColor:r,paletteType:n}=this.state;let i=[];try{if(1===e)switch(n){case"monotone":i=O.generateMonotone(t,5);break;case"complementary":i=O.generateComplementary(t);break;case"darker":i=O.generateDarkerTones(t,5);break;case"lighter":i=O.generateLighterTones(t,5);break;default:i=[t]}else if(2===e){const e="longHue"===n;switch(n){case"interpolate":case"shortHue":case"longHue":i=O.interpolateColors(t,a,5,e);break;case"triadic":i=O.generateTriadic(t,a);break;default:i=O.interpolateColors(t,a,5,!1)}}else if(3===e){const e="longHue"===n;i=O.interpolateThreeColors(t,a,r,e,7)}0===i.length&&(i=[t])}catch(e){i=[t]}return this.currentPalette=i,i})),W(this,"createSVGFilter",((e,t,a)=>{const r="http://www.w3.org/2000/svg",n=document.createElementNS(r,"filter");if(n.setAttribute("id",e),n.setAttribute("filterUnits","userSpaceOnUse"),n.setAttribute("x","-50%"),n.setAttribute("y","-50%"),n.setAttribute("width","200%"),n.setAttribute("height","200%"),"blob"===t){const e=50+200*a.smoothness,t=document.createElementNS(r,"feGaussianBlur");t.setAttribute("in","SourceGraphic"),t.setAttribute("stdDeviation",e),n.appendChild(t)}else if("mesh"===t){const e=document.createElementNS(r,"feGaussianBlur");e.setAttribute("in","SourceGraphic"),e.setAttribute("stdDeviation",a.blurIntensity),n.appendChild(e)}return n})),W(this,"generateSVG",(e=>{const t="http://www.w3.org/2000/svg",a=document.createElementNS(t,"svg");a.setAttribute("xmlns",t),a.setAttribute("viewBox","0 0 ".concat(this.state.canvasWidth," ").concat(this.state.canvasHeight)),a.setAttribute("width","100%"),a.setAttribute("height","100%");const r=document.createElementNS(t,"defs");switch(a.appendChild(r),e.type){case"linear":{const n=document.createElementNS(t,"linearGradient");n.setAttribute("id","gradient"),n.setAttribute("x1",e.x1),n.setAttribute("y1",e.y1),n.setAttribute("x2",e.x2),n.setAttribute("y2",e.y2),e.colors.forEach(((a,r)=>{const i=document.createElementNS(t,"stop");i.setAttribute("offset","".concat(r/(e.colors.length-1)*100,"%")),i.setAttribute("stop-color",a),n.appendChild(i)})),r.appendChild(n);const i=document.createElementNS(t,"rect");i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("fill","url(#gradient)"),a.appendChild(i);break}case"radial":{const n=document.createElementNS(t,"radialGradient");n.setAttribute("id","gradient"),n.setAttribute("cx",e.cx),n.setAttribute("cy",e.cy),n.setAttribute("r",e.rx),e.colors.forEach(((a,r)=>{const i=document.createElementNS(t,"stop");i.setAttribute("offset","".concat(r/(e.colors.length-1)*100,"%")),i.setAttribute("stop-color",a),n.appendChild(i)})),r.appendChild(n);const i=document.createElementNS(t,"rect");i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("fill","url(#gradient)"),a.appendChild(i);break}case"blob":{var n;const i=this.createSVGFilter("blobFilter","blob",{smoothness:e.smoothness});r.appendChild(i);const o=document.createElementNS(t,"rect");o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("fill",(null===(n=e.blobs[0])||void 0===n?void 0:n.color)||"#ffffff"),a.appendChild(o);const l=document.createElementNS(t,"g");l.setAttribute("filter","url(#blobFilter)"),e.blobs.forEach((e=>{const a=document.createElementNS(t,"circle");a.setAttribute("cx","".concat(e.cx,"%")),a.setAttribute("cy","".concat(e.cy,"%")),a.setAttribute("r","".concat(e.r,"%")),a.setAttribute("fill",e.color),a.setAttribute("opacity",e.opacity),l.appendChild(a)})),a.appendChild(l);break}case"mesh":{var i;const n=this.createSVGFilter("meshFilter","mesh",{blurIntensity:e.blurIntensity});r.appendChild(n);const o=document.createElementNS(t,"rect");o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("fill",(null===(i=e.meshPoints[0])||void 0===i?void 0:i.color)||"#ffffff"),a.appendChild(o);const l=document.createElementNS(t,"g");l.setAttribute("filter","url(#meshFilter)"),e.meshPoints.forEach((e=>{const a=document.createElementNS(t,"circle");a.setAttribute("cx","".concat(e.cx,"%")),a.setAttribute("cy","".concat(e.cy,"%")),a.setAttribute("r","".concat(e.r,"%")),a.setAttribute("fill",e.color),a.setAttribute("opacity",e.opacity),l.appendChild(a)})),a.appendChild(l);break}}const o=new XMLSerializer;return D.optimizeSVG(o.serializeToString(a))})),W(this,"generateNewGradient",(()=>{const e=this.generatePalette(),t=this.state;let a;switch(t.gradientType){case"linear":default:a=D.createLinearGradient(e,t.angle);break;case"radial":a=D.createRadialGradient(e,t.centerX,t.centerY,t.radiusX,t.radiusY);break;case"blob":a=D.createBlobGradient(e,t.blobCount,t.smoothness/100,t.minSize,t.maxSize,parseInt(t.seed));break;case"mesh":a=D.createMeshGradient(e,t.gridSize,t.blurIntensity)}this.currentGradient=a,this.svgContent=this.generateSVG(a),this.updatePreview(),this.updateStats()})),W(this,"updatePreview",(()=>{const e=this.getPreview();if(e&&this.svgContent){const t=btoa(unescape(encodeURIComponent(this.svgContent))),a="data:image/svg+xml;base64,".concat(t);e.style.backgroundImage='url("'.concat(a,'")'),e.style.backgroundSize="cover",e.style.backgroundPosition="center"}})),W(this,"getPaletteOptions",(()=>{const e=0|this.state.colorCount;return 1===e?[{value:"monotone",label:"Monotone"},{value:"complementary",label:"Complementary"},{value:"darker",label:"Darker Tones"},{value:"lighter",label:"Lighter Tones"}]:2===e?[{value:"interpolate",label:"Interpolate"},{value:"triadic",label:"Triadic"},{value:"shortHue",label:"Short Hue Path"},{value:"longHue",label:"Long Hue Path"}]:[{value:"shortHue",label:"Short Hue Path"},{value:"longHue",label:"Long Hue Path"}]})),W(this,"updateStats",(()=>{const e=(new Blob([this.svgContent]).size/1024).toFixed(2)+" KB";this.setState({stats:{svgSizeText:e}})})),W(this,"scheduleRegen",(()=>{this._regenTimer&&clearTimeout(this._regenTimer),this._regenTimer=setTimeout((()=>{requestAnimationFrame(this.generateNewGradient)}),120)})),W(this,"handleColorCountChange",((e,t)=>{this.setState({colorCount:t},(()=>{this.updatePaletteOptions(t),this.generateNewGradient()}))})),W(this,"handleColorCountToggle",((e,t)=>{null!=t&&this.setState({colorCount:t},(()=>{this.updatePaletteOptions(t),this.generateNewGradient()}))})),W(this,"updatePaletteOptions",(e=>{const t=this.allowedPaletteTypes(e),a=this.state.paletteType,r=t.includes(a)?a:t[0];r!==a&&this.setState({paletteType:r})})),W(this,"handlePaletteTypeChange",((e,t)=>{const a=e&&e.target&&void 0!==e.target.value?e.target.value:"string"==typeof e?e:this.state.paletteType,r=this.allowedPaletteTypes(this.state.colorCount),n=r.includes(a)?a:r[0];n!==this.state.paletteType?this.setState({paletteType:n},this.generateNewGradient):this.generateNewGradient()})),W(this,"handleChangeGenerate",(e=>t=>{var a,r;const n=null!==(a=null==t||null===(r=t.target)||void 0===r?void 0:r.value)&&void 0!==a?a:t;this.setState({[e]:n},(()=>{"canvasWidth"!==e&&"canvasHeight"!==e||this.syncPreviewSize(),this.generateNewGradient()}))})),W(this,"handleSliderGenerate",(e=>(t,a)=>{this.setState({[e]:a},(()=>{this.generateNewGradient()}))})),W(this,"newSeed",(()=>{const e=String(Math.floor(1e4+9e4*Math.random()));this.setState({seed:e},this.generateNewGradient)})),W(this,"randomize",(()=>{const e=1+Math.floor(3*Math.random()),t=["linear","radial","blob","mesh"],a=t[Math.floor(Math.random()*t.length)];this.setState({colorCount:e,primaryColor:O.generateRandomColor(),secondaryColor:O.generateRandomColor(),tertiaryColor:O.generateRandomColor(),gradientType:a,angle:Math.floor(360*Math.random()),centerX:20+Math.floor(60*Math.random()),centerY:20+Math.floor(60*Math.random()),radiusX:30+Math.floor(50*Math.random()),radiusY:30+Math.floor(50*Math.random()),blobCount:2+Math.floor(5*Math.random()),smoothness:60+Math.floor(40*Math.random()),gridSize:2+Math.floor(4*Math.random()),blurIntensity:100+Math.floor(200*Math.random())},(()=>{this.updatePaletteOptions(e),this.generateNewGradient()}))})),W(this,"downloadSVG",(()=>{const e=new Blob([this.svgContent||""],{type:"image/svg+xml"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="gradient-".concat(this.state.seed,".svg"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)})),W(this,"openColorMenu",(e=>t=>{this.setState({colorMenuWhich:e,colorMenuAnchor:t.currentTarget})})),W(this,"closeColorMenu",(()=>{this.setState({colorMenuWhich:null,colorMenuAnchor:null},(()=>{this.generateNewGradient()}))})),W(this,"onPickerChange",(e=>{const{colorMenuWhich:t}=this.state;if(!t)return;const a=this.rgbToHex(e),r={};var n;if("primary"===t)r.primaryColor=a,r.primaryAlpha=null!==(n=e.a)&&void 0!==n?n:1;else if("secondary"===t){var i;r.secondaryColor=a,r.secondaryAlpha=null!==(i=e.a)&&void 0!==i?i:1}else if("tertiary"===t){var o;r.tertiaryColor=a,r.tertiaryAlpha=null!==(o=e.a)&&void 0!==o?o:1}this.setState(r,(()=>{this.scheduleRegen()}))})),W(this,"convertToBase64",(()=>this.svgContent?"data:image/svg+xml;base64,".concat(btoa(this.svgContent)):"")),W(this,"allowedPaletteTypes",(e=>{switch(0|e){case 1:return["monotone","complementary","darker","lighter"];case 2:return["interpolate","triadic","shortHue","longHue"];case 3:return["shortHue","longHue"];default:return["interpolate"]}})),this.state={colorCount:2,primaryColor:"#ff6b6b",primaryAlpha:1,secondaryColor:"#4ecdc4",secondaryAlpha:1,tertiaryColor:"#45b7d1",tertiaryAlpha:1,paletteType:"interpolate",gradientType:"linear",angle:45,centerX:50,centerY:50,radiusX:50,radiusY:50,blobCount:3,smoothness:80,minSize:20,maxSize:60,gridSize:4,blurIntensity:150,seed:"369",canvasWidth:1280,canvasHeight:720,expandedPanel:"colors",colorMenuWhich:null,colorMenuAnchor:null,stats:{svgSizeText:"0 KB"}},this.currentGradient=null,this.currentPalette=[],this.svgContent="",this.previewRef=r.createRef(),this._regenTimer=null}static getDerivedStateFromProps(e,t){const a={};let r=!1;return e.open!==t.open&&(a.open=e.open,r=!0),e.size!==t.size&&(a.size=e.size,r=!0),r?a:null}componentDidUpdate(e,t){this.props.open&&!e.open&&setTimeout((()=>{this.newSeed()}),100),t.canvasWidth===this.state.canvasWidth&&t.canvasHeight===this.state.canvasHeight||this.syncPreviewSize();(t.paletteType!==this.state.paletteType||t.colorCount!==this.state.colorCount||t.primaryColor!==this.state.primaryColor||t.secondaryColor!==this.state.secondaryColor||t.tertiaryColor!==this.state.tertiaryColor)&&this.generateNewGradient()}componentDidMount(){this.generateNewGradient()}componentWillUnmount(){this._regenTimer&&clearTimeout(this._regenTimer)}render(){const{classes:e,open:t,size:a}=this.props,n=this.state,z=this.hexToRgb(n.primaryColor),k=this.hexToRgb(n.secondaryColor),I=this.hexToRgb(n.tertiaryColor),R=this.luminance(z)<.45?"white":"black",G=this.luminance(k)<.45?"white":"black",H=this.luminance(I)<.45?"white":"black",N={r:z.r,g:z.g,b:z.b,a:n.primaryAlpha},L={r:k.r,g:k.g,b:k.b,a:n.secondaryAlpha},W={r:I.r,g:I.g,b:I.b,a:n.tertiaryAlpha};return r.createElement(i.A,{className:e.dialog,open:t,maxWidth:"md",fullWidth:!0,disablePortal:!1,onClose:e=>{var t,a;return null===(t=(a=this.props).onClose)||void 0===t?void 0:t.call(a,e)},keepMounted:!1,onEnter:this.handleDialogEnter,onEntered:this.handleDialogEntered},r.createElement(s.A,{style:{display:"flex",margin:"0 0 16px 0"}},r.createElement(c.A,{component:"h1",variant:"h4",style:{width:"100%",margin:0}},"Create A New Gradient")),r.createElement(l.A,{scroll:"paper",className:e.dialogContent},r.createElement(u.A,{container:!0,spacing:2},r.createElement(u.A,{item:!0,xs:12,md:8},r.createElement("div",{className:e.previewPanel},r.createElement(C.A,{in:t,timeout:300,appear:!0},r.createElement("div",{className:e.gradientPreviewWrap},r.createElement("div",{className:e.gradientPreview,ref:this.previewRef}),r.createElement("div",{style:{width:"100%",position:"absolute",bottom:0,left:0,height:128,background:"linear-gradient(to top, #171717 5%, #17171780 35%, transparent)",borderBottomLeftRadius:21,borderBottomRightRadius:21}},r.createElement("span",{style:{position:"absolute",bottom:12,left:12,color:"#888"}},n.stats.svgSizeText)))),r.createElement(C.A,{in:t,timeout:450,appear:!0},r.createElement(u.A,{container:!0,spacing:1},r.createElement(u.A,{item:!0,xs:12,md:4},r.createElement(h.A,{fullWidth:!0,variant:"text",onClick:this.newSeed,startIcon:r.createElement(M.A,null)},"New Seed")),r.createElement(u.A,{item:!0,xs:12,md:4},r.createElement(h.A,{fullWidth:!0,variant:"text",onClick:this.randomize},"Randomize")),r.createElement(u.A,{item:!0,xs:12,md:4},r.createElement(h.A,{fullWidth:!0,variant:"text",onClick:this.downloadSVG,startIcon:r.createElement(x.A,null)},"Download")))),r.createElement(C.A,{in:t,timeout:500,appear:!0},r.createElement("div",{className:e.canvasInputRow},r.createElement(d.A,{label:"Width",type:"number",variant:"outlined",size:"small",value:n.canvasWidth,onChange:e=>this.setState({canvasWidth:e.target.value},(()=>{this.syncPreviewSize(),this.generateNewGradient()})),style:{display:a?"block":"none"}}),r.createElement(d.A,{label:"Height",type:"number",variant:"outlined",size:"small",value:n.canvasHeight,onChange:e=>this.setState({canvasHeight:e.target.value},(()=>{this.syncPreviewSize(),this.generateNewGradient()})),style:{display:a?"block":"none"}}),r.createElement(d.A,{label:"Seed",variant:"outlined",size:"small",value:n.seed,onChange:this.handleChangeGenerate("seed"),style:{gridColumn:a?"auto":"1 / -1"}}))))),r.createElement(u.A,{item:!0,xs:12,md:4},r.createElement("div",{className:e.controlsPanel},r.createElement(C.A,{in:t,timeout:300,appear:!0},r.createElement(A.A,{expanded:"colors"===n.expandedPanel,onChange:this.handlePanelChange("colors")},r.createElement(E.A,{expandIcon:r.createElement(T.A,null)},r.createElement(c.A,{className:e.sectionTitle,component:"h5"},"Colors")),r.createElement(_.A,{style:{display:"block"}},r.createElement(u.A,{container:!0,spacing:1,alignItems:"left"},r.createElement(u.A,{item:!0,xs:12},r.createElement(c.A,{gutterBottom:!0,variant:"caption",style:{display:"block",marginBottom:6}},"Color Count"),r.createElement(w.A,{value:n.colorCount,exclusive:!0,size:"small",className:e.colorCount,onChange:this.handleColorCountToggle,"aria-label":"color count",style:{width:"100%"}},r.createElement(P.A,{value:1,"aria-label":"1 color",style:{flex:1,fontWeight:"bold"}},"1"),r.createElement(P.A,{value:2,"aria-label":"2 colors",style:{flex:1,fontWeight:"bold"}},"2"),r.createElement(P.A,{value:3,"aria-label":"3 colors",style:{flex:1,fontWeight:"bold"}},"3"))),r.createElement(u.A,{item:!0,xs:3===n.colorCount?4:2===n.colorCount?6:12},r.createElement(h.A,{variant:"contained",className:e.colorButton,style:{color:R,background:n.primaryColor},onClick:this.openColorMenu("primary")},1===n.colorCount?"Color":"Color 1")),n.colorCount>=2&&r.createElement(u.A,{item:!0,xs:3===n.colorCount?4:6},r.createElement(h.A,{variant:"contained",className:e.colorButton,style:{color:G,background:n.secondaryColor},onClick:this.openColorMenu("secondary")},"Color 2")),n.colorCount>=3&&r.createElement(u.A,{item:!0,xs:4},r.createElement(h.A,{variant:"contained",className:e.colorButton,style:{color:H,background:n.tertiaryColor},onClick:this.openColorMenu("tertiary")},"Color 3")),r.createElement(u.A,{item:!0,xs:12},r.createElement(y.A,{mt:2},r.createElement(b.A,{variant:"outlined",fullWidth:!0},r.createElement(v.A,{id:"palette-type-label"},"Palette Type"),r.createElement(g.A,{labelId:"palette-type-label",id:"palette-type",label:"Palette Type",value:n.paletteType,onChange:this.handlePaletteTypeChange,MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}},this.getPaletteOptions().map((e=>r.createElement(p.A,{key:e.value,value:e.value},e.label))))))),r.createElement(u.A,{item:!0,xs:12},r.createElement(y.A,{className:e.palettePreview},this.currentPalette.map(((t,a)=>r.createElement("div",{key:a,className:e.colorSwatch,style:{background:t},title:t}))))))))),r.createElement(C.A,{in:t,timeout:450,appear:!0},r.createElement(A.A,{expanded:"gradient"===n.expandedPanel,onChange:this.handlePanelChange("gradient")},r.createElement(E.A,{expandIcon:r.createElement(T.A,null)},r.createElement(c.A,{className:e.sectionTitle,component:"h5"},"Gradient Type")),r.createElement(_.A,{style:{display:"block"}},r.createElement(b.A,{variant:"outlined",fullWidth:!0},r.createElement(v.A,null,"Type"),r.createElement(g.A,{label:"Type",value:n.gradientType,onChange:this.handleChangeGenerate("gradientType")},r.createElement(p.A,{value:"linear"},"Linear"),r.createElement(p.A,{value:"radial"},"Radial"),r.createElement(p.A,{value:"blob"},"Blob"),r.createElement(p.A,{value:"mesh"},"Mesh"))),r.createElement(f.A,{in:"linear"===n.gradientType},r.createElement(y.A,{mt:2},r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Angle: ",n.angle,"Â°"),r.createElement(m.A,{min:0,max:360,value:n.angle,onChange:this.handleSliderGenerate("angle")}))),r.createElement(f.A,{in:"radial"===n.gradientType},r.createElement(y.A,{mt:2},r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Center X: ",n.centerX,"%"),r.createElement(m.A,{min:0,max:100,value:n.centerX,onChange:this.handleSliderGenerate("centerX")}),r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Center Y: ",n.centerY,"%"),r.createElement(m.A,{min:0,max:100,value:n.centerY,onChange:this.handleSliderGenerate("centerY")}),r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Radius X: ",n.radiusX,"%"),r.createElement(m.A,{min:10,max:100,value:n.radiusX,onChange:this.handleSliderGenerate("radiusX")}),r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Radius Y: ",n.radiusY,"%"),r.createElement(m.A,{min:10,max:100,value:n.radiusY,onChange:this.handleSliderGenerate("radiusY")}))),r.createElement(f.A,{in:"blob"===n.gradientType},r.createElement(y.A,{mt:2},r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Blob Count: ",n.blobCount),r.createElement(m.A,{min:2,max:8,value:n.blobCount,onChange:this.handleSliderGenerate("blobCount")}),r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Smoothness: ",n.smoothness),r.createElement(m.A,{min:50,max:200,value:n.smoothness,onChange:this.handleSliderGenerate("smoothness")}),r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Min Size: ",n.minSize,"%"),r.createElement(m.A,{min:10,max:50,value:n.minSize,onChange:this.handleSliderGenerate("minSize")}),r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Max Size: ",n.maxSize,"%"),r.createElement(m.A,{min:30,max:80,value:n.maxSize,onChange:this.handleSliderGenerate("maxSize")}))),r.createElement(f.A,{in:"mesh"===n.gradientType},r.createElement(y.A,{mt:2},r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Grid Size: ",n.gridSize,"x",n.gridSize),r.createElement(m.A,{min:2,max:6,value:n.gridSize,onChange:this.handleSliderGenerate("gridSize")}),r.createElement(c.A,{gutterBottom:!0,variant:"caption"},"Blur Intensity: ",n.blurIntensity),r.createElement(m.A,{min:50,max:300,value:n.blurIntensity,onChange:this.handleSliderGenerate("blurIntensity")})))))))))),r.createElement(o.A,null,r.createElement(h.A,{onClick:e=>{var t,a;return null===(t=(a=this.props).onClose)||void 0===t?void 0:t.call(a,e)},autoFocus:!0,variant:"text",color:"primary"},"Close"),r.createElement(h.A,{style:{backgroundColor:"#fff",color:"#000"},onClick:e=>{var t,a;return null===(t=(a=this.props).onAccept)||void 0===t?void 0:t.call(a,this.convertToBase64())},autoFocus:!0,variant:"contained",color:"secondary"},"Accept")),r.createElement(S.A,{className:e.menu,anchorEl:n.colorMenuAnchor,open:Boolean(n.colorMenuAnchor),onClose:this.closeColorMenu,getContentAnchorEl:null,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},style:{padding:0}},r.createElement(B,{className:e.materialPicker,color:"secondary"===n.colorMenuWhich?L:"tertiary"===n.colorMenuWhich?W:N,onChange:this.onPickerChange,onConfirm:this.closeColorMenu})))}}const X=(0,n.default)((e=>({dialog:{"& .MuiDialog-paper":{zIndex:e.zIndex.drawer+10,backgroundColor:"#0c0c0c",color:"#fff",borderRadius:21,[e.breakpoints.down("sm")]:{margin:0,maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",borderRadius:0},[e.breakpoints.up("md")]:{maxWidth:"75vw",width:1e3,height:"auto"}},"& .MuiDialog-paperScrollPaper":{[e.breakpoints.down("sm")]:{maxHeight:"100%"}},"& .MuiDialog-paperFullWidth":{[e.breakpoints.down("sm")]:{width:"100% !important"}}},dialogContent:{margin:"12px 0 24px 0"},previewPanel:{backgroundColor:"#171717",borderRadius:"21px",paddingBottom:"16px"},gradientPreviewWrap:{position:"relative",marginBottom:"16px"},gradientPreview:{position:"relative",width:"100%",height:405,borderRadius:21,overflow:"hidden",background:"#000"},controlsPanel:{maxHeight:"calc(80vh - 120px)",overflowY:"auto","& div.MuiPaper-rounded":{borderRadius:"21px",backgroundColor:"#171717"},"& .MuiAccordionDetails-root":{overflow:"hidden"},"& .MuiAccordion-root:before, & div.MuiAccordion-root.Mui-expanded:before":{opacity:0},"& .MuiAccordion-root":{margin:"8px 0"},"& .MuiAccordion-rounded:first-child":{borderTopLeftRadius:"21px",borderTopRightRadius:"21px"},"& .MuiAccordion-rounded:last-child":{borderBottomLeftRadius:"21px",borderBottomRightRadius:"21px"}},sectionTitle:{fontSize:16,fontWeight:600,color:"#ccc",letterSpacing:.5},colorCount:{"& .MuiToggleButton-root":{borderRadius:"21px"},"& .MuiToggleButtonGroup-groupedHorizontal:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0},"& .MuiToggleButtonGroup-groupedHorizontal:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},marginBottom:12},menu:{"& .MuiPaper-root":{background:"#212121",padding:0,borderRadius:"50%",boxShadow:"0 10px 30px rgba(0,0,0,0.35)"},"& .MuiList-padding":{padding:0}},materialPicker:{width:228,height:"auto",margin:4},colorButton:{fontWeight:"bold",borderRadius:"21px !important",height:56,width:"100%",textTransform:"none"},iconButtonSmallGrey:{"&.MuiIconButton-root":{color:"#666"},"&.MuiIconButton-root:hover":{color:"#999"}},colorSwatch:{width:30,height:30,borderRadius:6,border:"2px solid #333",cursor:"pointer",transition:"transform 0.2s ease","&:hover":{transform:"scale(1.1)"}},palettePreview:{display:"flex",gap:5,marginTop:10,flexWrap:"wrap"},canvasInputRow:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8,padding:"0 12px",marginTop:12}})))(Y)}}]);