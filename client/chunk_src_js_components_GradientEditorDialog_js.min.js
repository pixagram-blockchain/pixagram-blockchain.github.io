"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([["src_js_components_GradientEditorDialog_js"],{21234:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});n(52675),n(89463),n(2259),n(45700),n(28706),n(51629),n(23418),n(74423),n(64346),n(23792),n(48598),n(62062),n(34782),n(89572),n(23288),n(94170),n(62010),n(2892),n(9868),n(59904),n(84185),n(40875),n(10287),n(26099),n(58940),n(60825),n(27495),n(38781),n(21699),n(47764),n(68156),n(42762),n(23500),n(62953),n(76031),n(3296),n(27208),n(48408);var r=n(17402),a=n(79626),o=n(39870),i=n(65816),l=n(68016),c=n(5696),s=n(96746),u=n(54392),h=n(27606),d=n(72572),m=n(44041),g=n(40827),f=n(84630),v=n(69312),p=n(38306),b=n(69440),y=n(69113),M=n(10819),x=n(46845),A=n(95834),C=n(53976),E=n(86074),_=n(56494),w=n(42561),S=n(23078),P=n(44122),T=n(48085);n(33771),n(2008),n(67945),n(83851),n(81278),n(79432);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function N(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}var B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hex="#000000",this.rgb_r=0,this.rgb_g=0,this.rgb_b=0,this.xyz_x=0,this.xyz_y=0,this.xyz_z=0,this.luv_l=0,this.luv_u=0,this.luv_v=0,this.lch_l=0,this.lch_c=0,this.lch_h=0,this.hsluv_h=0,this.hsluv_s=0,this.hsluv_l=0,this.hpluv_h=0,this.hpluv_p=0,this.hpluv_l=0,this.r0s=0,this.r0i=0,this.r1s=0,this.r1i=0,this.g0s=0,this.g0i=0,this.g1s=0,this.g1i=0,this.b0s=0,this.b0i=0,this.b1s=0,this.b1i=0}return t=e,r=[{key:"fromLinear",value:function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}},{key:"toLinear",value:function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92}},{key:"yToL",value:function(t){return t<=e.epsilon?t/e.refY*e.kappa:116*Math.pow(t/e.refY,1/3)-16}},{key:"lToY",value:function(t){return t<=8?e.refY*t/e.kappa:e.refY*Math.pow((t+16)/116,3)}},{key:"rgbChannelToHex",value:function(t){var n=Math.round(255*t),r=n%16,a=(n-r)/16|0;return e.hexChars.charAt(a)+e.hexChars.charAt(r)}},{key:"distanceFromOriginAngle",value:function(e,t,n){var r=t/(Math.sin(n)-e*Math.cos(n));return r<0?1/0:r}},{key:"min6",value:function(e,t,n,r,a,o){return Math.min(e,Math.min(t,Math.min(n,Math.min(r,Math.min(a,o)))))}}],(n=[{key:"rgbToHex",value:function(){this.hex="#",this.hex+=e.rgbChannelToHex(this.rgb_r),this.hex+=e.rgbChannelToHex(this.rgb_g),this.hex+=e.rgbChannelToHex(this.rgb_b)}},{key:"xyzToRgb",value:function(){this.rgb_r=e.fromLinear(e.m_r0*this.xyz_x+e.m_r1*this.xyz_y+e.m_r2*this.xyz_z),this.rgb_g=e.fromLinear(e.m_g0*this.xyz_x+e.m_g1*this.xyz_y+e.m_g2*this.xyz_z),this.rgb_b=e.fromLinear(e.m_b0*this.xyz_x+e.m_b1*this.xyz_y+e.m_b2*this.xyz_z)}},{key:"rgbToXyz",value:function(){var t=e.toLinear(this.rgb_r),n=e.toLinear(this.rgb_g),r=e.toLinear(this.rgb_b);this.xyz_x=.41239079926595*t+.35758433938387*n+.18048078840183*r,this.xyz_y=.21263900587151*t+.71516867876775*n+.072192315360733*r,this.xyz_z=.019330818715591*t+.11919477979462*n+.95053215224966*r}},{key:"xyzToLuv",value:function(){var t=this.xyz_x+15*this.xyz_y+3*this.xyz_z,n=4*this.xyz_x,r=9*this.xyz_y;0!==t?(n/=t,r/=t):(n=NaN,r=NaN),this.luv_l=e.yToL(this.xyz_y),0===this.luv_l?(this.luv_u=0,this.luv_v=0):(this.luv_u=13*this.luv_l*(n-e.refU),this.luv_v=13*this.luv_l*(r-e.refV))}},{key:"luvToXyz",value:function(){if(0===this.luv_l)return this.xyz_x=0,this.xyz_y=0,void(this.xyz_z=0);var t=this.luv_u/(13*this.luv_l)+e.refU,n=this.luv_v/(13*this.luv_l)+e.refV;this.xyz_y=e.lToY(this.luv_l),this.xyz_x=0-9*this.xyz_y*t/((t-4)*n-t*n),this.xyz_z=(9*this.xyz_y-15*n*this.xyz_y-n*this.xyz_x)/(3*n)}},{key:"luvToLch",value:function(){if(this.lch_l=this.luv_l,this.lch_c=Math.sqrt(this.luv_u*this.luv_u+this.luv_v*this.luv_v),this.lch_c<1e-8)this.lch_h=0;else{var e=Math.atan2(this.luv_v,this.luv_u);this.lch_h=180*e/Math.PI,this.lch_h<0&&(this.lch_h=360+this.lch_h)}}},{key:"lchToLuv",value:function(){var e=this.lch_h/180*Math.PI;this.luv_l=this.lch_l,this.luv_u=Math.cos(e)*this.lch_c,this.luv_v=Math.sin(e)*this.lch_c}},{key:"calculateBoundingLines",value:function(t){var n=Math.pow(t+16,3)/1560896,r=n>e.epsilon?n:t/e.kappa,a=r*(284517*e.m_r0-94839*e.m_r2),o=r*(838422*e.m_r2+769860*e.m_r1+731718*e.m_r0),i=r*(632260*e.m_r2-126452*e.m_r1),l=r*(284517*e.m_g0-94839*e.m_g2),c=r*(838422*e.m_g2+769860*e.m_g1+731718*e.m_g0),s=r*(632260*e.m_g2-126452*e.m_g1),u=r*(284517*e.m_b0-94839*e.m_b2),h=r*(838422*e.m_b2+769860*e.m_b1+731718*e.m_b0),d=r*(632260*e.m_b2-126452*e.m_b1);this.r0s=a/i,this.r0i=o*t/i,this.r1s=a/(i+126452),this.r1i=(o-769860)*t/(i+126452),this.g0s=l/s,this.g0i=c*t/s,this.g1s=l/(s+126452),this.g1i=(c-769860)*t/(s+126452),this.b0s=u/d,this.b0i=h*t/d,this.b1s=u/(d+126452),this.b1i=(h-769860)*t/(d+126452)}},{key:"calcMaxChromaHsluv",value:function(t){var n=t/360*Math.PI*2,r=e.distanceFromOriginAngle(this.r0s,this.r0i,n),a=e.distanceFromOriginAngle(this.r1s,this.r1i,n),o=e.distanceFromOriginAngle(this.g0s,this.g0i,n),i=e.distanceFromOriginAngle(this.g1s,this.g1i,n),l=e.distanceFromOriginAngle(this.b0s,this.b0i,n),c=e.distanceFromOriginAngle(this.b1s,this.b1i,n);return e.min6(r,a,o,i,l,c)}},{key:"hsluvToLch",value:function(){if(this.hsluv_l>99.9999999)this.lch_l=100,this.lch_c=0;else if(this.hsluv_l<1e-8)this.lch_l=0,this.lch_c=0;else{this.lch_l=this.hsluv_l,this.calculateBoundingLines(this.hsluv_l);var e=this.calcMaxChromaHsluv(this.hsluv_h);this.lch_c=e/100*this.hsluv_s}this.lch_h=this.hsluv_h}},{key:"lchToHsluv",value:function(){if(this.lch_l>99.9999999)this.hsluv_s=0,this.hsluv_l=100;else if(this.lch_l<1e-8)this.hsluv_s=0,this.hsluv_l=0;else{this.calculateBoundingLines(this.lch_l);var e=this.calcMaxChromaHsluv(this.lch_h);this.hsluv_s=this.lch_c/e*100,this.hsluv_l=this.lch_l}this.hsluv_h=this.lch_h}},{key:"hsluvToRgb",value:function(){this.hsluvToLch(),this.lchToLuv(),this.luvToXyz(),this.xyzToRgb()}},{key:"rgbToHsluv",value:function(){this.rgbToXyz(),this.xyzToLuv(),this.luvToLch(),this.lchToHsluv()}},{key:"hsluvToHex",value:function(){this.hsluvToRgb(),this.rgbToHex()}}])&&H(t.prototype,n),r&&H(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();N(B,"hexChars","0123456789abcdef"),N(B,"refY",1),N(B,"refU",.19783000664283),N(B,"refV",.46831999493879),N(B,"kappa",903.2962962),N(B,"epsilon",.0088564516),N(B,"m_r0",3.240969941904521),N(B,"m_r1",-1.537383177570093),N(B,"m_r2",-.498610760293),N(B,"m_g0",-.96924363628087),N(B,"m_g1",1.87596750150772),N(B,"m_g2",.041555057407175),N(B,"m_b0",.055630079696993),N(B,"m_b1",-.20397695888897),N(B,"m_b2",1.056971514242878);var L=null,W=function(){return L||(L=new B),L},j=function(e,t,n){var r=W();return r.hsluv_h=e,r.hsluv_s=t,r.hsluv_l=n,r.hsluvToHex(),r.hex.toUpperCase()};const D=function(e){var t=e.color,n=void 0===t?{r:0,g:150,b:255,a:1}:t,a=e.onChange,o=e.onConfirm,i=e.size,l=void 0===i?280:i,c=Math.max(128,Math.min(1024,l||280)),s=(0,r.useState)((function(){var e,t,r,a,o=R((e=n.r,t=n.g,r=n.b,(a=W()).rgb_r=e/255,a.rgb_g=t/255,a.rgb_b=r/255,a.rgbToHsluv(),[a.hsluv_h,a.hsluv_s,a.hsluv_l]),3);return{h:o[0],s:o[1],l:o[2]}})),u=R(s,2),h=u[0],d=u[1],m=R((0,r.useState)(null),2),g=m[0],f=m[1],v=(0,r.useRef)(null),p=(0,r.useRef)(null),b=c,y=b/2,M=b/2,x=b/280,A=36*x,C=24*x,E=24*x,_=A+12*x,w=_+C,S=w+12*x,P=S+E,T=100,k=260,z=-80,G=80,H=(0,r.useCallback)((function(){var e,t,n,r,o=(e=h.h,t=h.s,n=h.l,(r=W()).hsluv_h=e,r.hsluv_s=t,r.hsluv_l=n,r.hsluvToRgb(),{r:Math.round(255*r.rgb_r),g:Math.round(255*r.rgb_g),b:Math.round(255*r.rgb_b),a:1});a&&a(o)}),[h,a]);(0,r.useEffect)((function(){H()}),[H]);var N=(0,r.useMemo)((function(){return j(h.h,h.s,h.l)}),[h]),O=(0,r.useCallback)((function(e,t){if(v.current){var n=v.current.getBoundingClientRect(),r=e.touches?e.touches[0].clientX:e.clientX,a=e.touches?e.touches[0].clientY:e.clientY,o=r-n.left-y,i=a-n.top-M;if("hue"===t){var l=Math.atan2(i,o)*(180/Math.PI);l=(l+360)%360,d((function(e){return I(I({},e),{},{h:Math.round(l)})}))}else if("lightness"===t){var c=Math.atan2(i,o)*(180/Math.PI);c<0&&(c+=360),c<T&&(c=T),c>k&&(c=k);var s=(c-T)/160;d((function(e){return I(I({},e),{},{l:Math.round(100*(1-s))})}))}else if("saturation"===t){var u=Math.atan2(i,o)*(180/Math.PI);u<z&&(u=z),u>G&&(u=G);var h=(u-z)/160;d((function(e){return I(I({},e),{},{s:Math.round(100*(1-h))})}))}}}),[y,M,T,k,z,G]),B=(0,r.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation(),f(t),e.target.setPointerCapture&&e.target.setPointerCapture(e.pointerId),O(e,t)}),[O]),L=(0,r.useCallback)((function(e){g&&(e.preventDefault(),O(e,g))}),[g,O]),D=(0,r.useCallback)((function(e){e.target.releasePointerCapture&&e.target.releasePointerCapture(e.pointerId),f(null)}),[]);(0,r.useEffect)((function(){if(g){var e=function(e){e.preventDefault(),O(e,g)},t=function(){f(null)};return document.addEventListener("pointermove",e,{passive:!1}),document.addEventListener("pointerup",t),document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",t),function(){document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",t),document.removeEventListener("touchmove",e),document.removeEventListener("touchend",t)}}}),[g,O]);var Y=(0,r.useMemo)((function(){var e=h.h*Math.PI/180,t=y+Math.cos(e)*(_+C/2),n=M+Math.sin(e)*(_+C/2),r=(T+160*(1-h.l/100))*Math.PI/180,a=y+Math.cos(r)*(S+E/2),o=M+Math.sin(r)*(S+E/2),i=(G-h.s/100*160)*Math.PI/180;return{hueIndicatorX:t,hueIndicatorY:n,lightIndicatorX:a,lightIndicatorY:o,satIndicatorX:y+Math.cos(i)*(S+E/2),satIndicatorY:M+Math.sin(i)*(S+E/2)}}),[h,y,M,_,C,T,k,z,G,S,E]),X=(0,r.useMemo)((function(){return{light:"light-".concat(Math.round(h.h),"-").concat(Math.round(h.s)),sat:"sat-".concat(Math.round(h.h),"-").concat(Math.round(h.l))}}),[h]),U=(0,r.useMemo)((function(){return Array.from({length:20},(function(e,t){var n=t/19*100,r=100-n;return{offset:n,color:j(h.h,h.s,r)}}))}),[h.h,h.s]),F=(0,r.useMemo)((function(){return Array.from({length:20},(function(e,t){var n=t/19*100,r=100-n;return{offset:n,color:j(h.h,r,h.l)}}))}),[h.h,h.l]),V=(0,r.useMemo)((function(){return Array.from({length:90},(function(e,t){var n=4*t,r=4*(t+1),a=n*Math.PI/180,o=r*Math.PI/180,i=j(n+2,h.s,h.l);return{key:t,path:"\n                    M ".concat(y+Math.cos(a)*_," ").concat(M+Math.sin(a)*_,"\n                    A ").concat(_," ").concat(_," 0 0 1 ").concat(y+Math.cos(o)*_," ").concat(M+Math.sin(o)*_,"\n                    L ").concat(y+Math.cos(o)*w," ").concat(M+Math.sin(o)*w,"\n                    A ").concat(w," ").concat(w," 0 0 0 ").concat(y+Math.cos(a)*w," ").concat(M+Math.sin(a)*w,"\n                    Z\n                "),fill:i}}))}),[h.s,h.l,y,M,_,w]),$=6*x;return r.default.createElement("div",{ref:p,style:{width:b,height:b,margin:"0 auto",touchAction:"none",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",position:"relative"}},r.default.createElement("svg",{ref:v,width:b,height:b,style:{position:"absolute",top:0,left:0,cursor:g?"grabbing":"grab",touchAction:"none"}},r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:X.light,gradientUnits:"userSpaceOnUse",x1:y+Math.cos(T*Math.PI/180)*(S+E/2),y1:M+Math.sin(T*Math.PI/180)*(S+E/2),x2:y+Math.cos(k*Math.PI/180)*(S+E/2),y2:M+Math.sin(k*Math.PI/180)*(S+E/2)},U.map((function(e,t){return r.default.createElement("stop",{key:t,offset:"".concat(e.offset,"%"),stopColor:e.color})}))),r.default.createElement("linearGradient",{id:X.sat,gradientUnits:"userSpaceOnUse",x1:y+Math.cos(z*Math.PI/180)*(S+E/2),y1:M+Math.sin(z*Math.PI/180)*(S+E/2),x2:y+Math.cos(G*Math.PI/180)*(S+E/2),y2:M+Math.sin(G*Math.PI/180)*(S+E/2)},F.map((function(e,t){return r.default.createElement("stop",{key:t,offset:"".concat(e.offset,"%"),stopColor:e.color})}))),r.default.createElement("filter",{id:"centerGlow"},r.default.createElement("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.default.createElement("feMerge",null,r.default.createElement("feMergeNode",{in:"coloredBlur"}),r.default.createElement("feMergeNode",{in:"SourceGraphic"}))),r.default.createElement("filter",{id:"indicatorShadow"},r.default.createElement("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodOpacity:"0.3"}))),r.default.createElement("g",{style:{pointerEvents:"all"},onPointerDown:function(e){return B(e,"hue")},onPointerMove:L,onPointerUp:D},V.map((function(e){return r.default.createElement("path",{key:e.key,d:e.path,fill:e.fill,stroke:e.fill,strokeWidth:"1"})}))),r.default.createElement("g",{style:{pointerEvents:"all"},onPointerDown:function(e){return B(e,"lightness")},onPointerMove:L,onPointerUp:D},r.default.createElement("path",{d:"\n                            M ".concat(y+Math.cos(T*Math.PI/180)*S," ").concat(M+Math.sin(T*Math.PI/180)*S,"\n                            A ").concat(S," ").concat(S," 0 0 1 ").concat(y+Math.cos(k*Math.PI/180)*S," ").concat(M+Math.sin(k*Math.PI/180)*S,"\n                            L ").concat(y+Math.cos(k*Math.PI/180)*P," ").concat(M+Math.sin(k*Math.PI/180)*P,"\n                            A ").concat(P," ").concat(P," 0 0 0 ").concat(y+Math.cos(T*Math.PI/180)*P," ").concat(M+Math.sin(T*Math.PI/180)*P,"\n                            Z\n                        "),fill:"url(#".concat(X.light,")"),stroke:"none"}),r.default.createElement("circle",{cx:y+Math.cos(T*Math.PI/180)*(S+E/2),cy:M+Math.sin(T*Math.PI/180)*(S+E/2),r:E/2,fill:j(h.h,h.s,100),stroke:"none"}),r.default.createElement("circle",{cx:y+Math.cos(k*Math.PI/180)*(S+E/2),cy:M+Math.sin(k*Math.PI/180)*(S+E/2),r:E/2,fill:j(h.h,h.s,0),stroke:"none"})),r.default.createElement("g",{style:{pointerEvents:"all"},onPointerDown:function(e){return B(e,"saturation")},onPointerMove:L,onPointerUp:D},r.default.createElement("path",{d:"\n                            M ".concat(y+Math.cos(z*Math.PI/180)*S," ").concat(M+Math.sin(z*Math.PI/180)*S,"\n                            A ").concat(S," ").concat(S," 0 0 1 ").concat(y+Math.cos(G*Math.PI/180)*S," ").concat(M+Math.sin(G*Math.PI/180)*S,"\n                            L ").concat(y+Math.cos(G*Math.PI/180)*P," ").concat(M+Math.sin(G*Math.PI/180)*P,"\n                            A ").concat(P," ").concat(P," 0 0 0 ").concat(y+Math.cos(z*Math.PI/180)*P," ").concat(M+Math.sin(z*Math.PI/180)*P,"\n                            Z\n                        "),fill:"url(#".concat(X.sat,")"),stroke:"none"}),r.default.createElement("circle",{cx:y+Math.cos(z*Math.PI/180)*(S+E/2),cy:M+Math.sin(z*Math.PI/180)*(S+E/2),r:E/2,fill:j(h.h,100,h.l),stroke:"none"}),r.default.createElement("circle",{cx:y+Math.cos(G*Math.PI/180)*(S+E/2),cy:M+Math.sin(G*Math.PI/180)*(S+E/2),r:E/2,fill:j(h.h,0,h.l),stroke:"none"})),r.default.createElement("circle",{cx:y,cy:M,r:A,fill:N,stroke:"rgba(0,0,0,0.15)",strokeWidth:"1.5",filter:"url(#centerGlow)",style:{pointerEvents:"none"}}),r.default.createElement("circle",{cx:Y.hueIndicatorX,cy:Y.hueIndicatorY,r:$,fill:"white",stroke:"rgba(0,0,0,0.5)",strokeWidth:"1.5",filter:"url(#indicatorShadow)",style:{pointerEvents:"none"}}),r.default.createElement("circle",{cx:Y.lightIndicatorX,cy:Y.lightIndicatorY,r:$,fill:"white",stroke:"rgba(0,0,0,0.5)",strokeWidth:"1.5",filter:"url(#indicatorShadow)",style:{pointerEvents:"none"}}),r.default.createElement("circle",{cx:Y.satIndicatorX,cy:Y.satIndicatorY,r:$,fill:"white",stroke:"rgba(0,0,0,0.5)",strokeWidth:"1.5",filter:"url(#indicatorShadow)",style:{pointerEvents:"none"}})),o&&r.default.createElement("button",{onClick:o,style:{position:"absolute",left:y-20*x,top:M-20*x,width:40*x,height:40*x,border:"none",borderRadius:"50%",background:"transparent",color:h.l<=50?"#fff":"#000",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"".concat(12*x,"px"),fontWeight:"bold"}},N))};var Y=n(19231);function X(e,t,n){return t=F(t),function(e,t){if(t&&("object"==Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,U()?Reflect.construct(t,n||[],F(e).constructor):t.apply(e,n))}function U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(U=function(){return!!e})()}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function $(e,t,n){return(t=te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function q(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,te(r.key),r)}}function ee(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function te(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z(t)?t:t+""}var ne=function(){return ee((function e(){J(this,e)}),null,[{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},{key:"rgbToHex",value:function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}},{key:"rgbToHsl",value:function(e,t,n){e/=255,t/=255,n/=255;var r,a,o=Math.max(e,t,n),i=Math.min(e,t,n),l=(o+i)/2;if(o===i)r=a=0;else{var c=o-i;switch(a=l>.5?c/(2-o-i):c/(o+i),o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:360*r,s:100*a,l:100*l}}},{key:"hslToRgb",value:function(e,t,n){e/=360,n/=100;var r,a,o,i=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e};if(0===(t/=100))r=a=o=n;else{var l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=i(c,l,e+1/3),a=i(c,l,e),o=i(c,l,e-1/3)}return{r:Math.round(255*r),g:Math.round(255*a),b:Math.round(255*o)}}},{key:"generateMonotone",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=this.hexToRgb(e),r=this.rgbToHsl(n.r,n.g,n.b),a=[],o=0;o<t;o++){var i=20+80*o/(t-1),l=20+60*o/(t-1),c=this.hslToRgb(r.h,i,l);a.push(this.rgbToHex(c.r,c.g,c.b))}return a}},{key:"generateComplementary",value:function(e){var t=this.hexToRgb(e),n=this.rgbToHsl(t.r,t.g,t.b),r=(n.h+180)%360,a=this.hslToRgb(r,n.s,n.l);return[e,this.rgbToHex(a.r,a.g,a.b)]}},{key:"generateDarkerTones",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=this.hexToRgb(e),r=this.rgbToHsl(n.r,n.g,n.b),a=[],o=0;o<t;o++){var i=Math.max(10,r.l-15*o),l=this.hslToRgb(r.h,r.s,i);a.push(this.rgbToHex(l.r,l.g,l.b))}return a}},{key:"generateLighterTones",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=this.hexToRgb(e),r=this.rgbToHsl(n.r,n.g,n.b),a=[],o=0;o<t;o++){var i=Math.min(90,r.l+15*o),l=this.hslToRgb(r.h,r.s,i);a.push(this.rgbToHex(l.r,l.g,l.b))}return a}},{key:"interpolateColors",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.hexToRgb(e),o=this.hexToRgb(t),i=this.rgbToHsl(a.r,a.g,a.b),l=this.rgbToHsl(o.r,o.g,o.b),c=[],s=l.h-i.h;r?Math.abs(s)<180&&(s=s>0?s-360:s+360):(s>180&&(s-=360),s<-180&&(s+=360));for(var u=0;u<n;u++){var h=u/(n-1),d=(i.h+s*h+360)%360,m=i.s+(l.s-i.s)*h,g=i.l+(l.l-i.l)*h,f=this.hslToRgb(d,m,g);c.push(this.rgbToHex(f.r,f.g,f.b))}return c}},{key:"generateTriadic",value:function(e,t){var n=this.hexToRgb(e),r=this.hexToRgb(t),a=this.rgbToHsl(n.r,n.g,n.b),o=this.rgbToHsl(r.r,r.g,r.b),i=((a.h+o.h)/2+120)%360,l=(a.s+o.s)/2,c=(a.l+o.l)/2,s=this.hslToRgb(i,l,c);return[e,t,this.rgbToHex(s.r,s.g,s.b)]}},{key:"interpolateThreeColors",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:7,o=this.interpolateColors(e,t,Math.ceil(a/2)+1,r),i=this.interpolateColors(t,n,Math.floor(a/2)+1,r);return[].concat(q(o.slice(0,-1)),q(i.slice(1)))}},{key:"generateRandomColor",value:function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16).padStart(6,"0"))}}])}(),re=function(){return ee((function e(){J(this,e)}),null,[{key:"optimizeSVG",value:function(e){return(0,Y.ky)(e,{multipass:!0,plugins:[{name:"cleanupNumericValues",params:{floatPrecision:1,transformPrecision:0}}],js2svg:{indent:0,pretty:!1}}).data}},{key:"seededRandom",value:function(e){var t=2147483648,n=e||Math.floor(Math.random()*(t-1));return function(){return(n=(1103515245*n+12345)%t)/(t-1)}}},{key:"createLinearGradient",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:45,n=50+50*Math.cos((90-t)*Math.PI/180),r=50+50*Math.sin((90-t)*Math.PI/180),a=50-50*Math.cos((90-t)*Math.PI/180),o=50-50*Math.sin((90-t)*Math.PI/180);return{type:"linear",x1:"".concat(n,"%"),y1:"".concat(r,"%"),x2:"".concat(a,"%"),y2:"".concat(o,"%"),colors:e,angle:t}}},{key:"createRadialGradient",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50;return{type:"radial",cx:"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,"%"),cy:"".concat(t,"%"),rx:"".concat(n,"%"),ry:"".concat(r,"%"),colors:e}}},{key:"createBlobGradient",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:60,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===o&&(o=1e4*Math.random());for(var i=this.seededRandom(o),l=[],c=0;c<Math.min(t,e.length);c++){var s=c/t*2*Math.PI+.5*i(),u=20+30*i(),h=50+Math.cos(s)*u,d=50+Math.sin(s)*u,m=r+i()*(a-r);l.push({cx:Math.max(10,Math.min(90,h)),cy:Math.max(10,Math.min(90,d)),r:m,color:e[c],opacity:.8+.2*i()})}for(var g=Math.min(3,e.length),f=0;f<g;f++){var v=Math.floor(i()*e.length);l.push({cx:20+60*i(),cy:20+60*i(),r:.7*r,color:e[v],opacity:.6+.3*i()})}return{type:"blob",blobs:l,smoothness:n,seed:o}}},{key:"createMeshGradient",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150,r=[],a=0;a<t;a++)for(var o=0;o<t;o++){var i=o/(t-1)*100,l=a/(t-1)*100,c=Math.floor((a*t+o)*e.length/(t*t)),s=e[Math.min(c,e.length-1)],u=100/t*1.2+10*Math.sin(.5*(o+a));r.push({cx:i,cy:l,r:u,color:s,opacity:.7+.3*Math.sin(o*a*.1)})}return{type:"mesh",meshPoints:r,gridSize:t,blurIntensity:n}}}])}(),ae=function(e){function t(e){var n;return J(this,t),$(n=X(this,t,[e]),"handleDialogEnter",(function(){n.newSeed()})),$(n,"handleDialogEntered",(function(){n.syncPreviewSize(),n.generateNewGradient()})),$(n,"handlePanelChange",(function(e){return function(t,r){n.setState({expandedPanel:!!r&&e})}})),$(n,"getPreview",(function(){return n.previewRef.current})),$(n,"getPreviewWrap",(function(){var e;return(null===(e=n.previewRef.current)||void 0===e?void 0:e.parentElement)||null})),$(n,"syncPreviewSize",(function(){var e=n.getPreview(),t=n.getPreviewWrap();if(e&&t){var r=n.state,a=r.canvasWidth,o=r.canvasHeight,i=Number(o)/Number(a||1),l=t.clientWidth,c=Math.max(1,Math.round(l*i));e.style.height="".concat(c,"px")}})),$(n,"hexToRgb",(function(e){var t=String(e||"").trim();if("#"===t[0]&&(t=t.slice(1)),3===t.length&&(t=t.split("").map((function(e){return e+e})).join("")),!/^[0-9a-fA-F]{6}$/.test(t))return{r:0,g:0,b:0};var n=parseInt(t,16);return{r:n>>16&255,g:n>>8&255,b:255&n}})),$(n,"rgbToHex",(function(e){var t=e.r,n=e.g,r=e.b,a=function(e){return Math.max(0,Math.min(255,Math.round(e))).toString(16).padStart(2,"0")};return("#"+a(t)+a(n)+a(r)).toUpperCase()})),$(n,"luminance",(function(e){var t=[e.r,e.g,e.b].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*t[0]+.7152*t[1]+.0722*t[2]})),$(n,"generatePalette",(function(){var e=n.state,t=e.colorCount,r=e.primaryColor,a=e.secondaryColor,o=e.tertiaryColor,i=e.paletteType,l=[];try{if(1===t)switch(i){case"monotone":l=ne.generateMonotone(r,5);break;case"complementary":l=ne.generateComplementary(r);break;case"darker":l=ne.generateDarkerTones(r,5);break;case"lighter":l=ne.generateLighterTones(r,5);break;default:l=[r]}else if(2===t){var c="longHue"===i;switch(i){case"interpolate":case"shortHue":case"longHue":l=ne.interpolateColors(r,a,5,c);break;case"triadic":l=ne.generateTriadic(r,a);break;default:l=ne.interpolateColors(r,a,5,!1)}}else if(3===t){var s="longHue"===i;l=ne.interpolateThreeColors(r,a,o,s,7)}0===l.length&&(l=[r])}catch(e){console.error("Error generating palette:",e),l=[r]}return n.currentPalette=l,l})),$(n,"createSVGFilter",(function(e,t,n){var r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"filter");if(a.setAttribute("id",e),a.setAttribute("filterUnits","userSpaceOnUse"),a.setAttribute("x","-50%"),a.setAttribute("y","-50%"),a.setAttribute("width","200%"),a.setAttribute("height","200%"),"blob"===t){var o=50+200*n.smoothness,i=document.createElementNS(r,"feGaussianBlur");i.setAttribute("in","SourceGraphic"),i.setAttribute("stdDeviation",o),a.appendChild(i)}else if("mesh"===t){var l=document.createElementNS(r,"feGaussianBlur");l.setAttribute("in","SourceGraphic"),l.setAttribute("stdDeviation",n.blurIntensity),a.appendChild(l)}return a})),$(n,"generateSVG",(function(e){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");r.setAttribute("xmlns",t),r.setAttribute("viewBox","0 0 ".concat(n.state.canvasWidth," ").concat(n.state.canvasHeight)),r.setAttribute("width","100%"),r.setAttribute("height","100%");var a=document.createElementNS(t,"defs");switch(r.appendChild(a),e.type){case"linear":var o=document.createElementNS(t,"linearGradient");o.setAttribute("id","gradient"),o.setAttribute("x1",e.x1),o.setAttribute("y1",e.y1),o.setAttribute("x2",e.x2),o.setAttribute("y2",e.y2),e.colors.forEach((function(n,r){var a=document.createElementNS(t,"stop");a.setAttribute("offset","".concat(r/(e.colors.length-1)*100,"%")),a.setAttribute("stop-color",n),o.appendChild(a)})),a.appendChild(o);var i=document.createElementNS(t,"rect");i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("fill","url(#gradient)"),r.appendChild(i);break;case"radial":var l=document.createElementNS(t,"radialGradient");l.setAttribute("id","gradient"),l.setAttribute("cx",e.cx),l.setAttribute("cy",e.cy),l.setAttribute("r",e.rx),e.colors.forEach((function(n,r){var a=document.createElementNS(t,"stop");a.setAttribute("offset","".concat(r/(e.colors.length-1)*100,"%")),a.setAttribute("stop-color",n),l.appendChild(a)})),a.appendChild(l);var c=document.createElementNS(t,"rect");c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("fill","url(#gradient)"),r.appendChild(c);break;case"blob":var s,u=n.createSVGFilter("blobFilter","blob",{smoothness:e.smoothness});a.appendChild(u);var h=document.createElementNS(t,"rect");h.setAttribute("width","100%"),h.setAttribute("height","100%"),h.setAttribute("fill",(null===(s=e.blobs[0])||void 0===s?void 0:s.color)||"#ffffff"),r.appendChild(h);var d=document.createElementNS(t,"g");d.setAttribute("filter","url(#blobFilter)"),e.blobs.forEach((function(e){var n=document.createElementNS(t,"circle");n.setAttribute("cx","".concat(e.cx,"%")),n.setAttribute("cy","".concat(e.cy,"%")),n.setAttribute("r","".concat(e.r,"%")),n.setAttribute("fill",e.color),n.setAttribute("opacity",e.opacity),d.appendChild(n)})),r.appendChild(d);break;case"mesh":var m,g=n.createSVGFilter("meshFilter","mesh",{blurIntensity:e.blurIntensity});a.appendChild(g);var f=document.createElementNS(t,"rect");f.setAttribute("width","100%"),f.setAttribute("height","100%"),f.setAttribute("fill",(null===(m=e.meshPoints[0])||void 0===m?void 0:m.color)||"#ffffff"),r.appendChild(f);var v=document.createElementNS(t,"g");v.setAttribute("filter","url(#meshFilter)"),e.meshPoints.forEach((function(e){var n=document.createElementNS(t,"circle");n.setAttribute("cx","".concat(e.cx,"%")),n.setAttribute("cy","".concat(e.cy,"%")),n.setAttribute("r","".concat(e.r,"%")),n.setAttribute("fill",e.color),n.setAttribute("opacity",e.opacity),v.appendChild(n)})),r.appendChild(v)}var p=new XMLSerializer;return re.optimizeSVG(p.serializeToString(r))})),$(n,"generateNewGradient",(function(){var e,t=n.generatePalette(),r=n.state;switch(r.gradientType){case"linear":default:e=re.createLinearGradient(t,r.angle);break;case"radial":e=re.createRadialGradient(t,r.centerX,r.centerY,r.radiusX,r.radiusY);break;case"blob":e=re.createBlobGradient(t,r.blobCount,r.smoothness/100,r.minSize,r.maxSize,parseInt(r.seed));break;case"mesh":e=re.createMeshGradient(t,r.gridSize,r.blurIntensity)}n.currentGradient=e,n.svgContent=n.generateSVG(e),n.updatePreview(),n.updateStats()})),$(n,"updatePreview",(function(){var e=n.getPreview();if(e&&n.svgContent){var t=btoa(unescape(encodeURIComponent(n.svgContent))),r="data:image/svg+xml;base64,".concat(t);e.style.backgroundImage='url("'.concat(r,'")'),e.style.backgroundSize="cover",e.style.backgroundPosition="center"}})),$(n,"getPaletteOptions",(function(){var e=0|n.state.colorCount;return 1===e?[{value:"monotone",label:"Monotone"},{value:"complementary",label:"Complementary"},{value:"darker",label:"Darker Tones"},{value:"lighter",label:"Lighter Tones"}]:2===e?[{value:"interpolate",label:"Interpolate"},{value:"triadic",label:"Triadic"},{value:"shortHue",label:"Short Hue Path"},{value:"longHue",label:"Long Hue Path"}]:[{value:"shortHue",label:"Short Hue Path"},{value:"longHue",label:"Long Hue Path"}]})),$(n,"updateStats",(function(){var e=(new Blob([n.svgContent]).size/1024).toFixed(2)+" KB";n.setState({stats:{svgSizeText:e}})})),$(n,"scheduleRegen",(function(){n._regenTimer&&clearTimeout(n._regenTimer),n._regenTimer=setTimeout((function(){requestAnimationFrame(n.generateNewGradient)}),120)})),$(n,"handleColorCountChange",(function(e,t){n.setState({colorCount:t},(function(){n.updatePaletteOptions(t),n.generateNewGradient()}))})),$(n,"handleColorCountToggle",(function(e,t){null!=t&&n.setState({colorCount:t},(function(){n.updatePaletteOptions(t),n.generateNewGradient()}))})),$(n,"updatePaletteOptions",(function(e){var t=n.allowedPaletteTypes(e),r=n.state.paletteType,a=t.includes(r)?r:t[0];a!==r&&n.setState({paletteType:a})})),$(n,"handlePaletteTypeChange",(function(e,t){var r=e&&e.target&&void 0!==e.target.value?e.target.value:"string"==typeof e?e:n.state.paletteType,a=n.allowedPaletteTypes(n.state.colorCount),o=a.includes(r)?r:a[0];o!==n.state.paletteType?n.setState({paletteType:o},n.generateNewGradient):n.generateNewGradient()})),$(n,"handleChangeGenerate",(function(e){return function(t){var r,a,o=null!==(r=null==t||null===(a=t.target)||void 0===a?void 0:a.value)&&void 0!==r?r:t;n.setState($({},e,o),(function(){"canvasWidth"!==e&&"canvasHeight"!==e||n.syncPreviewSize(),n.generateNewGradient()}))}})),$(n,"handleSliderGenerate",(function(e){return function(t,r){n.setState($({},e,r),(function(){n.generateNewGradient()}))}})),$(n,"newSeed",(function(){var e=String(Math.floor(1e4+9e4*Math.random()));n.setState({seed:e},n.generateNewGradient)})),$(n,"randomize",(function(){var e=1+Math.floor(3*Math.random()),t=["linear","radial","blob","mesh"],r=t[Math.floor(Math.random()*t.length)];n.setState({colorCount:e,primaryColor:ne.generateRandomColor(),secondaryColor:ne.generateRandomColor(),tertiaryColor:ne.generateRandomColor(),gradientType:r,angle:Math.floor(360*Math.random()),centerX:20+Math.floor(60*Math.random()),centerY:20+Math.floor(60*Math.random()),radiusX:30+Math.floor(50*Math.random()),radiusY:30+Math.floor(50*Math.random()),blobCount:2+Math.floor(5*Math.random()),smoothness:60+Math.floor(40*Math.random()),gridSize:2+Math.floor(4*Math.random()),blurIntensity:100+Math.floor(200*Math.random())},(function(){n.updatePaletteOptions(e),n.generateNewGradient()}))})),$(n,"downloadSVG",(function(){var e=new Blob([n.svgContent||""],{type:"image/svg+xml"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="gradient-".concat(n.state.seed,".svg"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)})),$(n,"openColorMenu",(function(e){return function(t){n.setState({colorMenuWhich:e,colorMenuAnchor:t.currentTarget})}})),$(n,"closeColorMenu",(function(){n.setState({colorMenuWhich:null,colorMenuAnchor:null},(function(){n.generateNewGradient()}))})),$(n,"onPickerChange",(function(e){var t=n.state.colorMenuWhich;if(t){var r,a=n.rgbToHex(e),o={};if("primary"===t)o.primaryColor=a,o.primaryAlpha=null!==(r=e.a)&&void 0!==r?r:1;else if("secondary"===t){var i;o.secondaryColor=a,o.secondaryAlpha=null!==(i=e.a)&&void 0!==i?i:1}else if("tertiary"===t){var l;o.tertiaryColor=a,o.tertiaryAlpha=null!==(l=e.a)&&void 0!==l?l:1}n.setState(o,(function(){n.scheduleRegen()}))}})),$(n,"convertToBase64",(function(){return n.svgContent?"data:image/svg+xml;base64,".concat(btoa(n.svgContent)):""})),$(n,"allowedPaletteTypes",(function(e){switch(0|e){case 1:return["monotone","complementary","darker","lighter"];case 2:return["interpolate","triadic","shortHue","longHue"];case 3:return["shortHue","longHue"];default:return["interpolate"]}})),n.state={colorCount:2,primaryColor:"#ff6b6b",primaryAlpha:1,secondaryColor:"#4ecdc4",secondaryAlpha:1,tertiaryColor:"#45b7d1",tertiaryAlpha:1,paletteType:"interpolate",gradientType:"linear",angle:45,centerX:50,centerY:50,radiusX:50,radiusY:50,blobCount:3,smoothness:80,minSize:20,maxSize:60,gridSize:4,blurIntensity:150,seed:"369",canvasWidth:1280,canvasHeight:720,expandedPanel:"colors",colorMenuWhich:null,colorMenuAnchor:null,stats:{svgSizeText:"0 KB"}},n.currentGradient=null,n.currentPalette=[],n.svgContent="",n.previewRef=r.createRef(),n._regenTimer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(t,e),ee(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.open&&!e.open&&setTimeout((function(){n.newSeed()}),100),t.canvasWidth===this.state.canvasWidth&&t.canvasHeight===this.state.canvasHeight||this.syncPreviewSize(),(t.paletteType!==this.state.paletteType||t.colorCount!==this.state.colorCount||t.primaryColor!==this.state.primaryColor||t.secondaryColor!==this.state.secondaryColor||t.tertiaryColor!==this.state.tertiaryColor)&&this.generateNewGradient()}},{key:"componentDidMount",value:function(){this.generateNewGradient()}},{key:"componentWillUnmount",value:function(){this._regenTimer&&clearTimeout(this._regenTimer)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.open,k=t.size,z=this.state,I=this.hexToRgb(z.primaryColor),R=this.hexToRgb(z.secondaryColor),G=this.hexToRgb(z.tertiaryColor),H=this.luminance(I)<.45?"white":"black",N=this.luminance(R)<.45?"white":"black",O=this.luminance(G)<.45?"white":"black",B={r:I.r,g:I.g,b:I.b,a:z.primaryAlpha},L={r:R.r,g:R.g,b:R.b,a:z.secondaryAlpha},W={r:G.r,g:G.g,b:G.b,a:z.tertiaryAlpha};return r.createElement(o.A,{className:n.dialog,open:a,maxWidth:"md",fullWidth:!0,disablePortal:!1,onClose:function(t){var n,r;return null===(n=(r=e.props).onClose)||void 0===n?void 0:n.call(r,t)},keepMounted:!1,onEnter:this.handleDialogEnter,onEntered:this.handleDialogEntered},r.createElement(c.A,{style:{display:"flex",margin:"0 0 16px 0"}},r.createElement(u.A,{component:"h1",variant:"h4",style:{width:"100%",margin:0}},"Create A New Gradient")),r.createElement(l.A,{scroll:"paper",className:n.dialogContent},r.createElement(h.A,{container:!0,spacing:2},r.createElement(h.A,{item:!0,xs:12,md:8},r.createElement("div",{className:n.previewPanel},r.createElement(A.A,{in:a,timeout:300,appear:!0},r.createElement("div",{className:n.gradientPreviewWrap},r.createElement("div",{className:n.gradientPreview,ref:this.previewRef}),r.createElement("div",{style:{width:"100%",position:"absolute",bottom:0,left:0,height:128,background:"linear-gradient(to top, #171717 5%, #17171780 35%, transparent)",borderBottomLeftRadius:21,borderBottomRightRadius:21}},r.createElement("span",{style:{position:"absolute",bottom:12,left:12,color:"#888"}},z.stats.svgSizeText)))),r.createElement(A.A,{in:a,timeout:450,appear:!0},r.createElement(h.A,{container:!0,spacing:1},r.createElement(h.A,{item:!0,xs:12,md:4},r.createElement(s.A,{fullWidth:!0,variant:"text",onClick:this.newSeed,startIcon:r.createElement(M.A,null)},"New Seed")),r.createElement(h.A,{item:!0,xs:12,md:4},r.createElement(s.A,{fullWidth:!0,variant:"text",onClick:this.randomize},"Randomize")),r.createElement(h.A,{item:!0,xs:12,md:4},r.createElement(s.A,{fullWidth:!0,variant:"text",onClick:this.downloadSVG,startIcon:r.createElement(x.A,null)},"Download")))),r.createElement(A.A,{in:a,timeout:500,appear:!0},r.createElement("div",{className:n.canvasInputRow},r.createElement(d.A,{label:"Width",type:"number",variant:"outlined",size:"small",value:z.canvasWidth,onChange:function(t){return e.setState({canvasWidth:t.target.value},(function(){e.syncPreviewSize(),e.generateNewGradient()}))},style:{display:k?"block":"none"}}),r.createElement(d.A,{label:"Height",type:"number",variant:"outlined",size:"small",value:z.canvasHeight,onChange:function(t){return e.setState({canvasHeight:t.target.value},(function(){e.syncPreviewSize(),e.generateNewGradient()}))},style:{display:k?"block":"none"}}),r.createElement(d.A,{label:"Seed",variant:"outlined",size:"small",value:z.seed,onChange:this.handleChangeGenerate("seed"),style:{gridColumn:k?"auto":"1 / -1"}}))))),r.createElement(h.A,{item:!0,xs:12,md:4},r.createElement("div",{className:n.controlsPanel},r.createElement(A.A,{in:a,timeout:300,appear:!0},r.createElement(C.A,{expanded:"colors"===z.expandedPanel,onChange:this.handlePanelChange("colors")},r.createElement(E.A,{expandIcon:r.createElement(w.A,null)},r.createElement(u.A,{className:n.sectionTitle,component:"h5"},"Colors")),r.createElement(_.A,{style:{display:"block"}},r.createElement(h.A,{container:!0,spacing:1,alignItems:"left"},r.createElement(h.A,{item:!0,xs:12},r.createElement(u.A,{gutterBottom:!0,variant:"caption",style:{display:"block",marginBottom:6}},"Color Count"),r.createElement(P.A,{value:z.colorCount,exclusive:!0,size:"small",className:n.colorCount,onChange:this.handleColorCountToggle,"aria-label":"color count",style:{width:"100%"}},r.createElement(S.A,{value:1,"aria-label":"1 color",style:{flex:1,fontWeight:"bold"}},"1"),r.createElement(S.A,{value:2,"aria-label":"2 colors",style:{flex:1,fontWeight:"bold"}},"2"),r.createElement(S.A,{value:3,"aria-label":"3 colors",style:{flex:1,fontWeight:"bold"}},"3"))),r.createElement(h.A,{item:!0,xs:3===z.colorCount?4:2===z.colorCount?6:12},r.createElement(s.A,{variant:"contained",className:n.colorButton,style:{color:H,background:z.primaryColor},onClick:this.openColorMenu("primary")},1===z.colorCount?"Color":"Color 1")),z.colorCount>=2&&r.createElement(h.A,{item:!0,xs:3===z.colorCount?4:6},r.createElement(s.A,{variant:"contained",className:n.colorButton,style:{color:N,background:z.secondaryColor},onClick:this.openColorMenu("secondary")},"Color 2")),z.colorCount>=3&&r.createElement(h.A,{item:!0,xs:4},r.createElement(s.A,{variant:"contained",className:n.colorButton,style:{color:O,background:z.tertiaryColor},onClick:this.openColorMenu("tertiary")},"Color 3")),r.createElement(h.A,{item:!0,xs:12},r.createElement(y.A,{mt:2},r.createElement(v.A,{variant:"outlined",fullWidth:!0},r.createElement(p.A,{id:"palette-type-label"},"Palette Type"),r.createElement(g.A,{labelId:"palette-type-label",id:"palette-type",label:"Palette Type",value:z.paletteType,onChange:this.handlePaletteTypeChange,MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}},this.getPaletteOptions().map((function(e){return r.createElement(f.A,{key:e.value,value:e.value},e.label)})))))),r.createElement(h.A,{item:!0,xs:12},r.createElement(y.A,{className:n.palettePreview},this.currentPalette.map((function(e,t){return r.createElement("div",{key:t,className:n.colorSwatch,style:{background:e},title:e})})))))))),r.createElement(A.A,{in:a,timeout:450,appear:!0},r.createElement(C.A,{expanded:"gradient"===z.expandedPanel,onChange:this.handlePanelChange("gradient")},r.createElement(E.A,{expandIcon:r.createElement(w.A,null)},r.createElement(u.A,{className:n.sectionTitle,component:"h5"},"Gradient Type")),r.createElement(_.A,{style:{display:"block"}},r.createElement(v.A,{variant:"outlined",fullWidth:!0},r.createElement(p.A,null,"Type"),r.createElement(g.A,{label:"Type",value:z.gradientType,onChange:this.handleChangeGenerate("gradientType")},r.createElement(f.A,{value:"linear"},"Linear"),r.createElement(f.A,{value:"radial"},"Radial"),r.createElement(f.A,{value:"blob"},"Blob"),r.createElement(f.A,{value:"mesh"},"Mesh"))),r.createElement(b.A,{in:"linear"===z.gradientType},r.createElement(y.A,{mt:2},r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Angle: ",z.angle,"°"),r.createElement(m.A,{min:0,max:360,value:z.angle,onChange:this.handleSliderGenerate("angle")}))),r.createElement(b.A,{in:"radial"===z.gradientType},r.createElement(y.A,{mt:2},r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Center X: ",z.centerX,"%"),r.createElement(m.A,{min:0,max:100,value:z.centerX,onChange:this.handleSliderGenerate("centerX")}),r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Center Y: ",z.centerY,"%"),r.createElement(m.A,{min:0,max:100,value:z.centerY,onChange:this.handleSliderGenerate("centerY")}),r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Radius X: ",z.radiusX,"%"),r.createElement(m.A,{min:10,max:100,value:z.radiusX,onChange:this.handleSliderGenerate("radiusX")}),r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Radius Y: ",z.radiusY,"%"),r.createElement(m.A,{min:10,max:100,value:z.radiusY,onChange:this.handleSliderGenerate("radiusY")}))),r.createElement(b.A,{in:"blob"===z.gradientType},r.createElement(y.A,{mt:2},r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Blob Count: ",z.blobCount),r.createElement(m.A,{min:2,max:8,value:z.blobCount,onChange:this.handleSliderGenerate("blobCount")}),r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Smoothness: ",z.smoothness),r.createElement(m.A,{min:50,max:200,value:z.smoothness,onChange:this.handleSliderGenerate("smoothness")}),r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Min Size: ",z.minSize,"%"),r.createElement(m.A,{min:10,max:50,value:z.minSize,onChange:this.handleSliderGenerate("minSize")}),r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Max Size: ",z.maxSize,"%"),r.createElement(m.A,{min:30,max:80,value:z.maxSize,onChange:this.handleSliderGenerate("maxSize")}))),r.createElement(b.A,{in:"mesh"===z.gradientType},r.createElement(y.A,{mt:2},r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Grid Size: ",z.gridSize,"x",z.gridSize),r.createElement(m.A,{min:2,max:6,value:z.gridSize,onChange:this.handleSliderGenerate("gridSize")}),r.createElement(u.A,{gutterBottom:!0,variant:"caption"},"Blur Intensity: ",z.blurIntensity),r.createElement(m.A,{min:50,max:300,value:z.blurIntensity,onChange:this.handleSliderGenerate("blurIntensity")})))))))))),r.createElement(i.A,null,r.createElement(s.A,{onClick:function(t){var n,r;return null===(n=(r=e.props).onClose)||void 0===n?void 0:n.call(r,t)},autoFocus:!0,variant:"text",color:"primary"},"Close"),r.createElement(s.A,{style:{backgroundColor:"#fff",color:"#000"},onClick:function(t){var n,r;return null===(n=(r=e.props).onAccept)||void 0===n?void 0:n.call(r,e.convertToBase64())},autoFocus:!0,variant:"contained",color:"secondary"},"Accept")),r.createElement(T.A,{className:n.menu,anchorEl:z.colorMenuAnchor,open:Boolean(z.colorMenuAnchor),onClose:this.closeColorMenu,getContentAnchorEl:null,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},style:{padding:0}},r.createElement(D,{className:n.materialPicker,color:"secondary"===z.colorMenuWhich?L:"tertiary"===z.colorMenuWhich?W:B,onChange:this.onPickerChange,onConfirm:this.closeColorMenu})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={},r=!1;return e.open!==t.open&&(n.open=e.open,r=!0),e.size!==t.size&&(n.size=e.size,r=!0),r?n:null}}])}(r.Component);const oe=(0,a.default)((function(e){return{dialog:{"& .MuiDialog-paper":$($({zIndex:e.zIndex.drawer+10,backgroundColor:"#0c0c0c",color:"#fff",borderRadius:21},e.breakpoints.down("sm"),{margin:0,maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",borderRadius:0}),e.breakpoints.up("md"),{maxWidth:"75vw",width:1e3,height:"auto"}),"& .MuiDialog-paperScrollPaper":$({},e.breakpoints.down("sm"),{maxHeight:"100%"}),"& .MuiDialog-paperFullWidth":$({},e.breakpoints.down("sm"),{width:"100% !important"})},dialogContent:{margin:"12px 0 24px 0"},previewPanel:{backgroundColor:"#171717",borderRadius:"21px",paddingBottom:"16px"},gradientPreviewWrap:{position:"relative",marginBottom:"16px"},gradientPreview:{position:"relative",width:"100%",height:405,borderRadius:21,overflow:"hidden",background:"#000"},controlsPanel:{maxHeight:"calc(80vh - 120px)",overflowY:"auto","& div.MuiPaper-rounded":{borderRadius:"21px",backgroundColor:"#171717"},"& .MuiAccordionDetails-root":{overflow:"hidden"},"& .MuiAccordion-root:before, & div.MuiAccordion-root.Mui-expanded:before":{opacity:0},"& .MuiAccordion-root":{margin:"8px 0"},"& .MuiAccordion-rounded:first-child":{borderTopLeftRadius:"21px",borderTopRightRadius:"21px"},"& .MuiAccordion-rounded:last-child":{borderBottomLeftRadius:"21px",borderBottomRightRadius:"21px"}},sectionTitle:{fontSize:16,fontWeight:600,color:"#ccc",letterSpacing:.5},colorCount:{"& .MuiToggleButton-root":{borderRadius:"21px"},"& .MuiToggleButtonGroup-groupedHorizontal:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0},"& .MuiToggleButtonGroup-groupedHorizontal:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},marginBottom:12},menu:{"& .MuiPaper-root":{background:"#212121",padding:0,borderRadius:"50%",boxShadow:"0 10px 30px rgba(0,0,0,0.35)"},"& .MuiList-padding":{padding:0}},materialPicker:{width:228,height:"auto",margin:4},colorButton:{fontWeight:"bold",borderRadius:"21px !important",height:56,width:"100%",textTransform:"none"},iconButtonSmallGrey:{"&.MuiIconButton-root":{color:"#666"},"&.MuiIconButton-root:hover":{color:"#999"}},colorSwatch:{width:30,height:30,borderRadius:6,border:"2px solid #333",cursor:"pointer",transition:"transform 0.2s ease","&:hover":{transform:"scale(1.1)"}},palettePreview:{display:"flex",gap:5,marginTop:10,flexWrap:"wrap"},canvasInputRow:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8,padding:"0 12px",marginTop:12}}}))(ae)}}]);