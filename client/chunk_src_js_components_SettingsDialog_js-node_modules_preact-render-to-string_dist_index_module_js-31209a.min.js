(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([["src_js_components_SettingsDialog_js-node_modules_preact-render-to-string_dist_index_module_js-31209a"],{85328:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});n(62953);var a=n(17402),r=n(76942),l=n(79626),o=n(39870),i=n(68016),c=n(5696),s=n(65816),u=n(54392),d=n(48672),f=n(96746),p=n(15776),h=n(64794),_=n(72572),m=n(94422),g=n(52706),b=n(55202),v=n(86982),y=n(48475),w=n(89054),x=n(4486),E=n(69205),A=n(44751),C=n.n(A),k=n(44041);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},S.apply(null,arguments)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends a.default.PureComponent{constructor(e){super(e),j(this,"_on18_close",(()=>{this.setState({_18_open:!1},this.forceUpdate)})),j(this,"_on18_open",(()=>{this.setState({_18_open:!0},this.forceUpdate)})),j(this,"_on_settings_changed",(()=>{E.wn(0),setTimeout((()=>{E.wn(100)}),250),E.FJ(),this.forceUpdate()})),j(this,"_handle_locales_changed",((e,t)=>{if(t){const e={locales:t.original.code};this.setState({_selected_locales_code:t.original.code||"en-US",_language:t.original.code.split("-")[0]||"en-US"}),x.nT(e,this._on_settings_changed),E.ns("ui_lock")}})),j(this,"_handle_nsfw_enabled_switch_change",(e=>{const t=Boolean(this.state._nsfw_enabled);if(t){E.ns("ui_lock");const e={nsfw_enabled:!t};this.setState({_nsfw_enabled:!t}),x.nT(e,this._on_settings_changed)}else this._on18_open()})),j(this,"_on18_accept",(e=>{const t=Boolean(this.state._nsfw_enabled);if(!t){E.ns("ui_lock");const e={nsfw_enabled:!t};this.setState({_nsfw_enabled:!t,_18_open:!1}),x.nT(e,this._on_settings_changed)}})),j(this,"_handle_renderer_switch_change",(e=>{const t={renderer:e};this.setState({_renderer:e},this.forceUpdate),x.nT(t,this._on_settings_changed)})),j(this,"_handle_format_switch_change",(e=>{const t={format:e};this.setState({_format:e},this.forceUpdate),x.nT(t,this._on_settings_changed)})),j(this,"_handle_payout_switch_change",(e=>{const t={payout:e};this.setState({_payout:e},this.forceUpdate),x.nT(t,this._on_settings_changed)})),j(this,"_handle_voting_percent_change",((e,t)=>{const n={voting:t};this.setState({_voting:t},this.forceUpdate),x.nT(n,this._on_settings_changed)})),j(this,"_fuzzy_filter_locales",((e,t)=>C().filter(t.inputValue,e,{pre:'<b style="color: #ffffff;">',post:"</b>",extract:function(e){return e.name}}))),this.state=F({classes:e.classes,open:e.open,_locales:y.A,_currency_countries:v.L_,_language:document.documentElement.lang,_18_open:!1},e.settings)}shouldComponentUpdate(e,t,n){return!1}componentWillMount(){E.wn(0),E.qf(),setTimeout((()=>{E.wn(100)}),300)}componentWillReceiveProps(e,t){var n=e.settings;this.setState(F({open:e.open},n),(()=>{this.forceUpdate()}))}render(){const{classes:e,open:t,keepMounted:n}=this.state,{_locales:l,_voting:y,_payout:x,_format:E,_nsfw_enabled:A,_renderer:C,_currency_countries:P,_selected_locales_code:F,_18_open:j}=this.state;let T=l[0];for(let e=0;e<l.length;e++)l[e].code==F&&(T=l[e]);let O=[];Object.entries(P).forEach((e=>{const[t,n]=e;O.push(t)}));return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.A,{open:t,fullWidth:!0,disablePortal:!0,onClose:this.props.onClose,keepMounted:!1},a.default.createElement(c.A,{style:{display:"flex",margin:"0px 0px 16px 0px"}},a.default.createElement(u.A,{component:"h1",variant:"h4",style:{float:"left",width:"100%",margin:"0px"}},"Settings")),a.default.createElement(d.A,null),a.default.createElement(i.A,{className:e.dialogContent},a.default.createElement(u.A,{component:"h2",variant:"h6",className:e.subTitle},"Languages"),a.default.createElement(b.Ay,{fullWidth:!0,value:T,filterOptions:this._fuzzy_filter_locales,onChange:this._handle_locales_changed,id:"locales-autocomplete",options:l,getOptionLabel:e=>e.name||e.original.name,renderOption:e=>a.default.createElement("div",null,a.default.createElement("img",{src:(0,w.A)(e.original.svg,!v.Yj.includes(e.original.code.split("-")[0])),style:{marginRight:8,verticalAlign:"middle",height:24}}),a.default.createElement("span",{style:{color:v.Yj.includes(e.original.code.split("-")[0])?"#ffffff":"#9d9d9d"},dangerouslySetInnerHTML:{__html:e.string}})),renderInput:e=>a.default.createElement(_.A,S({},e,{label:(0,r.t)("words.locales",{FLC:!0}),margin:"normal"}))}),a.default.createElement(u.A,{component:"h2",variant:"h6",className:e.subTitle},"Rendering Engine"),a.default.createElement(g.A,{row:!0,name:"rendering-engine-selection",value:C},a.default.createElement(p.A,{value:"square",control:a.default.createElement(m.A,{color:"primary"}),label:"Square",labelPlacement:"bottom",onClick:()=>{this._handle_renderer_switch_change("square")}}),a.default.createElement(p.A,{value:"hexagon",control:a.default.createElement(m.A,{color:"primary"}),label:"Hexagon",labelPlacement:"bottom",onClick:()=>{this._handle_renderer_switch_change("hexagon")}}),a.default.createElement(p.A,{value:"crt",control:a.default.createElement(m.A,{color:"primary"}),label:"CRT/LCD",labelPlacement:"bottom",onClick:()=>{this._handle_renderer_switch_change("crt")}}),a.default.createElement(p.A,{value:"xbrz",control:a.default.createElement(m.A,{color:"primary"}),label:"Painting",labelPlacement:"bottom",onClick:()=>{this._handle_renderer_switch_change("xbrz")}})),a.default.createElement(u.A,{component:"h2",variant:"h6",className:e.subTitle},"Download File Format"),a.default.createElement(g.A,{row:!0,name:"file-format-selection",value:E},a.default.createElement(p.A,{value:"png",control:a.default.createElement(m.A,{color:"primary"}),label:"PNG",labelPlacement:"bottom",onClick:()=>{this._handle_format_switch_change("png")}}),a.default.createElement(p.A,{value:"webp",control:a.default.createElement(m.A,{color:"primary"}),label:"WebP",labelPlacement:"bottom",onClick:()=>{this._handle_format_switch_change("webp")}}),a.default.createElement(p.A,{value:"jpeg",control:a.default.createElement(m.A,{color:"primary"}),label:"JPEG",labelPlacement:"bottom",onClick:()=>{this._handle_format_switch_change("jpeg")}})),a.default.createElement(u.A,{component:"h2",variant:"h6",className:e.subTitle},"Sensible Content"),a.default.createElement(p.A,{value:"Enable NSFW",control:a.default.createElement(h.A,{checked:A,onChange:this._handle_nsfw_enabled_switch_change,color:"primary"}),label:"Enable Not Safe For Watching",labelPlacement:"end"}),a.default.createElement(u.A,{component:"h2",variant:"h6",className:e.subTitle},"Preferred Payout"),a.default.createElement(g.A,{row:!0,name:"payout",value:x},a.default.createElement(p.A,{value:"decline",control:a.default.createElement(m.A,{color:"primary"}),label:"Renounced",labelPlacement:"bottom",onClick:()=>{this._handle_payout_switch_change("decline")}}),a.default.createElement(p.A,{value:"share",control:a.default.createElement(m.A,{color:"primary"}),label:"Balanced",labelPlacement:"bottom",onClick:()=>{this._handle_payout_switch_change("share")}}),a.default.createElement(p.A,{value:"power",control:a.default.createElement(m.A,{color:"primary"}),label:"Sovereign",labelPlacement:"bottom",onClick:()=>{this._handle_payout_switch_change("power")}})),a.default.createElement(u.A,{component:"h2",variant:"h6",className:e.subTitle},"Voting Power"),a.default.createElement(k.A,{color:"secondary",className:e.slider,value:parseInt(y),onChange:(e,t)=>this._handle_voting_percent_change(e,t),valueLabelDisplay:"auto",marks:[{value:0,label:"0%"},{value:25,label:"25%"},{value:33,label:"33%"},{value:50,label:"50%"},{value:66,label:"66%"},{value:75,label:"75%"},{value:100,label:"100%"}]}),a.default.createElement(u.A,{component:"h2",variant:"h6",className:e.subTitle},"Endpoint"),a.default.createElement("b",null,"The endpoint can not be modified until the app get full featured.")),a.default.createElement(s.A,null,a.default.createElement(f.A,{onClick:this.props.onClose,autoFocus:!0,variant:"contained",color:"primary"},"Close"))),a.default.createElement(o.A,{open:j,maxWidth:"xs",disablePortal:!1,onClose:this._on18_close,keepMounted:n},a.default.createElement(c.A,{style:{display:"flex",margin:"0px 0px 16px 0px"}},a.default.createElement(u.A,{component:"h1",variant:"h4",style:{float:"left",width:"100%",margin:"0px"}},"This is an adult functionality")),a.default.createElement(d.A,null),a.default.createElement(i.A,{className:e.dialogContent},a.default.createElement("p",null,"This functionality makes age-restricted materials visible including (and not limited to) nudity and potentially violence. By enabling it, you affirm that you are at least 18 years of age or the age of majority in the jurisdiction you are accessing the website from and you consent to viewing explicit content.")),a.default.createElement(s.A,null,a.default.createElement(f.A,{onClick:this._on18_close,autoFocus:!0,variant:"contained",color:"primary"},"I am under 18 - Cancel"),a.default.createElement(f.A,{onClick:this._on18_accept,variant:"text",color:"primary"},"I am 18 or older - Enable"))))}}const O=(0,l.default)((e=>({subTitle:{margin:"24px 0px 12px 0px"},dialogContent:{margin:"12px 0px 24px 0px"},slider:{margin:"16px 16px 32px 16px",width:"calc(100% - 32px)","& .MuiSlider-valueLabel":{color:"#fff"},"& .MuiSlider-valueLabel > span > span":{color:"#000"},"& .MuiSlider-thumb":{boxShadow:"0px 0px 0px 14px rgb(255 255 255 / 16%)"},"& .MuiSlider-active.MuiSlider-thumb":{boxShadow:"0px 0px 0px 14px rgb(255 255 255 / 24%)"}}})))(T)},44751:e=>{var t;t={},e.exports=t,t.simpleFilter=function(e,n){return n.filter((function(n){return t.test(e,n)}))},t.test=function(e,n){return null!==t.match(e,n)},t.match=function(e,t,n){n=n||{};var a,r=0,l=[],o=t.length,i=0,c=0,s=n.pre||"",u=n.post||"",d=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var f=0;f<o;f++)a=t[f],d[f]===e[r]?(a=s+a+u,r+=1,c+=1+c):c=0,i+=c,l[l.length]=a;return r===e.length?(i=d===e?1/0:i,{rendered:l.join(""),score:i}):null},t.filter=function(e,n,a){return n&&0!==n.length?"string"!=typeof e?n:(a=a||{},n.reduce((function(n,r,l,o){var i=r;a.extract&&(i=a.extract(r));var c=t.match(e,i,a);return null!=c&&(n[n.length]={string:c.rendered,score:c.score,index:l,original:r}),n}),[]).sort((function(e,t){var n=t.score-e.score;return n||e.index-t.index}))):[]}},98394:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>F});var a=n(50172),r=/[\s\n\\/='"\0<>]/,l=/^(xlink|xmlns|xml)([A-Z])/,o=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|spellC|src[A-Z]|tabI|useM|item[A-Z]/,i=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|spel|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,c=/["&<]/;function s(e){if(0===e.length||!1===c.test(e))return e;for(var t=0,n=0,a="",r="";n<e.length;n++){switch(e.charCodeAt(n)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;default:continue}n!==t&&(a+=e.slice(t,n)),a+=r,t=n+1}return n!==t&&(a+=e.slice(t,n)),a}var u={},d=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),f=/[A-Z]/g;function p(e){var t="";for(var n in e){var a=e[n];if(null!=a&&""!==a){var r="-"==n[0]?n:u[n]||(u[n]=n.replace(f,"-$&").toLowerCase()),l=";";"number"!=typeof a||r.startsWith("--")||d.has(r)||(l="px;"),t=t+r+":"+a+l}}return t||void 0}function h(){this.__d=!0}function _(e,t){return{__v:e,context:t,props:e.props,setState:h,forceUpdate:h,__d:!0,__h:new Array(0)}}var m,g,b,v,y={},w=[],x=Array.isArray,E=Object.assign,A="";function C(e,t,n){var r=a.fF.__s;a.fF.__s=!0,m=a.fF.__b,g=a.fF.diffed,b=a.fF.__r,v=a.fF.unmount;var l=(0,a.h)(a.FK,null);l.__k=[e];try{var o=S(e,t||y,!1,void 0,l,!1,n);return x(o)?o.join(A):o}catch(e){if(e.then)throw new Error('Use "renderToStringAsync" for suspenseful rendering.');throw e}finally{a.fF.__c&&a.fF.__c(e,w),a.fF.__s=r,w.length=0}}function k(e,t){var n,a=e.type,r=!0;return e.__c?(r=!1,(n=e.__c).state=n.__s):n=new a(e.props,t),e.__c=n,n.__v=e,n.props=e.props,n.context=t,n.__d=!0,null==n.state&&(n.state=y),null==n.__s&&(n.__s=n.state),a.getDerivedStateFromProps?n.state=E({},n.state,a.getDerivedStateFromProps(n.props,n.state)):r&&n.componentWillMount?(n.componentWillMount(),n.state=n.__s!==n.state?n.__s:n.state):!r&&n.componentWillUpdate&&n.componentWillUpdate(),b&&b(e),n.render(n.props,n.state,t)}function S(e,t,n,c,u,d,f){if(null==e||!0===e||!1===e||e===A)return A;var h=typeof e;if("object"!=h)return"function"==h?A:"string"==h?s(e):e+A;if(x(e)){var w,C=A;u.__k=e;for(var F=0;F<e.length;F++){var j=e[F];if(null!=j&&"boolean"!=typeof j){var T,O=S(j,t,n,c,u,d,f);"string"==typeof O?C+=O:(w||(w=[]),C&&w.push(C),C=A,x(O)?(T=w).push.apply(T,O):w.push(O))}}return w?(C&&w.push(C),w):C}if(void 0!==e.constructor)return A;e.__=u,m&&m(e);var L=e.type,N=e.props;if("function"==typeof L){var U,M,D,W=t;if(L===a.FK){if("tpl"in N){for(var z=A,I=0;I<N.tpl.length;I++)if(z+=N.tpl[I],N.exprs&&I<N.exprs.length){var q=N.exprs[I];if(null==q)continue;"object"!=typeof q||void 0!==q.constructor&&!x(q)?z+=q:z+=S(q,t,n,c,e,d,f)}return z}if("UNSTABLE_comment"in N)return"\x3c!--"+s(N.UNSTABLE_comment)+"--\x3e";M=N.children}else{if(null!=(U=L.contextType)){var B=t[U.__c];W=B?B.props.value:U.__}var R=L.prototype&&"function"==typeof L.prototype.render;if(R)M=k(e,W),D=e.__c;else{e.__c=D=_(e,W);for(var Z=0;D.__d&&Z++<25;)D.__d=!1,b&&b(e),M=L.call(D,N,W);D.__d=!0}if(null!=D.getChildContext&&(t=E({},t,D.getChildContext())),R&&a.fF.errorBoundaries&&(L.getDerivedStateFromError||D.componentDidCatch)){M=null!=M&&M.type===a.FK&&null==M.key&&null==M.props.tpl?M.props.children:M;try{return S(M,t,n,c,e,d,f)}catch(r){return L.getDerivedStateFromError&&(D.__s=L.getDerivedStateFromError(r)),D.componentDidCatch&&D.componentDidCatch(r,y),D.__d?(M=k(e,t),null!=(D=e.__c).getChildContext&&(t=E({},t,D.getChildContext())),S(M=null!=M&&M.type===a.FK&&null==M.key&&null==M.props.tpl?M.props.children:M,t,n,c,e,d,f)):A}finally{g&&g(e),e.__=null,v&&v(e)}}}M=null!=M&&M.type===a.FK&&null==M.key&&null==M.props.tpl?M.props.children:M;try{var H=S(M,t,n,c,e,d,f);return g&&g(e),e.__=null,a.fF.unmount&&a.fF.unmount(e),H}catch(r){if(!d&&f&&f.onError){var K=f.onError(r,e,(function(a){return S(a,t,n,c,e,d,f)}));if(void 0!==K)return K;var V=a.fF.__e;return V&&V(r,e),A}if(!d)throw r;if(!r||"function"!=typeof r.then)throw r;return r.then((function a(){try{return S(M,t,n,c,e,d,f)}catch(r){if(!r||"function"!=typeof r.then)throw r;return r.then((function(){return S(M,t,n,c,e,d,f)}),a)}}))}}var $,G="<"+L,J=A;for(var Y in N){var X=N[Y];if("function"!=typeof X){switch(Y){case"children":$=X;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in N)continue;Y="for";break;case"className":if("class"in N)continue;Y="class";break;case"defaultChecked":Y="checked";break;case"defaultSelected":Y="selected";break;case"defaultValue":case"value":switch(Y="value",L){case"textarea":$=X;continue;case"select":c=X;continue;case"option":c!=X||"selected"in N||(G+=" selected")}break;case"dangerouslySetInnerHTML":J=X&&X.__html;continue;case"style":"object"==typeof X&&(X=p(X));break;case"acceptCharset":Y="accept-charset";break;case"httpEquiv":Y="http-equiv";break;default:if(l.test(Y))Y=Y.replace(l,"$1:$2").toLowerCase();else{if(r.test(Y))continue;"-"!==Y[4]&&"draggable"!==Y||null==X?n?i.test(Y)&&(Y="panose1"===Y?"panose-1":Y.replace(/([A-Z])/g,"-$1").toLowerCase()):o.test(Y)&&"spellcheck"===(Y=Y.toLowerCase())&&(X=""+X):X+=A}}null!=X&&!1!==X&&(G=!0===X||X===A?G+" "+Y:G+" "+Y+'="'+("string"==typeof X?s(X):X+A)+'"')}}if(r.test(L))throw new Error(L+" is not a valid HTML tag name in "+G+">");if(J||("string"==typeof $?J=s($):null!=$&&!1!==$&&!0!==$&&(J=S($,t,"svg"===L||"foreignObject"!==L&&n,c,e,d,f))),g&&g(e),e.__=null,v&&v(e),!J&&P.has(L))return G+"/>";var Q="</"+L+">",ee=G+">";return x(J)?[ee].concat(J,[Q]):"string"!=typeof J?[ee,J,Q]:ee+J+Q}var P=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]);const F=C},56596:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o});const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=e=>{let t,n,r,l,o,i,c,s=0,u="";for(e=(e=>{e=e.replace(/\r\n/g,"\n");let t=0,n="";for(;t<e.length;t++){const a=e.charCodeAt(t);a<128?n+=String.fromCharCode(a):a>127&&a<2048?(n+=String.fromCharCode(a>>6|192),n+=String.fromCharCode(63&a|128)):(n+=String.fromCharCode(a>>12|224),n+=String.fromCharCode(a>>6&63|128),n+=String.fromCharCode(63&a|128))}return n})(e);s<e.length;)t=e.charCodeAt(s++),n=e.charCodeAt(s++),r=e.charCodeAt(s++),l=t>>2,o=(3&t)<<4|n>>4,i=(15&n)<<2|r>>6,c=63&r,isNaN(n)?i=c=64:isNaN(r)&&(c=64),u=u+a.charAt(l)+a.charAt(o)+a.charAt(i)+a.charAt(c);return u},l=e=>"data:image/svg+xml;base64,"+r(e),o=e=>{switch((e=>"string"==typeof e?"string":"undefined"!=typeof SVGElement&&e instanceof SVGElement?"element":void 0)(e)){case"string":return l(e);case"element":return(e=>l((new XMLSerializer).serializeToString(e)))(e);default:return e}}}}]);