/*! For license information please see chunk_src_js_components_TextEditorDialog_js.min.js.LICENSE.txt */
"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([["src_js_components_TextEditorDialog_js"],{32163:(e,t,n)=>{n.d(t,{A:()=>L});n(52675),n(89463),n(2259),n(51629),n(23418),n(74423),n(64346),n(23792),n(23288),n(94170),n(62010),n(69085),n(59904),n(67945),n(84185),n(83851),n(81278),n(40875),n(79432),n(10287),n(60825),n(27495),n(38781),n(21699),n(47764),n(23500),n(62953),n(45700),n(28706),n(2008),n(25276),n(62062),n(34782),n(15086),n(54554),n(89572),n(2892),n(26099),n(42762),n(76031);var r=n(17402),a=n(5556),o=n.n(a),i=n(8728),l=n(7160),u=n(88016),s=n(38306),c=n(33615),d=n(79626),f=n(69312),p=n(95652),h=n(32485),m=n.n(h),g=["allowDuplicates","alwaysShowPlaceholder","blurBehavior","children","chipRenderer","classes","className","clearInputValueOnChange","dataSource","dataSourceConfig","defaultValue","delayBeforeAdd","disabled","disableUnderline","error","filter","FormHelperTextProps","fullWidth","fullWidthInput","helperText","id","InputProps","inputRef","InputLabelProps","inputValue","label","newChipKeyCodes","newChipKeys","onBeforeAdd","onAdd","onBlur","onDelete","onChange","onFocus","onKeyDown","onKeyPress","onKeyUp","onUpdateInput","placeholder","readOnly","required","rootRef","value","variant","endAdornment"];function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(null,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function k(e,t,n){return t=D(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,x()?Reflect.construct(t,n||[],D(e).constructor):t.apply(e,n))}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function I(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var T={standard:i.A,filled:l.Ay,outlined:u.A},P=8,M=46,B=37,N=39,j=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(n=k(this,t,[e]),"state",{chips:[],errorText:void 0,focusedChip:null,inputValue:"",isClean:!0,isFocused:!1,chipsUpdated:!1,prevPropsValue:[]}),I(n,"focus",(function(){n.actualInput.focus(),null!=n.state.focusedChip&&n.setState({focusedChip:null})})),I(n,"handleInputBlur",(function(e){n.props.onBlur&&n.props.onBlur(e),n.setState({isFocused:!1}),null!=n.state.focusedChip&&n.setState({focusedChip:null});var t,r=e.target.value;switch(n.props.blurBehavior){case"add-or-clear":t={clearInputOnFail:!0};case"add":if(n.props.delayBeforeAdd){var a=(n.props.value||n.state.chips).length;n.inputBlurTimeout=setTimeout((function(){var e=(n.props.value||n.state.chips).length;a===e?n.handleAddChip(r,t):n.clearInput()}),150)}else n.handleAddChip(r,t);break;case"clear":n.clearInput()}})),I(n,"handleInputFocus",(function(e){n.setState({isFocused:!0}),n.props.onFocus&&n.props.onFocus(e)})),I(n,"handleKeyDown",(function(e){var t=n.state.focusedChip;if(n._keyPressed=!1,n._preventChipCreation=!1,!n.props.onKeyDown||(n.props.onKeyDown(e),!e.isDefaultPrevented())){var r=n.props.value||n.state.chips;if(n.props.newChipKeyCodes.indexOf(e.keyCode)>=0||n.props.newChipKeys.indexOf(e.key)>=0)!1!==n.handleAddChip(e.target.value)&&e.preventDefault();else switch(e.keyCode){case P:""===e.target.value&&(null!=t?(n.handleDeleteChip(r[t],t),t>0&&n.setState({focusedChip:t-1})):n.setState({focusedChip:r.length-1}));break;case M:""===e.target.value&&null!=t&&(n.handleDeleteChip(r[t],t),t<=r.length-1&&n.setState({focusedChip:t}));break;case B:null==t&&""===e.target.value&&r.length?n.setState({focusedChip:r.length-1}):null!=t&&t>0&&n.setState({focusedChip:t-1});break;case N:null!=t&&t<r.length-1?n.setState({focusedChip:t+1}):n.setState({focusedChip:null});break;default:n.setState({focusedChip:null})}}})),I(n,"handleKeyUp",(function(e){!n._preventChipCreation&&(n.props.newChipKeyCodes.indexOf(e.keyCode)>=0||n.props.newChipKeys.indexOf(e.key)>=0)&&n._keyPressed?n.clearInput():n.updateInput(e.target.value),n.props.onKeyUp&&n.props.onKeyUp(e)})),I(n,"handleKeyPress",(function(e){n._keyPressed=!0,n.props.onKeyPress&&n.props.onKeyPress(e)})),I(n,"handleUpdateInput",(function(e){null==n.props.inputValue&&n.updateInput(e.target.value),n.props.onUpdateInput&&n.props.onUpdateInput(e)})),I(n,"setActualInputRef",(function(e){n.actualInput=e,n.props.inputRef&&n.props.inputRef(e)})),e.defaultValue&&(n.state.chips=e.defaultValue),n.labelRef=r.default.createRef(),n.input=r.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),n=t,a=[{key:"componentDidMount",value:function(){"outlined"===this.props.variant&&(this.labelNode=r.default.findDOMNode(this.labelRef.current),this.forceUpdate())}},{key:"componentWillUnmount",value:function(){clearTimeout(this.inputBlurTimeout)}},{key:"blur",value:function(){this.input&&this.actualInput.blur()}},{key:"handleAddChip",value:function(e,t){var n=this;if(this.props.onBeforeAdd&&!this.props.onBeforeAdd(e))return this._preventChipCreation=!0,null!=t&&t.clearInputOnFail&&this.clearInput(),!1;this.clearInput();var r=this.props.value||this.state.chips;return this.props.dataSourceConfig?("string"==typeof e&&(e=I(I({},this.props.dataSourceConfig.text,e),this.props.dataSourceConfig.value,e)),!this.props.allowDuplicates&&r.some((function(t){return t[n.props.dataSourceConfig.value]===e[n.props.dataSourceConfig.value]}))||(this.props.value&&this.props.onAdd?this.props.onAdd(e):this.updateChips([].concat(E(this.state.chips),[e]))),!0):e.trim().length>0&&((this.props.allowDuplicates||-1===r.indexOf(e))&&(this.props.value&&this.props.onAdd?this.props.onAdd(e):this.updateChips([].concat(E(this.state.chips),[e]))),!0)}},{key:"handleDeleteChip",value:function(e,t){if(this.props.value)this.props.onDelete&&this.props.onDelete(e,t);else{var n=this.state.chips.slice();if(n.splice(t,1)){var r=this.state.focusedChip;this.state.focusedChip===t?r=null:this.state.focusedChip>t&&(r=this.state.focusedChip-1),this.updateChips(n,{focusedChip:r})}}}},{key:"updateChips",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setState(C({chips:e,chipsUpdated:!0},t)),this.props.onChange&&this.props.onChange(e)}},{key:"clearInput",value:function(){this.updateInput("")}},{key:"updateInput",value:function(e){this.setState({inputValue:e})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.allowDuplicates,t.alwaysShowPlaceholder),a=(t.blurBehavior,t.children,t.chipRenderer),o=void 0===a?R:a,i=t.classes,l=t.className,u=(t.clearInputValueOnChange,t.dataSource,t.dataSourceConfig),c=(t.defaultValue,t.delayBeforeAdd,t.disabled),d=t.disableUnderline,h=t.error,y=(t.filter,t.FormHelperTextProps),b=t.fullWidth,C=t.fullWidthInput,E=t.helperText,w=t.id,A=t.InputProps,k=void 0===A?{}:A,x=(t.inputRef,t.InputLabelProps),D=void 0===x?{}:x,S=t.inputValue,O=t.label,P=(t.newChipKeyCodes,t.newChipKeys,t.onBeforeAdd,t.onAdd,t.onBlur,t.onDelete,t.onChange,t.onFocus,t.onKeyDown,t.onKeyPress,t.onKeyUp,t.onUpdateInput,t.placeholder),M=t.readOnly,B=t.required,N=t.rootRef,j=t.value,L=t.variant,U=t.endAdornment,F=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,g),_=j||this.state.chips,W=null!=S?S:this.state.inputValue,K=(this.props.value||W).length>0||W.length>0,V=null!=D.shrink?D.shrink:null!=O&&(K||this.state.isFocused||_.length>0),z=_.map((function(t,n){var r=u?t[u.value]:t;return o({value:r,text:u?t[u.text]:t,chip:t,isDisabled:!!c,isReadOnly:M,isFocused:e.state.focusedChip===n,handleClick:function(){return e.setState({focusedChip:n})},handleDelete:function(){return e.handleDeleteChip(t,n)},className:i.chip},n)})),H={};"outlined"===L&&(H.notched=V,H.labelWidth=V&&this.labelNode&&this.labelNode.offsetWidth||0),"standard"!==L?H.startAdornment=r.default.createElement(r.default.Fragment,null,z):k.disableUnderline=!0,H.endAdornment=U;var G=T[L];return r.default.createElement(f.A,v({ref:N,fullWidth:b,className:m()(l,i.root,I({},i.marginDense,"dense"===F.margin)),error:h,required:_.length>0?void 0:B,onClick:this.focus,disabled:c,variant:L},F),O&&r.default.createElement(s.A,v({htmlFor:w,classes:{root:m()(i[L],i.label),shrink:i.labelShrink},shrink:V,focused:this.state.isFocused,variant:L,ref:this.labelRef,required:B},D),O),r.default.createElement("div",{className:m()(i[L],i.chipContainer,I(I(I(I(I({},i.focused,this.state.isFocused),i.underline,!d&&"standard"===L),i.disabled,c),i.labeled,null!=O),i.error,h))},"standard"===L&&z,r.default.createElement(G,v({ref:this.input,classes:{input:m()(i.input,i[L]),root:m()(i.inputRoot,i[L])},id:w,value:W,onChange:this.handleUpdateInput,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onKeyUp:this.handleKeyUp,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,inputRef:this.setActualInputRef,disabled:c,fullWidth:C,placeholder:!K&&(V||null==O)||n?P:null,readOnly:M},k,H))),E&&r.default.createElement(p.A,v({},y,{className:y?m()(y.className,i.helperText):i.helperText}),E))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=null;return e.value&&e.value.length!==t.prevPropsValue.length&&(n={prevPropsValue:e.value},e.clearInputValueOnChange&&(n.inputValue="")),e.clearInputValueOnChange&&e.value&&e.value.length!==t.prevPropsValue.length&&(n={prevPropsValue:e.value,inputValue:""}),e.disabled&&(n=C(C({},n),{},{focusedChip:null})),!t.chipsUpdated&&e.defaultValue&&(n=C(C({},n),{},{chips:e.defaultValue})),n}}],a&&A(n.prototype,a),o&&A(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,o}(r.default.PureComponent);j.propTypes={endAdornment:o().node,allowDuplicates:o().bool,alwaysShowPlaceholder:o().bool,blurBehavior:o().oneOf(["clear","add","add-or-clear","ignore"]),chipRenderer:o().func,clearInputValueOnChange:o().bool,dataSource:o().array,dataSourceConfig:o().shape({text:o().string.isRequired,value:o().string.isRequired}),defaultValue:o().array,delayBeforeAdd:o().bool,disabled:o().bool,disableUnderline:o().bool,FormHelperTextProps:o().object,fullWidth:o().bool,fullWidthInput:o().bool,helperText:o().node,InputLabelProps:o().object,InputProps:o().object,inputRef:o().func,inputValue:o().string,label:o().node,newChipKeyCodes:o().arrayOf(o().number),newChipKeys:o().arrayOf(o().string),onAdd:o().func,onBeforeAdd:o().func,onChange:o().func,onDelete:o().func,onUpdateInput:o().func,placeholder:o().string,readOnly:o().bool,value:o().array,variant:o().oneOf(["outlined","standard","filled"])},j.defaultProps={allowDuplicates:!1,blurBehavior:"clear",clearInputValueOnChange:!1,delayBeforeAdd:!1,disableUnderline:!1,newChipKeyCodes:[13],newChipKeys:["Enter"],variant:"standard"};const L=(0,d.default)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{},inputRoot:{display:"inline-flex",flexWrap:"wrap",flex:1,marginTop:0,minWidth:70,"&$outlined,&$filled":{boxSizing:"border-box"},"&$outlined":{paddingTop:14},"&$filled":{paddingTop:28}},input:{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",appearance:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",float:"left",flex:1},chipContainer:{display:"flex",flexFlow:"row wrap",cursor:"text",marginBottom:-2,minHeight:40,"&$labeled&$standard":{marginTop:18}},outlined:{"& input":{height:16,paddingTop:4,paddingBottom:12,marginTop:4,marginBottom:4}},standard:{},filled:{"& input":{height:22,marginBottom:4,marginTop:4,paddingTop:0},"$marginDense & input":{height:26}},labeled:{},label:{top:4,"&$outlined&:not($labelShrink)":{top:2,"$marginDense &":{top:5}},"&$filled&:not($labelShrink)":{top:15,"$marginDense &":{top:20}}},labelShrink:{top:0},helperText:{marginBottom:-20},focused:{},disabled:{},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary[t?"dark":"light"]),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{"&:after":{backgroundColor:e.palette.error.main,transform:"scaleX(1)"}},chip:{margin:"0 8px 8px 0",float:"left"},marginDense:{}}}),{name:"WAMuiChipInput"})(j);var R=function(e,t){e.value;var n=e.text,a=e.isFocused,o=e.isDisabled,i=e.isReadOnly,l=e.handleClick,u=e.handleDelete,s=e.className;return r.default.createElement(c.A,{key:t,className:s,style:{pointerEvents:o||i?"none":void 0,backgroundColor:a?"rgb(96, 96, 96)":void 0},onClick:l,onDelete:u,label:n})}},58363:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Be});n(52675),n(89463),n(66412),n(2259),n(45700),n(78125),n(28706),n(2008),n(51629),n(74423),n(25276),n(23792),n(62062),n(94490),n(34782),n(59089),n(89572),n(23288),n(94170),n(62010),n(4731),n(60479),n(2892),n(59904),n(67945),n(84185),n(83851),n(81278),n(40875),n(79432),n(10287),n(26099),n(58940),n(3362),n(60825),n(27495),n(21699),n(47764),n(90744),n(42762),n(23500),n(62953),n(76031);var r=n(17402),a=n(79626),o=(n(92614),n(35143)),i=n(5124),l=n(64151),u=n(39870),s=n(32163),c=n(68016),d=n(65816),f=n(61434),p=n(35376),h=n(42460),m=n(96746),g=n(72572),y=n(54392),v=n(96232),b=n(69113),C=n(48085),E=n(84630),w=n(61466),A=n(77430),k=n(95834),x=n(69312),D=n(40827),S=n(5696),I=n(33615),O=n(83182),T=n(20426),P=n(6272),M=n(91004),B=n(69205),N=n(73546),j=n(92421),L=n(98039),R=n(29067),U=n(50915),F=n(78295),_=n(13565),W=n(12636),K=n(23119),V=n(89806),z=n(65595),H=n(66424),G=n(84022),$=n(66324),q=n(24711),Q=n(11903),Y=n(77649),X=n(86848),Z=n(32580),J=n(10148),ee=n(64054),te=n(50020),ne=n(9159),re=n(3280),ae=n(19948),oe=n(7400),ie=n(64061),le=n(78896),ue=n(17807),se=n(40693),ce=n(31334),de=n(49974);function fe(e,t,n){return t=he(t),function(e,t){if(t&&("object"==ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pe()?Reflect.construct(t,n||[],he(e).constructor):t.apply(e,n))}function pe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pe=function(){return!!e})()}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return(t=Se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(){Ee=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:D(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function y(){}function v(){}function b(){}var C={};s(C,i,(function(){return this}));var E=Object.getPrototypeOf,w=E&&E(E(P([])));w&&w!==n&&r.call(w,i)&&(C=w);var A=b.prototype=y.prototype=Object.create(C);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,o,i,l){var u=d(e[a],e,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==ye(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(c).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function D(t,n,r){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===m){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var u=S(l,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?m:p,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=m,r.method="throw",r.arg=s.arg)}}}function S(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ye(t)+" is not iterable")}return v.prototype=b,a(A,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:v,configurable:!0}),v.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(x.prototype),s(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new x(c(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),s(A,u,"Generator"),s(A,i,(function(){return this})),s(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function we(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){we(o,r,a,i,l,"next",e)}function l(e){we(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Se(r.key),r)}}function De(e,t,n){return t&&xe(e.prototype,t),n&&xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e){var t=function(e,t){if("object"!=ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ye(t)?t:t+""}var Ie=function(){return De((function e(){ke(this,e),this.db=null,this.collection=null}),[{key:"init",value:(i=Ae(Ee().mark((function e(){var t,r,a;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.collection){e.next=2;break}return e.abrupt("return",!0);case 2:return e.prev=2,e.next=5,Promise.resolve().then(n.bind(n,92614));case 5:return t=e.sent,r=t.LacertaDB,a=new r,e.next=10,a.getDatabase("drafts");case 10:return this.db=e.sent,e.next=13,this.db.createCollection("documents");case 13:return this.collection=e.sent,e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(2),console.error("DraftManager init failed:",e.t0),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,this,[[2,17]])}))),function(){return i.apply(this,arguments)})},{key:"save",value:(o=Ae(Ee().mark((function e(t,n){var r;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:if(r=be(be({},n),{},{lastModified:Date.now()}),e.prev=3,e.t0=t,!e.t0){e.next=9;break}return e.next=8,this.collection.get(t);case 8:e.t0=e.sent;case 9:if(!e.t0){e.next=15;break}return e.next=12,this.collection.update(t,r);case 12:return e.abrupt("return",e.sent);case 15:return e.next=17,this.collection.add(r);case 17:return e.abrupt("return",e.sent);case 18:e.next=24;break;case 20:return e.prev=20,e.t1=e.catch(3),console.error("Save failed:",e.t1),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,this,[[3,20]])}))),function(e,t){return o.apply(this,arguments)})},{key:"getMostRecent",value:(a=Ae(Ee().mark((function e(){var t;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.prev=2,e.next=5,this.collection.query({},{sort:{lastModified:-1},limit:1});case 5:return t=e.sent,e.abrupt("return",(null==t?void 0:t[0])||null);case 9:return e.prev=9,e.t0=e.catch(2),console.error("Get recent failed:",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return a.apply(this,arguments)})},{key:"get",value:(r=Ae(Ee().mark((function e(t){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.prev=2,e.next=5,this.collection.get(t);case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return r.apply(this,arguments)})},{key:"getAll",value:(t=Ae(Ee().mark((function e(){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.prev=2,e.next=5,this.collection.query({},{sort:{lastModified:-1},limit:50});case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=[];case 8:return e.abrupt("return",e.t0);case 11:return e.prev=11,e.t1=e.catch(2),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(){return t.apply(this,arguments)})},{key:"delete",value:(e=Ae(Ee().mark((function e(t){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.prev=2,e.next=5,this.collection.delete(t);case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(t){return e.apply(this,arguments)})}]);var e,t,r,a,o,i}(),Oe=function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()}),t)},Te=function(e){var t=e.contentState.getEntity(e.entityKey).getData().url;return r.default.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",style:{color:"#90caf9"}},e.children)},Pe=function(e){function t(e){var n;ke(this,t),Ce(n=fe(this,t,[e]),"onChange",(function(e){n.setState({editorState:e},(function(){n.updateStats(),n.scheduleAutoSave()}))})),Ce(n,"showConfirmDialog",(function(e,t,r){n.setState({confirmDialogOpen:!0,confirmDialogTitle:e,confirmDialogMessage:t,confirmDialogAction:r})})),Ce(n,"closeConfirmDialog",(function(){n.setState({confirmDialogOpen:!1,confirmDialogAction:null})})),Ce(n,"handleConfirmAction",(function(){n.state.confirmDialogAction&&n.state.confirmDialogAction(),n.closeConfirmDialog()})),Ce(n,"showPasswordDialog",(function(e,t){n.setState({passwordDialogOpen:!0,passwordDialogTitle:e,passwordDialogValue:"",passwordDialogAction:t})})),Ce(n,"closePasswordDialog",(function(){n.setState({passwordDialogOpen:!1,passwordDialogAction:null,passwordDialogValue:""})})),Ce(n,"handlePasswordAction",(function(){n.state.passwordDialogAction&&n.state.passwordDialogAction(n.state.passwordDialogValue),n.closePasswordDialog()})),Ce(n,"showImageUrlDialog",(function(){n.setState({imageUrlDialogOpen:!0,imageUrlDialogValue:"https://"})})),Ce(n,"closeImageUrlDialog",(function(){n.setState({imageUrlDialogOpen:!1,imageUrlDialogValue:""})})),Ce(n,"handleImageUrlInsert",(function(){var e=n.state.imageUrlDialogValue;e&&e.trim()&&"https://"!==e&&n.insertImageUrl(e),n.closeImageUrlDialog()})),Ce(n,"updateDraftStats",Ae(Ee().mark((function e(){var t,r,a,o;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.draftManager.getStats();case 3:(t=e.sent).success&&(console.log("Draft statistics:",t.data),n.setState({totalDrafts:(null===(r=t.data.drafts)||void 0===r?void 0:r.totalDrafts)||0,totalWords:(null===(a=t.data.drafts)||void 0===a?void 0:a.totalWords)||0,avgWordCount:Math.round((null===(o=t.data.drafts)||void 0===o?void 0:o.avgWordCount)||0)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to get stats:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),Ce(n,"openDraftsDialog",Ae(Ee().mark((function e(){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.saveDraft(!1);case 2:return n.setState({draftsDialogOpen:!0}),e.next=5,n.loadDrafts();case 5:return e.next=7,n.updateDraftStats();case 7:case"end":return e.stop()}}),e)})))),Ce(n,"closeDraftsDialog",(function(){n.setState({draftsDialogOpen:!1,draftsSearchQuery:"",filterTags:[],filterStatus:null})})),Ce(n,"handleDraftsSearch",(function(e){n.setState({draftsSearchQuery:e.target.value},(function(){clearTimeout(n.searchTimeout),n.searchTimeout=setTimeout(Ae(Ee().mark((function e(){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadDrafts();case 2:case"end":return e.stop()}}),e)}))),300)}))})),Ce(n,"formatDate",(function(e){var t=new Date(e),n=new Date-t;if(n<6e4)return"Just now";if(n<36e5){var r=Math.floor(n/6e4);return"".concat(r," minute").concat(r>1?"s":""," ago")}if(n<864e5){var a=Math.floor(n/36e5);return"".concat(a," hour").concat(a>1?"s":""," ago")}if(n<6048e5){var o=Math.floor(n/864e5);return"".concat(o," day").concat(o>1?"s":""," ago")}return t.toLocaleDateString()})),Ce(n,"focus",(function(){n.editorRef.current&&n.editorRef.current.focus()})),Ce(n,"handleKeyCommand",(function(e){var t=n.state.editorState,r=o.RichUtils.handleKeyCommand(t,e);return r?(n.onChange(r),"handled"):"save"===e?(n.handleSave(),"handled"):"not-handled"})),Ce(n,"keyBindingFn",(function(e){return(e.metaKey||e.ctrlKey)&&"s"===e.key?(e.preventDefault(),"save"):(e.metaKey||e.ctrlKey)&&"k"===e.key?(e.preventDefault(),n.openLinkDialog(),"handled"):(0,o.getDefaultKeyBinding)(e)})),Ce(n,"toggleInlineStyle",(function(e){n.onChange(o.RichUtils.toggleInlineStyle(n.state.editorState,e))})),Ce(n,"toggleBlockType",(function(e){n.onChange(o.RichUtils.toggleBlockType(n.state.editorState,e))})),Ce(n,"hasInlineStyle",(function(e){return n.state.editorState.getCurrentInlineStyle().has(e)})),Ce(n,"hasBlockType",(function(e){var t=n.state.editorState.getSelection();return n.state.editorState.getCurrentContent().getBlockForKey(t.getStartKey()).getType()===e})),Ce(n,"openLinkDialog",(function(){var e=n.state.editorState,t=e.getSelection(),r=e.getCurrentContent(),a=t.getStartKey(),o=t.getStartOffset(),i=t.getEndOffset(),l=r.getBlockForKey(a).getText().slice(o,i);n.setState({linkDialogOpen:!0,linkText:l,linkUrl:""})})),Ce(n,"closeLinkDialog",(function(){n.setState({linkDialogOpen:!1,linkUrl:"",linkText:""})})),Ce(n,"insertLink",(function(){var e,t=n.state,r=t.editorState,a=t.linkUrl,i=t.linkText,l=r.getCurrentContent().createEntity("LINK","MUTABLE",{url:a}),u=l.getLastCreatedEntityKey(),s=r.getSelection();e=s.isCollapsed()?i?o.Modifier.insertText(l,s,i,null,u):o.Modifier.insertText(l,s,a,null,u):o.Modifier.applyEntity(l,s,u);var c=o.EditorState.push(r,e,"apply-entity");n.onChange(c),n.closeLinkDialog()})),Ce(n,"insertImage",(function(){n.showImageUrlDialog()})),Ce(n,"insertImageUrl",(function(e){if(e){var t=n.state.editorState,r=t.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{src:e}).getLastCreatedEntityKey(),a=o.AtomicBlockUtils.insertAtomicBlock(t,r," ");n.onChange(a)}})),Ce(n,"handleImageUpload",(function(e){var t,r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){var a=new FileReader;a.onload=function(e){n.props.setGradient(e.target.result)},a.readAsDataURL(r)}})),Ce(n,"removeCoverImage",(function(){n.props.setGradient(null)})),Ce(n,"openGradientEditor",(function(e){e.stopImmediatePropagation(),B.Zx()})),Ce(n,"handleSave",Ae(Ee().mark((function e(){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.saveDraft(!0);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})))),Ce(n,"handlePublish",Ae(Ee().mark((function e(){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.handleSave();case 2:case"end":return e.stop()}}),e)})))),Ce(n,"openFormatMenu",(function(e){return n.setState({formatMenuAnchor:e.currentTarget})})),Ce(n,"closeFormatMenu",(function(){return n.setState({formatMenuAnchor:null})})),Ce(n,"openHeadingMenu",(function(e){return n.setState({headingMenuAnchor:e.currentTarget})})),Ce(n,"closeHeadingMenu",(function(){return n.setState({headingMenuAnchor:null})})),Ce(n,"openListMenu",(function(e){return n.setState({listMenuAnchor:e.currentTarget})})),Ce(n,"closeListMenu",(function(){return n.setState({listMenuAnchor:null})})),Ce(n,"toggleEditMenu",(function(){return n.setState({editOpened:!n.state.editOpened})})),Ce(n,"resetEditMenu",(function(){return n.setState({editOpened:!1})})),Ce(n,"getBlockStyle",(function(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";case"code-block":return"RichEditor-codeblock";default:return null}})),Ce(n,"blockRendererFn",(function(e){return"atomic"===e.getType()?{component:Me,editable:!1}:null})),Ce(n,"_handleTabChange",(function(e,t){n.setState({tab:t},(function(){n.swipeableViewScrollTop(),1===parseInt(t)&&n.resetEditMenu()}))})),Ce(n,"swipeableViewScrollTop",(function(){var e=document.getElementsByClassName("react-swipeable-view-container").item(0).children.item(0);e.style.scrollBehavior="smooth",e.scrollTop=0}));var a=new o.CompositeDecorator([{strategy:Oe,component:Te}]);return n.state={editorState:o.EditorState.createEmpty(a),title:"",description:"",tags:[],tab:0,currentDraftId:null,payout:"everyone",enableComments:!0,enableMonetization:!1,editOpened:!1,formatMenuAnchor:null,headingMenuAnchor:null,listMenuAnchor:null,linkDialogOpen:!1,linkUrl:"",linkText:"",draftsDialogOpen:!1,drafts:[],draftsLoading:!1,draftsSearchQuery:"",confirmDialogOpen:!1,confirmDialogTitle:"",confirmDialogMessage:"",confirmDialogAction:null,passwordDialogOpen:!1,passwordDialogTitle:"",passwordDialogValue:"",passwordDialogAction:null,imageUrlDialogOpen:!1,imageUrlDialogValue:"",wordCount:0,readingTime:0},n.editorRef=r.default.createRef(),n.fileInputRef=r.default.createRef(),n.draftManager=new Ie,n.autoSaveTimer=null,n}return me(t,e),De(t,[{key:"componentDidMount",value:(ye=Ae(Ee().mark((function e(){var t;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.draftManager.getMostRecent();case 2:(t=e.sent)&&this.loadDraftData(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return ye.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),this.saveDraft()}},{key:"loadDraftData",value:function(e){try{var t,n,r,a,i,u=e.content?(0,l.N)(e.content):o.EditorState.createEmpty().getCurrentContent(),s=new o.CompositeDecorator([{strategy:Oe,component:Te}]);this.setState({editorState:o.EditorState.createWithContent(u,s),title:e.title||"",description:e.description||"",tags:e.tags||[],currentDraftId:e._id,payout:(null===(t=e.settings)||void 0===t?void 0:t.payout)||"everyone",enableComments:null===(n=null===(r=e.settings)||void 0===r?void 0:r.enableComments)||void 0===n||n,enableMonetization:null!==(a=null===(i=e.settings)||void 0===i?void 0:i.enableMonetization)&&void 0!==a&&a,lastSaved:e.lastModified}),this.props.setGradient&&this.props.setGradient(e.gradient)}catch(e){console.error("Error loading draft:",e)}}},{key:"saveDraft",value:(ge=Ae(Ee().mark((function e(){var t,n,r,a,o,l,u,s,c,d,f,p,h,m,g,y=arguments;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y.length>0&&void 0!==y[0]&&y[0],n=this.state,r=n.currentDraftId,a=n.editorState,o=n.title,l=n.description,u=n.tags,s=n.payout,c=n.enableComments,d=n.enableMonetization,f=this.props.gradient,p=(0,i.u)(a.getCurrentContent()),h=a.getCurrentContent().getPlainText(),o.trim()||h.trim()){e.next=7;break}return e.abrupt("return",null);case 7:return m=h.trim()?h.split(/\s+/).length:0,e.next=10,this.draftManager.save(r,{title:o||"Untitled",description:l,content:p,tags:u,gradient:f,wordCount:m,settings:{payout:s,enableComments:c,enableMonetization:d}});case 10:return(g=e.sent)&&(this.setState({currentDraftId:g,lastSaved:Date.now()}),t&&B.Le("Draft saved")),e.abrupt("return",g);case 13:case"end":return e.stop()}}),e,this)}))),function(){return ge.apply(this,arguments)})},{key:"scheduleAutoSave",value:function(){var e=this;this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),this.autoSaveTimer=setTimeout((function(){return e.saveDraft()}),2e3)}},{key:"updateStats",value:function(){var e=this.state.editorState.getCurrentContent().getPlainText(),t=e.trim()?e.trim().split(/\s+/).length:0;this.setState({wordCount:t,readingTime:Math.ceil(t/200)})}},{key:"createNewDraft",value:(he=Ae(Ee().mark((function e(){var t;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveDraft();case 2:t=new o.CompositeDecorator([{strategy:Oe,component:Te}]),this.setState({editorState:o.EditorState.createEmpty(t),title:"",description:"",tags:[],currentDraftId:null,lastSaved:null}),this.props.setGradient&&this.props.setGradient(null),B.Le("New draft created");case 6:case"end":return e.stop()}}),e,this)}))),function(){return he.apply(this,arguments)})},{key:"loadDraft",value:(pe=Ae(Ee().mark((function e(t){var n;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveDraft();case 2:return e.next=4,this.draftManager.get(t);case 4:(n=e.sent)&&(this.loadDraftData(n),this.setState({draftsDialogOpen:!1}),B.Le("Draft loaded"));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return pe.apply(this,arguments)})},{key:"deleteDraft",value:(a=Ae(Ee().mark((function e(t){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Delete this draft?")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.draftManager.delete(t);case 4:if(!e.sent){e.next=12;break}if(this.state.currentDraftId!==t){e.next=9;break}return e.next=9,this.createNewDraft();case 9:return e.next=11,this.loadDrafts();case 11:B.Le("Draft deleted");case 12:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"loadDrafts",value:(n=Ae(Ee().mark((function e(){var t,n,r=this;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({draftsLoading:!0}),e.next=3,this.draftManager.getAll();case 3:t=e.sent,n=this.state.draftsSearchQuery?t.filter((function(e){var t,n;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(r.state.draftsSearchQuery.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(r.state.draftsSearchQuery.toLowerCase()))})):t,this.setState({drafts:n,draftsLoading:!1});case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.open,i=t.gradient,l=t.onClose,B=this.state,fe=B.editorState,pe=B.title,he=B.description,me=B.tags,ge=B.payout,ye=(B.enableComments,B.enableMonetization,B.editOpened),ve=B.formatMenuAnchor,be=B.headingMenuAnchor,Ce=B.listMenuAnchor,Ee=B.linkDialogOpen,we=B.linkUrl,Ae=B.linkText,ke=B.wordCount,xe=B.readingTime,De=B.tab,Se=B.currentDraftId,Ie=B.draftsDialogOpen,Oe=B.drafts,Te=B.draftsLoading,Pe=B.draftsSearchQuery,Me=B.confirmDialogOpen,Be=B.confirmDialogTitle,Ne=B.confirmDialogMessage,je=B.passwordDialogOpen,Le=B.passwordDialogTitle,Re=B.passwordDialogValue,Ue=B.imageUrlDialogOpen,Fe=B.imageUrlDialogValue,_e=window.innerWidth<=960,We=_e?r.default.createElement("div",{className:n.settingsActions},r.default.createElement(m.A,{variant:"text",color:"inherit",startIcon:r.default.createElement(te.A,null),onClick:this.openDraftsDialog},"Drafts"),0===parseInt(De)?r.default.createElement(k.A,{in:0===parseInt(De)},r.default.createElement(m.A,{variant:"contained",startIcon:r.default.createElement(ie.A,null),onClick:function(){return e.setState({tab:1},e.resetEditMenu)},style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Finish")):r.default.createElement(k.A,{in:1===parseInt(De)},r.default.createElement(m.A,{variant:"contained",startIcon:r.default.createElement(j.A,null),onClick:this.handlePublish,style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Publish"))):r.default.createElement("div",{className:n.settingsActions},r.default.createElement(m.A,{variant:"text",color:"inherit",startIcon:r.default.createElement(te.A,null),onClick:this.openDraftsDialog},"Drafts"),r.default.createElement(m.A,{variant:"contained",startIcon:r.default.createElement(j.A,null),onClick:this.handlePublish,style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Publish")),Ke=r.default.createElement("div",{className:n.editorSection},r.default.createElement("div",{className:n.editorHeader},r.default.createElement(g.A,{className:n.titleInput,placeholder:"Title",value:pe,onChange:function(t){return e.setState({title:t.target.value})},fullWidth:!0}),r.default.createElement(g.A,{className:n.descriptionInput,placeholder:"Short Description",value:he,onChange:function(t){return e.setState({description:t.target.value})},fullWidth:!0,multiline:!0,rows:2})),r.default.createElement("div",{className:n.editorWrapper,onClick:this.focus},r.default.createElement(o.Editor,{ref:this.editorRef,editorState:fe,onChange:this.onChange,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.keyBindingFn,blockStyleFn:this.getBlockStyle,blockRendererFn:this.blockRendererFn,placeholder:"Tell your story...",spellCheck:!0}))),Ve=r.default.createElement("div",{className:n.settingsPanel},r.default.createElement("div",{className:n.settingsContent},r.default.createElement("div",{className:n.settingsSection},r.default.createElement(y.A,{variant:"subtitle2",gutterBottom:!0},"Cover Image"),r.default.createElement("div",{className:n.imageUploadArea},r.default.createElement("input",{ref:this.fileInputRef,type:"file",accept:"image/*",style:{display:"none"},onChange:this.handleImageUpload}),i?r.default.createElement("div",null,r.default.createElement("img",{src:i,alt:"Cover",className:n.uploadedImage}),r.default.createElement("div",{className:n.imageOverlay},r.default.createElement(m.A,{size:"small",startIcon:r.default.createElement(q.A,null),onClick:this.removeCoverImage,style:{color:"#fff"}},"Remove"))):r.default.createElement(b.A,{textAlign:"center",onClick:function(){var t;return null===(t=e.fileInputRef.current)||void 0===t?void 0:t.click()},style:{cursor:"pointer"}},r.default.createElement(Q.A,{style:{fontSize:48,color:"#666"}}),r.default.createElement(y.A,{variant:"body2",style:{color:"#999",marginTop:8}},"Click to upload"),r.default.createElement("div",{className:n.imageOverlay},r.default.createElement(m.A,{size:"small",startIcon:r.default.createElement(ue.A,null),onClick:this.openGradientEditor,style:{color:"#fff"}},"Generate"))))),r.default.createElement(y.A,{variant:"subtitle2",gutterBottom:!0},"Classification"),r.default.createElement("div",{className:n.settingsSection},r.default.createElement(s.A,{fullWidth:!0,variant:"outlined",label:"Tags",placeholder:"Tags for content classification",value:me,inputProps:{style:{minWidth:"64px"}},onBeforeAdd:function(){return!0},onAdd:function(t){return e.setState({tags:me.concat(t)})},onDelete:function(t){return e.setState({tags:me.filter((function(e){return-1===t.indexOf(e)}))})}})),r.default.createElement("div",{className:n.settingsSection},r.default.createElement(y.A,{variant:"subtitle2",gutterBottom:!0},"Payout"),r.default.createElement(x.A,{variant:"outlined",fullWidth:!0,size:"small"},r.default.createElement(D.A,{value:ge,onChange:function(t){return e.setState({payout:t.target.value})},style:{color:"#fff"}},r.default.createElement(E.A,{value:"author"},"100% Author"),r.default.createElement(E.A,{value:"everyone"},"50% / 50%"),r.default.createElement(E.A,{value:"curators"},"100% Curators")))),Se&&r.default.createElement("div",{className:n.settingsSection},r.default.createElement(y.A,{variant:"caption",style:{color:"rgba(255,255,255,0.5)"}},"Draft ID: ",Se.substring(0,8),"..."))),_e?null:We),ze=_e?r.default.createElement(r.default.Fragment,null,r.default.createElement(oe.Ay,{axis:"y",ignoreNativeScroll:!1,containerStyle:{minHeight:"100%",height:"100%",position:"relative"},animateHeight:!1,animateTransitions:!0,disableLazyLoading:!0,resistance:!0,springConfig:{tension:450,friction:60,duration:"120ms",easeFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)",delay:"5ms"},index:De,onChangeIndex:function(t){return e._handleTabChange({},t)},disabled:!1,key:"swipe-able-view"},Ke,Ve),We):[Ke,Ve];return r.default.createElement(r.default.Fragment,null,r.default.createElement(u.A,{className:n.dialog,open:a,maxWidth:!1,onClose:l},r.default.createElement(f.A,{position:"sticky",className:n.appBar},r.default.createElement(p.A,null,r.default.createElement(b.A,{flexGrow:1,ml:2},r.default.createElement(y.A,{variant:"h6",style:{fontWeight:500}},"Write a New Blog Post"),r.default.createElement(y.A,{variant:"caption",style:{color:"rgba(255,255,255,0.6)"}},ke," words · ",xe," min read",Se&&" · Draft saved")),r.default.createElement(h.A,{color:"inherit",onClick:l},r.default.createElement(N.A,null)))),r.default.createElement(c.A,{className:n.contentArea},r.default.createElement("div",{className:n.mainContainer},ze)),r.default.createElement(le.A,{in:0===parseInt(De)||!_e,out:1===parseInt(De)},r.default.createElement("div",{className:"".concat(n.fixedSidebar," ").concat(ye?"opened":"")},!ye&&r.default.createElement(v.Ay,{title:"Expand",placement:"right"},r.default.createElement(h.A,{className:"edit "+n.menuIconButton,onClick:this.toggleEditMenu},r.default.createElement(X.A,null))),r.default.createElement(v.Ay,{title:"Bold (Ctrl+B)",placement:"right"},r.default.createElement(h.A,{className:"".concat(n.menuIconButton," ").concat(this.hasInlineStyle("BOLD")?"active":""),onMouseDown:function(t){t.preventDefault(),e.toggleInlineStyle("BOLD")}},r.default.createElement(L.A,null))),r.default.createElement(v.Ay,{title:"Italic (Ctrl+I)",placement:"right"},r.default.createElement(h.A,{className:"".concat(n.menuIconButton," ").concat(this.hasInlineStyle("ITALIC")?"active":""),onMouseDown:function(t){t.preventDefault(),e.toggleInlineStyle("ITALIC")}},r.default.createElement(R.A,null))),r.default.createElement(v.Ay,{title:"More",placement:"right"},r.default.createElement(h.A,{className:n.menuIconButton,onClick:this.openFormatMenu},r.default.createElement(J.A,null))),r.default.createElement("div",{className:n.menuDivider}),r.default.createElement(v.Ay,{title:"Heading",placement:"right"},r.default.createElement(h.A,{className:n.menuIconButton,onClick:this.openHeadingMenu},r.default.createElement(H.A,null))),r.default.createElement(v.Ay,{title:"Lists",placement:"right"},r.default.createElement(h.A,{className:n.menuIconButton,onClick:this.openListMenu},r.default.createElement(V.A,null))),r.default.createElement(v.Ay,{title:"Quote",placement:"right"},r.default.createElement(h.A,{className:"".concat(n.menuIconButton," ").concat(this.hasBlockType("blockquote")?"active":""),onMouseDown:function(t){t.preventDefault(),e.toggleBlockType("blockquote")}},r.default.createElement(F.A,null))),r.default.createElement("div",{className:n.menuDivider}),r.default.createElement(v.Ay,{title:"Link (Ctrl+K)",placement:"right"},r.default.createElement(h.A,{className:n.menuIconButton,onClick:this.openLinkDialog},r.default.createElement(W.A,null))),r.default.createElement(v.Ay,{title:"Image",placement:"right"},r.default.createElement(h.A,{className:n.menuIconButton,onClick:this.insertImage},r.default.createElement(K.A,null))),r.default.createElement("div",{className:n.menuDivider}),r.default.createElement(v.Ay,{title:"Undo",placement:"right"},r.default.createElement(h.A,{className:n.menuIconButton,onClick:function(){return e.onChange(o.EditorState.undo(fe))}},r.default.createElement(G.A,null))),r.default.createElement(v.Ay,{title:"Redo",placement:"right"},r.default.createElement(h.A,{className:n.menuIconButton,onClick:function(){return e.onChange(o.EditorState.redo(fe))}},r.default.createElement($.A,null))),ye&&r.default.createElement(v.Ay,{title:"Collapse",placement:"right"},r.default.createElement(h.A,{className:"close "+n.menuIconButton,style:{backgroundColor:"#000",color:"#fff",marginTop:8},onClick:this.toggleEditMenu},r.default.createElement(Y.A,null)))))),r.default.createElement(u.A,{className:n.draftsDialog,open:Ie,onClose:this.closeDraftsDialog,maxWidth:"md",fullWidth:!0},r.default.createElement("div",{className:n.draftsDialogTitle},r.default.createElement(b.A,{display:"flex",alignItems:"center"},r.default.createElement(M.A,{className:n.draftAvatar},r.default.createElement(te.A,null)),r.default.createElement(y.A,{variant:"h5",style:{marginLeft:16,fontWeight:600}},"Your Drafts")),r.default.createElement(b.A,null,r.default.createElement(m.A,{color:"inherit",startIcon:r.default.createElement(ae.A,null),onClick:function(){e.createNewDraft()},style:{marginRight:8,backgroundColor:"rgba(255,255,255,0.1)",borderRadius:16}},"New Draft"),r.default.createElement(h.A,{color:"inherit",onClick:this.closeDraftsDialog},r.default.createElement(N.A,null)))),r.default.createElement(c.A,{className:n.draftsDialogContent},r.default.createElement(g.A,{className:n.searchField,variant:"outlined",placeholder:"Search drafts...",value:Pe,onChange:this.handleDraftsSearch,size:"small",InputProps:{startAdornment:r.default.createElement(ee.A,{position:"start"},r.default.createElement(re.A,null))}}),Te?r.default.createElement("div",{className:n.loadingState},r.default.createElement(O.A,null)):0===Oe.length?r.default.createElement("div",{className:n.emptyState},r.default.createElement(se.A,{className:n.emptyStateIcon}),r.default.createElement(y.A,{variant:"h5",gutterBottom:!0,style:{fontWeight:500}},Pe?"No drafts found":"No drafts yet"),r.default.createElement(y.A,{variant:"body1",style:{color:"rgba(255,255,255,0.6)"}},Pe?"Try a different search query":"Start writing to save your first draft automatically")):r.default.createElement("div",{className:n.draftsList},Oe.map((function(t){var a,o;return r.default.createElement(T.A,{key:t._id,className:n.draftCard,onClick:function(){return e.loadDraft(t._id)}},r.default.createElement(P.A,{className:n.draftCardContent},r.default.createElement("div",{className:n.draftHeader},r.default.createElement(b.A,{flex:1},r.default.createElement(y.A,{className:n.draftTitle},t.title||"Untitled Draft"),t.description&&r.default.createElement(y.A,{className:n.draftDescription},t.description)),r.default.createElement(h.A,{className:n.deleteButton,onClick:function(n){n.stopPropagation(),e.deleteDraft(t._id)}},r.default.createElement(q.A,null))),r.default.createElement("div",{className:n.draftMeta},r.default.createElement("div",{className:n.draftMetaItem},r.default.createElement(ne.A,{fontSize:"small"}),r.default.createElement("span",null,e.formatDate(t.lastSaved))),r.default.createElement("div",{className:n.draftMetaItem},r.default.createElement("span",null,(null===(a=t.metadata)||void 0===a?void 0:a.wordCount)||0," words")),r.default.createElement("div",{className:n.draftMetaItem},r.default.createElement("span",null,(null===(o=t.metadata)||void 0===o?void 0:o.readingTime)||0," min read"))),t.tags&&t.tags.length>0&&r.default.createElement("div",{className:n.draftTags},t.tags.slice(0,3).map((function(e,t){return r.default.createElement(I.A,{key:t,label:e,size:"small",className:n.draftTag})})),t.tags.length>3&&r.default.createElement(I.A,{label:"+".concat(t.tags.length-3),size:"small",className:n.draftTag}))))}))))),r.default.createElement(u.A,{className:n.confirmDialog,open:Me,onClose:this.closeConfirmDialog},r.default.createElement(S.A,null,r.default.createElement(b.A,{display:"flex",alignItems:"center"},r.default.createElement(ce.A,{style:{marginRight:8,color:"#ff9800"}}),Be)),r.default.createElement(c.A,null,r.default.createElement(y.A,null,Ne)),r.default.createElement(d.A,null,r.default.createElement(m.A,{onClick:this.closeConfirmDialog,color:"inherit"},"Cancel"),r.default.createElement(m.A,{onClick:this.handleConfirmAction,variant:"contained",color:"primary"},"Confirm"))),r.default.createElement(u.A,{className:n.passwordDialog,open:je,onClose:this.closePasswordDialog},r.default.createElement(S.A,null,r.default.createElement(b.A,{display:"flex",alignItems:"center"},r.default.createElement(de.A,{style:{marginRight:8,color:"#4caf50"}}),Le)),r.default.createElement(c.A,null,r.default.createElement(g.A,{className:n.darkInput,variant:"outlined",type:"password",label:"Password",value:Re,onChange:function(t){return e.setState({passwordDialogValue:t.target.value})},fullWidth:!0,autoFocus:!0,margin:"normal"})),r.default.createElement(d.A,null,r.default.createElement(m.A,{onClick:this.closePasswordDialog,color:"inherit"},"Cancel"),r.default.createElement(m.A,{onClick:this.handlePasswordAction,variant:"contained",color:"primary"},"Continue"))),r.default.createElement(u.A,{className:n.imageUrlDialog,open:Ue,onClose:this.closeImageUrlDialog},r.default.createElement(S.A,null,"Insert Image"),r.default.createElement(c.A,null,r.default.createElement(g.A,{className:n.darkInput,variant:"outlined",label:"Image URL",value:Fe,onChange:function(t){return e.setState({imageUrlDialogValue:t.target.value})},fullWidth:!0,autoFocus:!0,margin:"normal"})),r.default.createElement(d.A,null,r.default.createElement(m.A,{onClick:this.closeImageUrlDialog,color:"inherit"},"Cancel"),r.default.createElement(m.A,{onClick:this.handleImageUrlInsert,variant:"contained",color:"primary"},"Insert"))),r.default.createElement(C.A,{className:n.formatMenu,anchorEl:ve,open:Boolean(ve),onClose:this.closeFormatMenu},r.default.createElement(E.A,{onClick:function(){e.toggleInlineStyle("UNDERLINE"),e.closeFormatMenu()}},r.default.createElement(w.A,null,r.default.createElement(U.A,null)),r.default.createElement(A.A,{primary:"Underline"})),r.default.createElement(E.A,{onClick:function(){e.toggleInlineStyle("STRIKETHROUGH"),e.closeFormatMenu()}},r.default.createElement(w.A,null,r.default.createElement(Z.A,null)),r.default.createElement(A.A,{primary:"Strikethrough"})),r.default.createElement(E.A,{onClick:function(){e.toggleInlineStyle("CODE"),e.closeFormatMenu()}},r.default.createElement(w.A,null,r.default.createElement(_.A,null)),r.default.createElement(A.A,{primary:"Code"}))),r.default.createElement(C.A,{className:n.formatMenu,anchorEl:be,open:Boolean(be),onClose:this.closeHeadingMenu},r.default.createElement(E.A,{onClick:function(){e.toggleBlockType("header-one"),e.closeHeadingMenu()}},r.default.createElement(A.A,{primary:"Heading 1"})),r.default.createElement(E.A,{onClick:function(){e.toggleBlockType("header-two"),e.closeHeadingMenu()}},r.default.createElement(A.A,{primary:"Heading 2"})),r.default.createElement(E.A,{onClick:function(){e.toggleBlockType("header-three"),e.closeHeadingMenu()}},r.default.createElement(A.A,{primary:"Heading 3"}))),r.default.createElement(C.A,{className:n.formatMenu,anchorEl:Ce,open:Boolean(Ce),onClose:this.closeListMenu},r.default.createElement(E.A,{onClick:function(){e.toggleBlockType("unordered-list-item"),e.closeListMenu()}},r.default.createElement(w.A,null,r.default.createElement(V.A,null)),r.default.createElement(A.A,{primary:"Bullet List"})),r.default.createElement(E.A,{onClick:function(){e.toggleBlockType("ordered-list-item"),e.closeListMenu()}},r.default.createElement(w.A,null,r.default.createElement(z.A,null)),r.default.createElement(A.A,{primary:"Numbered List"}))),r.default.createElement(u.A,{PaperProps:{classes:{root:n.darkDialog}},open:Ee,maxWidth:"xs",fullWidth:!0,onClose:this.closeLinkDialog},r.default.createElement(c.A,{className:n.darkDialogContent},r.default.createElement(y.A,{variant:"h6",gutterBottom:!0},"Insert Link"),r.default.createElement(g.A,{className:n.darkInput,variant:"outlined",label:"Link Text",value:Ae,onChange:function(t){return e.setState({linkText:t.target.value})},fullWidth:!0,style:{marginBottom:16}}),r.default.createElement(g.A,{className:n.darkInput,variant:"outlined",label:"URL",placeholder:"https://...",value:we,onChange:function(t){return e.setState({linkUrl:t.target.value})},fullWidth:!0,autoFocus:!0})),r.default.createElement(d.A,{className:n.darkDialogActions},r.default.createElement(m.A,{onClick:this.closeLinkDialog},"Cancel"),r.default.createElement(m.A,{variant:"contained",onClick:this.insertLink,style:{backgroundColor:"#fff",color:"#000"}},"Insert"))))}}]);var n,a,pe,he,ge,ye}(r.PureComponent),Me=function(e){function t(){return ke(this,t),fe(this,t,arguments)}return me(t,e),De(t,[{key:"render",value:function(){var e=this.props.contentState.getEntity(this.props.block.getEntityAt(0)),t=e.getData().src;return"IMAGE"===e.getType()?r.default.createElement("div",{style:{textAlign:"center",margin:"16px 0"}},r.default.createElement("img",{src:t,alt:"",style:{maxWidth:"100%",height:"auto",borderRadius:8}})):null}}])}(r.PureComponent);const Be=(0,a.default)((function(e){var t;return{dialog:{"& .MuiDialog-paper":Ce(Ce({zIndex:e.zIndex.drawer+10,backgroundColor:"#0c0c0c",color:"#fff",borderRadius:21},e.breakpoints.down("sm"),{margin:0,maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",borderRadius:0}),e.breakpoints.up("md"),{maxWidth:"90vw",width:1200,height:"85vh"}),"& .MuiBackdrop-root":{zIndex:e.zIndex.drawer+1,backdropFilter:"blur(9px) grayscale(1)",overflow:"hidden",userSelect:"none"}},appBar:{backgroundColor:"transparent",boxShadow:"none","& .MuiToolbar-root":{minHeight:64,padding:"0 24px"}},contentArea:{display:"flex",flexDirection:"column",height:"100%",position:"relative",padding:0,overflow:"hidden",backgroundColor:"#0a0a0a"},mainContainer:Ce({display:"flex",flex:1,overflow:"hidden",position:"relative"},e.breakpoints.down("sm"),{flexDirection:"column",overflow:"auto","& div.react-swipeable-view-container > div":{minHeight:"100%",maxHeight:"100%"},"& > div:first-child":{height:"100%"}}),fixedSidebar:Ce({position:"fixed",top:"50%",transform:"translateY(-50%) !important",width:48,backgroundColor:"#ffffff",boxShadow:"2px 0 12px rgba(0,0,0,0.1)",zIndex:1100,display:"flex",flexDirection:"column",alignItems:"center",padding:"8px 0",borderRadius:"24px",marginLeft:"-24px",gap:2,"& .close, & .edit":{display:"none"}},e.breakpoints.down("sm"),{right:8,width:40,padding:4,height:40,overflow:"hidden",transform:"translateY(-50%) !important",transition:"opacity 196ms cubic-bezier(0.4, 0, 0.2, 1), transform 131ms cubic-bezier(0.4, 0, 0.2, 1), height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms, max-height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms !important","&.opened":{padding:8,transition:"opacity 196ms cubic-bezier(0.4, 0, 0.2, 1), transform 131ms cubic-bezier(0.4, 0, 0.2, 1), height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms, max-height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms !important",height:"375px"},"& .close, & .edit":{display:"flex"}}),menuIconButton:Ce(Ce(Ce({color:"#616161",padding:0,margin:0,height:48,width:48,"& .MuiSvgIcon-root":{fontSize:"2rem"}},e.breakpoints.down("sm"),{width:32,height:32,padding:4,"& .MuiSvgIcon-root":{fontSize:"1.125rem"}}),"&:hover",{backgroundColor:"rgba(0,0,0,0.1)",color:"#212121"}),"&.active",{backgroundColor:"#000",color:"#fff"}),menuDivider:{width:"calc(100% - 16px)",height:1,backgroundColor:"#999",margin:"2px 0px"},editorSection:Ce({flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#171717",paddingLeft:32,paddingRight:16,borderRadius:"0px 32px 0px 0px"},e.breakpoints.down("sm"),{paddingLeft:8,paddingRight:8,borderRadius:"0px",overflow:"overlay",minHeight:"100%",maxHeight:"100%",position:"relative"}),editorHeader:{padding:e.spacing(3,3,2,3)},titleInput:{"& .MuiInputBase-root":{color:"#fff",fontSize:"2rem",fontWeight:600,padding:0,"&:before":{borderBottom:"none"},"&:hover:before":{borderBottom:"none"},"&:after":{borderBottom:"2px solid rgba(255,255,255,0.2)"}},"& .MuiInputBase-input":{padding:"8px 0"}},descriptionInput:{marginTop:16,"& .MuiInputBase-root":{color:"#ccc",fontSize:"1rem","&:before":{borderBottom:"1px solid rgba(255,255,255,0.1)"}}},editorWrapper:(t={flex:1,overflow:"auto",margin:"16px 24px 0px 24px",padding:24,backgroundColor:"#0a0a0a",borderRadius:"32px 32px 0px 0px",cursor:"text"},Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(t,e.breakpoints.down("sm"),{borderRadius:"24px 24px 0px 0px",margin:"16px 24px 0px 24px"}),"& .DraftEditor-root",{minHeight:"100%",color:"#e0e0e0",fontSize:16,lineHeight:1.6}),"& .DraftEditor-editorContainer",{minHeight:"100%"}),"& .public-DraftEditor-content",{minHeight:"100%"}),"& .public-DraftStyleDefault-block",{marginBottom:"1em"}),"& h1",{fontSize:"2.5em",fontWeight:600,color:"#fff",margin:"0.5em 0"}),"& h2",{fontSize:"2em",fontWeight:600,color:"#fff",margin:"0.5em 0"}),"& h3",{fontSize:"1.5em",fontWeight:600,color:"#fff",margin:"0.5em 0"}),"& blockquote",{borderLeft:"3px solid rgba(255,255,255,0.2)",paddingLeft:16,margin:"1em 0",color:"rgba(255,255,255,0.8)"}),"& pre",{backgroundColor:"rgba(255,255,255,0.05)",padding:16,borderRadius:8,overflow:"auto",fontFamily:"monospace"}),Ce(t,"& a",{color:"#ffffff",textDecoration:"underline"})),settingsPanel:Ce({width:360,display:"flex",flexDirection:"column",backgroundColor:"transparent",overflow:"auto"},e.breakpoints.down("sm"),{width:"100%"}),settingsContent:Ce({padding:"0px 24px",flex:1,overflow:"auto"},e.breakpoints.down("sm"),{padding:"24px"}),settingsActions:{padding:e.spacing(2,3),display:"flex",justifyContent:"space-between"},settingsSection:{marginBottom:e.spacing(3)},imageUploadArea:{position:"relative",width:"100%",height:175.5,border:"2px dashed rgba(255,255,255,0.2)",borderRadius:24,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease",overflow:"hidden","&:hover":{borderColor:"rgba(255,255,255,0.4)",backgroundColor:"rgba(255,255,255,0.02)"}},uploadedImage:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",top:0,left:0,right:0,bottom:0},imageOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 50%)",display:"flex",alignItems:"flex-end",padding:e.spacing(2),opacity:.5,transition:"opacity 0.3s","&:hover":{opacity:1}},formatMenu:{"& .MuiPaper-root":{backgroundColor:"#e3e3e3",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.12)"},"& .MuiListItemText-root":{color:"#171717"},"& .MuiListItemIcon-root":{color:"#0c0c0c"}},tagsInput:{"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(255,255,255,0.24)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.48)"}},"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.7)"}},darkDialog:{backgroundColor:"#212121",color:"#fff",borderRadius:16},darkDialogContent:{padding:24},darkDialogActions:{padding:"8px 16px 16px",display:"flex",justifyContent:"flex-end"},darkInput:{"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.8)"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(255,255,255,0.24)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.48)"},"&.Mui-focused fieldset":{borderColor:"#fff"}}},draftsDialog:{"& .MuiDialog-paper":{backgroundColor:"#1a1a1a",color:"#fff",borderRadius:24,maxWidth:900,width:"95%",maxHeight:"85vh",overflow:"hidden"}},draftsDialogTitle:{background:"#1a1a1a",padding:e.spacing(3,4),display:"flex",justifyContent:"space-between",alignItems:"center"},draftsDialogContent:{padding:0,backgroundColor:"#1a1a1a",display:"flex",flexDirection:"column"},searchField:{margin:e.spacing(3,4,2,4),maxWidth:400,"& .MuiOutlinedInput-root":{color:"#fff",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:16,"& fieldset":{borderColor:"rgba(255,255,255,0.15)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.25)"},"&.Mui-focused fieldset":{borderColor:"rgba(255,255,255,0.4)"}},"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.6)"},"& .MuiInputAdornment-root svg":{color:"rgba(255,255,255,0.4)"}},draftsList:{padding:0,flex:1,overflow:"auto"},draftCard:{backgroundColor:"#0c0c0c",borderRadius:16,margin:e.spacing(1,4,2,4),cursor:"pointer",transition:"background-color 0.2s ease","&:hover":{backgroundColor:"#000000"}},draftCardContent:{padding:e.spacing(3),"&:last-child":{paddingBottom:e.spacing(3)}},draftHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:e.spacing(2)},draftTitle:{fontSize:"1.25rem",fontWeight:600,color:"#fff",marginBottom:e.spacing(1),lineHeight:1.3},draftDescription:{color:"rgba(255,255,255,0.7)",fontSize:"0.95rem",lineHeight:1.5,marginBottom:e.spacing(2)},draftMeta:{display:"flex",flexWrap:"wrap",gap:e.spacing(2),alignItems:"center",color:"rgba(255,255,255,0.5)",fontSize:"0.85rem"},draftMetaItem:{display:"flex",alignItems:"center",gap:e.spacing(.5)},draftTags:{display:"flex",gap:e.spacing(.5),flexWrap:"wrap",marginTop:e.spacing(1)},draftTag:{backgroundColor:"rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.8)",borderRadius:12,fontSize:"0.75rem",height:24},emptyState:{padding:e.spacing(8,4),textAlign:"center",color:"rgba(255,255,255,0.5)",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},emptyStateIcon:{fontSize:80,marginBottom:e.spacing(3),color:"rgba(255,255,255,0.3)"},loadingState:{padding:e.spacing(8),display:"flex",justifyContent:"center",alignItems:"center",flex:1},draftAvatar:{backgroundColor:"rgba(255,255,255,0.1)",color:"#fff",width:40,height:40},deleteButton:{color:"rgba(255,255,255,0.4)","&:hover":{color:"#ffffff",backgroundColor:"rgba(255,255,255,0.1)"}},confirmDialog:{"& .MuiDialog-paper":{backgroundColor:"#2a2a2a",color:"#fff",borderRadius:16,maxWidth:400}},passwordDialog:{"& .MuiDialog-paper":{backgroundColor:"#2a2a2a",color:"#fff",borderRadius:16,maxWidth:400}},imageUrlDialog:{"& .MuiDialog-paper":{backgroundColor:"#2a2a2a",color:"#fff",borderRadius:16,maxWidth:400}}}}))(Pe)},19948:(e,t,n)=>{n.d(t,{A:()=>h});n(52675),n(89463),n(2259),n(45700),n(23792),n(89572),n(94170),n(2892),n(59904),n(84185),n(40875),n(10287),n(26099),n(60825),n(47764),n(62953);var r=n(17402),a=n(41728),o=n(32150);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return t=d(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.default.createElement(a.A,this.props,r.default.createElement("path",{d:"M17 17H14V19H17V22H19V19H22V17H19V14H17V17M12 18C12 14.69 14.69 12 18 12C18.77 12 19.5 12.15 20.17 12.41C21.63 7.9 20.7 3.3 20.7 3.3S19.3 3 17.2 3C11.7 3 1.6 5.1 3.2 20.8C4.3 20.9 5.4 21 6.4 21C8.76 21 10.74 20.69 12.41 20.15C12.15 19.5 12 18.76 12 18M7 17C7 17 7 7 17 7C17 7 11 9 7 17Z"}))}}])&&l(n.prototype,o),i&&l(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.default.PureComponent);const h=(0,o.A)((function(e){return{}}))(p)}}]);