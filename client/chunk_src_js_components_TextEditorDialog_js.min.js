"use strict";(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([["src_js_components_TextEditorDialog_js"],{58363:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Te});a(89463),a(27495),a(25440),a(42762),a(62953);var l=a(17402),n=a(79626),r=(a(92614),a(35143)),o=a(94376),i=a(14101),s=a(29632),d=a(52160),c=a(39870),u=(a(32163),a(68016)),m=a(65816),f=a(61434),g=a(35376),h=a(42460),p=a(96746),b=a(72572),E=a(54392),v=a(96232),y=a(69113),A=a(48085),w=a(84630),C=a(61466),D=a(77430),k=a(95834),x=a(69312),S=a(40827),I=a(5696),M=a(33615),T=a(83182),N=a(20426),B=a(6272),L=a(91004),R=a(69205),z=a(73546),W=a(92421),O=a(98039),P=a(29067),U=a(50915),H=a(78295),F=a(59164),j=a(80270),K=a(87371),_=a(81700),G=a(13565),V=a(12636),q=a(23119),Q=a(89806),Y=a(65595),$=a(66424),J=a(84022),X=a(66324),Z=a(24711),ee=a(11903),te=a(77649),ae=a(86848),le=a(32580),ne=a(10148),re=a(64054),oe=a(50020),ie=a(9159),se=a(3280),de=a(19948),ce=a(7400),ue=a(64061),me=a(78896),fe=a(17807),ge=a(40693),he=a(31334),pe=a(49974),be=a(82788),Ee=a(24488),ve=a(7756),ye=a(16526);function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(a),!0).forEach((function(t){Ce(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ce(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class De{constructor(){this.db=null,this.collection=null}async init(){if(this.collection)return!0;try{const{LacertaDB:e}=await Promise.resolve().then(a.bind(a,92614)),t=new e;return this.db=await t.getDatabase("drafts"),this.collection=await this.db.createCollection("documents"),!0}catch(e){return!1}}async save(e,t){await this.init();const a=we(we({},t),{},{lastModified:Date.now()});try{return e&&await this.collection.get(e)?await this.collection.update(e,a):await this.collection.add(a)}catch(e){return null}}async getMostRecent(){await this.init();try{const e=await this.collection.query({},{sort:{lastModified:-1},limit:1});return(null==e?void 0:e[0])||null}catch(e){return null}}async get(e){await this.init();try{return await this.collection.get(e)}catch(e){return null}}async getAll(){await this.init();try{return await this.collection.query({},{sort:{lastModified:-1},limit:50})||[]}catch(e){return[]}}async delete(e){await this.init();try{return await this.collection.delete(e),!0}catch(e){return!1}}}const ke=(e,t,a)=>{e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&"LINK"===a.getEntity(t).getType()}),t)},xe=e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return l.default.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",style:{color:"#90caf9"}},e.children)};class Se extends l.default.Component{parseTableMarkdown(e){const t=e.trim().split("\n");if(t.length<3)return null;const a=t[0],l=t[1],n=t.slice(2);return{headers:a.replace(/^\||\|$/g,"").split("|").map((e=>e.trim())),alignments:l.replace(/^\||\|$/g,"").split("|").map((e=>{const t=e.trim();return t.startsWith(":")&&t.endsWith(":")?"center":t.endsWith(":")?"right":(t.startsWith(":"),"left")})),rows:n.map((e=>e.replace(/^\||\|$/g,"").split("|").map((e=>e.trim()))))}}render(){const{block:e}=this.props,t=e.getText();if(!t.includes("|")||!t.includes("---"))return null;const a=this.parseTableMarkdown(t);if(!a)return null;const{headers:n,alignments:r,rows:o}=a;return l.default.createElement("div",{className:"markdown-table-wrapper",style:{margin:"16px 0",overflowX:"auto"}},l.default.createElement("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:8}},l.default.createElement("thead",null,l.default.createElement("tr",null,n.map(((e,t)=>l.default.createElement("th",{key:t,style:{padding:"12px",borderBottom:"1px solid rgba(255,255,255,0.1)",textAlign:r[t]||"left",fontWeight:600,color:"#fff",backgroundColor:"rgba(255,255,255,0.05)"}},e))))),l.default.createElement("tbody",null,o.map(((e,t)=>l.default.createElement("tr",{key:t,style:{backgroundColor:t%2==0?"transparent":"rgba(255,255,255,0.01)"}},e.map(((e,t)=>l.default.createElement("td",{key:t,style:{padding:"12px",borderBottom:"1px solid rgba(255,255,255,0.1)",textAlign:r[t]||"left",color:"#e0e0e0"}},e)))))))))}}class Ie extends l.PureComponent{constructor(e){super(e),Ce(this,"onChange",(e=>{this.setState({editorState:e},(()=>{this.updateStats(),this.scheduleAutoSave()}))})),Ce(this,"onMarkdownChange",(e=>{const t=e.target.value;this.setState({markdownSource:t},(()=>{this.updateStats(),this.scheduleAutoSave()}))})),Ce(this,"toggleEditorMode",(()=>{const{editorMode:e,editorState:t,markdownSource:a}=this.state;if("visual"===e){const e=(0,o.A)(t.getCurrentContent(),{gfm:!0,tables:!0});this.setState({editorMode:"markdown",markdownSource:e})}else try{const e=(0,i.A)(a,{gfm:!0,tables:!0}),t=new r.CompositeDecorator([{strategy:ke,component:xe}]),l=r.EditorState.createWithContent(e,t);this.setState({editorMode:"visual",editorState:l})}catch(e){R.Le("Error parsing markdown")}})),Ce(this,"showConfirmDialog",((e,t,a)=>{this.setState({confirmDialogOpen:!0,confirmDialogTitle:e,confirmDialogMessage:t,confirmDialogAction:a})})),Ce(this,"closeConfirmDialog",(()=>{this.setState({confirmDialogOpen:!1,confirmDialogAction:null})})),Ce(this,"handleConfirmAction",(()=>{this.state.confirmDialogAction&&this.state.confirmDialogAction(),this.closeConfirmDialog()})),Ce(this,"showPasswordDialog",((e,t)=>{this.setState({passwordDialogOpen:!0,passwordDialogTitle:e,passwordDialogValue:"",passwordDialogAction:t})})),Ce(this,"closePasswordDialog",(()=>{this.setState({passwordDialogOpen:!1,passwordDialogAction:null,passwordDialogValue:""})})),Ce(this,"handlePasswordAction",(()=>{this.state.passwordDialogAction&&this.state.passwordDialogAction(this.state.passwordDialogValue),this.closePasswordDialog()})),Ce(this,"showImageUrlDialog",(()=>{this.setState({imageUrlDialogOpen:!0,imageUrlDialogValue:"https://"})})),Ce(this,"closeImageUrlDialog",(()=>{this.setState({imageUrlDialogOpen:!1,imageUrlDialogValue:""})})),Ce(this,"handleImageUrlInsert",(()=>{const e=this.state.imageUrlDialogValue;e&&e.trim()&&"https://"!==e&&this.insertImageUrl(e),this.closeImageUrlDialog()})),Ce(this,"updateDraftStats",(async()=>{try{const l=await this.draftManager.getStats();var e,t,a;if(l.success)this.setState({totalDrafts:(null===(e=l.data.drafts)||void 0===e?void 0:e.totalDrafts)||0,totalWords:(null===(t=l.data.drafts)||void 0===t?void 0:t.totalWords)||0,avgWordCount:Math.round((null===(a=l.data.drafts)||void 0===a?void 0:a.avgWordCount)||0)})}catch(e){}})),Ce(this,"openDraftsDialog",(async()=>{await this.saveDraft(!1),this.setState({draftsDialogOpen:!0}),await this.loadDrafts(),await this.updateDraftStats()})),Ce(this,"closeDraftsDialog",(()=>{this.setState({draftsDialogOpen:!1,draftsSearchQuery:"",filterTags:[],filterStatus:null})})),Ce(this,"handleDraftsSearch",(e=>{this.setState({draftsSearchQuery:e.target.value},(()=>{clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((async()=>{await this.loadDrafts()}),300)}))})),Ce(this,"formatDate",(e=>{const t=new Date(e),a=new Date-t;if(a<6e4)return"Just now";if(a<36e5){const e=Math.floor(a/6e4);return"".concat(e," minute").concat(e>1?"s":""," ago")}if(a<864e5){const e=Math.floor(a/36e5);return"".concat(e," hour").concat(e>1?"s":""," ago")}if(a<6048e5){const e=Math.floor(a/864e5);return"".concat(e," day").concat(e>1?"s":""," ago")}return t.toLocaleDateString()})),Ce(this,"focus",(()=>{this.editorRef.current&&this.editorRef.current.focus()})),Ce(this,"handleKeyCommand",(e=>{const{editorState:t}=this.state,a=r.RichUtils.handleKeyCommand(t,e);return a?(this.onChange(a),"handled"):"save"===e?(this.handleSave(),"handled"):"not-handled"})),Ce(this,"keyBindingFn",(e=>(e.metaKey||e.ctrlKey)&&"s"===e.key?(e.preventDefault(),"save"):(e.metaKey||e.ctrlKey)&&"k"===e.key?(e.preventDefault(),this.openLinkDialog(),"handled"):(0,r.getDefaultKeyBinding)(e))),Ce(this,"toggleInlineStyle",(e=>{this.onChange(r.RichUtils.toggleInlineStyle(this.state.editorState,e))})),Ce(this,"toggleBlockType",(e=>{this.onChange(r.RichUtils.toggleBlockType(this.state.editorState,e))})),Ce(this,"hasInlineStyle",(e=>this.state.editorState.getCurrentInlineStyle().has(e))),Ce(this,"hasBlockType",(e=>{const t=this.state.editorState.getSelection();return this.state.editorState.getCurrentContent().getBlockForKey(t.getStartKey()).getType()===e})),Ce(this,"openLinkDialog",(()=>{const{editorState:e}=this.state,t=e.getSelection(),a=e.getCurrentContent(),l=t.getStartKey(),n=t.getStartOffset(),r=t.getEndOffset(),o=a.getBlockForKey(l).getText().slice(n,r);this.setState({linkDialogOpen:!0,linkText:o,linkUrl:""})})),Ce(this,"closeLinkDialog",(()=>{this.setState({linkDialogOpen:!1,linkUrl:"",linkText:""})})),Ce(this,"insertLink",(()=>{const{editorState:e,linkUrl:t,linkText:a}=this.state,l=e.getCurrentContent().createEntity("LINK","MUTABLE",{url:t}),n=l.getLastCreatedEntityKey(),o=e.getSelection();let i;i=o.isCollapsed()?a?r.Modifier.insertText(l,o,a,null,n):r.Modifier.insertText(l,o,t,null,n):r.Modifier.applyEntity(l,o,n);const s=r.EditorState.push(e,i,"apply-entity");this.onChange(s),this.closeLinkDialog()})),Ce(this,"insertImage",(()=>{this.showImageUrlDialog()})),Ce(this,"insertImageUrl",(e=>{if(!e)return;const{editorState:t}=this.state,a=t.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{src:e}).getLastCreatedEntityKey(),l=r.AtomicBlockUtils.insertAtomicBlock(t,a," ");this.onChange(l)})),Ce(this,"handleImageUpload",(e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;const l=new FileReader;l.onload=e=>{this.props.setGradient(e.target.result)},l.readAsDataURL(a)})),Ce(this,"removeCoverImage",(()=>{this.props.setGradient(null)})),Ce(this,"openGradientEditor",(e=>{e.stopImmediatePropagation(),R.Zx()})),Ce(this,"handleSave",(async()=>{await this.saveDraft(!0)})),Ce(this,"openPreview",(()=>{this.setState({previewDialogOpen:!0})})),Ce(this,"closePreview",(()=>{this.setState({previewDialogOpen:!1})})),Ce(this,"handlePublish",(async()=>{await this.handleSave(),this.closePreview()})),Ce(this,"renderMarkdown",(e=>{try{return(0,s.yt)(e,{extensions:[(0,d.T)()],htmlExtensions:[(0,d.I)()]})}catch(e){return"<p>Error rendering content</p>"}})),Ce(this,"openFormatMenu",(e=>this.setState({formatMenuAnchor:e.currentTarget}))),Ce(this,"closeFormatMenu",(()=>this.setState({formatMenuAnchor:null}))),Ce(this,"openHeadingMenu",(e=>this.setState({headingMenuAnchor:e.currentTarget}))),Ce(this,"closeHeadingMenu",(()=>this.setState({headingMenuAnchor:null}))),Ce(this,"openListMenu",(e=>this.setState({listMenuAnchor:e.currentTarget}))),Ce(this,"closeListMenu",(()=>this.setState({listMenuAnchor:null}))),Ce(this,"toggleEditMenu",(()=>this.setState({editOpened:!this.state.editOpened}))),Ce(this,"resetEditMenu",(()=>this.setState({editOpened:!1}))),Ce(this,"getBlockStyle",(e=>{switch(e.getType()){case"blockquote":return"RichEditor-blockquote";case"code-block":return"RichEditor-codeblock";default:return null}})),Ce(this,"blockRendererFn",(e=>{const t=function(e){const t=e.getText();return t.includes("|")&&t.includes("---")?{component:Se,editable:!0,props:{}}:null}(e);return t||("atomic"===e.getType()?{component:Me,editable:!1}:null)})),Ce(this,"_handleTabChange",((e,t)=>{this.setState({tab:t},(()=>{this.swipeableViewScrollTop(),1===parseInt(t)&&this.resetEditMenu()}))})),Ce(this,"swipeableViewScrollTop",(()=>{let e=document.getElementsByClassName("react-swipeable-view-container").item(0).children.item(0);e.style.scrollBehavior="smooth",e.scrollTop=0}));const t=new r.CompositeDecorator([{strategy:ke,component:xe}]);this.state={editorState:r.EditorState.createEmpty(t),editorMode:"visual",markdownSource:"",title:"",description:"",tags:[],tab:0,currentDraftId:null,payout:"everyone",community:"governance",enableComments:!0,enableMonetization:!1,editOpened:!1,formatMenuAnchor:null,headingMenuAnchor:null,listMenuAnchor:null,linkDialogOpen:!1,linkUrl:"",linkText:"",previewDialogOpen:!1,draftsDialogOpen:!1,drafts:[],draftsLoading:!1,draftsSearchQuery:"",confirmDialogOpen:!1,confirmDialogTitle:"",confirmDialogMessage:"",confirmDialogAction:null,passwordDialogOpen:!1,passwordDialogTitle:"",passwordDialogValue:"",passwordDialogAction:null,imageUrlDialogOpen:!1,imageUrlDialogValue:"",wordCount:0,readingTime:0},this.editorRef=l.default.createRef(),this.fileInputRef=l.default.createRef(),this.draftManager=new De,this.autoSaveTimer=null}async componentDidMount(){const e=await this.draftManager.getMostRecent();e&&this.loadDraftData(e)}componentWillUnmount(){this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),this.saveDraft()}loadDraftData(e){try{var t,a;const l=e.content?(0,i.A)(e.content,{gfm:!0,tables:!0}):r.EditorState.createEmpty().getCurrentContent(),n=new r.CompositeDecorator([{strategy:ke,component:xe}]),o=r.EditorState.createWithContent(l,n);this.setState({editorState:o,markdownSource:e.content||"",title:e.title||"",description:e.description||"",tags:e.tags||[],currentDraftId:e._id,payout:(null===(t=e.settings)||void 0===t?void 0:t.payout)||"everyone",community:(null===(a=e.settings)||void 0===a?void 0:a.community)||"governance",lastSaved:e.lastModified}),this.props.setGradient&&this.props.setGradient(e.gradient)}catch(e){}}async saveDraft(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{currentDraftId:t,editorState:a,editorMode:l,markdownSource:n,title:r,description:i,tags:s,community:d,payout:c,enableComments:u,enableMonetization:m}=this.state,{gradient:f}=this.props,g="markdown"===l?n:(0,o.A)(a.getCurrentContent(),{gfm:!0,tables:!0}),h="markdown"===l?n.replace(/[#*_\[\]()]/g,"").trim():a.getCurrentContent().getPlainText();if(!r.trim()&&!h.trim())return null;const p=h.trim()?h.split(/\s+/).length:0,b=await this.draftManager.save(t,{title:r||"Untitled",description:i,content:g,tags:s,gradient:f,wordCount:p,settings:{payout:c,community:d}});return b&&(this.setState({currentDraftId:b,lastSaved:Date.now()}),e&&R.Le("Draft saved")),b}scheduleAutoSave(){this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),this.autoSaveTimer=setTimeout((()=>this.saveDraft()),2e3)}updateStats(){const{editorMode:e,editorState:t,markdownSource:a}=this.state,l="markdown"===e?a.replace(/[#*_\[\]()]/g,"").trim():t.getCurrentContent().getPlainText(),n=l.trim()?l.trim().split(/\s+/).length:0;this.setState({wordCount:n,readingTime:Math.ceil(n/200)})}async createNewDraft(){await this.saveDraft();const e=new r.CompositeDecorator([{strategy:ke,component:xe}]);this.setState({editorState:r.EditorState.createEmpty(e),markdownSource:"",title:"",description:"",tags:[],currentDraftId:null,lastSaved:null,editorMode:"visual"}),this.props.setGradient&&this.props.setGradient(null),R.Le("New draft created")}async loadDraft(e){await this.saveDraft();const t=await this.draftManager.get(e);t&&(this.loadDraftData(t),this.setState({draftsDialogOpen:!1}),R.Le("Draft loaded"))}async deleteDraft(e){await this.draftManager.delete(e)&&(this.state.currentDraftId===e&&await this.createNewDraft(),await this.loadDrafts(),R.Le("Draft deleted"))}async loadDrafts(){this.setState({draftsLoading:!0});const e=await this.draftManager.getAll(),t=this.state.draftsSearchQuery?e.filter((e=>{var t,a;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(this.state.draftsSearchQuery.toLowerCase()))||(null===(a=e.description)||void 0===a?void 0:a.toLowerCase().includes(this.state.draftsSearchQuery.toLowerCase()))})):e;this.setState({drafts:t,draftsLoading:!1})}render(){const{classes:e,open:t,gradient:a,onClose:n}=this.props,{editorState:i,editorMode:s,markdownSource:d,title:R,description:Ae,tags:we,payout:Ce,community:De,editOpened:ke,formatMenuAnchor:xe,headingMenuAnchor:Se,listMenuAnchor:Ie,linkDialogOpen:Me,linkUrl:Te,linkText:Ne,wordCount:Be,readingTime:Le,tab:Re,currentDraftId:ze,draftsDialogOpen:We,drafts:Oe,draftsLoading:Pe,draftsSearchQuery:Ue,confirmDialogOpen:He,confirmDialogTitle:Fe,confirmDialogMessage:je,passwordDialogOpen:Ke,passwordDialogTitle:_e,passwordDialogValue:Ge,imageUrlDialogOpen:Ve,imageUrlDialogValue:qe,previewDialogOpen:Qe}=this.state,Ye=window.innerWidth<=960,$e=Ye?l.default.createElement("div",{className:e.settingsActions},l.default.createElement(p.A,{variant:"text",color:"inherit",startIcon:l.default.createElement(oe.A,null),onClick:this.openDraftsDialog},"Drafts"),0===parseInt(Re)?l.default.createElement(k.A,{in:0===parseInt(Re)},l.default.createElement(p.A,{variant:"contained",startIcon:l.default.createElement(ue.A,null),onClick:()=>this.setState({tab:1},this.resetEditMenu),style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Finish")):l.default.createElement(k.A,{in:1===parseInt(Re)},l.default.createElement(p.A,{variant:"contained",startIcon:l.default.createElement(be.A,null),onClick:this.openPreview,style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Preview"))):l.default.createElement("div",{className:e.settingsActions},l.default.createElement(p.A,{variant:"text",color:"inherit",startIcon:l.default.createElement(oe.A,null),onClick:this.openDraftsDialog},"Drafts"),l.default.createElement(p.A,{variant:"contained",startIcon:l.default.createElement(be.A,null),onClick:this.openPreview,style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Preview")),Je=l.default.createElement("div",{className:e.editorSection},l.default.createElement("div",{className:e.editorHeader},l.default.createElement(b.A,{className:e.titleInput,placeholder:"Title",value:R,onChange:e=>this.setState({title:e.target.value}),fullWidth:!0}),l.default.createElement(b.A,{className:e.descriptionInput,placeholder:"Short Description",value:Ae,onChange:e=>this.setState({description:e.target.value}),fullWidth:!0,multiline:!0,rows:2})),l.default.createElement("div",{className:e.editorWrapper+" "+s,onClick:this.focus},l.default.createElement("div",{style:{height:"100%"}},"visual"===s?l.default.createElement(r.Editor,{ref:this.editorRef,editorState:i,onChange:this.onChange,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.keyBindingFn,blockStyleFn:this.getBlockStyle,blockRendererFn:this.blockRendererFn,placeholder:"Tell your story...",spellCheck:!0}):l.default.createElement("textarea",{value:d,onChange:this.onMarkdownChange,placeholder:"Write your story in markdown...",spellCheck:!0}))),l.default.createElement(v.Ay,{title:"visual"===s?"Switch to markdown code":"Switch to visual editor",placement:"right"},l.default.createElement(Ee.A,{className:e.menuIconButtonFab,onClick:this.toggleEditorMode},"visual"===s?l.default.createElement(F.A,null):l.default.createElement(ve.A,null)))),Xe=l.default.createElement("div",{className:e.settingsPanel},l.default.createElement("div",{className:e.settingsContent},l.default.createElement("div",{className:e.settingsSection},l.default.createElement(E.A,{variant:"subtitle2",className:e.subTitle2},"Cover Image",l.default.createElement(v.Ay,{interactive:!0,enterTouchDelay:200,leaveTouchDelay:4e3,classes:{tooltip:e.tooltipRoot},title:l.default.createElement("span",{className:e.tooltip},"The cover image has a purpose of aesthetic, gradients are so lite that they are stored in the blockchain as Scalable Vector Graphic of less than 1 kB.")},l.default.createElement(h.A,null,l.default.createElement(ye.A,null)))),l.default.createElement("div",{className:e.imageUploadArea},l.default.createElement("input",{ref:this.fileInputRef,type:"file",accept:"image/*",style:{display:"none"},onChange:this.handleImageUpload}),a?l.default.createElement("div",null,l.default.createElement("img",{src:a,alt:"Cover",className:e.uploadedImage}),l.default.createElement("div",{className:e.imageOverlay},l.default.createElement(p.A,{size:"small",startIcon:l.default.createElement(Z.A,null),onClick:this.removeCoverImage,style:{color:"#fff"}},"Remove"))):l.default.createElement(y.A,{textAlign:"center",onClick:()=>{var e;return null===(e=this.fileInputRef.current)||void 0===e?void 0:e.click()},style:{cursor:"pointer"}},l.default.createElement(ee.A,{style:{fontSize:48,color:"#666"}}),l.default.createElement(E.A,{variant:"body2",style:{color:"#999",marginTop:8}},"Click to upload"),l.default.createElement("div",{className:e.imageOverlay},l.default.createElement(p.A,{size:"small",startIcon:l.default.createElement(fe.A,null),onClick:this.openGradientEditor,style:{color:"#fff"}},"Generate"))))),l.default.createElement("div",{className:e.settingsSection},l.default.createElement(E.A,{variant:"subtitle2",className:e.subTitle2},"Payout",l.default.createElement(v.Ay,{interactive:!0,enterTouchDelay:200,leaveTouchDelay:4e3,classes:{tooltip:e.tooltipRoot},title:l.default.createElement("span",{className:e.tooltip},"You can choose how the reward split between authors and curators.")},l.default.createElement(h.A,null,l.default.createElement(ye.A,null)))),l.default.createElement(x.A,{variant:"outlined",fullWidth:!0,size:"small"},l.default.createElement(S.A,{value:Ce,onChange:e=>this.setState({payout:e.target.value}),style:{color:"#fff"}},l.default.createElement(w.A,{value:"author"},"100% Author"),l.default.createElement(w.A,{value:"everyone"},"50% / 50%"),l.default.createElement(w.A,{value:"curators"},"100% Curators")))),l.default.createElement("div",{className:e.settingsSection},l.default.createElement(E.A,{variant:"subtitle2",className:e.subTitle2},"Community",l.default.createElement(v.Ay,{interactive:!0,enterTouchDelay:200,leaveTouchDelay:4e3,classes:{tooltip:e.tooltipRoot},title:l.default.createElement("span",{className:e.tooltip},"You can choose in which community the post will be featured.")},l.default.createElement(h.A,null,l.default.createElement(ye.A,null)))),l.default.createElement(x.A,{variant:"outlined",fullWidth:!0,size:"small"},l.default.createElement(S.A,{value:De,onChange:e=>this.setState({community:e.target.value}),style:{color:"#fff"}},l.default.createElement(w.A,{value:"governance"},"Governance"),l.default.createElement(w.A,{value:"askpixa"},"Ask Pixa"),l.default.createElement(w.A,{value:"contest"},"Contest Drawing"),l.default.createElement(w.A,{value:"edit4me"},"Edit For Me"),l.default.createElement(w.A,{value:"iy"},"Introduce Yourself"),l.default.createElement(w.A,{value:"lab"},"Pixa Labs"))))),Ye?null:$e),Ze=Ye?l.default.createElement(l.default.Fragment,null,l.default.createElement(ce.Ay,{axis:"y",ignoreNativeScroll:!1,containerStyle:{minHeight:"100%",height:"100%",position:"relative"},animateHeight:!1,animateTransitions:!0,disableLazyLoading:!0,resistance:!0,springConfig:{tension:450,friction:60,duration:"120ms",easeFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)",delay:"5ms"},index:Re,onChangeIndex:e=>this._handleTabChange({},e),disabled:!1,key:"swipe-able-view"},Je,Xe),$e):[Je,Xe],et="markdown"===s?d:(0,o.A)(i.getCurrentContent(),{gfm:!0,tables:!0});return l.default.createElement(l.default.Fragment,null,l.default.createElement(c.A,{className:e.dialog,open:t,maxWidth:!1,onClose:n},l.default.createElement(f.A,{position:"sticky",className:e.appBar},l.default.createElement(g.A,null,l.default.createElement(y.A,{flexGrow:1,ml:2},l.default.createElement(E.A,{variant:"h6",style:{fontWeight:500}},"Write a New Blog Post"),l.default.createElement(E.A,{variant:"caption",style:{color:"rgba(255,255,255,0.6)"}},Be," words · ",Le," min read",ze&&" · Draft saved")),l.default.createElement(h.A,{color:"inherit",onClick:n},l.default.createElement(z.A,null)))),l.default.createElement(u.A,{className:e.contentArea},l.default.createElement("div",{className:e.mainContainer},Ze)),l.default.createElement(me.A,{in:(0===parseInt(Re)||!Ye)&&"visual"===s,out:1===parseInt(Re)||"markdown"===s},l.default.createElement("div",{className:"".concat(e.fixedSidebar," ").concat(ke?"opened":"")},!ke&&l.default.createElement(v.Ay,{title:"Expand",placement:"right"},l.default.createElement(h.A,{className:"edit "+e.menuIconButton,onClick:this.toggleEditMenu},l.default.createElement(ae.A,null))),l.default.createElement(v.Ay,{title:"Bold (Ctrl+B)",placement:"right"},l.default.createElement(h.A,{className:"".concat(e.menuIconButton," ").concat(this.hasInlineStyle("BOLD")?"active":""),onMouseDown:e=>{e.preventDefault(),this.toggleInlineStyle("BOLD")}},l.default.createElement(O.A,null))),l.default.createElement(v.Ay,{title:"Italic (Ctrl+I)",placement:"right"},l.default.createElement(h.A,{className:"".concat(e.menuIconButton," ").concat(this.hasInlineStyle("ITALIC")?"active":""),onMouseDown:e=>{e.preventDefault(),this.toggleInlineStyle("ITALIC")}},l.default.createElement(P.A,null))),l.default.createElement(v.Ay,{title:"More",placement:"right"},l.default.createElement(h.A,{className:e.menuIconButton,onClick:this.openFormatMenu},l.default.createElement(ne.A,null))),l.default.createElement("div",{className:e.menuDivider}),l.default.createElement(v.Ay,{title:"Quote",placement:"right"},l.default.createElement(h.A,{className:"".concat(e.menuIconButton," ").concat(this.hasBlockType("blockquote")?"active":""),onMouseDown:e=>{e.preventDefault(),this.toggleBlockType("blockquote")}},l.default.createElement(H.A,null))),l.default.createElement(v.Ay,{title:"Lists",placement:"right"},l.default.createElement(h.A,{className:e.menuIconButton,onClick:this.openListMenu},l.default.createElement(Q.A,null))),l.default.createElement(v.Ay,{title:"Heading",placement:"right"},l.default.createElement(h.A,{className:e.menuIconButton,onClick:this.openHeadingMenu},l.default.createElement($.A,null))),l.default.createElement("div",{className:e.menuDivider}),l.default.createElement(v.Ay,{title:"Link (Ctrl+K)",placement:"right"},l.default.createElement(h.A,{className:e.menuIconButton,onClick:this.openLinkDialog},l.default.createElement(V.A,null))),l.default.createElement(v.Ay,{title:"Image",placement:"right"},l.default.createElement(h.A,{className:e.menuIconButton,onClick:this.insertImage},l.default.createElement(q.A,null))),l.default.createElement("div",{className:e.menuDivider}),l.default.createElement(v.Ay,{title:"Undo",placement:"right"},l.default.createElement(h.A,{className:e.menuIconButton,onClick:()=>this.onChange(r.EditorState.undo(i))},l.default.createElement(J.A,null))),l.default.createElement(v.Ay,{title:"Redo",placement:"right"},l.default.createElement(h.A,{className:e.menuIconButton,onClick:()=>this.onChange(r.EditorState.redo(i))},l.default.createElement(X.A,null))),ke&&l.default.createElement(v.Ay,{title:"Collapse",placement:"right"},l.default.createElement(h.A,{className:"close "+e.menuIconButton,style:{backgroundColor:"#000",color:"#fff",marginTop:8},onClick:this.toggleEditMenu},l.default.createElement(te.A,null)))))),l.default.createElement(c.A,{className:e.previewDialog,open:Qe,onClose:this.closePreview,maxWidth:"md",fullWidth:!0},l.default.createElement("div",{className:e.previewDialogTitle},l.default.createElement(E.A,{variant:"h5",style:{fontWeight:600}},"Preview"),l.default.createElement(h.A,{color:"inherit",onClick:this.closePreview},l.default.createElement(z.A,null))),l.default.createElement(u.A,{className:e.previewDialogContent},l.default.createElement(E.A,{className:e.previewTitle},R||"Untitled"),Ae&&l.default.createElement(E.A,{className:e.previewDescription},Ae),l.default.createElement("div",{className:e.previewContent,dangerouslySetInnerHTML:{__html:this.renderMarkdown(et)}})),l.default.createElement("div",{className:e.previewDialogActions},l.default.createElement(y.A,{display:"flex",alignItems:"center",color:"rgba(255,255,255,0.6)"},l.default.createElement(E.A,{variant:"caption"},Be," words · ",Le," min read")),l.default.createElement(p.A,{variant:"contained",startIcon:l.default.createElement(W.A,null),onClick:this.handlePublish,style:{backgroundColor:"#fff",color:"#000",borderRadius:24}},"Publish"))),l.default.createElement(c.A,{className:e.draftsDialog,open:We,onClose:this.closeDraftsDialog,maxWidth:"md",fullWidth:!0},l.default.createElement("div",{className:e.draftsDialogTitle},l.default.createElement(y.A,{display:"flex",alignItems:"center"},l.default.createElement(L.A,{className:e.draftAvatar},l.default.createElement(oe.A,null)),l.default.createElement(E.A,{variant:"h5",style:{marginLeft:16,fontWeight:600}},"Your Drafts")),l.default.createElement(y.A,null,l.default.createElement(p.A,{color:"inherit",startIcon:l.default.createElement(de.A,null),onClick:()=>{this.createNewDraft()},style:{marginRight:8,backgroundColor:"rgba(255,255,255,0.1)",borderRadius:16}},"New Draft"),l.default.createElement(h.A,{color:"inherit",onClick:this.closeDraftsDialog},l.default.createElement(z.A,null)))),l.default.createElement(u.A,{className:e.draftsDialogContent},l.default.createElement(b.A,{className:e.searchField,variant:"outlined",placeholder:"Search drafts...",value:Ue,onChange:this.handleDraftsSearch,size:"small",InputProps:{startAdornment:l.default.createElement(re.A,{position:"start"},l.default.createElement(se.A,null))}}),Pe?l.default.createElement("div",{className:e.loadingState},l.default.createElement(T.A,null)):0===Oe.length?l.default.createElement("div",{className:e.emptyState},l.default.createElement(ge.A,{className:e.emptyStateIcon}),l.default.createElement(E.A,{variant:"h5",gutterBottom:!0,style:{fontWeight:500}},Ue?"No drafts found":"No drafts yet"),l.default.createElement(E.A,{variant:"body1",style:{color:"rgba(255,255,255,0.6)"}},Ue?"Try a different search query":"Start writing to save your first draft automatically")):l.default.createElement("div",{className:e.draftsList},Oe.map((t=>{var a,n;return l.default.createElement(N.A,{key:t._id,className:e.draftCard,onClick:()=>this.loadDraft(t._id)},l.default.createElement(B.A,{className:e.draftCardContent},l.default.createElement("div",{className:e.draftHeader},l.default.createElement(y.A,{flex:1},l.default.createElement(E.A,{className:e.draftTitle},t.title||"Untitled Draft"),t.description&&l.default.createElement(E.A,{className:e.draftDescription},t.description)),l.default.createElement(h.A,{className:e.deleteButton,onClick:e=>{e.stopPropagation(),this.deleteDraft(t._id)}},l.default.createElement(Z.A,null))),l.default.createElement("div",{className:e.draftMeta},l.default.createElement("div",{className:e.draftMetaItem},l.default.createElement(ie.A,{fontSize:"small"}),l.default.createElement("span",null,this.formatDate(t.lastSaved))),l.default.createElement("div",{className:e.draftMetaItem},l.default.createElement("span",null,(null===(a=t.metadata)||void 0===a?void 0:a.wordCount)||0," words")),l.default.createElement("div",{className:e.draftMetaItem},l.default.createElement("span",null,(null===(n=t.metadata)||void 0===n?void 0:n.readingTime)||0," min read"))),t.tags&&t.tags.length>0&&l.default.createElement("div",{className:e.draftTags},t.tags.slice(0,3).map(((t,a)=>l.default.createElement(M.A,{key:a,label:t,size:"small",className:e.draftTag}))),t.tags.length>3&&l.default.createElement(M.A,{label:"+".concat(t.tags.length-3),size:"small",className:e.draftTag}))))}))))),l.default.createElement(c.A,{className:e.confirmDialog,open:He,onClose:this.closeConfirmDialog},l.default.createElement(I.A,null,l.default.createElement(y.A,{display:"flex",alignItems:"center"},l.default.createElement(he.A,{style:{marginRight:8,color:"#ff9800"}}),Fe)),l.default.createElement(u.A,null,l.default.createElement(E.A,null,je)),l.default.createElement(m.A,null,l.default.createElement(p.A,{onClick:this.closeConfirmDialog,color:"inherit"},"Cancel"),l.default.createElement(p.A,{onClick:this.handleConfirmAction,variant:"contained",color:"primary"},"Confirm"))),l.default.createElement(c.A,{className:e.passwordDialog,open:Ke,onClose:this.closePasswordDialog},l.default.createElement(I.A,null,l.default.createElement(y.A,{display:"flex",alignItems:"center"},l.default.createElement(pe.A,{style:{marginRight:8,color:"#4caf50"}}),_e)),l.default.createElement(u.A,null,l.default.createElement(b.A,{className:e.darkInput,variant:"outlined",type:"password",label:"Password",value:Ge,onChange:e=>this.setState({passwordDialogValue:e.target.value}),fullWidth:!0,autoFocus:!0,margin:"normal"})),l.default.createElement(m.A,null,l.default.createElement(p.A,{onClick:this.closePasswordDialog,color:"inherit"},"Cancel"),l.default.createElement(p.A,{onClick:this.handlePasswordAction,variant:"contained",color:"primary"},"Continue"))),l.default.createElement(c.A,{className:e.imageUrlDialog,open:Ve,onClose:this.closeImageUrlDialog},l.default.createElement(I.A,null,"Insert Image"),l.default.createElement(u.A,null,l.default.createElement(b.A,{className:e.darkInput,variant:"outlined",label:"Image URL",value:qe,onChange:e=>this.setState({imageUrlDialogValue:e.target.value}),fullWidth:!0,autoFocus:!0,margin:"normal"})),l.default.createElement(m.A,null,l.default.createElement(p.A,{onClick:this.closeImageUrlDialog,color:"inherit"},"Cancel"),l.default.createElement(p.A,{onClick:this.handleImageUrlInsert,variant:"contained",color:"primary"},"Insert"))),l.default.createElement(A.A,{className:e.formatMenu,anchorEl:xe,open:Boolean(xe),onClose:this.closeFormatMenu},l.default.createElement(w.A,{onClick:()=>{this.toggleInlineStyle("UNDERLINE"),this.closeFormatMenu()}},l.default.createElement(C.A,null,l.default.createElement(U.A,null)),l.default.createElement(D.A,{primary:"Underline"})),l.default.createElement(w.A,{onClick:()=>{this.toggleInlineStyle("STRIKETHROUGH"),this.closeFormatMenu()}},l.default.createElement(C.A,null,l.default.createElement(le.A,null)),l.default.createElement(D.A,{primary:"Strikethrough"})),l.default.createElement(w.A,{onClick:()=>{this.toggleInlineStyle("CODE"),this.closeFormatMenu()}},l.default.createElement(C.A,null,l.default.createElement(G.A,null)),l.default.createElement(D.A,{primary:"Code"}))),l.default.createElement(A.A,{className:e.formatMenu,anchorEl:Se,open:Boolean(Se),onClose:this.closeHeadingMenu},l.default.createElement(w.A,{onClick:()=>{this.toggleBlockType("header-one"),this.closeHeadingMenu()}},l.default.createElement(C.A,null,l.default.createElement(j.A,null)),l.default.createElement(D.A,{primary:"Heading 1"})),l.default.createElement(w.A,{onClick:()=>{this.toggleBlockType("header-two"),this.closeHeadingMenu()}},l.default.createElement(C.A,null,l.default.createElement(K.A,null)),l.default.createElement(D.A,{primary:"Heading 2"})),l.default.createElement(w.A,{onClick:()=>{this.toggleBlockType("header-three"),this.closeHeadingMenu()}},l.default.createElement(C.A,null,l.default.createElement(_.A,null)),l.default.createElement(D.A,{primary:"Heading 3"}))),l.default.createElement(A.A,{className:e.formatMenu,anchorEl:Ie,open:Boolean(Ie),onClose:this.closeListMenu},l.default.createElement(w.A,{onClick:()=>{this.toggleBlockType("unordered-list-item"),this.closeListMenu()}},l.default.createElement(C.A,null,l.default.createElement(Q.A,null)),l.default.createElement(D.A,{primary:"Bullet List"})),l.default.createElement(w.A,{onClick:()=>{this.toggleBlockType("ordered-list-item"),this.closeListMenu()}},l.default.createElement(C.A,null,l.default.createElement(Y.A,null)),l.default.createElement(D.A,{primary:"Numbered List"}))),l.default.createElement(c.A,{PaperProps:{classes:{root:e.darkDialog}},open:Me,maxWidth:"xs",fullWidth:!0,onClose:this.closeLinkDialog},l.default.createElement(u.A,{className:e.darkDialogContent},l.default.createElement(E.A,{variant:"h6",gutterBottom:!0},"Insert Link"),l.default.createElement(b.A,{className:e.darkInput,variant:"outlined",label:"Link Text",value:Ne,onChange:e=>this.setState({linkText:e.target.value}),fullWidth:!0,style:{marginBottom:16}}),l.default.createElement(b.A,{className:e.darkInput,variant:"outlined",label:"URL",placeholder:"https://...",value:Te,onChange:e=>this.setState({linkUrl:e.target.value}),fullWidth:!0,autoFocus:!0})),l.default.createElement(m.A,{className:e.darkDialogActions},l.default.createElement(p.A,{onClick:this.closeLinkDialog},"Cancel"),l.default.createElement(p.A,{variant:"contained",onClick:this.insertLink,style:{backgroundColor:"#fff",color:"#000"}},"Insert"))))}}class Me extends l.PureComponent{render(){const e=this.props.contentState.getEntity(this.props.block.getEntityAt(0)),{src:t}=e.getData();return"IMAGE"===e.getType()?l.default.createElement("div",{style:{textAlign:"center",margin:"16px 0"}},l.default.createElement("img",{src:t,alt:"",style:{maxWidth:"100%",height:"auto",borderRadius:8}})):null}}const Te=(0,n.default)((e=>({dialog:{"& .MuiDialog-paper":{zIndex:e.zIndex.drawer+10,backgroundColor:"#0c0c0c",color:"#fff",borderRadius:21,[e.breakpoints.down("sm")]:{margin:0,maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",borderRadius:0},[e.breakpoints.up("md")]:{maxWidth:"90vw",width:1200,height:"85vh"}},"& .MuiBackdrop-root":{zIndex:e.zIndex.drawer+1,backdropFilter:"blur(9px) grayscale(1)",overflow:"hidden",userSelect:"none"}},tooltipRoot:{maxWidth:"min(75vw, 500px)",borderRadius:"16px",backgroundColor:"#dddddd !important",color:"#0e0e0e !important"},tooltip:{margin:"8px",display:"block",fontSize:"14px",lineHeight:"22px"},appBar:{backgroundColor:"transparent",boxShadow:"none","& .MuiToolbar-root":{minHeight:64,padding:"0 24px"}},contentArea:{display:"flex",flexDirection:"column",height:"100%",position:"relative",padding:0,overflow:"hidden",backgroundColor:"#0a0a0a"},mainContainer:{display:"flex",flex:1,overflow:"hidden",position:"relative",[e.breakpoints.down("sm")]:{flexDirection:"column",overflow:"auto","& div.react-swipeable-view-container > div":{minHeight:"100%",maxHeight:"100%"},"& > div:first-child":{height:"100%"}}},modeToggleButton:{position:"absolute",backgroundColor:"#fff",color:"#000",borderRadius:24,padding:"8px 24px",margin:"12px 24px",textTransform:"none",fontWeight:500,"&:hover":{backgroundColor:"#f0f0f0"}},fixedSidebar:{position:"fixed",top:"50%",transform:"translateY(-50%) !important",width:48,backgroundColor:"#ffffff",boxShadow:"2px 0 12px rgba(0,0,0,0.1)",zIndex:1100,display:"flex",flexDirection:"column",alignItems:"center",padding:"8px 0",borderRadius:"24px",marginLeft:"-24px",gap:2,"& .close, & .edit":{display:"none"},[e.breakpoints.down("sm")]:{right:8,width:40,padding:4,height:40,overflow:"hidden",transform:"translateY(-50%) !important",transition:"opacity 196ms cubic-bezier(0.4, 0, 0.2, 1), transform 131ms cubic-bezier(0.4, 0, 0.2, 1), height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms, max-height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms !important","&.opened":{padding:8,transition:"opacity 196ms cubic-bezier(0.4, 0, 0.2, 1), transform 131ms cubic-bezier(0.4, 0, 0.2, 1), height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms, max-height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms !important",height:"410px"},"& .close, & .edit":{display:"flex"}}},fixedSidebarMode:{position:"fixed",top:"50%",width:48,zIndex:1100,display:"flex",flexDirection:"column",alignItems:"center",padding:"8px 0",borderRadius:"24px",marginLeft:"-24px",gap:2,"& .close, & .edit":{display:"none"},[e.breakpoints.down("sm")]:{right:8,width:40,padding:4,height:40,overflow:"hidden",transform:"translateY(-50%) !important",transition:"opacity 196ms cubic-bezier(0.4, 0, 0.2, 1), transform 131ms cubic-bezier(0.4, 0, 0.2, 1), height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms, max-height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms !important","&.opened":{padding:8,transition:"opacity 196ms cubic-bezier(0.4, 0, 0.2, 1), transform 131ms cubic-bezier(0.4, 0, 0.2, 1), height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms, max-height 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms !important",height:"410px"},"& .close, & .edit":{display:"flex"}}},menuIconButton:{color:"#616161",padding:0,margin:0,height:48,width:48,"& .MuiSvgIcon-root":{fontSize:"2rem"},[e.breakpoints.down("sm")]:{width:32,height:32,padding:4,"& .MuiSvgIcon-root":{fontSize:"1.125rem"}},"&:hover":{backgroundColor:"rgba(0,0,0,0.1)",color:"#212121"},"&.active":{backgroundColor:"#000",color:"#fff"}},menuIconButtonFab:{position:"fixed",marginLeft:"-64px",width:64,height:64,backgroundColor:"#d1d1d1",color:"#000",boxShadow:"2px 0 12px rgba(0,0,0,0.1)",padding:0,margin:0,"& .MuiSvgIcon-root":{fontSize:"2rem"},[e.breakpoints.down("sm")]:{height:48,width:48,marginLeft:0,marginTop:"16px",right:16,"& .MuiSvgIcon-root":{fontSize:"1.125rem"}},"&:hover":{backgroundColor:"rgba(0,0,0,0.1)",color:"#212121"},"&.active":{backgroundColor:"#000",color:"#fff"}},menuDivider:{width:"calc(100% - 16px)",height:1,backgroundColor:"#999",margin:"2px 0px"},editorSection:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#171717",paddingLeft:32,paddingRight:16,borderRadius:"0px 32px 0px 0px",[e.breakpoints.down("sm")]:{paddingLeft:8,paddingRight:8,borderRadius:"0px",overflow:"overlay",minHeight:"100%",maxHeight:"100%",position:"relative"}},editorHeader:{padding:e.spacing(3,3,2,3)},titleInput:{"& .MuiInputBase-root":{color:"#fff",fontSize:"2rem",fontWeight:600,padding:0,"&:before":{borderBottom:"none"},"&:hover:before":{borderBottom:"none"},"&:after":{borderBottom:"2px solid rgba(255,255,255,0.2)"}},"& .MuiInputBase-input":{padding:"8px 0"}},descriptionInput:{marginTop:16,"& .MuiInputBase-root":{color:"#ccc",fontSize:"1rem","&:before":{borderBottom:"none"},"&:hover:before":{borderBottom:"none"},"&:after":{borderBottom:"2px solid rgba(255,255,255,0.2)"}}},editorWrapper:{position:"initial",flex:1,margin:"16px 24px 0px 24px",backgroundColor:"#0a0a0a",borderRadius:"32px 32px 0px 0px",cursor:"text",[e.breakpoints.down("sm")]:{borderRadius:"24px 24px 0px 0px",margin:"16px 24px 0px 24px"},"&.markdown":{overflow:"hidden","& textarea":{padding:24}},"&.visual":{overflow:"auto","& > div":{padding:24}},"& .DraftEditor-root":{minHeight:"100%",color:"#e0e0e0",fontSize:16,lineHeight:1.6},"& .DraftEditor-editorContainer":{minHeight:"100%"},"& .public-DraftEditor-content":{minHeight:"100%"},"& .public-DraftStyleDefault-block":{marginBottom:"1em"},"& h1":{fontSize:"2.5em",fontWeight:600,color:"#fff",margin:"0.5em 0"},"& h2":{fontSize:"2em",fontWeight:600,color:"#fff",margin:"0.5em 0"},"& h3":{fontSize:"1.5em",fontWeight:600,color:"#fff",margin:"0.5em 0"},"& blockquote":{borderLeft:"3px solid rgba(255,255,255,0.2)",paddingLeft:16,margin:"1em 0",color:"rgba(255,255,255,0.8)"},"& pre":{backgroundColor:"rgba(255,255,255,0.05)",padding:16,borderRadius:8,overflow:"auto",fontFamily:"monospace"},"& a":{color:"#ffffff",textDecoration:"underline"},"& textarea":{width:"100%",minHeight:"100%",height:"100%",backgroundColor:"transparent",border:"none",outline:"none",color:"#e0e0e0",fontSize:16,lineHeight:1.6,fontFamily:"monospace",resize:"none",padding:0},"& table":{width:"100%",borderCollapse:"collapse",margin:"1.5em 0",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:8,overflow:"hidden"},"& th, & td":{padding:12,borderBottom:"1px solid rgba(255,255,255,0.1)",textAlign:"left"},"& th":{fontWeight:600,color:"#fff",backgroundColor:"rgba(255,255,255,0.05)"},"& tr:hover":{backgroundColor:"rgba(255,255,255,0.03)"}},settingsPanel:{width:360,display:"flex",flexDirection:"column",backgroundColor:"transparent",overflow:"auto",[e.breakpoints.down("sm")]:{width:"100%"}},settingsContent:{padding:"0px 24px",flex:1,overflow:"auto",[e.breakpoints.down("sm")]:{padding:"24px"}},settingsActions:{padding:e.spacing(2,3),display:"flex",justifyContent:"space-between"},subTitle2:{color:"#ccc",fontSize:"1rem","& button.MuiIconButton-root":{color:"#666"}},settingsSection:{marginBottom:e.spacing(3)},imageUploadArea:{position:"relative",width:"100%",height:175.5,border:"2px dashed rgba(255,255,255,0.2)",borderRadius:24,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease",overflow:"hidden","&:hover":{borderColor:"rgba(255,255,255,0.4)",backgroundColor:"rgba(255,255,255,0.02)"}},uploadedImage:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",top:0,left:0,right:0,bottom:0},imageOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 50%)",display:"flex",alignItems:"flex-end",padding:e.spacing(2),opacity:.5,transition:"opacity 0.3s","&:hover":{opacity:1}},formatMenu:{"& .MuiPaper-root":{backgroundColor:"#e3e3e3",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.12)"},"& .MuiListItemText-root":{color:"#171717"},"& .MuiListItemIcon-root":{color:"#0c0c0c"}},tagsInput:{"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(255,255,255,0.24)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.48)"}},"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.7)"}},darkDialog:{backgroundColor:"#212121",color:"#fff",borderRadius:16},darkDialogContent:{padding:24},darkDialogActions:{padding:"8px 16px 16px",display:"flex",justifyContent:"flex-end"},darkInput:{"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.8)"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(255,255,255,0.24)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.48)"},"&.Mui-focused fieldset":{borderColor:"#fff"}}},draftsDialog:{"& .MuiDialog-paper":{backgroundColor:"#1a1a1a",color:"#fff",borderRadius:24,maxWidth:900,width:"95%",maxHeight:"85vh",overflow:"hidden"}},draftsDialogTitle:{background:"#1a1a1a",padding:e.spacing(3,4),display:"flex",justifyContent:"space-between",alignItems:"center"},draftsDialogContent:{padding:0,backgroundColor:"#1a1a1a",display:"flex",flexDirection:"column"},searchField:{margin:e.spacing(3,4,2,4),maxWidth:400,"& .MuiOutlinedInput-root":{color:"#fff",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:16,"& fieldset":{borderColor:"rgba(255,255,255,0.15)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.25)"},"&.Mui-focused fieldset":{borderColor:"rgba(255,255,255,0.4)"}},"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.6)"},"& .MuiInputAdornment-root svg":{color:"rgba(255,255,255,0.4)"}},draftsList:{padding:0,flex:1,overflow:"auto"},draftCard:{backgroundColor:"#0c0c0c",borderRadius:16,margin:e.spacing(1,4,2,4),cursor:"pointer",transition:"background-color 0.2s ease","&:hover":{backgroundColor:"#000000"}},draftCardContent:{padding:e.spacing(3),"&:last-child":{paddingBottom:e.spacing(3)}},draftHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:e.spacing(2)},draftTitle:{fontSize:"1.25rem",fontWeight:600,color:"#fff",marginBottom:e.spacing(1),lineHeight:1.3},draftDescription:{color:"rgba(255,255,255,0.7)",fontSize:"0.95rem",lineHeight:1.5,marginBottom:e.spacing(2)},draftMeta:{display:"flex",flexWrap:"wrap",gap:e.spacing(2),alignItems:"center",color:"rgba(255,255,255,0.5)",fontSize:"0.85rem"},draftMetaItem:{display:"flex",alignItems:"center",gap:e.spacing(.5)},draftTags:{display:"flex",gap:e.spacing(.5),flexWrap:"wrap",marginTop:e.spacing(1)},draftTag:{backgroundColor:"rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.8)",borderRadius:12,fontSize:"0.75rem",height:24},emptyState:{padding:e.spacing(8,4),textAlign:"center",color:"rgba(255,255,255,0.5)",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},emptyStateIcon:{fontSize:80,marginBottom:e.spacing(3),color:"rgba(255,255,255,0.3)"},loadingState:{padding:e.spacing(8),display:"flex",justifyContent:"center",alignItems:"center",flex:1},draftAvatar:{backgroundColor:"rgba(255,255,255,0.1)",color:"#fff",width:40,height:40},deleteButton:{color:"rgba(255,255,255,0.4)","&:hover":{color:"#ffffff",backgroundColor:"rgba(255,255,255,0.1)"}},confirmDialog:{"& .MuiDialog-paper":{backgroundColor:"#2a2a2a",color:"#fff",borderRadius:16,maxWidth:400}},passwordDialog:{"& .MuiDialog-paper":{backgroundColor:"#2a2a2a",color:"#fff",borderRadius:16,maxWidth:400}},imageUrlDialog:{"& .MuiDialog-paper":{backgroundColor:"#2a2a2a",color:"#fff",borderRadius:16,maxWidth:400}},previewDialog:{"& .MuiDialog-paper":{backgroundColor:"#1a1a1a",color:"#fff",borderRadius:24,maxWidth:900,width:"95%",maxHeight:"90vh",overflow:"hidden"}},previewDialogTitle:{background:"linear-gradient(180deg, #1a1a1a 0%, transparent 100%)",padding:e.spacing(3,4),display:"flex",justifyContent:"space-between",alignItems:"center"},previewDialogContent:{padding:e.spacing(4),backgroundColor:"#0a0a0a",overflow:"auto"},previewTitle:{fontSize:"2.5rem",fontWeight:700,color:"#fff",marginBottom:e.spacing(2),lineHeight:1.2},previewDescription:{fontSize:"1.25rem",color:"rgba(255,255,255,0.8)",marginBottom:e.spacing(4),lineHeight:1.5},previewContent:{color:"#e0e0e0",fontSize:"1.125rem",lineHeight:1.8,"& h1":{fontSize:"2.5em",fontWeight:600,color:"#fff",margin:"1em 0 0.5em"},"& h2":{fontSize:"2em",fontWeight:600,color:"#fff",margin:"1em 0 0.5em"},"& h3":{fontSize:"1.5em",fontWeight:600,color:"#fff",margin:"1em 0 0.5em"},"& p":{marginBottom:"1em"},"& blockquote":{borderLeft:"4px solid rgba(255,255,255,0.3)",paddingLeft:24,margin:"1.5em 0",color:"rgba(255,255,255,0.8)",fontStyle:"italic"},"& pre":{backgroundColor:"rgba(255,255,255,0.05)",padding:24,borderRadius:12,overflow:"auto",fontFamily:"monospace",margin:"1.5em 0"},"& code":{backgroundColor:"rgba(255,255,255,0.1)",padding:"2px 6px",borderRadius:4,fontFamily:"monospace",fontSize:"0.9em"},"& pre code":{backgroundColor:"transparent",padding:0},"& a":{color:"#90caf9",textDecoration:"none","&:hover":{textDecoration:"underline"}},"& ul, & ol":{marginBottom:"1em",paddingLeft:"2em"},"& li":{marginBottom:"0.5em"},"& img":{maxWidth:"100%",height:"auto",borderRadius:12,margin:"1.5em 0"},"& table":{width:"100%",borderCollapse:"collapse",margin:"1.5em 0","& th, & td":{padding:12,borderBottom:"1px solid rgba(255,255,255,0.1)",textAlign:"left"},"& th":{fontWeight:600,color:"#fff"}}},previewDialogActions:{padding:e.spacing(3,4),background:"linear-gradient(0deg, #1a1a1a 0%, transparent 100%)",display:"flex",justifyContent:"space-between",alignItems:"center"}})))(Ie)}}]);