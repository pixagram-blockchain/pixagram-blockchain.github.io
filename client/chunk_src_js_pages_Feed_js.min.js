(self.webpackChunkpixagram_io=self.webpackChunkpixagram_io||[]).push([["src_js_pages_Feed_js"],{32163:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var i=n(17402),a=n(5556),r=n.n(a),s=n(8728),o=n(7160),l=n(88016),c=n(38306),d=n(33615),h=n(79626),p=n(69312),_=n(95652),u=n(32485),m=n.n(u);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},g.apply(null,arguments)}const f={standard:s.A,filled:o.Ay,outlined:l.A},b=8,y=46,w=37,x=39;class v extends i.default.PureComponent{state={chips:[],errorText:void 0,focusedChip:null,inputValue:"",isClean:!0,isFocused:!1,chipsUpdated:!1,prevPropsValue:[]};constructor(e){super(e),e.defaultValue&&(this.state.chips=e.defaultValue),this.labelRef=i.default.createRef(),this.input=i.default.createRef()}componentDidMount(){"outlined"===this.props.variant&&(this.labelNode=i.default.findDOMNode(this.labelRef.current),this.forceUpdate())}componentWillUnmount(){clearTimeout(this.inputBlurTimeout)}static getDerivedStateFromProps(e,t){let n=null;return e.value&&e.value.length!==t.prevPropsValue.length&&(n={prevPropsValue:e.value},e.clearInputValueOnChange&&(n.inputValue="")),e.clearInputValueOnChange&&e.value&&e.value.length!==t.prevPropsValue.length&&(n={prevPropsValue:e.value,inputValue:""}),e.disabled&&(n={...n,focusedChip:null}),!t.chipsUpdated&&e.defaultValue&&(n={...n,chips:e.defaultValue}),n}blur(){this.input&&this.actualInput.blur()}focus=()=>{this.actualInput.focus(),null!=this.state.focusedChip&&this.setState({focusedChip:null})};handleInputBlur=e=>{this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1}),null!=this.state.focusedChip&&this.setState({focusedChip:null});const t=e.target.value;let n;switch(this.props.blurBehavior){case"add-or-clear":n={clearInputOnFail:!0};case"add":if(this.props.delayBeforeAdd){const e=(this.props.value||this.state.chips).length;this.inputBlurTimeout=setTimeout((()=>{const i=(this.props.value||this.state.chips).length;e===i?this.handleAddChip(t,n):this.clearInput()}),150)}else this.handleAddChip(t,n);break;case"clear":this.clearInput()}};handleInputFocus=e=>{this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)};handleKeyDown=e=>{const{focusedChip:t}=this.state;if(this._keyPressed=!1,this._preventChipCreation=!1,this.props.onKeyDown&&(this.props.onKeyDown(e),e.isDefaultPrevented()))return;const n=this.props.value||this.state.chips;if(this.props.newChipKeyCodes.indexOf(e.keyCode)>=0||this.props.newChipKeys.indexOf(e.key)>=0){!1!==this.handleAddChip(e.target.value)&&e.preventDefault()}else switch(e.keyCode){case b:""===e.target.value&&(null!=t?(this.handleDeleteChip(n[t],t),t>0&&this.setState({focusedChip:t-1})):this.setState({focusedChip:n.length-1}));break;case y:""===e.target.value&&null!=t&&(this.handleDeleteChip(n[t],t),t<=n.length-1&&this.setState({focusedChip:t}));break;case w:null==t&&""===e.target.value&&n.length?this.setState({focusedChip:n.length-1}):null!=t&&t>0&&this.setState({focusedChip:t-1});break;case x:null!=t&&t<n.length-1?this.setState({focusedChip:t+1}):this.setState({focusedChip:null});break;default:this.setState({focusedChip:null})}};handleKeyUp=e=>{!this._preventChipCreation&&(this.props.newChipKeyCodes.indexOf(e.keyCode)>=0||this.props.newChipKeys.indexOf(e.key)>=0)&&this._keyPressed?this.clearInput():this.updateInput(e.target.value),this.props.onKeyUp&&this.props.onKeyUp(e)};handleKeyPress=e=>{this._keyPressed=!0,this.props.onKeyPress&&this.props.onKeyPress(e)};handleUpdateInput=e=>{null==this.props.inputValue&&this.updateInput(e.target.value),this.props.onUpdateInput&&this.props.onUpdateInput(e)};handleAddChip(e,t){if(this.props.onBeforeAdd&&!this.props.onBeforeAdd(e))return this._preventChipCreation=!0,null!=t&&t.clearInputOnFail&&this.clearInput(),!1;this.clearInput();const n=this.props.value||this.state.chips;return this.props.dataSourceConfig?("string"==typeof e&&(e={[this.props.dataSourceConfig.text]:e,[this.props.dataSourceConfig.value]:e}),!this.props.allowDuplicates&&n.some((t=>t[this.props.dataSourceConfig.value]===e[this.props.dataSourceConfig.value]))||(this.props.value&&this.props.onAdd?this.props.onAdd(e):this.updateChips([...this.state.chips,e])),!0):e.trim().length>0&&((this.props.allowDuplicates||-1===n.indexOf(e))&&(this.props.value&&this.props.onAdd?this.props.onAdd(e):this.updateChips([...this.state.chips,e])),!0)}handleDeleteChip(e,t){if(this.props.value)this.props.onDelete&&this.props.onDelete(e,t);else{const e=this.state.chips.slice();if(e.splice(t,1)){let n=this.state.focusedChip;this.state.focusedChip===t?n=null:this.state.focusedChip>t&&(n=this.state.focusedChip-1),this.updateChips(e,{focusedChip:n})}}}updateChips(e,t={}){this.setState({chips:e,chipsUpdated:!0,...t}),this.props.onChange&&this.props.onChange(e)}clearInput(){this.updateInput("")}updateInput(e){this.setState({inputValue:e})}setActualInputRef=e=>{this.actualInput=e,this.props.inputRef&&this.props.inputRef(e)};render(){const{allowDuplicates:e,alwaysShowPlaceholder:t,blurBehavior:n,children:a,chipRenderer:r=E,classes:s,className:o,clearInputValueOnChange:l,dataSource:d,dataSourceConfig:h,defaultValue:u,delayBeforeAdd:b,disabled:y,disableUnderline:w,error:x,filter:v,FormHelperTextProps:A,fullWidth:C,fullWidthInput:k,helperText:S,id:I,InputProps:R={},inputRef:M,InputLabelProps:T={},inputValue:z,label:N,newChipKeyCodes:D,newChipKeys:P,onBeforeAdd:O,onAdd:U,onBlur:B,onDelete:W,onChange:L,onFocus:F,onKeyDown:j,onKeyPress:H,onKeyUp:V,onUpdateInput:Y,placeholder:X,readOnly:$,required:G,rootRef:K,value:q,variant:Z,endAdornment:J,...Q}=this.props,ee=q||this.state.chips,te=null!=z?z:this.state.inputValue,ne=(this.props.value||te).length>0||te.length>0,ie=null!=T.shrink?T.shrink:null!=N&&(ne||this.state.isFocused||ee.length>0),ae=ee.map(((e,t)=>{const n=h?e[h.value]:e;return r({value:n,text:h?e[h.text]:e,chip:e,isDisabled:!!y,isReadOnly:$,isFocused:this.state.focusedChip===t,handleClick:()=>this.setState({focusedChip:t}),handleDelete:()=>this.handleDeleteChip(e,t),className:s.chip},t)})),re={};"outlined"===Z&&(re.notched=ie,re.labelWidth=ie&&this.labelNode&&this.labelNode.offsetWidth||0),"standard"!==Z?re.startAdornment=i.default.createElement(i.default.Fragment,null,ae):R.disableUnderline=!0,re.endAdornment=J;const se=f[Z];return i.default.createElement(p.A,g({ref:K,fullWidth:C,className:m()(o,s.root,{[s.marginDense]:"dense"===Q.margin}),error:x,required:ee.length>0?void 0:G,onClick:this.focus,disabled:y,variant:Z},Q),N&&i.default.createElement(c.A,g({htmlFor:I,classes:{root:m()(s[Z],s.label),shrink:s.labelShrink},shrink:ie,focused:this.state.isFocused,variant:Z,ref:this.labelRef,required:G},T),N),i.default.createElement("div",{className:m()(s[Z],s.chipContainer,{[s.focused]:this.state.isFocused,[s.underline]:!w&&"standard"===Z,[s.disabled]:y,[s.labeled]:null!=N,[s.error]:x})},"standard"===Z&&ae,i.default.createElement(se,g({ref:this.input,classes:{input:m()(s.input,s[Z]),root:m()(s.inputRoot,s[Z])},id:I,value:te,onChange:this.handleUpdateInput,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onKeyUp:this.handleKeyUp,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,inputRef:this.setActualInputRef,disabled:y,fullWidth:k,placeholder:!ne&&(ie||null==N)||t?X:null,readOnly:$},R,re))),S&&i.default.createElement(_.A,g({},A,{className:A?m()(A.className,s.helperText):s.helperText}),S))}}v.propTypes={endAdornment:r().node,allowDuplicates:r().bool,alwaysShowPlaceholder:r().bool,blurBehavior:r().oneOf(["clear","add","add-or-clear","ignore"]),chipRenderer:r().func,clearInputValueOnChange:r().bool,dataSource:r().array,dataSourceConfig:r().shape({text:r().string.isRequired,value:r().string.isRequired}),defaultValue:r().array,delayBeforeAdd:r().bool,disabled:r().bool,disableUnderline:r().bool,FormHelperTextProps:r().object,fullWidth:r().bool,fullWidthInput:r().bool,helperText:r().node,InputLabelProps:r().object,InputProps:r().object,inputRef:r().func,inputValue:r().string,label:r().node,newChipKeyCodes:r().arrayOf(r().number),newChipKeys:r().arrayOf(r().string),onAdd:r().func,onBeforeAdd:r().func,onChange:r().func,onDelete:r().func,onUpdateInput:r().func,placeholder:r().string,readOnly:r().bool,value:r().array,variant:r().oneOf(["outlined","standard","filled"])},v.defaultProps={allowDuplicates:!1,blurBehavior:"clear",clearInputValueOnChange:!1,delayBeforeAdd:!1,disableUnderline:!1,newChipKeyCodes:[13],newChipKeys:["Enter"],variant:"standard"};const A=(0,h.default)((e=>{const t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{},inputRoot:{display:"inline-flex",flexWrap:"wrap",flex:1,marginTop:0,minWidth:70,"&$outlined,&$filled":{boxSizing:"border-box"},"&$outlined":{paddingTop:14},"&$filled":{paddingTop:28}},input:{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",appearance:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",float:"left",flex:1},chipContainer:{display:"flex",flexFlow:"row wrap",cursor:"text",marginBottom:-2,minHeight:40,"&$labeled&$standard":{marginTop:18}},outlined:{"& input":{height:16,paddingTop:4,paddingBottom:12,marginTop:4,marginBottom:4}},standard:{},filled:{"& input":{height:22,marginBottom:4,marginTop:4,paddingTop:0},"$marginDense & input":{height:26}},labeled:{},label:{top:4,"&$outlined&:not($labelShrink)":{top:2,"$marginDense &":{top:5}},"&$filled&:not($labelShrink)":{top:15,"$marginDense &":{top:20}}},labelShrink:{top:0},helperText:{marginBottom:-20},focused:{},disabled:{},underline:{"&:after":{borderBottom:`2px solid ${e.palette.primary[t?"dark":"light"]}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:`2px solid ${e.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{"&:after":{backgroundColor:e.palette.error.main,transform:"scaleX(1)"}},chip:{margin:"0 8px 8px 0",float:"left"},marginDense:{}}}),{name:"WAMuiChipInput"})(v),E=({value:e,text:t,isFocused:n,isDisabled:a,isReadOnly:r,handleClick:s,handleDelete:o,className:l},c)=>i.default.createElement(d.A,{key:c,className:l,style:{pointerEvents:a||r?"none":void 0,backgroundColor:n?"rgb(96, 96, 96)":void 0},onClick:s,onDelete:o,label:t})},38627:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(17402),a=n(79626),r=n(91004),s=n(42460),o=n(96232),l=n(61428),c=(n(39756),n(37532)),d=n(86982),h=n(29514),p=n(50384),_=n(77430),u=n(54392),m=n(15761);class g extends i.PureComponent{constructor(e){super(e),this.st4te={classes:e.classes,data:e.data,timeAgo:c.A,visible:e.visible,is_scrolling:e.is_scrolling,selected:e.selected,column_width:e.column_width,key:e.key,id:e.id,rowIndex:e.rowIndex,columnIndex:e.columnIndex,style:e.style||{},_history:d.Vv,_root:void 0,_has_been_visible:!1,_number_replies:6*Math.random()|0}}componentWillReceiveProps(e){var t=!this.st4te._init,n=e.id!==this.st4te.id,i=e.is_scrolling!==this.st4te.is_scrolling,a=e.visible!==this.st4te.visible,r=e.column_width!==this.st4te.column_width,s=e.selected!==this.st4te.selected,o=e.locales!==this.st4te.locales,l=()=>{};(t||a||n||i||r||s||o)&&this.setSt4te({...e,_has_been_visible:a||this.st4te._has_been_visible,_init:!0},(()=>{if(t||a||i||s||o)this.forceUpdate(l);else if(r)if(void 0!==this.st4te._root){var n=e.style;this.st4te._root.style.width=n.width+"px",this.st4te._root.style.height=n.height+"px"}else this.forceUpdate(l)}))}setSt4te=(e,t)=>{this.st4te=Object.assign(this.st4te,e),"function"==typeof t&&t()};_set_root_ref=e=>{null!==e&&this.setSt4te({_root:e})};_open_author=e=>{this.st4te._history.push("/@"+e)};_show_replies=()=>{this.st4te._number_replies>0&&this.props.onShowReplies(this.st4te.data)};render(){const{classes:e,style:t,id:n,locales:a,selected:d,is_scrolling:g,_has_been_visible:f,_number_replies:b}=this.st4te,y=this.st4te.data||{},w=(y.upVotesNumber,y.upVotesNumber,y.downVotesNumber,y.downVotesNumber,parseFloat(21.5*Math.random()).toFixed(2)),x=(parseFloat(1*w/3).toFixed(2),parseFloat(2*w/3).toFixed(2),y.author||{});return i.createElement(p.A,{key:n,className:e.card+(d?" Mui-selected":""),ref:this._set_root_ref,alignItems:"flex-start"},i.createElement(h.A,null,i.createElement(r.A,{alt:x.name,onClick:e=>{this._open_author(x.username)},src:x.image})),i.createElement(_.A,{primary:i.createElement(u.A,{component:"span",variant:"body2",color:"textPrimary",style:{marginBottom:4,display:"block"}},i.createElement(o.Ay,{title:"@"+(y.author||{}).username},i.createElement("span",{className:e.subheaderName,onClick:e=>{this._open_author(x.username)}},(x||{}).name)),i.createElement("span",{style:{color:"#999"}}," said "),i.createElement(o.Ay,{arrow:!0,title:new Date(y.date).toLocaleDateString(a,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},i.createElement("span",null,c.A.format(y.date||Date.now())))),secondary:i.createElement(i.Fragment,null,i.createElement(u.A,{component:"span",variant:"body1",color:"textSecondary",style:{lineHeight:"1rem",letterSpacing:0}},y.body),i.createElement("div",null,i.createElement(s.A,{"aria-label":"Up-Vote"},i.createElement(l.A,{style:{transform:"rotate(-90deg)",color:"#999"}})),y.upVotesNumber,i.createElement(s.A,{"aria-label":"Down-Vote"},i.createElement(l.A,{style:{transform:"rotate(90deg)",color:"#999"}})),y.downVotesNumber,i.createElement("span",{style:{float:"right"}},i.createElement(o.Ay,{arrow:!0,title:"Show all replies"},i.createElement("span",{className:0===b?e.replyText:e.replyTextPointer,onClick:this._show_replies},0===b?"No Reply Yet":`Show Replies (${b})`)),i.createElement(o.Ay,{arrow:!0,title:"Reply to the comment"},i.createElement(s.A,{"aria-label":"Reply to comment"},i.createElement(m.A,{className:e.replyButton}))))))}))}}const f=(0,a.default)((e=>({card:{width:"100%","& .MuiAvatar-root":{cursor:"pointer",borderRadius:"14px"},"& .MuiListItem-gutters":{padding:"0px"},"&::before":{content:"''",height:"100%",width:8,position:"absolute",backgroundColor:"#ffffff0f",left:32,top:16}},subheaderName:{color:"#aaa",cursor:"pointer",fontWeight:"bold"},replyText:{color:"#666"},replyTextPointer:{cursor:"pointer",color:"#666"},replyButton:{cursor:"pointer",color:"#999"},subheaderBy:{color:"#aaa"},subheaderDate:{color:"#ddd"},image:{width:"100%",borderRadius:"12px",cursor:"pointer",userSelect:"none",contain:"style layout"},payout:{marginLeft:"auto",marginRight:12,color:e.palette.primary.actionLighter,fontSize:"16px",marginBottom:"4px",fontWeight:"bold"},actions:{color:"#666"},cardHeader:{"& .MuiCardHeader-title":{fontWeight:"bold",fontFamily:'"Industry Book", "Normative Pro"',color:"#fff",cursor:"pointer"}}})))(g)},61990:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{A:()=>c});var a=n(17402),r=n(23308),s=e([r]);const o=(0,(r=(s.then?(await s)():s)[0]).Y)();class l extends a.PureComponent{constructor(e){super(e),this.st4te={className:e.className,items:e.items,keyMapper:e.keyMapper,image:e.image,children:e.children,ids:(e.items||[]).map((e=>e.id)).join("-"),itemsWithSizes:[],itemsWithSizesComputed:[]}}setSt4te(e,t){this.st4te=Object.assign(this.st4te,e||{}),"function"==typeof t&&t()}componentWillReceiveProps(e){let{items:t,image:n}=e;const i=(t||[]).map((e=>e.id)).join("-"),a=i!==this.st4te.ids,r=i.startsWith(this.st4te.ids)&&i!==this.st4te.ids,s=a?r?[...this.st4te.itemsWithSizes]:new Array(t.length):[...this.st4te.itemsWithSizes],o=a?r?[...this.st4te.itemsWithSizesComputed,...new Array(t.length-this.st4te.itemsWithSizesComputed.length).fill(!1)]:new Array(t.length).fill(!1):[...this.st4te.itemsWithSizesComputed];this.setSt4te({...e,ids:i,itemsWithSizes:s,itemsWithSizesComputed:o},(()=>{a?this._process_all_sizes(t,n):this.maybe_render()}))}_process_all_sizes(e,t){const n=e.map(((e,n)=>this.st4te.itemsWithSizesComputed[n]?Promise.resolve({index:n,item:e,size:this.st4te.itemsWithSizesComputed[n]}):o.get_new_img_obj(t(e)).then((t=>Promise.resolve({index:n,item:e,size:t})))));Promise.all(n).then((e=>{let{itemsWithSizes:t,itemsWithSizesComputed:n}=this.st4te;e.forEach((({index:e,item:i,size:a})=>{t[e]={size:a,item:i},n[e]=!0})),this.setSt4te({itemsWithSizes:t,itemsWithSizesComputed:n},(()=>{this.maybe_render()}))})).catch((e=>{console.error("Failed to process all image sizes:",e)}))}maybe_render(){const{items:e,itemsWithSizesComputed:t}=this.st4te;(t||[]).filter(Boolean).length===(e||[]).length&&this.forceUpdate()}render(){const{itemsWithSizes:e,children:t,className:n}=this.st4te;return a.createElement("div",{className:n},t(e))}}const c=l;i()}catch(e){i(e)}}))},6850:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(17402),a=n(79626),r=n(96746),s=n(39870),o=n(65816),l=n(68016),c=n(30240),d=n(5696);class h extends i.PureComponent{constructor(e){super(e),this.state={classes:e.classes,open:e.open,date:e.date,username:e.username,name:e.name}}shouldComponentUpdate(e,t,n){return!1}componentWillReceiveProps(e,t){this.setState(e,this.forceUpdate)}render(){const{classes:e,open:t,date:n,username:a,name:h}=this.state;return i.createElement(s.A,{className:e.dialog,maxWidth:"sm",disablePortal:!0,fullWidth:!0,keepMounted:!1,open:t,scroll:"paper",onClose:this.props.onClose},i.createElement(d.A,null,"Licensed Under The Following Terms"),i.createElement("div",{className:e.dialogBody},i.createElement(l.A,{className:e.dialogBody},i.createElement(c.A,null,i.createElement("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},`PIXA LICENSE 0.1 Copyright (c) ${new Date(n).getFullYear()} https://pixagram.io/@${a} (${h})\n\nI) DEFINITIONS\n\nThe following terms shall have the meanings indicated:\n\n - “WORK” or “ARTWORK” refers to the digital artwork covered by this license.\n - “AUTHOR” refers to the individual or entity who created and owns the copyright to the WORK.\n - “OWNER” refers to the person or entity that holds a valid NFT representing or associated with the WORK.\n - “THIRD PARTY” refers to anyone who is neither the AUTHOR nor the OWNER.\n\nII) COPYRIGHT NOTICE\n\nCopyright (C) [YEAR], [AUTHOR NAME]. All rights reserved except as stated in this license.\n\nIII) AUTHOR’S RIGHTS\n\nThe AUTHOR retains all copyright and moral rights in the WORK, including the right to reproduce, modify, distribute, license, and otherwise exploit the WORK in any format or medium.\n\nIV) OWNER’S RIGHTS AND CONDITIONS\nThe OWNER is granted a worldwide, non-exclusive right to use, copy, display, and adapt the WORK solely for personal or private purposes. This right exists only while the OWNER legitimately holds the NFT linked to the WORK.\n\nFor any commercial use of the WORK, the OWNER must:\n\n a) Give clear attribution to the AUTHOR, for example: “Artwork by [AUTHOR NAME], licensed under the PIXA LICENSE 0.1. Owned by [OWNER].”\n b) Avoid any statement or implication that the AUTHOR endorses the OWNER or any product or service, unless expressly permitted in writing.\n c) If the OWNER transfers the NFT to a new holder, the new holder becomes the OWNER and is subject to these same terms.\n\nV) THIRD-PARTY RIGHTS AND LIMITATIONS\n\nTHIRD PARTIES may view and share the WORK for non-commercial purposes only, provided they:\n\n a) Credit the AUTHOR by name (if known) and reference “PIXA LICENSE 0.1.”\n b) Preserve all copyright notices included with the WORK.\n c) THIRD PARTIES who do not own the NFT are prohibited from using the WORK for commercial purposes, unless they obtain separate written permission from the AUTHOR.\n\nVI) PRESERVATION OF LICENSE NOTICE\n\nWhen redistributing, displaying, or copying the WORK beyond strictly private use, include a copy or a link to this PIXA LICENSE 0.1 text, so that recipients understand the terms.\n\nVII) DISCLAIMER OF WARRANTY\n\nTHE WORK IS PROVIDED “AS IS,” WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF TITLE, NON-INFRINGEMENT, MERCHANTABILITY, OR FITNESS FOR A PARTICULAR PURPOSE. ANY USE OF THE WORK IS AT YOUR SOLE RISK.\n\nVIII) LIMITATION OF LIABILITY\n\nIN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY CLAIM OR DAMAGES ARISING OUT OF OR RELATING TO THE WORK OR THIS LICENSE, UNDER ANY LEGAL THEORY, INCLUDING BUT NOT LIMITED TO CONTRACT, TORT, OR OTHERWISE.\n\nIX) TERMINATION\n\nA material breach of these terms immediately terminates all rights granted under this license. Upon termination, the breaching party must cease use, distribution, and display of the WORK. Termination does not affect the rights of other parties who remain in compliance with these terms.\n\nX) ENTIRE AGREEMENT\n\nThis license constitutes the complete agreement regarding the WORK among the AUTHOR, OWNER, and any THIRD PARTY. It replaces and supersedes all previous statements, understandings, or licenses regarding its subject matter.`))),i.createElement(o.A,null,i.createElement(r.A,{onClick:this.props.onClose,color:"primary",autoFocus:!0},"Close"))))}}const p=(0,a.default)((e=>({dialog:{[e.breakpoints.down("xs")]:{"& .MuiDialog-container .MuiDialog-paper":{margin:"0px 0px",maxHeight:"100%",borderRadius:0}}},dialogBody:{overflowY:"auto",display:"flex",flexDirection:"column"},breakAllWords:{wordBreak:"break-all"}})))(h)},43297:(e,t,n)=>{"use strict";n.d(t,{A:()=>ae});var i=n(17402),a=n(79626),r=n(52706),s=n(65816),o=n(68016),l=n(96746),c=n(39870),d=n(54392),h=n(8728),p=n(69113),_=n(83182),u=n(69312),m=n(15776),g=n(94422),f=n(86330),b=n(44385),y=(n(22774),n(82803)),w=n(4826),x=(0,w.SIMDopeCreateConfAdd)({create:{new_of:!0},properties:{uint32:!0,laba:!0,rgbaon4bits:!0,rgbaon6bits:!0,rgbaon8bits:!0,rgbaon12bits:!0,rgbaon16bits:!0,skin:!0},methods:{simplify:!0,get_new_element:!0,get_use_element:!0,set_tail:!0,is_dark:!0,blend_first_with:!0,blend_first_with_tails:!0,blend_all:!0,euclidean_match_with:!0,manhattan_match_with:!0,cie76_match_with:!0,copy:!0}}),v=Math.fround,A=v(100),E=v(2);const{simdops:C,Color:k,Colors:S}=(0,w.SIMDopeCreate)(x),{minus_int:I,int_not_equal:R,plus_int:M,plus_uint:T,minus_uint:z,multiply_int:N,multiply_uint:D,multiply_uint_4:P,divide_uint:O,clamp_uint8:U,clamp_uint32:B,int_equal:W,uint_less:L,int_less:F,int_greater_equal:j,uint_not_equal:H,uint_less_equal:V,min_uint:Y}=C;var X=function(e){if(e=e||{},!(this instanceof X))return new X(e);e.pxl_colors=e.pxl_colors||new Uint32Array(0),e.pxls=e.pxls||new Uint32Array(0),this.speed=e.speed||"auto",this.new_pxls_="buffer"in e.pxls?new Uint32Array(e.pxls.buffer):Uint32Array.from(e.pxls),this.new_pxl_colors_="buffer"in e.pxl_colors?new S(e.pxl_colors.buffer):new S(Uint32Array.from(e.pxl_colors).buffer);var t=0|this.new_pxl_colors_.length;this.new_pxl_colors_is_skin_mask_=new y.SetFixed(0|t),this.set_new_pxl_skin_mask(),this.best_color_number_=e.number_of_color,this.max_cluster_=t>65536?65537:t>16384?4097:t>4096?257:t>256?17:1,this.index_clusters_=new Array(this.max_cluster_),this.length_clusters_=new Uint32Array(this.max_cluster_),this.pxl_colors_usage_=new Uint32Array(t),this.all_index_clusters_=new Uint32Array(t),this.clean_pxl_colors_=new Uint32Array(t),this.clean_pxl_colors_lookup_={},this.t=0,this.is_skin_ops_=0,this.match_ops_=0,this.blend_ops_=0,this.remove_duplicate_ops_=0,this.simplify_ops_=0,this.classify_on_x_bits_ops_=0};Object.defineProperty(X.prototype,"set_is_skin_ops",{get:function(){return function(e){this.is_skin_ops_=(0|e)>>>0}}}),Object.defineProperty(X.prototype,"set_match_ops",{get:function(){return function(e){this.match_ops_=(0|e)>>>0}}}),Object.defineProperty(X.prototype,"set_blend_ops",{get:function(){return function(e){this.blend_ops_=(0|e)>>>0}}}),Object.defineProperty(X.prototype,"set_remove_duplicate_ops",{get:function(){return function(e){this.remove_duplicate_ops_=(0|e)>>>0}}}),Object.defineProperty(X.prototype,"set_simplify_ops",{get:function(){return function(e){this.simplify_ops_=e}}}),Object.defineProperty(X.prototype,"set_classify_on_x_bits_ops",{get:function(){return function(e){this.classify_on_x_bits_ops_=e}}}),Object.defineProperty(X.prototype,"get_is_skin_ops",{get:function(){return function(){return 0|this.is_skin_ops_}}}),Object.defineProperty(X.prototype,"get_match_ops",{get:function(){return function(){return 0|this.match_ops_}}}),Object.defineProperty(X.prototype,"get_blend_ops",{get:function(){return function(){return 0|this.blend_ops_}}}),Object.defineProperty(X.prototype,"get_remove_duplicate_ops",{get:function(){return function(){return 0|this.remove_duplicate_ops_}}}),Object.defineProperty(X.prototype,"get_simplify_ops",{get:function(){return function(){return this.simplify_ops_}}}),Object.defineProperty(X.prototype,"get_classify_on_x_bits_ops",{get:function(){return function(){return this.classify_on_x_bits_ops_}}}),Object.defineProperty(X.prototype,"reset_deduplicate",{get:function(){return function(e){this.clean_pxl_colors_lookup_={},this.pxl_colors_usage_.fill(0,0,0|e),this.clean_pxl_colors_.fill(0,0,0|e)}}}),Object.defineProperty(X.prototype,"index_of_color_within_cleaned",{get:function(){return function(e){return(0|this.clean_pxl_colors_lookup_[(0|e)>>>0])-1|0}}}),Object.defineProperty(X.prototype,"set_cleaned_pxl_colors",{get:function(){return function(e,t){this.clean_pxl_colors_[(0|e)>>>0]=(0|t)>>>0,this.clean_pxl_colors_lookup_[(0|t)>>>0]=(e+1|0)>>>0}}}),Object.defineProperty(X.prototype,"increase_color_usage",{get:function(){return function(e){this.pxl_colors_usage_[(0|e)>>>0]=(this.pxl_colors_usage_[(0|e)>>>0]+1|0)>>>0}}}),Object.defineProperty(X.prototype,"set_new_pxls",{get:function(){return function(e,t){this.new_pxls_[(0|e)>>>0]=(0|t)>>>0}}}),Object.defineProperty(X.prototype,"set_new_pxl_colors",{get:function(){return function(e){this.new_pxl_colors_=new S(this.clean_pxl_colors_.buffer.slice(0,P(0|e))),this.set_new_pxl_skin_mask()}}}),Object.defineProperty(X.prototype,"set_new_pxl_skin_mask",{get:function(){return function(){var e=new k(new ArrayBuffer(4)),t=0|this.new_pxl_colors_.length,n=0;for(this.new_pxl_colors_is_skin_mask_=new y.SetFixed(0|t);(0|n)<(0|t);n=n+1|0)this.new_pxl_colors_.get_use_element(0|n,e).skin&&this.new_pxl_colors_is_skin_mask_.add(0|n);this.set_is_skin_ops(this.get_is_skin_ops()+n|0)}}}),Object.defineProperty(X.prototype,"get_a_new_pxl_color_from_pxl_index",{get:function(){return function(e){return 4294967295&this.new_pxl_colors_.buffer_getUint32(this.new_pxls_[0|e])}}}),Object.defineProperty(X.prototype,"reset_cluster",{get:function(){return function(){var e=this.new_pxl_colors_.length;this.max_cluster_=e>65536?65537:e>16384?4097:e>4096?257:e>256?17:1,this.length_clusters_.fill(0,0,0|this.max_cluster);for(var t=0;(0|t)<(0|this.max_cluster);t=(t+1|0)>>>0)this.index_clusters_[0|t]=[]}}}),Object.defineProperty(X.prototype,"add_in_indexes_cluster",{get:function(){return function(e,t){this.index_clusters_[(0|e)>>>0].push((0|t)>>>0)}}}),Object.defineProperty(X.prototype,"set_all_cluster_indexes",{get:function(){return function(){for(var e=0,t=0;(0|e)<(0|this.max_cluster);e=(e+1|0)>>>0)this.all_index_clusters_.set(this.index_clusters_[(0|e)>>>0],(0|t)>>>0),t=(t+this.get_length_in_index_clusters(0|e)|0)>>>0}}}),Object.defineProperty(X.prototype,"get_length_in_index_clusters",{get:function(){return function(e){return(0|this.index_clusters_[(0|e)>>>0].length)>>>0}}}),Object.defineProperty(X.prototype,"get_in_cluster_lengths",{get:function(){return function(e){return(0|this.length_clusters_[(0|e)>>>0])>>>0}}}),Object.defineProperty(X.prototype,"get_an_index_in_clusters",{get:function(){return function(e){return(0|this.all_index_clusters_[0|e])>>>0}}}),Object.defineProperty(X.prototype,"get_a_color_usage",{get:function(){return function(e){return(0|this.pxl_colors_usage_[0|e])>>>0}}}),Object.defineProperty(X.prototype,"set_a_color_usage",{get:function(){return function(e,t){return this.pxl_colors_usage_[0|e]=(0|t)>>>0}}}),Object.defineProperty(X.prototype,"get_a_color_usage_percent",{get:function(){return function(e){return this.pxl_colors_usage_[0|e]/this.new_pxls_.length}}}),Object.defineProperty(X.prototype,"get_average_color_usage_percent",{get:function(){return function(e,t){t=0|((t|=0)<(e|=0)?this.pxl_colors_usage_.length:t);var n=0,i=0,a=0;for(i=0|e;(0|i)<(0|t);i=(i+1|0)>>>0)a=(0|this.get_an_index_in_clusters((0|i)>>>0))>>>0,n+=this.pxl_colors_usage_[0|a]/this.new_pxls_.length;return n/(t-e|0)}}}),Object.defineProperty(X.prototype,"get_a_new_pxl_color",{get:function(){return function(e){return this.new_pxl_colors_.get_new_element(0|e)}}}),Object.defineProperty(X.prototype,"is_pxl_color_skin",{get:function(){return function(e){return this.new_pxl_colors_is_skin_mask_.has(0|e)}}}),Object.defineProperty(X.prototype,"max_cluster",{get:function(){return 0|this.max_cluster_}}),Object.defineProperty(X.prototype,"new_pxls_length",{get:function(){return 0|this.new_pxls_.length}}),Object.defineProperty(X.prototype,"new_pxl_colors_length",{get:function(){return 0|this.new_pxl_colors_.length}}),Object.defineProperty(X.prototype,"best_color_number",{get:function(){return 0|this.best_color_number_}}),Object.defineProperty(X.prototype,"get_data",{get:function(){return function(){return Array.of(this.new_pxls_,this.new_pxl_colors_.subarray_uint32(0,this.new_pxl_colors_.length),{deduplicate:this.get_remove_duplicate_ops(),simplify:this.get_simplify_ops(),classify:this.get_classify_on_x_bits_ops(),skin:this.get_is_skin_ops(),blend:this.get_blend_ops(),match:this.get_match_ops()})}}}),X.prototype.output=function(e){e=e||"heap";var t=this.get_data();if("heap"==e){var n=new Uint32Array(2+t[0].length+t[1].length);return n[0]=0|t[0].length,n[1]=0|t[1].length,n.set(t[0],2),n.set(t[1],2+t[0].length),n.buffer}return t},X.prototype.deduplicate=function(){this.set_remove_duplicate_ops(this.get_remove_duplicate_ops()+1|0),this.reset_deduplicate(0|this.new_pxl_colors_length);for(var e=0,t=0,n=0,i=0,a=0|this.new_pxls_length;(0|i)<(0|a);i=(i+1|0)>>>0)t=0|this.get_a_new_pxl_color_from_pxl_index(0|i),-1==(0|(n=0|this.index_of_color_within_cleaned(0|t)))&&(this.set_cleaned_pxl_colors(0|e,0|t),n=0|e,e=e+1|0),this.increase_color_usage(0|n),this.set_new_pxls(0|i,0|n);this.set_new_pxl_colors(e)},X.prototype.clusterize=function(){this.reset_cluster();var e=0;if(65537===this.max_cluster)for(;(0|e)<(0|this.new_pxl_colors_length);e=(e+1|0)>>>0)this.add_in_indexes_cluster((0|this.get_a_new_pxl_color((0|e)>>>0).rgbaon16bits)>>>0,(0|e)>>>0);else if(4097===this.max_cluster)for(;(0|e)<(0|this.new_pxl_colors_length);e=(e+1|0)>>>0)this.add_in_indexes_cluster((0|this.get_a_new_pxl_color((0|e)>>>0).rgbaon12bits)>>>0,(0|e)>>>0);else if(257===this.max_cluster)for(;(0|e)<(0|this.new_pxl_colors_length);e=(e+1|0)>>>0)this.add_in_indexes_cluster((0|this.get_a_new_pxl_color((0|e)>>>0).rgbaon8bits)>>>0,(0|e)>>>0);else if(17===this.max_cluster)for(;(0|e)<(0|this.new_pxl_colors_length);e=(e+1|0)>>>0)this.add_in_indexes_cluster((0|this.get_a_new_pxl_color((0|e)>>>0).rgbaon4bits)>>>0,(0|e)>>>0);else for(;(0|e)<(0|this.new_pxl_colors_length);e=(e+1|0)>>>0)this.add_in_indexes_cluster(0,(0|e)>>>0);this.max_cluster>1&&this.set_classify_on_x_bits_ops(this.get_classify_on_x_bits_ops()+this.new_pxl_colors_length),this.set_all_cluster_indexes()},X.prototype.process_threshold=function(e,t,n){var i,a,r,s,o=!1,l=[],c=[],d=0,h=0,p=!1,_=!1,u=0,m=0,g=0,f=0,b=0,y=0,w=function(e){return 1-(1-e)*(1-e)}((e=(0|e)>>>0)/(n=(0|n)>>>0)),x=0,C=0,S=0,I=0,R=0,M=0;for(s=v(w*E),r=v(w*A);(0|R)<(0|this.max_cluster);R=(R+1|0)>>>0){for(h=(d+((0|this.get_length_in_index_clusters(0|R))>>>0)|0)>>>0,b=this.get_average_color_usage_percent(0|d,0|h),S=0|d;(0|S)<(0|h);S=(S+1|0)>>>0){if(x=(0|this.get_an_index_in_clusters((0|S)>>>0))>>>0,i=this.get_a_new_pxl_color((0|x)>>>0),p=this.is_pxl_color_skin((0|x)>>>0),(0|(u=(0|this.get_a_color_usage((0|x)>>>0))>>>0))>0)for(l=[],I=0|d;(0|I)<(0|h);I=(I+1|0)>>>0)C=(0|this.get_an_index_in_clusters((0|I)>>>0))>>>0,a=this.get_a_new_pxl_color((0|C)>>>0),_=this.is_pxl_color_skin((0|C)>>>0),0|(m=(0|this.get_a_color_usage((0|C)>>>0))>>>0)&&(0|x)!=(0|C)&&(0|p)==(0|_)&&(g=this.get_a_color_usage_percent((0|x)>>>0)/b,f=this.get_a_color_usage_percent((0|C)>>>0)/b,M=v((M=p&&_?s:p||_?r:w)*(.15*Math.abs(g-f)+.3*(2-(g+f))+.55)/1),i[t](a,M)&&(y=v(m/u),o=!0,this.set_a_color_usage(0|C,0),l.push(a),c.push(y)));(0|l.length)>0&&(k.blend_all(i,l,c),l=[],c=[])}d=0|h}return o},X.prototype.round=function(){if(this.new_pxl_colors_length>1024){for(var e=0|(this.new_pxl_colors_length>32768?4:this.new_pxl_colors_length>32768?3:this.new_pxl_colors_length>16384?2.5:this.new_pxl_colors_length>8192?2:this.new_pxl_colors_length>2048?1.5:(this.new_pxl_colors_length,1)),t=0;(0|t)<(0|this.new_pxl_colors_length);t=(t+1|0)>>>0)this.get_a_new_pxl_color((0|t)>>>0).simplify(e);this.set_simplify_ops(this.get_simplify_ops()+this.new_pxl_colors_length)}},X.prototype.init=function(){return this.round(),this.deduplicate(),this.clusterize(),this},X.prototype.run=function(){var e=0;if(this.new_pxl_colors_length<=this.best_color_number)return this.deduplicate(),this.clusterize(),this;for(var t=["euclidean_match_with","euclidean_match_with","euclidean_match_with"],n=this.speed=this.new_pxl_colors_length>32768?t[0]:this.new_pxl_colors_length>1024?t[1]:t[2];this.new_pxl_colors_length>this.best_color_number;)e=e+1|0,this.process_threshold(e,n,256)&&(this.deduplicate(),this.clusterize());return this},X.split_image_data=function(e){for(var t=new Uint32Array(e.data.buffer),n=Uint32Array.from(new Set(t)),i={},a=n.length,r=new Uint32Array(t.length),s=0,o=0|a;(0|s)<(0|o);s=(s+1|0)>>>0)i[n[0|s]]=(0|s)>>>0;for(s=0,o=0|t.length;(0|s)<(0|o);s=(s+1|0)>>>0)r[0|s]=(0|i[t[0|s]])>>>0;return[r,n,t,a]};const $=function(e,t){const[n,i,a,r]=X.split_image_data(e);Date.now();var s="auto"===t,o=parseFloat(t)>0&&parseFloat(t)<1,l=parseInt(t)<0,c=s?"auto":!o&&!l?parseInt(t):l?Math.max(1,r+parseInt(t)):o?Math.max(1,parseFloat(t)*r):r;if("auto"===c&&(c=r>255?255:r/2|0),c>=r)return e;for(var d=new X({pxls:n,pxl_colors:i,speed:"auto",number_of_color:Math.min(r,c),width:e.width,height:e.height}).init().run().output("split"),h=(Date.now(),d[0]),p=0|h.length,_=d[1],u=0;(0|u)<(0|p);u=(u+1|0)>>>0)a[0|u]=(0|_[(0|h[0|u])>>>0])>>>0;return e=new ImageData(new Uint8ClampedArray(a.buffer),e.width,e.height)};var G=n(60987);var K=n(75600);function q(e,t,n){const i=e*t;let a=Math.sqrt(n/i);return Math.min(a,1)}function Z(e,t){let n;try{if("undefined"==typeof OffscreenCanvas)throw new Error("OffscreenCanvas not supported");n=new OffscreenCanvas(e,t)}catch(i){n=document.createElement("canvas"),n.width=e,n.height=t}return n}function J(e){e.imageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1}const Q=async function(e,t,n,i,a,r,s,o){if(await(0,K.Ay)(),s)try{e=await(async(e,t=0,n=()=>{},i=()=>{})=>new Promise((async function(a,r){n("AI CONVERT"),i("COMPUTE",Date.now(),Date.now()+8e4);try{const n=await G.Kj.connect("primerz/face-to-all-777");0===t?n.predict("/load_custom_lora",{link:"https://huggingface.co/primerz/lucasart"}).then((()=>{n.predict("/run_lora",{face_image:e,prompt:"In lucasarts style : a precise illustration of ('A person':0.35) (in lucasarts style). Artwork, detailed digital painting, bold-edge, sexy character, well aligned face, enhanced 3D, detailed illustration, natural color. lucasarts style.",negative:"Photography, too simple, photo, picture, photo-realistic, bad quality, ugly, text, bad, bad picture, text, error, ugly, extra fingers, extra toes, mutated hands, mutation, deformed, bad anatomy, bad proportions, extra limbs, disfigured, missing arms, missing legs, extra arms, extra legs, fused fingers, fused toes, too many fingers, too many toes, username, watermark, signature, realistic, realism, photographic, screenshot, movie, photo, low-resolution.",lora_scale:.8,face_strength:.95,image_strength:.3,guidance_scale:9,depth_control_scale:.75}).then((async e=>{a(await(await fetch(e.data[0][1].url)).blob())})).catch((e=>{r(e.message)}))})).catch((e=>{r(e.message)})):1===t?n.predict("/load_custom_lora",{link:"https://huggingface.co/primerz/pixl"}).then((()=>{n.predict("/run_lora",{face_image:e,prompt:"a precise illustration of ('A person':0.3) Artwork, detailed digital painting, bold-edge, sexy character, well aligned face, enhanced 2D, detailed illustration, natural color.",negative:"Photography, simple, photo-realistic, bad quality, ugly, text, bad, bad picture, text, error, ugly, extra fingers, extra toes, mutated hands, mutation, deformed, bad anatomy, bad proportions, extra limbs, disfigured, missing arms, missing legs, extra arms, extra legs, fused fingers, fused toes, too many fingers, too many toes, username, watermark, signature, realistic, realism, photographic, screenshot, movie, photo, low-resolution.",lora_scale:.9,face_strength:.95,image_strength:.22,guidance_scale:9,depth_control_scale:.8}).then((async e=>{a(await(await fetch(e.data[0][1].url)).blob())})).catch((e=>{r(e.message)}))})).catch((e=>{r(e.message)})):2===t&&n.predict("/load_custom_lora",{link:"https://huggingface.co/primerz/lucasartsxbrz2"}).then((()=>{n.predict("/run_lora",{face_image:e,prompt:"a precise illustration of ('A person':0.3) Artwork, detailed digital painting, bold-edge, sexy character, well aligned face, enhanced 2D, detailed illustration, natural color.",negative:"Photography, simple, photo-realistic, bad quality, ugly, text, bad, bad picture, text, error, ugly, extra fingers, extra toes, mutated hands, mutation, deformed, bad anatomy, bad proportions, extra limbs, disfigured, missing arms, missing legs, extra arms, extra legs, fused fingers, fused toes, too many fingers, too many toes, username, watermark, signature, realistic, realism, photographic, screenshot, movie, photo, low-resolution.",lora_scale:.8,face_strength:.95,image_strength:.2,guidance_scale:9,depth_control_scale:.8}).then((async e=>{a(await(await fetch(e.data[0][1].url)).blob())})).catch((e=>{r(e.message)}))})).catch((e=>{r(e.message)}))}catch(e){r("Please Try Again Later")}})))(e,o,a,r)}catch(e){}const l=t*n,c=await createImageBitmap(e,{resizeQuality:"pixelated"}),d=q(c.width,c.height,l),h=Math.round(c.width*d),p=Math.round(c.height*d),_=Z(h,p),u=_.getContext("2d");J(u),u.drawImage(c,0,0,h,p),c.close();const m=u.getImageData(0,0,h,p);u.putImageData(m,0,0);J(Z(1,1).getContext("2d",{willReadFrequently:!0}));const g=function(e,t,n){const i=q(t.width,t.height,e.size*e.size),a=t.width,r=t.height,s=Math.round(a*i),o=Math.round(r*i),l=(0,K.$K)(n,a,r,s,o,5,7);let c=new ImageData(new Uint8ClampedArray(l),s,o);return d=c,h=e.colors,$(d,h);var d,h};return{artworks:[{name:"XS",size:90,colors:50},{name:"S",size:120,colors:60},{name:"M",size:150,colors:70},{name:"L",size:180,colors:80},{name:"XL",size:210,colors:90},{name:"XXL",size:240,colors:100}].map((function(e){return e.imageData=function(e){const{width:t,height:n,data:i}=e,a=new Uint32Array(i.buffer);function r(e,t,n,i){return n[t*i+e|0]}function s(e,t,n,i,a){i[t*a+e|0]=n>>>0}let o=0,l={},c=new Uint32Array(8),d=0;for(let e=1;e<n-1;e=e+1|0)for(let n=1;n<t-1;n=n+1|0){l={},o=r(n,e,a,t),c[0]=r(n-1,e-1,a,t),c[1]=r(n,e-1,a,t),c[2]=r(n+1,e-1,a,t),c[3]=r(n-1,e,a,t),c[4]=r(n+1,e,a,t),c[5]=r(n-1,e+1,a,t),c[6]=r(n,e+1,a,t),c[7]=r(n+1,e+1,a,t);for(var h=0;h<8;h++)d=c[h],l[d]=(l[d]||0)+1,h>=5&&l[d]>=6&&s(n,e,d,a,t)}const p=new Uint8ClampedArray(a.buffer);return new ImageData(p,t,n)}(g(e,_,u.getImageData(0,0,_.width,_.height).data)),e})),prompt:prompt||""}};var ee=n(69232),te=n(32163),ne=n(95834);class ie extends i.PureComponent{constructor(e){super(e),this.state={classes:e.classes,keepMounted:e.keepMounted||!1,open:e.open,_drop_ref:null,_preferred_size:"M",_title:"",_currentStep:0,_totalStep:3,_drag_file:{},_preview:{},_preview_kb:0,_previews:[],_canvas:{},_offscreen_canvas:{},_base64:"",_style:0,_use_ai:!1,_use_ai_open:!1,_input_file:{},_input_file_url:"",_dropzone_active:!1,_tags:[],_message:"We maintains privacy and doesn't store uploaded images.",_close_confirm_close_open:!1,process:{name:"upload file",start:0,finish:0}}}shouldComponentUpdate(e,t,n){return!1}componentWillReceiveProps(e){this.setState(e,(()=>{this.forceUpdate()}))}_resetProps=()=>{try{URL.revokeObjectURL(this.state._input_file_url)}catch(e){}this.setState({_drop_ref:null,_preferred_size:"M",_title:"",_currentStep:0,_totalStep:3,_drag_file:{},_preview:{},_preview_kb:0,_previews:[],_canvas:{},_offscreen_canvas:{},_base64:"",_style:0,_dropzone_active:!1,_message:"We maintains privacy and doesn't store uploaded images.",_close_confirm_close_open:!1,process:{name:"upload file",start:0,finish:0}},this.forceUpdate)};_setTags=e=>{this.setState({_tags:e.target.value.toString()},this.forceUpdate)};_drop_start=e=>{e.preventDefault(),e.stopPropagation();const t=this.state._dropzone_active;this.setState({_dropzone_active:!0},(()=>{t||this.forceUpdate()}))};_drop_end=e=>{e.preventDefault(),e.stopPropagation();const t=this.state._dropzone_active;this.setState({_dropzone_active:!1},(()=>{t&&this.forceUpdate()}))};_trigger_message=e=>{this.setState({_message:e},this.forceUpdate)};_handle_file_upload=async e=>{"dataTransfer"in e&&e.dataTransfer.files.length>0&&(e.preventDefault(),e.stopPropagation());const t=(e.target||{}).files||(e.srcElement||{}).files||(e.currentTarget||{}).files||((e.path||[])[0]||{}).files||(e.dataTransfer||{}).files||[],n=t[0]||null;let i=null;for(let e=0;e<t.length;e++)i=t[e],i.type.startsWith("image/")&&(e=t.length);if(null===i&&null===n);else if(null!==i){Boolean("image/png"===i.type)||i.type;const e=await async function(e,t,n,i){const a=t*n,r=await createImageBitmap(e),s=q(r.width,r.height,a),o=Z(r.width,r.height),l=o.getContext("2d");J(l),l.drawImage(r,0,0,r.width,r.height),r.close();const c=l.getImageData(0,0,o.width,o.height),d=new Uint32Array(c.data.buffer),h=Uint32Array.from(new Set(d));return!!Boolean(s<=1&&h.length<i)&&c}(i,512,512,160);if(e instanceof ImageData)this._trigger_message("The image appears to be already optimized!"),this.setState({_previews:[{name:"default",imageData:e}],_title:"",_currentStep:1,process:{name:"upload file",start:0,finish:0}},(()=>{this.forceUpdate((()=>{this._set_size()}))}));else{try{URL.revokeObjectURL(this.state._input_file_url)}catch(e){}const e=URL.createObjectURL(i);this.setState({_input_file_url:e,_use_ai_open:!0,_input_file:i},this.forceUpdate)}}};_setTitle=e=>{this.setState({_title:e.target.value},this.forceUpdate)};_set_process=(e,t,n)=>{const i=setInterval(this.forceUpdate.bind(this),250),a=setTimeout((()=>{this.state.process._interval===i&&clearInterval(this.state.process._interval)}),n-t);this.setState({process:{name:e,start:t,finish:n,_interval:i,_timout:a}},(()=>{this.forceUpdate()}))};_handle_size_change=e=>{this.setState({_preferred_size:e.target.value},(()=>{this._set_size()}))};_handle_style_change=e=>{this.setState({_style:parseInt(e.target.value)},(()=>{this.forceUpdate()}))};_set_canvas_ref=e=>{if(void 0===e)return this._set_size();if(null==e)return this._set_size();if(void 0===e.width)return this._set_size();if(null==e.width)return this._set_size();if("function"==typeof e.getContext){var t=e;t.context=e.getContext("2d"),this.setState({_canvas:t},(()=>{this._set_size()}))}};_set_size=()=>{this.state._previews.forEach((e=>{1!==this.state._previews.length&&e.name.toUpperCase()!==this.state._preferred_size.toUpperCase()||this.setState({_preview:e.imageData},(()=>{this.state._canvas.width=this.state._preview.width,this.state._canvas.height=this.state._preview.height,(0,ee.A)((()=>Promise.all([n.e("src_js_utils_encodeImage_js"),n.e("src_js_utils_png_quant_js")]).then(n.bind(n,15656)))).then((({encodeIMG:e})=>{e(this.state._preview,"WEBP",!0).then((e=>{this.setState({_base64:e},(()=>{this.forceUpdate((()=>{this.state._canvas.context.putImageData(this.state._preview,0,0)}))}))}))}))}))}))};download_artwork=()=>{let e=document.createElement("a");e.download="Pixagram.webp",e.href=this.state._base64,e.click(),e.remove()};_set_drop_ref=e=>{null!=e&&this.setState({_drop_ref:e},(()=>{this.state._drop_ref.addEventListener("drop",this._handle_file_upload.bind(this)),this.state._drop_ref.addEventListener("dragenter",this._drop_start.bind(this)),this.state._drop_ref.addEventListener("dragover",this._drop_start.bind(this)),this.state._drop_ref.addEventListener("dragleave",this._drop_end.bind(this)),this.state._drop_ref.addEventListener("dragend",this._drop_end.bind(this))}))};_backOrCancel=e=>{parseInt(this.state._currentStep)<=1?e?this.close_confirm():this.setState({_close_confirm_close_open:!0},this.forceUpdate):this.setState({_currentStep:parseInt(this.state._currentStep)-1},this.forceUpdate)};request_close=()=>{this.setState({_close_confirm_close_open:!0},this.forceUpdate)};_nextOrFinish=()=>{2===parseInt(this.state._currentStep)?(this._resetProps(),this.props.onClose()):this.setState({_currentStep:parseInt(this.state._currentStep)+1},this.forceUpdate)};_open_link=e=>{window.open(e,"_blank")};close_confirm_close=()=>{this.setState({_close_confirm_close_open:!1},(()=>{this.forceUpdate()}))};close_use_ai=(e=!1)=>{this.setState({_use_ai_open:!1,_use_ai:e},(()=>{this.forceUpdate((async()=>{const t=await Q(this.state._input_file,512,512,0,this._trigger_message,this._set_process,e,this.state._style);this.setState({_previews:t.artworks,_title:t.prompt,_currentStep:1,process:{name:"upload file",start:0,finish:0}},(()=>{this.forceUpdate((()=>{this._set_size()}))}))}))}))};close_confirm=()=>{this.setState({_close_confirm_close_open:!1},(()=>{this.forceUpdate((()=>{this._resetProps(),this.props.onClose()}))}))};render(){const{classes:e,_title:t,_preferred_size:n,_currentStep:a,_totalStep:y,open:w,keepMounted:x,_preview:v,_dropzone_active:A,process:E,_base64:C,_tags:k,_previews:S,_message:I,_close_confirm_close_open:R,_use_ai_open:M,_use_ai:T,_style:z,_input_file_url:N}=this.state,{name:D,start:P,finish:O}=E;Math.round(a/y*100);let U=null,B=O-P,W=Date.now()-P,L=W/B,F=B>W,j=((C||"").length||0)/1e3*3/4;switch(a.toString()){case"0":U=i.createElement("div",{ref:this._set_drop_ref},i.createElement("div",{style:{borderRadius:"12px"},className:A?e.dropZoneActive:e.dropZone},i.createElement(ne.A,{in:N,timeout:300},i.createElement("img",{src:N,className:e.inputImage+" pixelated",alt:"Input Image"})),i.createElement(h.A,{onChange:this._handle_file_upload,accept:"image/*",style:{display:"none",position:"absolute"},id:"button-file-dialog-secondary",type:"file"}),i.createElement(ne.A,{in:!0,timeout:600},i.createElement("div",{style:{pointerEvents:F||"upload file"!==D?"none":"auto",transform:"translate(-50%, -50%)",top:"50%",left:"50%",position:"absolute",display:"inline"}},i.createElement(ne.A,{in:!0,timeout:600},i.createElement(l.A,{disabled:F||"upload file"!==D,component:"label",htmlFor:"button-file-dialog-secondary",onClick:this._handle_file_upload},i.createElement("span",{style:{fontWeight:"bold",fontSize:"24px",verticalAlign:"super",color:"#999",marginRight:"16px"}},D||"Upload Image"),F||"upload file"!==D?i.createElement(p.A,{position:"relative",display:"inline-flex"},i.createElement(_.A,{variant:F?"determinate":"indeterminate",color:"#ffffff",value:Math.round(100*L)}),i.createElement(p.A,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},i.createElement(d.A,{variant:"caption",component:"div",color:"textSecondary"},F?`${Math.round(Math.min(100*L,100))}%`:"wait"))):i.createElement(b.A,{style:{color:"#666"}}))),i.createElement(ne.A,{in:!0,timeout:900},i.createElement("p",{style:{textAlign:"center",color:"#a7a7a7"}},I))))));break;case"1":U=i.createElement("div",{noValidate:!0,autoComplete:"off",style:{position:"relative"}},i.createElement(u.A,{component:"fieldset",style:{padding:"8px 16px 64px 16px",position:"absolute",background:"linear-gradient(180deg, #101010cf 20%, #10101075 60%, #10101000 90%)",width:"100%",top:"0px"}},1===(S||0).length?i.createElement(ne.A,{in:!0,timeout:600},i.createElement("p",null,"Your artwork is already optimized for pixel art")):i.createElement(r.A,{row:!0,defaultValue:"top","aria-label":"size",name:"SIZE",color:"primary",value:n,onChange:this._handle_size_change},i.createElement(ne.A,{in:!0,timeout:200},i.createElement(m.A,{value:"XS",control:i.createElement(g.A,null),label:"XS"})),i.createElement(ne.A,{in:!0,timeout:400},i.createElement(m.A,{value:"S",control:i.createElement(g.A,null),label:"S"})),i.createElement(ne.A,{in:!0,timeout:600},i.createElement(m.A,{value:"M",control:i.createElement(g.A,null),label:"M"})),i.createElement(ne.A,{in:!0,timeout:800},i.createElement(m.A,{value:"L",control:i.createElement(g.A,null),label:"L"})),i.createElement(ne.A,{in:!0,timeout:1e3},i.createElement(m.A,{value:"XL",control:i.createElement(g.A,null),label:"XL"})),i.createElement(ne.A,{in:!0,timeout:1200},i.createElement(m.A,{value:"XXL",control:i.createElement(g.A,null),label:"XXL"})))),i.createElement("div",{className:"pixelated",style:{width:"100%"}},i.createElement("canvas",{style:{borderRadius:"12px",width:"100%"},ref:this._set_canvas_ref,width:v.width+"px",height:v.height+"px"})),i.createElement("div",{style:{padding:"64px 8px 16px 8px",textAlign:"right",position:"absolute",background:"linear-gradient(0deg, #101010cf 20%, #10101075 60%, #10101000 90%)",width:"100%",bottom:"0px"}},i.createElement(ne.A,{in:!0,timeout:800},i.createElement(l.A,{variant:"text",color:"#ffffff88",onClick:this.download_artwork},"DOWNLOAD (",j.toFixed(2)," kB)")),i.createElement(ne.A,{in:!0,timeout:1e3},i.createElement(l.A,{variant:"text",color:"#ffffff88",onClick:()=>this._open_link("https://pixa.pics/")},"OPEN EDITOR"))));break;case"2":U=i.createElement(ne.A,{in:!0,timeout:300},i.createElement("div",{noValidate:!0,autoComplete:"off"},i.createElement(f.A,{style:{marginTop:12},value:t,fullWidth:!0,label:"Title",variant:"outlined",onChange:this._setTitle}),i.createElement(f.A,{style:{marginTop:24,marginBottom:24},label:"Content",multiline:!0,rows:1,defaultValue:C,variant:"filled",disabled:!0,fullWidth:!0}),i.createElement(f.A,{style:{marginTop:24,marginBottom:24},label:"Description",multiline:!0,minRows:6,defaultValue:"",variant:"outlined",fullWidth:!0}),i.createElement(te.A,{style:{marginBottom:12},fullWidth:!0,variant:"outlined",label:"Tags",placeholder:"Tags for content classification"})))}return i.createElement(i.Fragment,null,i.createElement(c.A,{open:w,maxWidth:"sm",fullWidth:!0,disablePortal:!1,onClose:this.request_close,keepMounted:!1},i.createElement(o.A,null,i.createElement(d.A,{style:{marginTop:8,marginBottom:24},component:"h2",variant:"h6"},"Publisher"),U),i.createElement(s.A,{style:{textAlign:"right"}},i.createElement(l.A,{variant:"text",color:"primary",autoFocus:!0,onClick:()=>this._backOrCancel(Boolean(!F&&"upload file"==D))},parseInt(a)>0?"Back":"Cancel"),i.createElement(l.A,{variant:"contained",color:"primary",disabled:0===parseInt(a),onClick:this._nextOrFinish},2===parseInt(a)?"Publish":"Next"))),i.createElement(c.A,{PaperProps:{classes:{root:e.whiteDialog}},open:R,maxWidth:"xs",disablePortal:!1,onClose:this.close_confirm_close,keepMounted:!1},i.createElement(o.A,null,i.createElement(d.A,{style:{marginTop:8,marginBottom:24},component:"h2",variant:"h6"},"Are you sure?"),i.createElement(d.A,{variant:"body2",color:"textPrimary",component:"p"},"Your current artwork will be lost.")),i.createElement(s.A,{style:{textAlign:"right"}},i.createElement(l.A,{variant:"text",color:"primary",autoFocus:!0,onClick:this.close_confirm_close},"Cancel"),i.createElement(l.A,{variant:"contained",color:"primary",onClick:this.close_confirm},"Close"))),i.createElement(c.A,{PaperProps:{classes:{root:e.whiteDialog}},open:M,maxWidth:"xs",disablePortal:!1,onClose:()=>{this.close_use_ai(!0)},keepMounted:!1},i.createElement(o.A,null,i.createElement(d.A,{style:{marginTop:8,marginBottom:24},component:"h2",variant:"h6"},"Choose Your Style (AI)"),i.createElement(u.A,{component:"fieldset"},i.createElement(r.A,{"aria-label":"style",name:"style",value:z.toString(),onChange:this._handle_style_change},i.createElement(m.A,{value:"3",control:i.createElement(g.A,null),label:"No Special Style"}),i.createElement(m.A,{value:"0",control:i.createElement(g.A,null),label:"Beautiful (AI)"}),i.createElement(m.A,{value:"1",control:i.createElement(g.A,null),label:"Natural (AI)"}),i.createElement(m.A,{value:"2",control:i.createElement(g.A,null),label:"Flat (AI)"}))),i.createElement(d.A,{variant:"body2",color:"textPrimary",component:"p"},"It takes around 100 seconds. ",i.createElement("b",null,"#Free")," ",i.createElement("b",null,"#Anonymous"))),i.createElement(s.A,{style:{textAlign:"right"}},i.createElement(l.A,{variant:"text",color:"primary",autoFocus:!0,onClick:()=>{this.close_use_ai(!1)}},"IGNORE"),i.createElement(l.A,{variant:"contained",color:"primary",onClick:()=>{"3"===z.toString()?this.close_use_ai(!1):this.close_use_ai(!0)}},"ACCEPT"))))}}const ae=(0,a.default)((e=>({dropZone:{width:"100%",height:"100%",minHeight:"384px",border:"2px dashed #666",textAlign:"center",verticalAlign:"middle",backgroundColor:"transparent",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 225ms"},dropZoneActive:{width:"100%",height:"100%",minHeight:"384px",border:"2px solid #666",textAlign:"center",verticalAlign:"middle",backgroundColor:"rgba(255, 255, 255, 0.07)",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 25ms"},whiteDialog:{backgroundColor:"#fff !important",color:"#000 !important",boxShadow:"0px 11px 15px -7px rgb(255 255 255 / 20%), 0px 24px 38px 3px rgb(255 255 255 / 14%), 0px 9px 46px 8px rgb(255 255 255 / 12%) !important","& .MuiButton-textPrimary":{color:"#222 !important","&:hover":{color:"#000 !important"}},"& .MuiButton-containedPrimary":{color:"#fff !important",backgroundColor:"#000 !important","&:hover":{color:"#ddd !important",backgroundColor:"#222 !important"}},"& .MuiRadio-colorPrimary.Mui-checked, & .MuiCheckbox-colorPrimary.Mui-checked, & .MuiRadio-colorSecondary.Mui-checked":{color:"#000 !important"},"& .MuiRadio-root, & .MuiFormLabel-root.Mui-focused, .MuiTypography-root":{color:"#000 !important"}},inputImage:{margin:"0px 0px -4px 0px",borderRadius:"12px",width:"100%",filter:"grayscale(1) contrast(.8) brightness(0.55) opacity(0.65) blur(8px)",transition:"filter 400ms cubic-bezier(0.4, 0, 0.2, 1) 25ms !important",animationName:"$opacity-create",animationTimingFunction:"ease-in-out",animationDuration:"2400ms",animationFillMode:"both",animationDelay:"1200ms",animationDirection:"alternate",animationIterationCount:"infinite","@global":{"@keyframes opacity-create":{"0%":{opacity:"0.666"},"100%":{opacity:"1.000"}}},"&:hover":{filter:"grayscale(0.15) contrast(.8) brightness(0.6) opacity(0.7) blur(0px)"},"&::after":{content:"''",position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"linear-gradient(to top, black, transparent)"}}})))(ie)},78725:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{A:()=>N});var a=n(17402),r=(n(50172),n(45994)),s=n(79626),o=n(20426),l=n(67520),c=n(91004),d=n(42460),h=n(88104),p=n(96232),_=n(56340),u=n(77808),m=n(79493),g=n(13563),f=n(39756),b=n(92059),y=n(37532),w=n(86982),x=n(47851),v=n(69205),A=n(23308),E=e([b,A]);[b,A]=E.then?(await E)():E;const C=(0,a.lazy)((()=>Promise.resolve().then(n.bind(n,67114)))),k=(0,A.Y)(),S=e=>({card:{width:"100%",borderRadius:"21px",marginTop:"24px",userSelect:"none",contain:"style layout paint",willChange:"auto",transform:"translateZ(0)","&.MuiCard-root":{overflow:"hidden",backgroundColor:"#101010",transition:"background-color 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms, box-shadow 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms, filter 320ms cubic-bezier(0.4, 0, 0.2, 1) 30ms"},"&.MuiCard-root:hover":{backgroundColor:"#000000",contain:"inherit",boxShadow:"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)",transition:"background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 10ms, box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1) 10ms, filter 320ms cubic-bezier(0.4, 0, 0.2, 1) 30ms"},"&.shown":{filter:"opacity(1)"},"&.hidden":{filter:"opacity(0)"},"& .MuiCardActions-root":{fontFamily:"Azeret Mono",fontSize:"1.125rem",fontWeight:"300"}},subheaderName:{color:"#fff",cursor:"pointer"},subheaderBy:{color:"#aaa"},subheaderDate:{color:"#ddd"},image:{width:"100%",cursor:"pointer",userSelect:"none",contain:"strict"},voted:{color:"#eee",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"},vote:{color:"#888",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms","&:hover":{color:"#bbb",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},payout:{pointer:"cursor",marginLeft:"auto",marginRight:8,color:"#666",fontWeight:"350",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms","&:hover":{color:"#999",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},actions:{color:"#666","& .MuiIconButton-root":{padding:"12px 12px 12px 12px"}},tooltipRoot:{maxWidth:"min(67vw, 325px)",backgroundColor:"#0e0e0e !important",borderRadius:"16px",color:"#dddddd !important"},cardHeader:{"& .MuiCardHeader-title":{fontWeight:"bold",fontFamily:'"Industry Book", "Normative Pro"',color:"#fff",cursor:"pointer"},"& .MuiCardHeader-subheader":{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"calc(100% - 16px)"},"& .MuiAvatar-root":{cursor:"pointer",borderRadius:"14px",width:48,height:48},"& .MuiCardHeader-avatar":{marginRight:"8px"}}});function I(e,t){if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t||!e||!t)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let i=0;i<n.length;i++){const a=n[i];if(e[a]!==t[a])return!1}return!0}const R=(0,a.memo)((function({renderer:e,id:t,size:n,column_width:i,image_width:s,image_height:o,getImgData:l,renderHex:c,renderXbrz:d,renderCrt:h,className:p,style:_,onOpen:u,nsfwEnabled:m,nsfwFlag:g}){const f=(0,r.li)(null),b=(0,r.li)(null),y=(0,r.li)(0),w=(0,r.Kr)((()=>`${e}:${t}:${s}x${o}:${null==n?void 0:n.width}x${null==n?void 0:n.height}:${i||0}`),[e,t,s,o,null==n?void 0:n.width,null==n?void 0:n.height,i]);(0,r.vJ)((()=>{const e=f.current;if(!e||b.current)return;const t=e.getContext&&e.getContext("bitmaprenderer");if(t)return void(b.current=t);const n=e.getContext("2d",{alpha:!1,desynchronized:!0,willReadFrequently:!1});n&&(n.imageSmoothingEnabled=!1),b.current=n}),[]);const x=(0,r.hb)(((e,t)=>{const n=b.current,i=f.current;if(!n||!i)return;const a=e=>{if(e){n.transferFromImageBitmap?n.transferFromImageBitmap(e):n.drawImage(e,0,0,i.width,i.height);try{e.close&&e.close()}catch(e){}}};t?a(t):e&&createImageBitmap(e,{colorSpaceConversion:"none",premultiplyAlpha:"none"}).then(a).catch((()=>{}))}),[]),A=(0,r.hb)((async()=>{if(!b.current||!n)return;const a=++y.current,r=await l(n);if(a!==y.current)return;const o=i||s||600,p=Math.max(Math.min(40,o/n.width/2),3),_=Math.max(Math.min(20,o/n.width|0),2),u=Math.max(Math.min(6,o/n.width|0),2),m=(e,t)=>{a===y.current&&x(e,t)},g=()=>{"hexagon"===e?c(r,p,m,!1,t):"xbrz"===e?d(r,_,m,!1,t):"crt"===e?h(r,u,m,!1,t):m(r)};"requestIdleCallback"in window?requestIdleCallback((()=>g())):requestAnimationFrame((()=>g()))}),[e,t,i,s,n,l,c,d,h,x]);return(0,r.vJ)((()=>{A()}),[A,w]),a.createElement("canvas",{ref:f,className:p,width:s,height:o,onContextMenu:e=>e.preventDefault(),onClick:()=>!g||m?null==u?void 0:u():v.Le("NSFW disabled"),style:_})}),((e,t)=>{var n,i,a,r;return e.renderer===t.renderer&&e.id===t.id&&e.nsfwEnabled===t.nsfwEnabled&&e.nsfwFlag===t.nsfwFlag&&e.image_width===t.image_width&&e.image_height===t.image_height&&e.column_width===t.column_width&&(null===(n=e.size)||void 0===n?void 0:n.width)===(null===(i=t.size)||void 0===i?void 0:i.width)&&(null===(a=e.size)||void 0===a?void 0:a.height)===(null===(r=t.size)||void 0===r?void 0:r.height)&&I(e.style,t.style)&&e.className===t.className}));function M({classes:e,style:t,data:n={},id:i,locales:s,renderer:A,nsfw:E,selected:S,image_width:I,image_height:M,column_width:T,size:z,onOpen:N,visible:D}){const[P,O]=(0,r.J0)(0),[U,B]=(0,r.J0)(!!D),W=(0,r.li)(w.Vv);(0,r.vJ)((()=>{D&&!U&&B(!0)}),[D,U]);const L=(0,r.li)(null),F=(0,r.hb)((e=>{W.current.push("/@"+e)}),[]),j=(0,r.hb)((()=>O((e=>1!==e?1:0))),[]),H=(0,r.hb)((()=>O((e=>-1!==e?-1:0))),[]),V=(0,r.hb)((()=>v.jF("+")),[]),Y=(0,r.hb)((()=>v.jF("-")),[]),X=n.author||{},$=parseFloat((n.payout||"").replace("$",""))||0,G=(n.upVotesNumber||0)+(1===P?1:0),K=(n.downVotesNumber||0)+(-1===P?1:0),q=parseFloat($*(1/3)).toFixed(2),Z=parseFloat($*(2/3)).toFixed(2),J=e.image+("square"===A?" pixelated":""),Q=(0,r.Kr)((()=>({minWidth:"100%",filter:n.nsfw&&!E?"blur(24px)":"none",aspectRatio:`${I} / ${M}`,borderRadius:"xbrz"===A?"12px":"0px"})),[n.nsfw,E,A,I,M]);return a.createElement(o.A,{ref:L,key:i,className:e.card+(S?" Mui-selected":"")+(U?" shown":" hidden"),style:t},a.createElement(l.A,{className:e.cardHeader,avatar:a.createElement(c.A,{onClick:()=>F(X.username),src:X.image,imgProps:{decoding:"async",loading:"lazy"}}),action:a.createElement(a.Suspense,{fallback:a.createElement("span",null)},a.createElement(d.A,{"aria-label":"settings"},a.createElement(C,null))),title:a.createElement("span",{onClick:()=>null==N?void 0:N(n)},n.title),subheader:a.createElement("span",null,a.createElement(p.Ay,{arrow:!0,title:new Date(n.date||Date.now()).toLocaleDateString(s,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},a.createElement("span",{className:e.subheaderDate},y.A.format(n.date||Date.now(),{labels:"narrow"}))),a.createElement("span",{className:e.subheaderBy}," by "),a.createElement(p.Ay,{title:"@"+(n.author||{}).username},a.createElement("span",{className:e.subheaderName,onClick:()=>F(X.username)},(X||{}).name)))}),a.createElement(x.A,{disableRipple:!0,disableTouchRipple:!0,onContextMenu:e=>e.preventDefault(),style:{width:"100%",borderRadius:"xbrz"===A?"12px":"0px"}},a.createElement(R,{renderer:A,id:i,size:z,column_width:T,image_width:I,image_height:M,getImgData:k.get_new_img_data,renderHex:b.eu,renderXbrz:b.px,renderCrt:b.E6,className:J,style:Q,onOpen:()=>null==N?void 0:N(n),nsfwEnabled:E,nsfwFlag:n.nsfw})),a.createElement(h.A,{disableSpacing:!0,className:e.actions},a.createElement(d.A,{className:P>0?e.voted:e.vote,"aria-label":"Up-Vote",onClick:j},P>0?a.createElement(_.A,null):a.createElement(u.A,null)),a.createElement("span",{onClick:V,className:"monospace "+(P>0?e.voted:e.vote),style:{cursor:"pointer",marginRight:4,marginLeft:-4}},G),a.createElement(d.A,{className:P<0?e.voted:e.vote,"aria-label":"Down-Vote",onClick:H},P<0?a.createElement(m.A,null):a.createElement(g.A,null)),a.createElement("span",{onClick:Y,className:"monospace "+(P<0?e.voted:e.vote),style:{cursor:"pointer",marginRight:4,marginLeft:-4}},K),a.createElement(p.Ay,{interactive:!0,enterTouchDelay:200,leaveTouchDelay:4e3,disableTouchListener:!1,classes:{tooltip:e.tooltipRoot},title:a.createElement("div",{style:{fontFamily:'"Industry Book"',fontSize:"11px",lineHeight:"14px",padding:"16px"}},a.createElement("span",{style:{marginBottom:"8px",fontSize:"14px",fontWeight:"bold",display:"block"}},"Reward ",a.createElement("span",{style:{opacity:.666,fontWeight:"normal"}},"(USD ",(5.69*parseFloat(n.payout||0)).toFixed(2),")")),a.createElement("span",{style:{marginLeft:"12px",display:"block",fontWeight:"normal"}},a.createElement("span",{style:{fontWeight:"bold"}},"Author")," ",a.createElement("span",{className:"monospace",style:{opacity:.666}},"(66%)"),":",a.createElement("span",{className:"monospace"}," ",Z," PXS")),a.createElement("span",{style:{marginLeft:"12px",display:"block",fontWeight:"normal"}},a.createElement("span",{style:{fontWeight:"bold"}},"Curators")," ",a.createElement("span",{className:"monospace",style:{opacity:.666}},"(34%)"),":",a.createElement("span",{className:"monospace"}," ",q," PXS")),a.createElement("span",{style:{opacity:.8,marginTop:"4px",display:"block",fontStyle:"italic",fontWeight:"normal"}},"Payout in ",y.A.format((n.date||Date.now())+6048e5)))},a.createElement("span",{className:e.payout},$.toFixed(1)," ",a.createElement(f.A,{style:{width:"24px",height:"24px",verticalAlign:"bottom"}})))))}const T=(0,s.default)(S)(M),z=(0,a.memo)((({...e})=>a.createElement(T,e)),((e,t)=>e.id===t.id&&e.visible===t.visible&&e.renderer===t.renderer&&e.nsfw===t.nsfw&&e.selected===t.selected&&e.locales===t.locales&&e.image_height===t.image_height&&e.image_width===t.image_width)),N=(0,a.memo)((({style:e,...t})=>a.createElement("div",{style:e},a.createElement(z,t))),((e,t)=>e.id===t.id&&e.visible===t.visible&&e.renderer===t.renderer&&e.nsfw===t.nsfw&&e.selected===t.selected&&e.locales===t.locales&&e.image_height===t.image_height&&e.image_width===t.image_width&&I(e.style,t.style)));i()}catch(D){i(D)}}))},23563:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(17402),a=n(79626),r=n(84630),s=n(19008),o=n(61466),l=n(77430),c=n(48085),d=n(68048),h=n(82133),p=n(41068),_=n(46577);class u extends i.PureComponent{constructor(e){super(e),this.state={classes:e.classes,data:e.data,xy:e.xy||[]}}shouldComponentUpdate(e,t,n){return!1}componentWillReceiveProps(e){this.setState(e,(()=>{this.forceUpdate()}))}render(){const{xy:e,classes:t}=this.state,n=0|e[0],a=0|e[1];return i.createElement(c.A,{className:t.menu,PaperProps:{style:{overflowY:"overlay",contain:"style layout",scrollBehavior:"smooth",userSelect:"none",pointerEvents:Boolean(a)||Boolean(n)?"all":"none"}},onContextMenu:function(e){e.preventDefault()},MenuListProps:{dense:!0},transitionDuration:{enter:125,exit:250},open:Boolean(a)||Boolean(n),onClose:this.props.onClose,disablePortal:!1,keepMounted:!0,anchorReference:"anchorPosition",anchorPosition:{top:0|a,left:0|n}},i.createElement(s.A,null,i.createElement(r.A,null,i.createElement(o.A,null,i.createElement(d.A,{fontSize:"small"})),i.createElement(l.A,{primary:"Favorite"})),i.createElement(r.A,null,i.createElement(o.A,null,i.createElement(h.A,{fontSize:"small"})),i.createElement(l.A,{primary:"Share"})),i.createElement(r.A,null,i.createElement(o.A,null,i.createElement(_.A,{fontSize:"small"})),i.createElement(l.A,{primary:"Votes"})),i.createElement(r.A,null,i.createElement(o.A,null,i.createElement(p.A,{fontSize:"small"})),i.createElement(l.A,{primary:"Details"}))))}}const m=(0,a.default)((e=>({})))(u)},28379:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{A:()=>Ae});var a=n(17402),r=n(79626),s=n(20426),o=n(53058),l=n(6272),c=n(54392),d=n(73486),h=n(50384),p=n(29514),_=n(77430),u=n(71846),m=n(96232),g=n(4826),f=n(91004),b=n(42460),y=n(73546),w=n(67520),x=n(37532),v=n(88104),A=(n(61428),n(39756)),E=n(82293),C=n(99537),k=n(92059),S=n(86809),I=n(16526),R=n(69232),M=n(86982),T=n(33615),z=n(13045),N=n(70100),D=n(47625),P=n(61466),O=n(45152),U=n(27606),B=n(90820),W=n(11862),L=n(6850),F=n(15695),j=n(97214),H=n(7315),V=n(93367),Y=n(42965),X=n(73499),$=n(13342),G=n(83182),K=n(38627),q=n(16594),Z=n(67264),J=n(69440),Q=n(7400),ee=n(86330),te=n(95834),ne=n(94422),ie=n(15776),ae=n(52706),re=n(69312),se=n(96340),oe=n(7160),le=n(38306),ce=n(64054),de=n(72706),he=n(69205),pe=n(56340),_e=n(77808),ue=n(79493),me=n(13563),ge=n(82552),fe=n(24907),be=e([k]);function ye(e,t){let n;if(void 0===n){try{"undefined"!=typeof OffscreenCanvas&&(n=new OffscreenCanvas(e,t))}catch(i){n=document.createElement("canvas"),n.width=e,n.height=t}return n.ctx=n.getContext("2d",{willReadFrequently:!0}),n}return n.width=e,n.height=t,n}async function we(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){var e=ye(i.naturalWidth||i.width,i.naturalHeight||i.height),n=e.ctx;n.drawImage(i,0,0);for(var a=n.getImageData(0,0,e.width,e.height),r=new Uint32Array(a.data.buffer),s={},o=0,l=0|r.length;(0|o)<(0|l);o=o+1|0)s[r[0|o]]=(s[r[0|o]]||0)+1|0;var c=new g.Colors(Uint32Array.from(Object.keys(s).map((e=>parseInt(e)))).buffer).get_deduplicated_sorted_uint32a(),d=Array.from(c).map((e=>{var t=g.Color.new_uint32(e).hex,n=s[e];return{hex:t,percentage:Math.round(n/r.length*1e4)/100}})),h={imgd:n.getImageData(0,0,e.width,e.height),colors:d,width:e.width,height:e.height};t(h)},i.onabort=n,i.src=e}))}k=(be.then?(await be)():be)[0];const xe=e=>({comment:{width:"100%","& .MuiInputBase-input":{},"& .MuiInputLabel-root":{userSelect:"none"},"& .MuiInput-underline:after":{borderBottom:"2px solid #ffffff"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #bbbbbb"},"& .MuiInputBase-fullWidth":{width:"100%"}},urlLink:{width:"100%","& svg":{color:"rgb(255 255 255 / 70%)"}},backdrop:{zIndex:e.zIndex.drawer+1,backdropFilter:"blur(9px) grayscale(1)",overflow:"hidden",userSelect:"none"},drawer:{width:384,[e.breakpoints.down("sm")]:{width:"100%"}},drawerPaper:{padding:"16px 16px"},showAllParentsButton:{border:"1px solid rgb(255 255 255 / 70%)",color:"rgb(255 255 255 / 70%)",marginTop:32,"&:hover":{border:"1px solid rgb(255 255 255 / 100%)",color:"rgb(255 255 255 / 100%)"}},list:{"& .MuiListSubheader-root":{fontSize:"1rem !important"}},colorBadges:{width:"100%",display:"flex",flexWrap:"wrap",gap:"6px",[e.breakpoints.down("sm")]:{gap:"4px"},justifyContent:"flex-start",padding:"12px 0px 24px 24px"},colorBadge:{display:"flex",width:18,height:18,borderRadius:"4px",cursor:"pointer"},cardHeader:{alignItems:"flex-start","&.MuiCardHeader-root":{backgroundColor:"#000",boxShadow:"0px 0px 6px 12px #000000"},"& .MuiCardHeader-title":{fontWeight:"bold",fontFamily:'"Industry Book", "Normative Pro"',color:"#fff",cursor:"pointer"},"& .MuiAvatar-root":{cursor:"pointer",borderRadius:"14px"}},repliesGroup:{marginTop:4,display:"flex",float:"right",flexFlow:"row-reverse",gap:2,"& .MuiAvatar-root":{cursor:"pointer",borderRadius:"14px"},"& .MuiAvatar-root::after":{background:'#00000080 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAtOTYwIDk2MCA5NjAiIHdpZHRoPSIyNHB4IiBmaWxsPSIjOTk5OTk5Ij48cGF0aCBkPSJtMjU2LTIwMC01Ni01NiAyMjQtMjI0LTIyNC0yMjQgNTYtNTYgMjI0IDIyNCAyMjQtMjI0IDU2IDU2LTIyNCAyMjQgMjI0IDIyNC01NiA1Ni0yMjQtMjI0LTIyNCAyMjRaIi8+PC9zdmc+")',content:"''",position:"absolute",width:"100%",height:"100%",top:0,left:0,backdropFilter:"brightness(0.5)",backgroundPosition:"center",backgroundRepeat:"no-repeat",filter:"opacity(0)",transition:"filter 225ms cubic-bezier(0.4, 0, 0.2, 1) 35ms"},"& .MuiAvatar-root:hover::after":{filter:"opacity(1)",transition:"filter 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},subheaderName:{color:"#fff",cursor:"pointer"},subheaderBy:{color:"#aaa"},subheaderDate:{color:"#ddd"},image:{width:"100%",cursor:"pointer",userSelect:"none",contain:"style layout"},voted:{color:"#eee",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"},vote:{color:"#888",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms","&:hover":{color:"#bbb",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},payout:{marginLeft:"auto",marginRight:12,color:"#444",fontWeight:"350",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms","&:hover":{color:"#888",transition:"color 175ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},cardActions:{color:"#666","& .MuiIconButton-root":{padding:"12px 12px 12px 12px"}},tooltipRoot:{maxWidth:"min(67vw, 325px)",backgroundColor:"#0e0e0e !important",borderRadius:"16px",color:"#dddddd !important"},hidden:{filter:"opacity(0)",transform:"scale(0)",transformOrigin:"50% 50%",transition:"transform 35ms cubic-bezier(0.4, 0, 0.2, 1) 15ms"},appear:{filter:"opacity(1)",transform:"scale(1)",transformOrigin:"50% 50%",transition:"transform 260ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"},viewLeft:{width:"calc(100% - 480px)",position:"relative",zIndex:-1,[e.breakpoints.down("sm")]:{width:"100%"}},viewRight:{width:"480px",padding:"16px 16px 16px 0px",contain:"size style layout",willChange:"transform, filter",animation:"$slideInFromRight both 900ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","@global":{"@keyframes slideInFromRight":{"0%":{transform:"translateX(420px) !important",filter:"opacity(0)"},"100%":{transform:"translateX(0px) !important",filter:"opacity(1)"}}},"& > .hidden":{animation:"none",contain:"size style layout"},"& > .visible":{},[e.breakpoints.down("sm")]:{animation:"none !important",width:"100%",height:"100%",position:"fixed",top:"0px",padding:"0px",transform:"translateY(0px)",transition:"transform 260ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},viewRightHidden:{width:"480px",padding:"16px",overflow:"hidden",[e.breakpoints.down("sm")]:{width:"100%",height:"100%",position:"fixed",bottom:"0px",transform:"translateY(calc(100% - 96px))",transition:"transform 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},infoButton:{position:"absolute",right:16,bottom:16,display:"none",[e.breakpoints.down("sm")]:{display:"inherit"}},closeButton:{position:"absolute",top:16,right:16,display:"none",[e.breakpoints.down("sm")]:{display:"inherit"}},back:{zIndex:1,cursor:"pointer",position:"absolute",left:0,top:"calc(50% - 64px)",width:128,height:128,lineHeight:"128px",verticalAlign:"middle",textAlign:"center",[e.breakpoints.down("sm")]:{width:80,height:80,top:"calc(50% - 40px)"}},forward:{zIndex:1,cursor:"pointer",position:"absolute",right:0,top:"calc(50% - 64px)",width:128,height:128,lineHeight:"128px",verticalAlign:"middle",textAlign:"center",[e.breakpoints.down("sm")]:{width:80,height:80,top:"calc(50% - 40px)"}},arrowIcon:{color:"#ffffff41",width:72,height:72,margin:"28px",transition:"color 240ms cubic-bezier(0.4, 0, 0.2, 1) 5ms",[e.breakpoints.down("sm")]:{width:48,height:48,margin:"16px"},"&:hover":{color:"#FFFFFF82",transition:"color 120ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},card:{position:"relative",display:"flex",flexDirection:"column",width:"100%",height:"100%",minHeight:"100%",borderRadius:"32px !important",boxShadow:"0px 0px 16px 8px #00000070",[e.breakpoints.down("sm")]:{animation:"none",borderRadius:"32px 32px 0px 0px !important","&.opened":{borderRadius:"0px 0px 0px 0px !important"},minHeight:"100%"},"& .MuiCardHeader-action":{margin:"0px !important"},"& .MuiAccordion-root.Mui-expanded":{margin:"0px !important"}},downloadButtonProgress:{color:"white",position:"absolute",top:-8,left:-8,zIndex:1},circle:{strokeLinecap:"round"},chipTags:{lineHeight:"34px",gap:"8px",width:"100%",display:"flex",padding:"0px",flexWrap:"wrap",justifyContent:"flex-start",marginTop:"12px","& .MuiChip-root":{cursor:"pointer",borderRadius:"12px",backgroundColor:"#1b1b1b",color:"#979797",transition:"background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},"& .MuiChip-root:hover":{backgroundColor:"#2a2a2a",color:"#e3e3e3"}},cardTabs:{backgroundColor:"#171717","& .MuiTab-root":{minWidth:"72px !important"},"& .MuiTab-textColorPrimary.Mui-selected":{backgroundColor:"transparent"},"& .MuiTab-textColorPrimary.Mui-selected .MuiTab-wrapper":{color:"#171717 !important"},"& .MuiTab-fullWidth":{backgroundColor:"transparent",color:"#989898",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",borderRadius:"21px"},"& .MuiTab-fullWidth:hover":{backgroundColor:"rgba(255,255,255,0.06)"},"& span.MuiTabs-indicator":{zIndex:"-1",height:"48px",backgroundColor:"#c7c7c7",borderRadius:"21px",transform:"scale3d(0.875, 0.75, 1)"},margin:"8px 16px 0px 16px",width:"calc(100% - 32px)",borderRadius:"21px",position:"fixed",top:0,left:0,zIndex:1,transition:"transform 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},collapse:{"&.MuiCollapse-entered":{minHeight:"72px !important"}},commentSendButton:{backgroundColor:"#ffffff17","&:hover":{backgroundColor:"#ffffff24"}}});class ve extends a.PureComponent{constructor(e){super(e),this.st4te={classes:e.classes,keepMounted:e.keepMounted||!1,open:e.open,data:e.data,renderer:e.renderer,locales:e.locales,kb:0,type:"",_history:M.Vv,_authors:[],_sorting:"Hype",_tab_value:0,_view_element:null,_image_element_ref:null,_view_element_measurement:{},_image_element_ref_measurement:{},_canvas:null,_size:{},_card_ref:{},_download_loading:!1,_hidden:!0,_zoom_mode:0,_view_mobile_opened:!1,_view_right_mobile_enabled:(window.innerWidth||document.documentElement.clientWidth||(document.body||document.getElementsByTagName("body")[0]).clientWidth)<=960,position:{left:0,top:0},dragging:0,zoom:1,metadata:{imgd:null,colors:[],width:0,height:0},_copied:!1,_voted:0,_card_y_offset:0,_card_y_now:0,_card_y_start:0,_card_x_now:0,_card_x_start:0,_card_y_moved_at:0,_license_dialog_opened:!1,_accounts:{},_comments:[{username:"primerz",body:"Really lovely!",date:Date.now()-6e4,upVotesNumber:6,downVotesNumber:0},{username:"chuckchuck",body:"It is so important for me to support your work, you are so awesome, and this pixel art looks so cool.",date:Date.now()-3e5,upVotesNumber:7,downVotesNumber:1},{username:"sophiajulio",body:"I understand, I made so much friends on this platform yet you are my bestie number one.",date:Date.now()-84e4,upVotesNumber:4,downVotesNumber:0},{username:"azal",body:"Cool!",date:Date.now()-528e4,upVotesNumber:17,downVotesNumber:2},{username:"technoania",body:"Super, I would love to hear from you.",date:Date.now()-768e4,upVotesNumber:8,downVotesNumber:1}],_current_comments:[],_show_parent:!1},this._drawerSettings={hysteresisClosed:14,hysteresisOpened:18,friction:.0333}}setSt4te(e,t){let n=Object.keys(e),i=0|n.length,a="";for(let t=0;(0|t)<(0|i);t=(t+1|0)>>>0)a=n[t].toString(),this.st4te[a]=e[a];"function"==typeof t&&t()}componentWillReceiveProps(e){var t=e.data.image!==this.st4te.data.image,n=!1===e.open&&this.st4te.open;const i=((e.data.image||"").length||0)/1e3*3/4,a=(e.data.image||"").startsWith("data:image/png;base64,")?"png":(e.data.image||"").startsWith("data:image/webp;base64,")?"webp":"unknown";this.setSt4te({...e,kb:i,type:a},(()=>{(n||t)&&this.setSt4te({_hidden:!0,_copied:!1},(()=>{this.forceUpdate()})),t&&we(e.data.image).then((e=>{setTimeout((()=>{this.setSt4te({metadata:e},(()=>{this._get_views(!0),this._computeSize()}))}),90)}))}))}forceUpdatePosition=()=>{this.st4te._image_element_ref&&this.st4te._image_element_ref.style&&(this.st4te._image_element_ref.style.transform=`translate(calc(${this.st4te.position.left}px - 50%), calc(${this.st4te.position.top}px - 50%)) scale(${(this.st4te.zoom/3).toFixed(3)})`)};swipeableViewScrollTop=()=>{let e=document.getElementsByClassName("react-swipeable-view-container").item(0).children.item(0);e.style.scrollBehavior="smooth",e.scrollTop=0};componentDidMount(){(0,R.A)((()=>n.e("src_js_data_authors_js").then(n.bind(n,60209)))).then((e=>{const t=e.default();let n=this.st4te._comments;n=n.map((e=>({...e,author:t[e.username]}))),this.setSt4te({_authors:t,_comments:n},(()=>{this._get_views(!0),this.forceUpdate()}))})),we(this.st4te.data.image).then((e=>{this.setSt4te({metadata:e},(()=>{this._get_views(!0),this._computeSize()}))})),window.addEventListener("resize",this._computeSize)}componentWillUnmount(){window.removeEventListener("resize",this._computeSize)}_copy=e=>{de.x3(e),this.setSt4te({_copied:!0},(()=>{this._views[0]=this._get_view(0),this.forceUpdate((()=>{he.Le("The URL has been copied!"),setTimeout((()=>{try{this.setSt4te({_copied:!1},(()=>{this._views[0]=this._get_view(0),this.forceUpdate()}))}catch(e){}}),5e3)}))}))};_handleTabChange=(e,t)=>{this.setSt4te({_tab_value:t},(()=>{this.swipeableViewScrollTop(),this.forceUpdate()}))};_votesRenderer=({index:e,key:t,style:n})=>{const i=Object.entries(this.st4te._authors)[e][1];return a.createElement(h.A,{className:xe.row,key:t,style:n},a.createElement(p.A,null,a.createElement(m.Ay,{title:`@${i.username}`},a.createElement(f.A,{src:i.image,style:{borderRadius:"12px",cursor:"pointer"},className:"pixelated",onClick:e=>{this._open_author(i.username)}}))),a.createElement(_.A,{primary:i.name,secondary:"0.1 PS with 100%"}))};_setViewRef=e=>{e&&"function"==typeof e.getBoundingClientRect&&this.setSt4te({_view_element:e},(()=>{[["wheel",this._handle_wheel],["pointerdown",this._handle_view_pointer_down],["touchstart",this._handle_view_touch_start],["pointermove",this._handle_view_pointer_move],["touchmove",this._handle_view_touch_move],["pointerup",this._handle_view_pointer_up],["touchend",this._handle_view_pointer_up],["touchcancel",this._handle_view_pointer_up],["pointercancel",this._handle_view_pointer_up],["pointerout",this._handle_view_pointer_up],["pointerleave",this._handle_view_pointer_up]].forEach((([e,t])=>{this.st4te._view_element.addEventListener(e,t.bind(this),{passive:!0})})),this._computeSize()}))};_setImageRef=e=>{e&&this.setSt4te({_image_element_ref:e})};_handle_wheel=e=>{const{zoom:t,position:n,_view_element_measurement:i,_size:a}=this.st4te;let r=t,s=e.pageX,o=e.pageY,l=e.movementX,c=e.movementY,d=e.deltaY,h=Math.max(Math.min(.125,Math.abs(-.01*d)),.25);h=-.01*d>0?h:-h;let p=r+h*r*(.9/Math.pow(r<1?1/r:r,1.6));if(!(p>3||p<.125)){const e={left:i.left,top:i.top,width:i.width,height:i.height},t={width:a.width*r,height:a.height*r};let d,h,_=n.left,u=n.top,m=1-r/p,g=p/r;Boolean(s)&&Boolean(o)?(d=s-e.left|0,h=o-e.top|0):(d=e.width/2|0,h=e.height/2|0);let f=(_-d*m)*g+l|0,b=(u-h*m)*g+c|0;const y=(e.width-t.width)/2|0,w=(e.height-t.height)/2|0,x=t.width+y,v=t.height+w;b-=w,f-=y;let A=Math.min(Math.abs(f),x)*(f<0?-1:1)+y,E=Math.min(Math.abs(b),v)*(b<0?-1:1)+w;this.setSt4te({zoom:p,position:{left:A,top:E}},(()=>{this.forceUpdatePosition()}))}};_handle_view_pointer_down=e=>{if(0!==e.button)return;const t=this.st4te._image_element_ref.getBoundingClientRect();e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom&&this.setSt4te({dragging:!0,dragStart:{x:e.clientX,y:e.clientY},dragOrigin:{...this.st4te.position}})};_handle_view_touch_start=e=>{if(2===e.touches.length){const[t,n]=[e.touches[0],e.touches[1]];this.pinchStartDist=Math.hypot(n.clientX-t.clientX,n.clientY-t.clientY),this.startZoom=this.st4te.zoom}else 1===e.touches.length&&this._startDrag(e.touches[0])};_handle_view_pointer_move=e=>{if(!this.st4te.dragging)return;const t=e.clientX-this.st4te.dragStart.x,n=e.clientY-this.st4te.dragStart.y;this.setSt4te({position:{left:this.st4te.dragOrigin.left+t,top:this.st4te.dragOrigin.top+n}},(()=>{this.forceUpdatePosition()}))};_handle_view_touch_move=e=>{if(2===e.touches.length){const[t,n]=[e.touches[0],e.touches[1]],i=Math.hypot(n.clientX-t.clientX,n.clientY-t.clientY);let a=i/(this.pinchStartDist||i),r=Math.max(.125,Math.min(this.startZoom*a,3));this.setSt4te({zoom:r})}else 1===e.touches.length&&this.st4te.dragging&&this._dragTo(e.touches[0])};_handle_view_pointer_up=()=>{this.setSt4te({dragging:!1}),this.pinchStartDist=null};_startDrag=e=>{const t=this.st4te._image_element_ref.getBoundingClientRect();e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom&&this.setSt4te({dragging:!0,dragStart:{x:e.clientX,y:e.clientY},dragOrigin:{...this.st4te.position}})};_dragTo=e=>{if(!this.st4te.dragging)return;const t=e.clientX-this.st4te.dragStart.x,n=e.clientY-this.st4te.dragStart.y;Math.abs(t)+Math.abs(n)>150||this.setSt4te({position:{left:this.st4te.dragOrigin.left+t,top:this.st4te.dragOrigin.top+n}},(()=>{this.forceUpdatePosition()}))};_computeSize=()=>{const e=(window.innerWidth||document.documentElement.clientWidth||(document.body||document.getElementsByTagName("body")[0]).clientWidth)<=960;if(this.st4te._view_right_mobile_enabled!==e&&this.setSt4te({_view_right_mobile_enabled:e},(()=>{this.forceUpdate()})),"function"==typeof this.st4te._view_element.getBoundingClientRect&&this.st4te.metadata.width){const e=this.st4te._view_element.getBoundingClientRect();this.setSt4te({_view_element_measurement:e},(()=>{const{metadata:e,_view_element_measurement:t}=this.st4te,n=Math.min((t.width-32)/e.width,(t.height-32)/e.height),i={width:e.width*n|0,height:e.height*n|0};this.setSt4te({_size:i},(()=>{this._set_size()}))}))}};setCanvasRef=e=>{if(void 0!==e&&null!=e&&void 0!==e.width&&null!=e.width&&"function"==typeof e.getContext){var t=e;t.context=e.getContext("2d",{willReadFrequently:!0}),this.setSt4te({_canvas:t},(()=>{this._set_size()}))}};_setMenuCardRef=e=>{e&&this.setSt4te({_card_ref:e},(()=>{[["pointerdown",this._handle_card_pointer_down],["pointermove",this._handle_card_pointer_move],["pointerup",this._handle_card_pointer_up],["pointercancel",this._handle_card_pointer_up],["pointerout",this._handle_card_pointer_move],["pointerleave",this._handle_card_pointer_move]].forEach((([e,t])=>{this.st4te._card_ref.addEventListener(e,t.bind(this),{passive:!0})}))}))};_handle_card_pointer_down=e=>{this.st4te._view_right_mobile_enabled&&0===this.st4te._tab_value&&this.setSt4te({_card_y_dragging:!0,_card_y_start:e.pageY,_card_y_now:e.pageY,_card_x_start:e.pageX,_card_x_now:e.pageX,_card_y_offset:this.st4te._card_y_offset||0})};_handle_card_pointer_move=e=>{if(!this.st4te._view_right_mobile_enabled||!this.st4te._card_y_dragging||0!==this.st4te._tab_value)return;const t=e.pageY-this.st4te._card_y_start,n=Math.abs(e.pageX-this.st4te._card_x_start),i=!this.st4te._view_mobile_opened?Math.min(0,t+n):Math.max(0,t-n);this.setSt4te({_card_y_now:e.pageY,_card_x_now:e.pageX,_card_y_offset:i},(()=>{this.st4te._card_ref.style.transform=`translateY(${this.st4te._card_y_offset}px)`}))};_handle_card_pointer_up=e=>{if(!this.st4te._view_right_mobile_enabled||!this.st4te._card_y_dragging||0!==this.st4te._tab_value)return;const t=this.st4te._card_y_offset,n=!this.st4te._view_mobile_opened,i=this._drawerSettings.hysteresisClosed,a=this._drawerSettings.hysteresisOpened;this.setSt4te({_card_y_dragging:!1},(()=>{const e=n&&Math.abs(t)>i,r=!n&&Math.abs(t)>a;e||r?this.setSt4te({_view_mobile_opened:e,_card_y_offset:0,_card_y_now:0,_card_y_start:0,_card_x_now:0,_card_x_start:0},(()=>{this.st4te._card_ref.style.transform="translateY(0px)",this.forceUpdate()})):this._springBackToOrigin()}))};_springBackToOrigin=()=>{const e=()=>{const t=this.st4te._card_y_offset,n=t<0?t+1:t-1;Math.abs(t)<3||this.st4te._card_y_dragging?this.setSt4te({_card_y_offset:0},(()=>{this.st4te._card_ref.style.transform="translateY(0px)"})):this.setSt4te({_card_y_offset:n},(()=>{this.st4te._card_ref.style.transform=`translateY(${this.st4te._card_y_offset}px)`,setTimeout(e,30)}))};setTimeout(e,30)};_set_imgd=(e,t,n)=>{if(n===this.st4te.data.id){const n=this.st4te._size,i=this.st4te._canvas,a=1/1.314,r={left:this.st4te._view_element_measurement.width/2|0,top:this.st4te._view_element_measurement.height/2|0},{width:s,height:o}=i,{zoom:l,position:c}=this.st4te;i.style.aspectRatio=`${e.width} / ${e.height}`,i.width=3*n.width,i.height=3*n.width;i.width;if(void 0===t){const t=ye(e.width,e.height);t.ctx.putImageData(e,0,0),i.context.drawImage(t,0,0,i.width,i.height)}else i.context.drawImage(t,0,0,i.width,i.height);this.setSt4te({_hidden:!1,zoom:a,position:r},(()=>{this.forceUpdate()}))}};_download_with_watermark=()=>{this.setSt4te({_download_loading:!0},(()=>{this.forceUpdate()})),(0,R.A)((()=>n.e("src_js_utils_watermark_js").then(n.bind(n,93984)))).then((e=>{const t=t=>{if("hexagon"===this.st4te.renderer){const e=this.st4te.metadata.imgd,{width:n,height:i}=e,a=n/i,r=t.width,s=Math.ceil(t.width/a),o=ye(t.width,t.height),l=ye(r,s);o.ctx.putImageData(t,0,0),l.ctx.drawImage(o,0,0,o.width,o.height,0,0,l.width,l.height),t=l.ctx.getImageData(0,0,l.width,l.height,{colorSpace:"srgb"})}else if("xbrz"===this.st4te.renderer){const e=this.st4te.metadata.imgd,{width:n,height:i}=e,a=ye(t.width,t.height);a.ctx.putImageData(t,0,0);const r=ye(t.width,t.height),s=ye(n,i);s.ctx.putImageData(e,0,0),r.ctx.drawImage(s,0,0,n,i,0,0,r.width,r.height),r.ctx.drawImage(a,0,0),t=r.ctx.getImageData(0,0,r.width,r.height,{colorSpace:"srgb"})}e.default(t,"@"+this.st4te.data.author.username,new Date(this.st4te.data.date).getFullYear(),this.st4te.format.toUpperCase()).then((e=>{let t=document.createElement("a");t.href=e,t.download="Artwork_From_@"+this.st4te.data.author.username+"_Printed_Using_"+this.st4te.renderer.toUpperCase()+"."+(""+this.st4te.format).toLowerCase(),t.style.display="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t),this.setSt4te({_download_loading:!1},(()=>{this.forceUpdate()}))}))};let n=1,i=this.st4te.metadata.imgd;const a=""+this.st4te.data.id;i&&("hexagon"===this.st4te.renderer?(n=Math.max(Math.min(32,2*Math.ceil(this.st4te._size.width/this.st4te.metadata.width)),3),(0,k.eu)(i,n,(e=>{t(e)}),!0,a)):"xbrz"===this.st4te.renderer?(n=Math.max(Math.min(32,4*Math.ceil(this.st4te._size.width/this.st4te.metadata.width)),2),(0,k.px)(i,n,(e=>{i.width*n-128<e.width&&t(e)}),!0,a)):"crt"===this.st4te.renderer?(n=Math.max(Math.min(32,4*Math.ceil(this.st4te._size.width/this.st4te.metadata.width)),2),(0,k.E6)(i,n,(e=>{t(e)}),!0,a)):(n=Math.max(Math.min(32,4*Math.ceil(this.st4te._size.width/this.st4te.metadata.width)),2),(0,k.R2)(i,n,(e=>{t(e)}),!0,a)))}))};_render_hex=()=>{const e=""+this.st4te.data.id,t=Math.max(Math.min(32,Math.ceil(this.st4te._size.width/this.st4te.metadata.width*1)),3);(0,k.eu)(this.st4te.metadata.imgd,t,((t,n)=>{this._set_imgd(t,n,e)}),!0,e)};_render_smooth=()=>{const e=""+this.st4te.data.id,t=Math.max(Math.min(32,2*Math.ceil(this.st4te._size.width/this.st4te.metadata.width)),6);(0,k.px)(this.st4te.metadata.imgd,t,((t,n)=>{this._set_imgd(t,n,e)}),!0,e)};_render_crt=()=>{const e=""+this.st4te.data.id,t=Math.max(Math.min(32,2*Math.ceil(this.st4te._size.width/this.st4te.metadata.width)),6);(0,k.E6)(this.st4te.metadata.imgd,t,((t,n)=>{this._set_imgd(t,n,e)}),!0,e)};_render_square=()=>{const e=""+this.st4te.data.id,t=Math.max(Math.min(32,2*Math.ceil(this.st4te._size.width/this.st4te.metadata.width)),6);(0,k.R2)(this.st4te.metadata.imgd,t,((t,n)=>{this._set_imgd(t,n,e)}),!0,e)};_set_size=()=>{this.st4te.metadata.imgd&&("hexagon"===this.st4te.renderer?this._render_hex():"xbrz"===this.st4te.renderer?this._render_smooth():"crt"===this.st4te.renderer?this._render_crt():this._render_square())};_set_menu_open=()=>{this.setSt4te({_view_mobile_opened:!0},(()=>{this.forceUpdate((()=>{this.swipeableViewScrollTop()}))}))};_set_menu_close=()=>{this.st4te._view_right_mobile_enabled?this.setSt4te({_view_mobile_opened:!1,_tab_value:0},(()=>{this.forceUpdate((()=>{this.swipeableViewScrollTop()}))})):(this.props.onClose(),this.swipeableViewScrollTop())};_onRequestClose=()=>{const{_view_mobile_opened:e,_view_right_mobile_enabled:t}=this.st4te;e&&t?this._set_menu_close():this.props.onClose()};_open_author=e=>{this.st4te._history.push("/@"+e)};_set_tag_naviguation=e=>{this.st4te._history.push("/trending/"+e),this.props.onClose()};_handle_open_license_dialog=()=>{this.setSt4te({_license_dialog_opened:!0},(()=>{this.forceUpdate()}))};_handle_close_license_dialog=()=>{this.setSt4te({_license_dialog_opened:!1},(()=>{this.forceUpdate()}))};_download_artwork=()=>{let e=document.createElement("a");e.href=this.st4te.data.image,e.download=this.st4te.data.title+"."+this.st4te.type,e.style.display="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e)};_get_views=(e=!1)=>{const t=[0,1,2];return(e||void 0===this._views)&&(this._views=t.map((e=>this._get_view(e)))),this._views};_handle_sorting_change=e=>{this.setSt4te({_sorting:e.target.value.toString()},(()=>{this._views[1]=this._get_view(1),this.forceUpdate()}))};_show_replies=e=>{let t=this.st4te._current_comments;t.push(e),this.setSt4te({_current_comments:t},(()=>{this._views[1]=this._get_view(1),this.forceUpdate()}))};_slice_replies=e=>{let t=this.st4te._current_comments;t=t.slice(0,e),this.setSt4te({_current_comments:t},(()=>{this._views[1]=this._get_view(1),this.forceUpdate()}))};_toggle_show_parent=()=>{let e=this.st4te._show_parent;e=!e,this.setSt4te({_show_parent:e},(()=>{this._views[1]=this._get_view(1),this.forceUpdate()}))};_trigger_positive_votes=()=>{he.jF("+")};_trigger_negative_votes=()=>{he.jF("-")};_get_view=(e=void 0)=>{let t=null;const{classes:n,_copied:i,metadata:r,_tab_value:s,_authors:o,kb:p,type:u,_comments:g,_sorting:y,_current_comments:w,_show_parent:v,locales:A}=this.st4te,k=["pixa-selfie","lifestyle","hype","demo-tag","be-yourself"];switch(e||s){case 0:t=a.createElement(a.Fragment,null,a.createElement(c.A,{variant:"body1",color:"textSecondary",component:"p",style:{margin:0,color:"rgba(255, 255, 255, 0.5)",lineHeight:"1.125",fontSize:"1rem",letterSpacing:0,textAlign:"justify"}},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc auctor nec ante ac aliquam. Nullam auctor commodo ex. In euismod bibendum tellus nec interdum. Nulla mattis quis nibh vel mattis. Vivamus ornare faucibus odio. Mauris sit amet sem posuere, tincidunt eros ac, imperdiet leo. Etiam pharetra suscipit pulvinar. Etiam quis finibus ex, id gravida libero. Duis imperdiet massa sit amet enim posuere porttitor nec eu velit. Proin est magna, pretium et tortor eu, suscipit feugiat leo."),a.createElement("div",{className:n.chipTags},k.map(((e,t)=>a.createElement(T.A,{key:"#".concat(e.concat(t.toString(10))),label:"#".concat(e.toLowerCase()),onClick:()=>this._set_tag_naviguation(e.toLowerCase())})))),a.createElement(d.A,{className:n.list},a.createElement(O.A,{disableSticky:!0},"Image"),a.createElement(h.A,null,a.createElement(P.A,null,a.createElement(D.A,null)),a.createElement(_.A,null,r.width,"px Width")),a.createElement(h.A,null,a.createElement(P.A,null,a.createElement(N.A,null)),a.createElement(_.A,null,r.height,"px Height")),a.createElement(h.A,null,a.createElement(P.A,null,a.createElement(z.A,null)),a.createElement(_.A,null,r.colors.length," Colors")),a.createElement("div",{className:n.colorBadges},r.colors.map(((e,t)=>a.createElement(m.Ay,{key:e.hex,arrow:!0,interactive:!0,title:e.hex+" ("+e.percentage+"%)"},a.createElement("div",{className:n.colorBadge,style:{backgroundColor:e.hex}}))))),a.createElement(O.A,{disableSticky:!0},"Artwork"),a.createElement(m.Ay,{title:"Download the original image"},a.createElement(h.A,{onClick:this._download_artwork,style:{cursor:"pointer"}},a.createElement(P.A,null,a.createElement(B.A,null)),a.createElement(_.A,null,u.toUpperCase()," of ",p.toFixed(2)," kB"))),a.createElement(m.Ay,{title:"View the artwork's license"},a.createElement(h.A,{onClick:this._handle_open_license_dialog,style:{cursor:"pointer"}},a.createElement(P.A,null,a.createElement(W.A,null)),a.createElement(_.A,null,"PIXA LICENSE 0.1"))),a.createElement(O.A,{disableSticky:!0},"Share"),a.createElement(m.Ay,{title:"Copy the link and past it on another social media"},a.createElement(re.A,{className:n.urlLink,variant:"filled"},a.createElement(le.A,{htmlFor:"filled-adornment-copy"},"Current URL"),a.createElement(oe.Ay,{id:"filled-adornment-copy",type:"text",fullWidth:!0,value:window.location.href,endAdornment:a.createElement(ce.A,{position:"end"},a.createElement(m.Ay,{title:"Copy the link to the clipboard"},a.createElement(b.A,{"aria-label":"copy text url",onClick:()=>this._copy(window.location.href),edge:"end"},i?a.createElement(fe.A,null):a.createElement(ge.A,null))))})))));break;case 1:t=a.createElement("div",null,a.createElement(J.A,{in:w.length>0},a.createElement("div",null,a.createElement("div",{style:{display:"flow",height:"48px",position:"relative",width:"calc(100% - 32px)",margin:"24px 16px 0px 16px"}},a.createElement("div",{style:{float:"left",display:"flex",position:"relative"}},a.createElement(b.A,{onClick:this._toggle_show_parent},v?a.createElement($.A,null):a.createElement(X.A,null)),a.createElement(se.A,{component:"legend",style:{verticalAlign:"middle",lineHeight:"48px",color:"#fff"}},"Reply To")),a.createElement("div",{className:n.repliesGroup},w.map(((e,t)=>{const n=e.author||{};return a.createElement(a.Fragment,null,t>0&&a.createElement(S.A,{key:"arrow-"+t,style:{color:"#575757",transform:"rotate(-180deg)",margin:"8px 0px 8px 0px"}}),a.createElement(f.A,{key:"avatar-"+t,alt:n.name,onClick:()=>{this._slice_replies(t)},src:n.image}))})))))),a.createElement(J.A,{in:v},a.createElement("div",null,w.map(((e,t)=>a.createElement("div",{key:"comment"+w.length-t,style:{position:"relative",padding:"12px 12px 12px 12px",margin:"32px 4px 0px 4px",borderRadius:"12px",backgroundColor:"#121212"}},t>0&&a.createElement(S.A,{key:"arrow-"+t,style:{color:"#575757",transform:"translate(-50%, -50%) rotate(90deg)",left:"50%",top:"-16px",position:"absolute"}}),a.createElement(c.A,{component:"span",variant:"body2",color:"textPrimary",style:{marginBottom:4,display:"block"}},a.createElement(m.Ay,{title:"@"+(e.author||{}).username},a.createElement("span",{className:n.subheaderName,onClick:t=>{this._open_author((e.author||{}).username)}},(e.author||{}).name)),a.createElement("span",{style:{color:"#999"}}," said "),a.createElement(m.Ay,{arrow:!0,title:new Date(e.date).toLocaleDateString(A,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},a.createElement("span",null,x.A.format(e.date||Date.now())))),a.createElement(c.A,{component:"span",variant:"body1",color:"textSecondary",style:{lineHeight:"1rem",letterSpacing:0}},e.body)))))),a.createElement(re.A,{component:"fieldset",style:{display:"flow",position:"relative",width:"calc(100% - 32px)",margin:"24px 16px 0px 16px"}},a.createElement(se.A,{component:"legend",style:{color:"#fff",margin:"10px 8px 8px 0px",float:"left",fontWeight:"bold"}},"Sort By"),a.createElement(ae.A,{value:y,defaultValue:"Hype",onChange:this._handle_sorting_change,row:!0,"aria-label":"sorting",name:"sorting",style:{justifyContent:"end",float:"right"}},["Hype","Votes","Age"].map((e=>a.createElement(ie.A,{style:{color:"#888"},labelPlacement:"end",key:e,value:e,control:a.createElement(ne.A,{color:"primary"}),label:e}))))),a.createElement(d.A,null,g.map(((e,t)=>a.createElement(K.A,{id:t,key:t,data:e,onShowReplies:e=>this._show_replies(e)})))));break;case 2:t=a.createElement(c.A,{variant:"body2",color:"textSecondary",component:"p"},"Feature available at the launch.");break;case 3:t=a.createElement(E.A,{disableHeight:!0},(({width:e})=>a.createElement(C.Ay,{noRowsRenderer:()=>{},scrollToIndex:()=>{},height:160,overscanRowCount:1,rowCount:Object.keys(o).length,rowHeight:72,rowRenderer:this._votesRenderer,width:e})))}return a.createElement(l.A,{key:"view-"+(e||s),style:{paddingBottom:1===s?96:0===s?72:0,display:"inline-block",overflow:"overlay",width:"100%",flexGrow:"1",paddingTop:72}},t)};render(){const{classes:e,open:t,data:n,metadata:i,locales:r,renderer:l,_hidden:c,_tab_value:d,_view_element_measurement:h,_size:p,_zoom_mode:_,_authors:g,_view_mobile_opened:E,_view_right_mobile_enabled:C,_card_y_offset:k,_license_dialog_opened:R,_download_loading:M,kb:T,type:z,_comments:N,_voted:D}=this.st4te,P=n.upVotesNumber,O=n.downVotesNumber,B=(n.upVotesNumber,n.downVotesNumber,parseFloat((n.payout||"0$").replace("$",""))||0),W=parseFloat(1*B/3).toFixed(2),X=parseFloat(2*B/3).toFixed(2);return a.createElement(u.A,null,a.createElement(o.A,{keepMounted:!0,open:t,className:e.backdrop},a.createElement("div",{style:{userSelect:"none",width:"100%",height:"100%",display:"flex",overflow:"hidden",contain:"size style layout"}},a.createElement("div",{className:e.viewLeft,ref:this._setViewRef},a.createElement("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"},onClick:this._onRequestClose}),a.createElement("div",{style:{zIndex:1,top:12,left:12,position:"absolute",margin:"12px",display:"relative"}},a.createElement(b.A,{onClick:this._download_with_watermark},a.createElement(F.A,null)),M&&a.createElement(G.A,{thickness:3,size:64,classes:{circle:e.circle},className:e.downloadButtonProgress})),a.createElement(te.A,{in:!0,timeout:900},a.createElement("div",{className:e.back,onClick:this.props.onPrevious},a.createElement(S.A,{style:{transform:"rotate(180deg)"},className:e.arrowIcon}))),a.createElement(te.A,{in:!0,timeout:900},a.createElement("div",{className:e.forward,onClick:this.props.onNext},a.createElement(S.A,{className:e.arrowIcon}))),a.createElement("div",{ref:this._setImageRef,style:{willChange:"transform",position:"fixed",transform:`translate(calc(${this.st4te.position.left}px - 50%), calc(${this.st4te.position.top}px - 50%)) scale(${(this.st4te.zoom/3).toFixed(3)})`,transformOrigin:"50% 50%",userSelect:"none",touchAction:"none",pointerEvents:"none",cursor:this.st4te.dragging?"grabbing":"grab"}},a.createElement("div",{className:c?e.hidden:e.appear,style:{userSelect:"none",touchAction:"none",pointerEvents:"none",transformOrigin:"50% 50%"}},a.createElement("img",{src:n.image,style:{userSelect:"none",touchAction:"none",pointerEvents:"none",position:"absolute",zIndex:-2,width:"100%",height:"100%",filter:"blur(108px) brightness(1.314)"}}),a.createElement("img",{src:n.image,style:{userSelect:"none",touchAction:"none",pointerEvents:"none",position:"absolute",zIndex:-1,width:"100%",height:"100%",filter:"blur(192px) brightness(1.618)"}}),a.createElement("canvas",{onContextMenu:e=>{e.preventDefault(),e.stopImmediatePropagation()},className:"square"===l?"pixelated":"",ref:this.setCanvasRef,style:{zIndex:1,userSelect:"none",touchAction:"none",pointerEvents:"initial",width:2*p.width,height:2*p.height,borderRadius:"xbrz"===l?(128/this.st4te.zoom|0)+"px":"0px"}})))),a.createElement("div",{className:E||!C?e.viewRight:e.viewRightHidden},a.createElement(s.A,{ref:this._setMenuCardRef,className:e.card+(t&&E?" opened ":" closed ")+(t?" visible ":" hidden "),style:{transform:`translateY(${k}px)`}},a.createElement(J.A,{timeout:d<1?0:50,in:d<1,className:e.collapse},a.createElement(w.A,{className:e.cardHeader,avatar:a.createElement(f.A,{src:(n.author||{}).image,onClick:e=>{this._open_author(n.author.username)}}),action:a.createElement(b.A,{onClick:e=>{E||!C?this._set_menu_close(e):this._set_menu_open()}},E||!C?a.createElement(y.A,{style:{color:"#666"}}):a.createElement(I.A,{style:{color:"#666"}})),title:n.title,subheader:a.createElement("span",null,a.createElement(m.Ay,{arrow:!0,title:new Date(n.date).toLocaleDateString(r,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},a.createElement("span",{className:e.subheaderDate},x.A.format(new Date(n.date||Date.now())))),a.createElement("span",{className:e.subheaderBy}," by "),a.createElement(m.Ay,{title:"@"+(n.author||{}).username},a.createElement("span",{className:e.subheaderName,onClick:e=>{this._open_author(n.author.username)}},(n.author||{}).name)))})),a.createElement(q.A,{style:{transform:`translateY(${d<1?72:8}px)`},className:e.cardTabs,value:d,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",onChange:this._handleTabChange,fullwidth:!0},a.createElement(Z.A,{icon:a.createElement(H.A,null)}),a.createElement(Z.A,{icon:a.createElement(j.A,null)}),a.createElement(Z.A,{icon:a.createElement(V.A,null)})),a.createElement(Q.Ay,{ignoreNativeScroll:!0,containerStyle:{height:"100%"},animateHeight:!1,animateTransitions:!0,disableLazyLoading:!0,resistance:!0,springConfig:{tension:450,friction:60,duration:"120ms",easeFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)",delay:"5ms"},index:d,onChangeIndex:e=>this._handleTabChange({},e),disabled:!1,key:"swipe-able-view"},this._get_views()),a.createElement(te.A,{in:0===d,timeout:225},a.createElement(v.A,{style:{backgroundColor:"#101010",position:"fixed",bottom:0,width:"100%"},disableSpacing:!0,className:e.cardActions},a.createElement(b.A,{className:D>0?e.voted:e.vote,"aria-label":"Up-Vote",onClick:this._upvote_toggle},D>0?a.createElement(pe.A,null):a.createElement(_e.A,null)),a.createElement("span",{onClick:this._trigger_positive_votes,className:e.voted,style:{cursor:"pointer",marginRight:4,marginLeft:-4}},P),a.createElement(b.A,{className:D<0?e.voted:e.vote,"aria-label":"Down-Vote",onClick:this._downvote_toggle},D<0?a.createElement(ue.A,null):a.createElement(me.A,null)),a.createElement("span",{onClick:this._trigger_negative_votes,className:e.voted,style:{cursor:"pointer",marginRight:4,marginLeft:-4}},O),a.createElement(m.Ay,{interactive:!0,enterTouchDelay:200,leaveTouchDelay:4e3,disableTouchListener:!1,classes:{tooltip:e.tooltipRoot},title:a.createElement("div",{style:{fontFamily:'"Industry Book"',fontSize:"11px",lineHeight:"14px",padding:"16px"}},a.createElement("span",{style:{marginBottom:"8px",fontSize:"14px",fontWeight:"bold",display:"block"}},"Reward ",a.createElement("span",{style:{opacity:.666,fontWeight:"normal"}},"(USD ",(5.69*parseFloat(n.payout)).toFixed(2),")")),a.createElement("span",{style:{marginLeft:"12px",display:"block",fontWeight:"normal"}},a.createElement("span",{style:{fontWeight:"bold"}},"Author")," ",a.createElement("span",{className:"monospace",style:{opacity:.666}},"(66%)"),": ",a.createElement("span",{className:"monospace"}," ",X," PXS")),a.createElement("span",{style:{marginLeft:"12px",display:"block",fontWeight:"normal"}},a.createElement("span",{style:{fontWeight:"bold"}},"Curators")," ",a.createElement("span",{className:"monospace",style:{opacity:.666}},"(34%)"),": ",a.createElement("span",{className:"monospace"}," ",W," PXS")),a.createElement("span",{style:{opacity:.8,marginTop:"4px",display:"block",fontStyle:"italic",fontWeight:"normal"}},"Payout in ",x.A.format((n.date||Date.now())+6048e5)))},a.createElement("span",{className:e.payout},parseFloat(n.payout).toFixed(2)," ",a.createElement(A.A,{style:{width:"24px",height:"24px",verticalAlign:"bottom"}}))))),a.createElement(te.A,{in:1===d,timeout:225},a.createElement("div",{style:{backgroundColor:"#101010",position:"fixed",bottom:0,width:"100%",padding:"12px 16px"}},a.createElement(U.A,{container:!0,spacing:1,alignItems:"center"},a.createElement(U.A,{item:!0},a.createElement(f.A,{style:{width:48,height:48,cursor:"pointer",borderRadius:"16px"},src:(n.author||{}).image})),a.createElement(U.A,{item:!0,xs:!0},a.createElement(ee.A,{fullWidth:!0,autoFocus:1===d,type:"text",className:e.comment,id:"comment-textfield",name:"comment-textfield",label:`Reply to @${(n.author||{}).username}`})),a.createElement(U.A,{item:!0},a.createElement(b.A,{className:e.commentSendButton},a.createElement(Y.A,null))))))))),a.createElement(L.A,{type:"power-down",open:R,onClose:this._handle_close_license_dialog,username:(n.author||{}).username,name:(n.author||{}).name,date:n.date})))}}const Ae=(0,r.default)(xe)(ve);i()}catch(Ee){i(Ee)}}))},79493:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(17402),a=n(41728),r=n(32150);class s extends i.default.PureComponent{constructor(e){super(e)}render(){return i.default.createElement(a.A,this.props,i.default.createElement("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M7,10L12,15L17,10H7Z"}))}}const o=(0,r.A)((e=>({})))(s)},13563:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(17402),a=n(41728),r=n(32150);class s extends i.default.PureComponent{constructor(e){super(e)}render(){return i.default.createElement(a.A,this.props,i.default.createElement("path",{d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M7,10L12,15L17,10H7Z"}))}}const o=(0,r.A)((e=>({})))(s)},56340:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(17402),a=n(41728),r=n(32150);class s extends i.default.PureComponent{constructor(e){super(e)}render(){return i.default.createElement(a.A,this.props,i.default.createElement("path",{d:"M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22M17,14L12,9L7,14H17Z"}))}}const o=(0,r.A)((e=>({})))(s)},77808:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(17402),a=n(41728),r=n(32150);class s extends i.default.PureComponent{constructor(e){super(e)}render(){return i.default.createElement(a.A,this.props,i.default.createElement("path",{d:"M12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M17,14L12,9L7,14H17Z"}))}}const o=(0,r.A)((e=>({})))(s)},61428:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(17402),a=n(41728),r=n(32150);class s extends i.default.PureComponent{constructor(e){super(e)}render(){return i.default.createElement(a.A,this.props,i.default.createElement("path",{d:"M22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12M8.6,16.6L13.2,12L8.6,7.4L10,6L16,12L10,18L8.6,16.6Z"}))}}const o=(0,r.A)((e=>({})))(s)},24907:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(17402),a=n(41728),r=n(32150);class s extends i.default.PureComponent{constructor(e){super(e)}render(){return i.default.createElement(a.A,this.props,i.default.createElement("path",{d:"M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z"}))}}const o=(0,r.A)((e=>({})))(s)},82552:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(17402),a=n(41728),r=n(32150);class s extends i.default.PureComponent{constructor(e){super(e)}render(){return i.default.createElement(a.A,this.props,i.default.createElement("path",{d:"M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z"}))}}const o=(0,r.A)((e=>({})))(s)},11862:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(17402),a=n(41728),r=n(32150);class s extends i.default.PureComponent{constructor(e){super(e)}render(){return i.default.createElement(a.A,this.props,i.default.createElement("path",{d:"M9 10A3.04 3.04 0 0 1 12 7A3.04 3.04 0 0 1 15 10A3.04 3.04 0 0 1 12 13A3.04 3.04 0 0 1 9 10M12 19L16 20V16.92A7.54 7.54 0 0 1 12 18A7.54 7.54 0 0 1 8 16.92V20M12 4A5.78 5.78 0 0 0 7.76 5.74A5.78 5.78 0 0 0 6 10A5.78 5.78 0 0 0 7.76 14.23A5.78 5.78 0 0 0 12 16A5.78 5.78 0 0 0 16.24 14.23A5.78 5.78 0 0 0 18 10A5.78 5.78 0 0 0 16.24 5.74A5.78 5.78 0 0 0 12 4M20 10A8.04 8.04 0 0 1 19.43 12.8A7.84 7.84 0 0 1 18 15.28V23L12 21L6 23V15.28A7.9 7.9 0 0 1 4 10A7.68 7.68 0 0 1 6.33 4.36A7.73 7.73 0 0 1 12 2A7.73 7.73 0 0 1 17.67 4.36A7.68 7.68 0 0 1 20 10Z"}))}}const o=(0,r.A)((e=>({})))(s)},39756:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(17402),a=n(41728),r=n(32150);class s extends i.default.PureComponent{constructor(e){super(e)}render(){return i.default.createElement(a.A,this.props,i.default.createElement("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.212 7.243c1.756 4.235.822 6.953.012 9.237 4.677-1.434 6.826-.695 8.514-.169.23.051.496.123.796.218a9.376 9.376 0 0 1-.219-.796c-.525-1.687-1.264-3.837.169-8.514-2.283.81-5.001 1.744-9.236-.012l-.044-.008.008.044zm14.738 12.87c.772 1.2 1.396 2.327 1.659 3.204.065.15.084.241.106.402-.068.009-.323-.078-.43-.125-.877-.262-1.967-.876-3.167-1.649-2.979-1.181-5.023-1.855-8.018-2.34-4.235.407-6.767 2.001-11.815 3.813 3.899-8.423 3.7-9.114 3.814-11.814C3.669 7.259 1.793 4.724.317.321l.016.007A.12.12 0 0 0 .325.312c4.404 1.476 6.939 3.352 11.284 3.782C14.308 3.98 15 4.18 23.423.281 21.61 5.328 20.016 7.86 19.61 12.095c.485 2.996 1.159 5.039 2.34 8.018z"}))}}const o=(0,r.A)((e=>({})))(s)},72339:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.r(t),n.d(t,{default:()=>E});var a=n(17402),r=n(86982),s=n(79626),o=n(69205),l=n(69232),c=n(95842),h=n(61990),p=n(78725),_=n(67264),u=n(16594),m=n(23563),g=n(9372),f=n(24488),b=n(43297),y=n(28379),w=e([h,p,y]);[h,p,y]=w.then?(await w)():w;class x extends c.a{_getEstimatedTotalHeight(){const{cellCount:e,cellMeasurerCache:t,width:n}=this.props,i=Math.floor(n/(t||{}).defaultWidth||0),a=this._positionCache.estimateTotalHeight(e,i,(t||{}).defaultHeight||0);return isFinite(a)?a:0}}const v=e=>({mainTab:{animation:"$slideInFromTop 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","@global":{"@keyframes slideInFromTop":{"0%":{transform:"translateY(-96px)",filter:"opacity(0)"},"100%":{transform:"translateY(0px)",filter:"opacity(1)"}}},backgroundColor:"#101010","& .MuiTab-textColorPrimary.Mui-selected":{backgroundColor:"transparent"},"& .MuiTab-textColorPrimary.Mui-selected .MuiTab-wrapper":{color:"#101010 !important"},"& .MuiTab-fullWidth":{backgroundColor:"transparent",color:"#989898",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",borderRadius:"21px"},"& .MuiTab-fullWidth:hover":{backgroundColor:"rgba(255,255,255,0.06)"},"& span.MuiTabs-indicator":{zIndex:"-1",height:"48px",backgroundColor:"#c7c7c7",borderRadius:"21px",transform:"scale3d(0.875, 0.75, 1)"},margin:"21px 16px 21px 16px",width:"calc(100% - 32px)",borderRadius:"21px",position:"absolute",top:0,left:0,zIndex:1,transition:"transform 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms"},mainFab:{animation:"$slideInFromBottom 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","@global":{"@keyframes slideInFromBottom":{"0%":{transform:"translateY(160px)",filter:"opacity(0)"},"100%":{transform:"translateY(0px)",filter:"opacity(1)"}}},position:"fixed",right:16,bottom:16,transition:"transform 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms","& .MuiButtonBase-root":{borderRadius:"32px",background:"#f6f6f6",transform:"scale(1)",animationName:"$bounce-feed",animationTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",animationDuration:"3.2s",animationFillMode:"both",animationDelay:"1s",animationIterationCount:"infinite",boxShadow:"0 0 8px #ffffff88, 0 0 16px #ffffffcc","@global":{"@keyframes bounce-feed":{"0%":{boxShadow:"0 0 8px #ffffff88, 0 0 16px #ffffffcc",transform:"scale(1)"},"3%":{boxShadow:"0 0 12px #ffffff88, 0 0 24px #ffffffcc",transform:"scale(1.05)"},"6%":{boxShadow:"0 0 4px #ffffff88, 0 0 8px #ffffffcc",transform:"scale(0.975)"},"9%":{boxShadow:"0 0 8px #ffffff88, 0 0 16px #ffffffcc",transform:"scale(1)"}}},transition:"background 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms","& .MuiTouchRipple-root":{filter:"opacity(1)","& .MuiTouchRipple-child":{backgroundImage:"\n                      radial-gradient(circle at 50% 50%,\n                        magenta 0%, blue 20%, cyan 40%, green 60%, yellow 80%, red 100%)"}}},"& .MuiButtonBase-root:hover":{background:"#ffffff",boxShadow:"0 0 8px #ffffff88, 0 0 16px #ffffffcc"},"& .MuiTouchRipple-child":{backgroundImage:"\n            radial-gradient(\n              circle at 50% 50% in hsl,\n              #f000ff6b, #0095ffdb, #0cffe9ba, #d8ff00b5, #f59300c2, #6f0000c7, transparent, transparent\n            )"},"& .MuiFab-extended":{padding:"0 24px",height:64,fontSize:"1.125rem"},"& .MuiFab-extended .MuiSvgIcon-root":{fontSize:"1.75rem"}},masonry:{overflow:"hidden overlay !important",contain:"style layout",touchAction:"pan-y","& > .ReactVirtualized__Masonry":{zIndex:0,position:"absolute",margin:0,scrollBehavior:"smooth",willChange:"scroll-position !important",overscrollBehavior:"none",contentVisibility:"auto",boxSizing:"content-box !important",touchAction:"pan-y",overflow:"hidden overlay !important",padding:"66px 12px 32px 16px","& > .ReactVirtualized__Masonry__innerScrollContainer":{top:"auto !important",left:"auto !important",overflow:"initial !important",position:"absolute !important",paddingBottom:"48px",boxSizing:"content-box"}}}});class A extends a.PureComponent{constructor(e){super(e),this.st4te={classes:e.classes,_settings:e.settings,_history:r.Vv,_pathname:e.pathname,_image_name_infographics:"",_infographics_fadein_time:300,_infographics_in:!0,_bii3_opacity:1,_join_now_button_update:0,_less_than_960w:!0,_less_than_690h:!0,sorting:0,menuCardXY:[],menuCardData:{},authors:[],_scrolling_reset_time_interval:225,_min_col_width:10,_max_col_width:1e3,_root_width:0,_root_height:0,_root:null,_window_width:0,_window_height:0,_average_img_ratio:1,_gutter_size:16,column_count:4,_column_width:356,_load_more_threshold:2e3,_overscan_by_pixels:6e3,_cell_positioner:null,_cell_positioner_config:null,_masonry:null,_cell_measurer_cache:null,_scroll_top:0,_intervals:[],_y:0,_top_scroll_of_el_by_index:[],_last_scroll_check_height:0,_height_of_el_by_index:[],_x_y_of_el_by_index:[],_selected_post_index:0,_post_closed_at:0,_posts:[],_create_artwork_dialog_open:!1,_artwork_open:!1,_post:{}}}componentWillMount(){window.addEventListener("resize",this._updated_dimensions),o.qf(),o.wn(0),setTimeout((()=>{o.wn(100)}),300);const e=setInterval(this._handle_masonry_scroll,this.st4te._scrolling_reset_time_interval);this.setSt4te({_intervals:[e]})}setSt4te(e,t){e=e||{},this.st4te=Object.assign(this.st4te,e),"function"==typeof t&&t()}componentDidMount(){this._updated_dimensions(),a.findDOMNode(this).addEventListener("keydown",this._handle_keydown),(0,l.A)((()=>n.e("src_js_data_authors_js").then(n.bind(n,60209)))).then((e=>{const t=e.default();(0,l.A)((()=>n.e("src_js_data_posts_js").then(n.bind(n,65138)))).then((e=>{const n=e.default();this.setSt4te({_posts:n.map((e=>(e.author=t[e.author],e)))},(()=>{this.forceUpdate((()=>{this._updated_dimensions()}))}))}))}))}_updated_dimensions=()=>{let e=document.documentElement,t=document.body||document.getElementsByTagName("body")[0],n=window.innerWidth||e.clientWidth||t.clientWidth,i=window.innerHeight||e.clientHeight||t.clientHeight;const a=Boolean(n<960),r=Boolean(i<690),s=this.st4te._less_than_960w!==a||this.st4te._less_than_690h!==r;this.setSt4te({_window_width:n,_window_height:i,_load_more_threshold:i*(i/n)*2},(()=>{this.forceUpdate((()=>{const{_root:e,_gutter_size:t,_window_width:n,_window_height:i,data:a}=this.st4te;let{_column_count:r}=this.st4te;if(e){const a=e.getBoundingClientRect(),s=a.width,o=a.height;if(n<100||s<100||o<100||i<100)setTimeout((()=>{this._updated_dimensions(d)}),250);else{r=n>=1920?4:n>=1280?3:n>=768?2:1;const e=Math.floor((a.width-(r+1)*t)/r);this.setSt4te({_overscan_by_pixels:i*(i/n)*8,_column_width:e,_column_count:r,_root_width:s,_root_height:o},(()=>{this._init_cell_measurements((()=>{this.setSt4te({_is_resizing:!1})}))}))}}}))})),s&&this.setSt4te({_less_than_960w:a,_less_than_690h:r,_window_width:n,_window_height:i},(()=>{this.forceUpdate()}))};componentWillReceiveProps(e){const t=e.settings._renderer!==this.st4te._settings._renderer,n=e.settings._nsfw_enabled!==this.st4te._settings._nsfw_enabled;this.setSt4te({_settings:e.settings},(()=>{(t||n)&&this.forceUpdate((()=>{this.st4te._masonry.forceUpdate()}))}))}componentWillUnmount(){this.st4te._intervals.forEach((e=>{clearInterval(e)}));try{window.removeEventListener("resize",this._updated_dimensions)}catch(e){}try{a.findDOMNode(this).removeEventListener("keydown",this._handle_keydown)}catch(e){}}_recompute_cell_measurements=(e=()=>{})=>{const{_cell_measurer_cache:t,_masonry:n,_cell_positioner:i,_column_count:a,_gutter_size:r,_column_width:s}=this.st4te;if(null!=t&&null!=n&&null!=i){t.clearAll(),t.visible_ids={};let o={cellMeasurerCache:t,columnCount:a,columnWidth:s,spacer:r};i.reset(o),n.clearCellPositions(),this.setSt4te({_cell_positioner:i,_cell_positioner_config:o,_cell_measurer_cache:t},(()=>{n.forceUpdate(e)}))}else this._init_cell_measurements(e)};_set_masonry_ref=e=>{null!==e&&this.setSt4te({_masonry:e},(()=>{this._init_cell_measurements()}))};_set_root_ref=e=>{null!==e&&this.setSt4te({_root:e})};_cell_renderer=e=>{const{index:t,key:n,parent:i,style:r,isScrolling:s}=e,{_root_height:o,_root_width:l,_masonry:d,_column_width:h,_cell_measurer_cache:_,_column_count:u,_settings:m,_selected_post_index:g}=this.st4te;if(void 0===d.props.itemsWithSizes[0|t])return;const{item:f,size:b}=d.props.itemsWithSizes[0|t],y=d._scrollingContainer.scrollTop,w=g===t;if(!b.height)return;const x=t%u,v=(t-x)/u,A=Math.ceil(h*(b.height/b.width))||0;r.width=0+h;let{_top_scroll_of_el_by_index:E,_height_of_el_by_index:C,_x_y_of_el_by_index:k}=this.st4te;const S=0+r.top,I=0+r.height,R=S+I;E[t]=S,C[t]=I,k[t]=[v,x];const M=o*(o/l),T=M+R>y&&S<y+o+M;_.visible_ids[b.id]=T||_.visible_ids[b.id]||!1;const z=m._selected_locales_code;return this.setSt4te({_top_scroll_of_el_by_index:E,_height_of_el_by_index:C}),a.createElement(c.dl,{cache:_,index:t,key:n,parent:i},a.createElement(p.A,{onOpen:this._open_artwork,locales:z,nsfw:m._nsfw_enabled,data:f,renderer:m._renderer,onMenuClick:this.openCardMenu,is_scrolling:s,selected:w,size:b,visible:_.visible_ids[b.id],column_width:h,image_height:A,image_width:h,id:b.id,key:n,rowIndex:v,columnIndex:x,style:r}))};_init_cell_measurements=(e=()=>{})=>{this.forceUpdate((()=>{if(null!=this.st4te._cell_measurer_cache&&null!=this.st4te._cell_positioner_config&&null!=this.st4te._cell_positioner)this._recompute_cell_measurements(e);else{const{_column_count:t,_column_width:n,_gutter_size:i}=this.st4te;let a=new c.jS({defaultHeight:600,defaultWidth:n,fixedWidth:!0});a.visible_ids={};let r={cellMeasurerCache:a,columnCount:t,columnWidth:n,spacer:i},s=(0,c.wT)(r);this.setSt4te({_cell_measurer_cache:a,_cell_positioner:s,_cell_positioner_config:r},(()=>{this.forceUpdate((()=>{const t=(e=()=>{})=>{const{_masonry:n}=this.st4te;n?n.forceUpdate(e):setTimeout((()=>{t(e)}),5)};t(e)}))}))}}))};_next_current_post=()=>{const{_post:e,_posts:t,_masonry:n}=this.st4te,i=t.map((e=>e.id)).indexOf(e.id)+1,a=Math.max(0,Math.min(t.length-1,i)),{item:r,size:s}=n.props.itemsWithSizes[0|a];this.setSt4te({_post:r},(()=>{this.forceUpdate(),this._update_selected_post_index(a)}))};_previous_current_post=()=>{const{_post:e,_posts:t,_masonry:n}=this.st4te,i=t.map((e=>e.id)).indexOf(e.id)-1,a=Math.max(0,Math.min(t.length-1,i)),{item:r,size:s}=n.props.itemsWithSizes[0|a];this.setSt4te({_post:r},(()=>{this.forceUpdate(),this._update_selected_post_index(a)}))};_handle_keydown=e=>{let{_masonry:t,_selected_post_index:n,_post_closed_at:i,_posts:a,_post_author:r,_post_permlink:s,_column_count:o,_x_y_of_el_by_index:l}=this.st4te;if(!r&&!s&&i+300<Date.now()){const t=n%o,i=(n-t)/o;let r=t,s=i;switch(e.keyCode){case 40:s+=1,e.preventDefault();break;case 38:s-=1,e.preventDefault();break;case 37:r-=1;break;case 39:r+=1}s===i&&r===t||l.forEach(((e,t)=>{e[1]===r&&s===e[0]&&(n=t)})),n=Math.max(0,Math.min(a.length-1,n)),13===e.keyCode||this.st4te._selected_post_index!==n&&this._update_selected_post_index(n)}};_update_selected_post_index=(e,t=!1)=>{const{_post:n,_posts:i,_masonry:a}=this.st4te;if(!a)return;const r=a.props.itemsWithSizes,s=void 0!==e?e:n?i.map((e=>(e||{}).title)).indexOf(n.title):this.st4te._selected_post_index;this.setSt4te({_selected_post_index:s,_post:i[s],_post_img:(r[s]||{}).size},(()=>{this.forceUpdate((()=>{t?a.forceUpdate():this._scroll_to_index()}))}))};_scroll_to=e=>{const{_masonry:t}=this.st4te;t&&(void 0===e?(t._scrollingContainer.scrollTop=this.st4te._scroll_top,t.forceUpdate()):this.setSt4te({_scroll_top:e},(()=>{t._scrollingContainer.scrollTop=e,t.forceUpdate()})))};_scroll_to_index=e=>{const{_selected_post_index:t,_top_scroll_of_el_by_index:n,_height_of_el_by_index:i,_root_height:a}=this.st4te;let r=n[e=void 0!==e?e:t]+i[e]/2-a/3;this._scroll_to(r)};_handle_masonry_scroll=e=>{const{_load_more_threshold:t,_loading_posts:n}=this.st4te,{_masonry:i,_scroll_top:a,_y:r,_overscan_by_pixels:s}=this.st4te,o=i&&i._scrollingContainer?i._scrollingContainer.scrollTop:0,l=o-a,c=this.st4te._last_scroll_check_height+l,d=Math.abs(c)>s/2,h=Math.min(Math.max(-64,r-l),64);a===o&&r===h||this.setSt4te({_scroll_top:o,_y:h,_last_scroll_check_height:c},(()=>{(r!==h||d)&&this.setSt4te({_last_scroll_check_height:0},(()=>{this.forceUpdate()}))}))};handle_sorting_change=(e,t)=>{this.st4te.sorting!==t?this.setSt4te({sorting:t},(()=>{this.forceUpdate((()=>{this._scroll_to(0)}))})):this._scroll_to(0)};openCardMenu=(e,t)=>{this.setSt4te({menuCardXY:Int32Array.of(e.x-24,e.y-24),menuCardData:t},(()=>{this.forceUpdate()}))};closeCardMenu=()=>{this.setSt4te({menuCardXY:Int32Array.of(0,0),menuCardData:{}},(()=>{this.forceUpdate()}))};_open_create_artwork=()=>{this.setSt4te({_create_artwork_dialog_open:!0},(()=>{this.forceUpdate()}))};_create_artwork_dialog_close=()=>{this.setSt4te({_create_artwork_dialog_open:!1},(()=>{this.forceUpdate()}))};_open_artwork=e=>{this.setSt4te({_artwork_open:!0,_post:e},(()=>{this.forceUpdate()}))};_close_artwork=()=>{this.setSt4te({_artwork_open:!1,_post:{}},(()=>{this.forceUpdate()}))};render(){const{classes:e,_settings:t}=this.st4te;let{_less_than_960w:n,_less_than_690h:i,sorting:r,menuCardXY:s,menuCardData:o}=this.st4te,{_artwork_open:l,_post:c}=this.st4te;const{_window_width:d,_window_height:p,_cell_positioner:w,_cell_measurer_cache:v,_overscan_by_pixels:A,_y:E,_scroll_top:C,_posts:k,_create_artwork_dialog_open:S,_scrolling_reset_time_interval:I}=this.st4te,R=d>960?d-284-28:d-32,M=p-(d>960?96:64),T=t._selected_locales_code;return a.createElement(a.Fragment,null,a.createElement(u.A,{style:{transform:`translateY(${0>E&&C>72?-72:0}px)`},className:e.mainTab,value:r,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",onChange:this.handle_sorting_change,fullwidth:!0},a.createElement(_.A,{label:"Created"}),a.createElement(_.A,{label:"Hot"}),a.createElement(_.A,{label:"Trending"}),a.createElement(_.A,{label:"Promoted"})),a.createElement("div",{ref:this._set_root_ref},a.createElement(h.A,{className:e.masonry,items:k,image:e=>e.image,keyMapper:e=>e.id},(e=>a.createElement(x,{key:"masonry-extended",scrollTop:C,scrollingResetTimeInterval:I,height:M,cellCount:0|(e||[]).length,itemsWithSizes:e,keyMapper:t=>e[t].size.id,cellMeasurerCache:v,cellPositioner:w,cellRenderer:this._cell_renderer,overscanByPixels:A,ref:this._set_masonry_ref,width:R})))),a.createElement("div",{onClick:this._open_create_artwork,className:e.mainFab,style:{transform:`translateY(${0<E&&C>512?96:0}px)`}},a.createElement(f.A,{variant:"extended",size:"large"},a.createElement(g.A,{style:{marginRight:12}}),a.createElement("span",null,"CREATE"))),a.createElement(m.A,{xy:s,data:o,onClose:this.closeCardMenu}),a.createElement(b.A,{keepMounted:!0,open:S,onClose:this._create_artwork_dialog_close}),a.createElement(y.A,{renderer:t._renderer,nsfw:t._nsfw_enabled,format:t._format,data:c,open:l,locales:T,onClose:this._close_artwork,onPrevious:this._previous_current_post,onNext:this._next_current_post}))}}const E=(0,s.default)(v)(A);i()}catch(e){i(e)}}))},37532:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(36811),a=n(29411);i.A.addDefaultLocale(a.A);const r=new i.A("en-US")},20793:e=>{e.exports={functionString:"\n  var fu = function(image_data, scale) {\n\n    return new Promise(function (resolve, reject) {\n\n        var CRT = (function () {\n\n            \"use asm\";\n\n            var sqrt = Math.sqrt;\n            var cos = Math.cos;\n            var sin = Math.sin;\n            var min = Math.min;\n            var max = Math.max;\n            var imul = Math.imul;\n\n            function apply(imageData, srcx, srcy, scale, threshold) {\n\n                srcx = srcx | 0;\n                srcy = srcy | 0;\n                scale = scale | 0;\n                threshold = +threshold;\n\n                var Channels = 4;\n                var SizeX = srcx * scale | 0;\n                var SizeY = srcy * scale | 0;\n\n                var ScaledImage = new Uint8ClampedArray(SizeX * SizeY * Channels);\n\n                var total = SizeY | 0;\n                var current = 0;\n\n                var ppx = 0.0;\n                var ppy = 0.0;\n                var posx = 0;\n                var posy = 0;\n                var sub_posx = 0.0;\n                var sub_posy = 0.0;\n                var positionx = 0;\n                var positiony = 0;\n                var center = 0;\n                var left = 0;\n                var right = 0;\n                var midleft = 0;\n                var midright = 0;\n                var ret = 0;\n                var cr = 0;\n                var cg = 0;\n                var cb = 0;\n                var mlb = 0;\n                var mrr = 0;\n                var mrg = 0;\n                var lb = 0;\n                var rr = 0;\n                var rg = 0;\n                var alpha = 0;\n\n                for (var y = 0; y < SizeY; y = y + 1 | 0) {\n\n                    var offset = imul(y, SizeX) | 0;\n                    ppy = +(y / SizeY);\n\n                    for (var x = 0; x < SizeX; x = x + 1 | 0) {\n\n                        ppx = +(x / SizeX);\n                        posx = ~~(ppx * srcx);\n                        posy = ~~(ppy * srcy);\n                        sub_posx = +(ppx * srcx * 6) % 1.0;\n                        sub_posy = +(ppy * srcy * 6) % 1.0;\n                        positionx = posx | 0;\n                        positiony = posy | 0;\n\n                        center = CLR(imageData, srcx, srcy, positionx, positiony, 0, 0);\n                        left = CLR(imageData, srcx, srcy, positionx, positiony, -1, 0);\n                        right = CLR(imageData, srcx, srcy, positionx, positiony, 1, 0);\n\n                        if (sub_posy < 1.0 / 6.0) {\n\n                            center = mix(center, CLR(imageData, srcx, srcy, positionx, positiony, 0, -1), 0.5 - sub_posy / 2.0);\n                            left = mix(left, CLR(imageData, srcx, srcy, positionx, positiony, -1, -1), 0.5 - sub_posy / 2.0);\n                            right = mix(right, CLR(imageData, srcx, srcy, positionx, positiony, 1, -1), 0.5 - sub_posy / 2.0);\n\n                        } else if (sub_posy > 5.0 / 6.0) {\n\n                            center = mix(center, CLR(imageData, srcx, srcy, positionx, positiony, 0, 1), sub_posy / 2.0);\n                            left = mix(left, CLR(imageData, srcx, srcy, positionx, positiony, -1, 1), sub_posy / 2.0);\n                            right = mix(right, CLR(imageData, srcx, srcy, positionx, positiony, 1, 1), sub_posy / 2.0);\n                        }\n\n                        var scanline_multiplier;\n\n                        if (sub_posy < 0.5) {\n\n                            scanline_multiplier = (sub_posy * 2) * 0.3 + 0.7;\n\n                        } else {\n\n                            scanline_multiplier = ((1 - sub_posy) * 2) * 0.3 + 0.7;\n                        }\n\n                        Mul(center, scanline_multiplier);\n                        Mul(left, scanline_multiplier);\n                        Mul(right, scanline_multiplier);\n\n                        var odd = (ppx * srcx) & 1;\n\n                        var gradient_position;\n\n                        if (odd) {\n\n                            posy = +(posy + 0.5);\n                            posy = +(posy % 1.0);\n                        }\n\n                        if (posy < 1.0 / 3.0) {\n\n                            gradient_position = +(posy * 3.0);\n\n                            Mul(center, gradient_position * 0.6 + 0.4);\n                            Mul(left, gradient_position * 0.6 + 0.4);\n                            Mul(right, gradient_position * 0.6 + 0.4);\n\n                        } else if (posy > 2.0 / 3.0) {\n\n                            gradient_position = +(1 - posy) * 3.0;\n\n                            Mul(center, gradient_position * 0.6 + 0.4);\n                            Mul(left, gradient_position * 0.6 + 0.4);\n                            Mul(right, gradient_position * 0.6 + 0.4);\n                        }\n\n                        if (posx < 1.0 / 6.0 || posx > 5.0 / 6.0) {\n\n                            posy = +(posy + 0.5);\n                            posy = +(posy % 1.0);\n\n                            if (posy < 1.0 / 3.0) {\n\n                                gradient_position = +(posy * 3.0);\n\n                                if (posx < 0.5) {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (ppx) * 6.0));\n\n                                } else {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (1 - ppx) * 6.0));\n                                }\n\n                                Mul(center, gradient_position * 0.6 + 0.4);\n                                Mul(left, gradient_position * 0.6 + 0.4);\n                                Mul(right, gradient_position * 0.6 + 0.4);\n\n                            } else if (posy > 2.0 / 3.0) {\n\n                                gradient_position = +(1 - posy) * 3.0;\n\n                                if (posx < 0.5) {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (ppx) * 6.0));\n\n                                } else {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (1 - ppx) * 6.0));\n                                }\n\n                                Mul(center, gradient_position * 0.6 + 0.4);\n                                Mul(left, gradient_position * 0.6 + 0.4);\n                                Mul(right, gradient_position * 0.6 + 0.4);\n                            }\n                        }\n\n                        midleft = mix(left, center, 0.5);\n                        midright = mix(right, center, 0.5);\n\n                        cr = Red(center) | 0;\n                        cg = Green(center) | 0;\n                        cb = Blue(center) | 0;\n                        mlb = Blue(midleft) | 0;\n                        mrr = Red(midright) | 0;\n                        mrg = Green(midright) | 0;\n                        lb = Blue(left) | 0;\n                        rr = Red(right) | 0;\n                        rg = Green(right) | 0;\n                        alpha = Alpha(center) | 0;\n\n                        if (ppx < 1.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, cr * 255, cg * 255, lb * 255), ARGBINT(alpha, cr * 255, cg * 255, lb * 255), sub_posx);\n\n                        } else if (ppx < 2.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, cr * 255, cg * 255, lb * 255), ARGBINT(alpha, cr * 255, cg * 255, mlb * 255), sub_posx);\n\n                        } else if (ppx < 3.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, cr * 255, cg * 255, mlb * 255), ARGBINT(alpha, mrr * 255, cg * 255, cb * 255), sub_posx);\n\n                        } else if (ppx < 4.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, mrr * 255, cg * 255, cb * 255), ARGBINT(alpha, rr * 255, cg * 255, cb * 255), sub_posx);\n\n                        } else if (ppx < 5.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, rr * 255, cg * 255, cb * 255), ARGBINT(alpha, rr * 255, mrg * 255, cb * 255), sub_posx);\n\n                        } else {\n\n                            ret = mix(ARGBINT(alpha, rr * 255, mrg * 255, cb * 255), ARGBINT(alpha, rr * 255, rg * 255, cb * 255), sub_posx);\n                        }\n\n                        if (positionx < 1) {\n\n                            Mul(ret, positionx | 0);\n\n                        } else if (positionx > srcx - 1) {\n\n                            Mul(ret, srcx - positionx | 0);\n                        }\n\n                        if (positiony < 1) {\n\n                            Mul(ret, positiony | 0);\n\n                        } else if (positiony > srcy - 1) {\n\n                            Mul(ret, srcy - positiony | 0);\n                        }\n\n                        ScaledImage[offset * Channels] = Red(ret) | 0;\n                        ScaledImage[offset * Channels + 1] = Green(ret) | 0;\n                        ScaledImage[offset * Channels + 2] = Blue(ret) | 0;\n                        ScaledImage[offset * Channels + 3] = Alpha(ret) | 0;\n\n                    }\n\n                    current = current + 1 | 0;\n                }\n\n                return new ImageData(ScaledImage, SizeX, SizeY);\n            }\n\n            function mix(a, b, c) {\n\n                a = a | 0;\n                b = b | 0;\n                c = +c;\n\n                return ((a + ((b - a) * c)) | 0);\n            }\n\n            function Mul(x, y) {\n\n                x = x | 0;\n                y = +y;\n\n                return ((x * y) | 0);\n            }\n\n            function Red(rgb) {\n\n                rgb = rgb | 0;\n\n                return ((rgb >>> 16) & 0xFF) | 0;\n            }\n\n            function Green(rgb) {\n\n                rgb = rgb | 0;\n\n                return ((rgb >>> 8) & 0xFF) | 0;\n            }\n\n            function Blue(rgb) {\n\n                rgb = rgb | 0;\n\n                return (rgb & 0xFF) | 0;\n            }\n\n            function Alpha(rgb) {\n\n                rgb = rgb | 0;\n\n                return (rgb >>> 24) | 0;\n            }\n\n            function ARGBINT(a, r, g, b) {\n\n                a = a | 0;\n                r = r | 0;\n                g = g | 0;\n                b = b | 0;\n\n                return (((((a) << 24) | (r << 16) | (g << 8) | b) >>> 0) | 0);\n            }\n\n            function CLR(Input, srcx, srcy, x, y, dx, dy) {\n\n                Input = Input | 0;\n                srcx = srcx | 0;\n                srcy = srcy | 0;\n                x = x | 0;\n                y = y | 0;\n                dx = dx | 0;\n                dy = dy | 0;\n\n                var Channels = 4;\n\n                var xx = 0;\n                var yy = 0;\n\n                xx = (x + dx) | 0;\n                yy = (y + dy) | 0;\n\n                xx = max(0, min(srcx - 1, xx)) | 0;\n                yy = max(0, min(srcy - 1, yy)) | 0;\n\n                var index = 0;\n\n                index = ((yy * srcx + xx) * Channels) | 0;\n\n                var r = 0;\n                var g = 0;\n                var b = 0;\n                var a = 0;\n\n                r = (Input[index] | 0);\n                g = (Input[index + 1] | 0);\n                b = (Input[index + 2] | 0);\n                a = (Input[index + 3] | 0);\n\n                return ARGBINT(a, r, g, b) | 0;\n            }\n\n            return { Apply: apply };\n        }());\n\n        resolve(CRT.Apply(image_data.data, image_data.width, image_data.height, scale, 0));\n    });\n}\n\nfunction crt(image_data, scale) {\n    return new Promise(function(resolve, reject){\n        fu(image_data, scale).then((result) => {\n            resolve(result);\n        });\n    });\n}\n\n\n    self.onmessage = function onmessage(event) {\n        if (event.data.type === 'imageData') {\n            const result = crt(event.data.imageData, event.data.data.scale).then(function(result){\n                self.postMessage([result, event.data.id, event.data.algorithm]);\n            });\n        }\n    };\n",functionSize:function(e,t,n){return{width:e*n,height:t*n,arrayBufferLength:e*n*t*n*4}}}},81968:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=(()=>{let e,t,n,i,a,r,s,o;function l(t,n){const i=e.createShader(t);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(i));return i}return function(c,d=3){const h=c.width,p=c.height,_=h*d,u=p*d;e||function(){t||(t=new OffscreenCanvas(1,1)),e||(e=t.getContext("webgl2"));const c=l(e.VERTEX_SHADER,"#version 300 es\n        in vec2 position;\n        out vec2 vTexCoord;\n        \n        void main() {\n            vTexCoord = (position + 1.0) * 0.5; // Convert from clip space to UV\n            gl_Position = vec4(position, 0.0, 1.0);\n        }\n    "),d=l(e.FRAGMENT_SHADER,"#version 300 es\n    precision highp float;\n    \n    uniform vec3 _uiResolution;\n    uniform sampler2D _uiChannel0;\n    \n    in vec2 vTexCoord;\n    out vec4 fragColor;\n    \n    float _uhardScan = -8.0;\n    float _uhardPix = -3.0;\n    vec2 _uwarp = vec2(0.03125, 0.0416666679);\n    float _umaskDark = 0.5;\n    float _umaskLight = 1.5;\n    \n    float _uToLinear1(in float _uc){\n      return _uc <= 0.04045 ? (_uc / 12.92) : pow((_uc + 0.055) / 1.055, 2.4);\n    }\n    vec3 _uToLinear(in vec3 _uc){\n      return vec3(_uToLinear1(_uc.r), _uToLinear1(_uc.g), _uToLinear1(_uc.b));\n    }\n    float _uToSrgb1(in float _uc){\n      return _uc < 0.0031308 ? (_uc * 12.92) : (1.055 * pow(_uc, 1.0 / 2.4) - 0.055);\n    }\n    vec3 _uToSrgb(in vec3 _uc){\n      return vec3(_uToSrgb1(_uc.r), _uToSrgb1(_uc.g), _uToSrgb1(_uc.b));\n    }\n    \n    vec3 _uFetch(in vec2 _pos, in vec2 _off){\n      vec2 p = floor((_pos * (_uiResolution.xy / 6.0)) + _off) / (_uiResolution.xy / 6.0);\n      if (max(abs(p.x - 0.5), abs(p.y - 0.5)) > 0.5) return vec3(0.0);\n      return _uToLinear(texture(_uiChannel0, p).rgb);\n    }\n    \n    vec2 _uDist(in vec2 _pos){\n      vec2 p = _pos * (_uiResolution.xy / 6.0);\n      return -(p - floor(p) - vec2(0.5));\n    }\n    \n    float _uGaus(float x, float scale){\n      return exp2(scale * x * x);\n    }\n    \n    vec3 _uHorz3(vec2 pos, float off){\n      vec3 b = _uFetch(pos, vec2(-1.0, off));\n      vec3 c = _uFetch(pos, vec2(0.0, off));\n      vec3 d = _uFetch(pos, vec2(1.0, off));\n      float dst = _uDist(pos).x;\n      float wb = _uGaus(dst - 1.0, _uhardPix);\n      float wc = _uGaus(dst, _uhardPix);\n      float wd = _uGaus(dst + 1.0, _uhardPix);\n      return (b * wb + c * wc + d * wd) / (wb + wc + wd);\n    }\n    \n    vec3 _uHorz5(vec2 pos, float off){\n      vec3 a = _uFetch(pos, vec2(-2.0, off));\n      vec3 b = _uFetch(pos, vec2(-1.0, off));\n      vec3 c = _uFetch(pos, vec2(0.0, off));\n      vec3 d = _uFetch(pos, vec2(1.0, off));\n      vec3 e = _uFetch(pos, vec2(2.0, off));\n      float dst = _uDist(pos).x;\n      float wa = _uGaus(dst - 2.0, _uhardPix);\n      float wb = _uGaus(dst - 1.0, _uhardPix);\n      float wc = _uGaus(dst, _uhardPix);\n      float wd = _uGaus(dst + 1.0, _uhardPix);\n      float we = _uGaus(dst + 2.0, _uhardPix);\n      return (a * wa + b * wb + c * wc + d * wd + e * we) / (wa + wb + wc + wd + we);\n    }\n    \n    float _uScan(vec2 pos, float off){\n      float dst = _uDist(pos).y;\n      return _uGaus(dst + off, _uhardScan);\n    }\n    \n    vec3 _uTri(vec2 pos){\n      vec3 a = _uHorz3(pos, -1.0);\n      vec3 b = _uHorz5(pos,  0.0);\n      vec3 c = _uHorz3(pos,  1.0);\n      float wa = _uScan(pos, -1.0);\n      float wb = _uScan(pos,  0.0);\n      float wc = _uScan(pos,  1.0);\n      return a * wa + b * wb + c * wc;\n    }\n    \n    vec2 _uWarp(vec2 pos){\n      pos = pos * 2.0 - 1.0;\n      pos *= vec2(1.0 + pos.y * pos.y * _uwarp.x, 1.0 + pos.x * pos.x * _uwarp.y);\n      return pos * 0.5 + 0.5;\n    }\n    \n    vec3 _uMask(vec2 pos){\n      pos.x += pos.y * 3.0;\n      vec3 mask = vec3(_umaskDark);\n      float frac = fract(pos.x / 6.0);\n      if (frac < 0.333) mask.r = _umaskLight;\n      else if (frac < 0.666) mask.g = _umaskLight;\n      else mask.b = _umaskLight;\n      return mask;\n    }\n    \n    float _uBar(float pos, float bar){\n      pos -= bar;\n      return (pos * pos < 4.0) ? 0.0 : 1.0;\n    }\n    \n   void main() {\n  vec2 fragCoord = vTexCoord * _uiResolution.xy;\n  vec4 fragColorLinear = vec4(0.0);\n\n  // Treat the whole screen as View 3\n  vec2 pos = _uWarp(fragCoord / _uiResolution.xy);\n\n  _uhardScan = -12.0;\n  _umaskDark = _umaskLight = 1.0;\n\n  fragColorLinear.rgb = _uTri(pos) * _uMask(fragCoord.xy);\n  fragColorLinear.a = 1.0;\n\n  fragColor = vec4(_uToSrgb(fragColorLinear.rgb), 1.0);\n}\n    ");if(n=e.createProgram(),e.attachShader(n,c),e.attachShader(n,d),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(n));e.useProgram(n),i=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW);const h=e.getAttribLocation(n,"position");e.enableVertexAttribArray(h),e.vertexAttribPointer(h,2,e.FLOAT,!1,0,0),a=e.getUniformLocation(n,"_uiChannel0"),r=e.getUniformLocation(n,"_uiResolution"),s=e.createTexture(),e.bindTexture(e.TEXTURE_2D,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),o=e.createFramebuffer()}(),t.width=_,t.height=u,e.viewport(0,0,_,u),e.useProgram(n),e.bindBuffer(e.ARRAY_BUFFER,i),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,h,p,0,e.RGBA,e.UNSIGNED_BYTE,c.data),e.uniform1i(a,0),e.uniform3f(r,_,u,1),e.drawArrays(e.TRIANGLES,0,6);const m=new Uint8ClampedArray(_*u*4);return e.readPixels(0,0,_,u,e.RGBA,e.UNSIGNED_BYTE,m),new ImageData(m,_,u)}})()},23308:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{Y:()=>g});var a=n(12542),r=n(24234),s=n(54136),o=n(35791),l=n(2657),c=e([a]);a=(c.then?(await c)():c)[0];new o.B64chromium;const d=new TextEncoder;const h=new Map,p=new Map,_=new a.IU(BigInt(42206));async function u(e){let t=new Uint8Array(0),n="UNKNOWN",i="";return"string"==typeof e&&(e.startsWith("data:image/")?(e.startsWith("data:image/webp;base64,")?n="WEBP":e.startsWith("data:image/png;base64,")&&(n="PNG"),t=new Uint8Array(await(await fetch(e)).arrayBuffer())):(n="IMAGE",t=d.encode(e))),_.update(t),i=_.finalize_and_reset(a.jH.Base58),{data:t,type:n,hash:i}}const m=(e,t,n)=>new Promise((function(i,a){let r={id:n,type:e,data:t};const{width:s,height:o}=(0,l.R9)(t);r.width=s,r.height=o,i(r)})),g=()=>({get_new_img_obj:async e=>{const{hash:t,type:n,data:i}=await u(e);if(h.has(t))return h.get(t);{const e=await m(n,i,t);return h.set(e.id,e),h.size>=600&&Object.keys(h).slice(-100).forEach((e=>{h.delete(e)})),e}},get_new_img_data:async e=>new Promise((function(t,n){if(p.has(e.id))t(p.get(e.id));else{const n=n=>{p.set(e.id,n),p.size>=600&&Object.keys(p).slice(-100).forEach((e=>{p.delete(e)})),t(n)};"PNG"===e.type?(0,s.A)(e.data).then(n):"WEBP"===e.type&&(0,r.A)(e.data).then(n)}}))});i()}catch(f){i(f)}}))},92059:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{E6:()=>w,R2:()=>x,eu:()=>y,px:()=>b});var a=n(71768),r=n(20793),s=n.n(r),o=n(7514),l=n(81968),c=e([a,o]);function d(e,t){const n=document.createElement("canvas"),i=document.createElement("canvas");n.width=e.width*t,n.height=e.height*t,i.width=e.width,i.height=e.height;const a=n.getContext("2d"),r=i.getContext("2d");return a.imageSmoothingEnabled=!1,r.imageSmoothingEnabled=!1,r.putImageData(e,0,0),a.drawImage(i,0,0,i.width,i.height,0,0,n.width,n.height),a.getImageData(0,0,n.width,n.height)}[a,o]=c.then?(await c)():c;class h{constructor(e){this.workers=new Map,this.workerScripts=e}createWorker(e,t,n=!1){if(this.workers.has(e))return this.workers.get(e).worker;const i=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(i);let r;return r=n?new SharedWorker(a):new Worker(a),this.workers.set(e,{worker:r,type:n?"shared":"dedicated"}),r}sendDataToWorker(e,t,n={},i){let a=this.workers.get(e);if(!a){if(void 0===this.workerScripts[e])throw new Error(`Worker ${e} not found`);a=this.createWorker(e,this.workerScripts[e],!1)}const{worker:r,type:s}=a,o={type:n.type||"default",data:t,id:i,algorithm:e},l=[];if("canvas"===n.type){const e=n.canvas.transferControlToOffscreen();o.canvas=e,l.push(e)}else"sharedBuffer"===n.type?(o.sharedArrayBuffer=n.sharedArrayBuffer,l.push(n.sharedArrayBuffer)):"imageData"===n.type&&(o.imageData=t.data);"dedicated"===s?r.postMessage(o,l):"shared"===s&&(r.port.postMessage(o,l),r.port.start()),"dedicated"===s?r.onmessage=e=>{n.onReceive&&n.onReceive(e.data[0],e.data[1],e.data[2])}:"shared"===s&&(r.port.onmessage=e=>{n.port.onReceive&&n.port.onReceive(e.data[0],e.data[1],e.data[2])})}terminateWorker(e){const t=this.workers.get(e);t&&("dedicated"===t.type?t.worker.terminate():"shared"===t.type&&t.worker.port.close(),this.workers.delete(e))}}const p=new h({crt:s().functionString});let _={xbrz:{worker:!1,callbacks:{},data:{},bitmap:{},timestamp:{}},hex:{worker:!1,callbacks:{},data:{},bitmap:{},timestamp:{}},sqr:{worker:!1,callbacks:{},data:{},bitmap:{},timestamp:{}},crt:{worker:!1,callbacks:{},data:{},bitmap:{},timestamp:{}}},u=0;function m(e){for(const t in _)t!==e&&(p.terminateWorker(t),_[t].callbacks={})}async function g(e,t,n){let i;if("function"==typeof _[n].callbacks[t]&&(void 0===i&&(i=await createImageBitmap(e,0,0,e.width,e.height)),_[n].callbacks[t](e,i)),void 0!==_[n].data[t]){void 0===i&&(i=await createImageBitmap(e,0,0,e.width,e.height));const a=e.data.byteLength;if(_[n].data[t]=e,_[n].bitmap[t]=i,_[n].timestamp[t]=0|Date.now(),u+=a,u>262144){const e=Object.keys(_[n].timestamp),t=Object.values(_[n].timestamp);let i=0|Date.now();for(let e=0,n=t.length;e<n;e++)t[e]<i&&(i=t[e]);const a=e[t.indexOf(i)];if(a){const e=0|_[n].data[a].data.byteLength;delete _[n].data[a],_[n].bitmap[a].close(),delete _[n].bitmap[a],delete _[n].callbacks[a],delete _[n].timestamp[a],u-=e}}}}async function f(e,t,n,i,r=!1,s){s=s+"-"+e+"-"+n,m(e),_[e].callbacks[s]=i;const c=Object.keys(_[e].callbacks).length;if(void 0!==_[e].data[s]&&"function"==typeof _[e].callbacks[s]){const t=_[e].data[s],n=_[e].bitmap[s];_[e].callbacks[s](t,n)}else if(_[e].worker)p.sendDataToWorker(e,{data:t,scale:n},{type:"imageData",onReceive:g},s);else if("hex"===e){const{width:i,height:r,data:o}=(0,a.XX)(new Uint8Array(t.data.buffer),t.width,t.height,n),l=new ImageData(o,i,r);await g(l,s,e)}else if("xbrz"===e){const i=await(0,o.i)(t,n,(t=>{g(t,s,e)}),c);await g(i,s,e)}else if("crt"===e){const i=await(0,l.A)(t,n);await g(i,s,e)}else if("sqr"===e){const i=await d(t,n);await g(i,s,e)}}function b(e,t,n,i,a){f("xbrz",e,t,n,i,a)}function y(e,t,n,i,a){f("hex",e,t,n,i,a)}function w(e,t,n,i,a){f("crt",e,t,n,i,a)}function x(e,t,n,i,a){f("sqr",e,t,n,i,a)}i()}catch(v){i(v)}}))},79205:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{A:()=>_});var a=n(23073),r=n(4826),s=e([a]);a=(s.then?(await s)():s)[0];var o=(0,r.SIMDopeCreateConfAdd)({create:{new_of:!0,new_uint32:!0,new_uint32b:!0},properties:{uint32:!0,hex:!0},methods:{get_element:!0,euclidean_match_with:!0,slice_uint32:!0,get_deduplicated_sorted_uint32a:!0}}),{Color:l,Colors:c}=(0,r.SIMDopeCreate)(o);const d=new XMLSerializer;function h(e,t,n){const i=document.getElementById(e),a=document.getElementById(t);if(!i)return console.error("SVG element not found"),null;if(!a)return console.error("SVG element not found"),null;i.removeAttribute("style"),i.removeAttribute("id");let r=d.serializeToString(i);if(r=r.replaceAll('style="fill: #000000;"','style="fill: #00000000;"'),i.id=e,i.style.display="none",i.remove(),a.remove(),"svg"===n)return r;if("blob"===n){const e=new Blob([r],{type:"image/svg+xml"});return URL.createObjectURL(e)}}function p(e,t,n){e.canvasId&&e.svgId||(console.error("Canvas ID and SVG ID are required."),e.canvasId="frame"+n,e.svgId="svg"+n);let i=document.getElementById(e.canvasId);i||(i=document.createElement("canvas"),i.id=e.canvasId,i.style.display="none",document.body.appendChild(i));let r=document.getElementById(e.svgId);r||(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),r.id=e.svgId,r.style.display="none",document.body.appendChild(r));const s=new Image;var o;function l(t,n,i){o&&o.stop(),(o=new c(t,e.output,n,i)).run()}class c{constructor(e,t,n,i){this.converter=a.HI.new_with_string(`{"canvas_id":"frame${n}","svg_id":"svg${n}","mode":"spline","clustering_mode":"color","hierarchical":"cutout","corner_threshold":0.08,"length_threshold":8,"max_iterations":1,"splice_threshold": 0.08,"filter_speckle":12,"color_precision":1,"layer_difference":0,"path_precision":3}`),this.converter.init(),this.stopped=!1,this.output=t||"svg",this.callback=e,this.n=n,this.list=i}run(){const e=this;!function t(){if(!e.stopped){let n=!1;const i=performance.now();for(;!(n=e.converter.tick())&&performance.now()-i<25;);n?e.ok(this.n):setTimeout(t,1)}}()}stop(){this.stopped=!0,this.converter.free()}ok(){this.callback(h("svg"+this.n,"frame"+this.n,this.output))}}!function(e,t,n){if(e instanceof ImageData){i.width=e.width,i.height=e.height;i.getContext("2d",{colorSpace:"srgb"}).putImageData(e,0,0),r.setAttribute("height",i.height+"px"),r.setAttribute("width",i.width+"px"),l(t,n,null)}else s.src=e,s.onload=function(){i.width=s.naturalWidth,i.height=s.naturalHeight;i.getContext("2d",{colorSpace:"srgb"}).drawImage(s,0,0),r.setAttribute("height",i.height+"px"),r.setAttribute("width",i.width+"px"),l(t,n,null)}}(e.imageSource,t,n)}function _(e,t,n=0){return new Promise((function(i,a){p({imageSource:e,output:t},i,n)}))}i()}catch(u){i(u)}}))},7514:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{i:()=>d});var a=n(79205),r=n(29012),s=e([a]);a=(s.then?(await s)():s)[0],await(0,r.Ay)();const o=new OffscreenCanvas(0,0),l=o.getContext("2d",{performance:"high-performance",willReadFrequently:!0});function c(e,t){const n=Math.max(1,Math.min(6,Math.round(t)));o.width=e.width*n,o.height=e.height*n;const i=(0,r.N8)(e.data,e.width,e.height,0|n),{ptr:a,len:s}=i,c=new Uint8ClampedArray((0,r.Xq)().buffer).subarray(a,a+s),d=new ImageData(c,o.width,o.height);return l.putImageData(d,0,0),i.free(),l.getImageData(0,0,o.width,o.height)}async function d(e,t,n,i=0){const r=c(e,t);return t<=6?r:(n(r),await new Promise((async(e,n)=>{const s=await(0,a.A)(r,"blob",i),o=t/Math.round(Math.min(t,6)),l=Math.round(r.width*o),c=Math.round(r.height*o),d=document.createElement("img");d.onload=()=>{const t=new OffscreenCanvas(l,c),n=t.getContext("2d");n.drawImage(d,0,0,r.width,r.height,0,0,t.width,t.height),e(n.getImageData(0,0,t.width,t.height)),URL.revokeObjectURL(s)},d.src=s})))}i()}catch(h){i(h)}}),1)}}]);