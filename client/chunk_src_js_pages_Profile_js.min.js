(self.webpackChunkpixa_pics=self.webpackChunkpixa_pics||[]).push([["src_js_pages_Profile_js"],{71420:(e,t,n)=>{"use strict";var r,o,i,a,s,l;n.d(t,{A:()=>f}),r=n(15299),o=n(58640),i=n(29134),(0,o.A)().then((function(e){a=e})),s=new Set,l={};let c="OffscreenCanvas"in window||"OffscreenCanvas"in self,d=null;c?d=new OffscreenCanvas(1,1):(d=document.createElement("canvas"),d.width=1,d.height=1);let h=d.getContext("2d",{willReadFrequently:!0});const u=(()=>{const e=e=>void 0!==a?a.h64ToString(e,BigInt(6711159)).toString():i.h64.init(BigInt(6711159)).update(e).digest().toString(),t=e=>s.has(e);return{has:t,get_new_img_obj:(n,r)=>{const o=e(n);t(o)?r(l[o]):((e,t)=>{let n={id:t},o=new Image;o.onload=()=>{var e;d.width=o.naturalWidth,d.height=o.naturalHeight,h.drawImage(o,0,0),n.width=o.naturalWidth,n.height=o.naturalHeight,n.image_data=h.getImageData(0,0,n.width,n.height),(e=>{s.add(e.id),l[e.id]=e})(e=n),r(e)},o.decoding="async",o.src=e})(n,o)},get_id:e}})();class _ extends r.default.PureComponent{constructor(e){super(e),this.st4te={className:e.className,items:e.items,keyMapper:e.keyMapper,image:e.image,children:e.children,ids:(e.items||[]).map((e=>e.id)).join("-"),itemsWithSizes:[],itemsWithSizesComputed:[]}}setSt4te(e,t){e=e||{},this.st4te=Object.assign(this.st4te,e),t()}componentWillReceiveProps(e){let{items:t,image:n}=e;const r=(t||[]).map((e=>e.id)).join("-")!==this.st4te.ids,o=r?[]:this.st4te.itemsWithSizes;this.setSt4te({...e,itemsWithSizes:o,itemsWithSizesComputed:r?[]:this.st4te.itemsWithSizesComputed||[]},(()=>{r&&(this.maybe_render(),t.forEach(((e,t)=>{this.st4te.itemsWithSizesComputed[t]||u.get_new_img_obj(n(e),(n=>{this._on_size_computed(n,t,e)}))})))}))}_on_size_computed=(e,t,n)=>{let{itemsWithSizes:r,itemsWithSizesComputed:o}=this.st4te;r[t]={size:e,item:n},o[t]=!0,this.setSt4te({itemsWithSizesComputed:o,itemsWithSizes:r},(()=>{this.maybe_render()}))};maybe_render=()=>{const{items:e,itemsWithSizesComputed:t}=this.st4te;(t||{}).length===(e||{}).length&&this.forceUpdate()};render(){const{itemsWithSizes:e,children:t,className:n}=this.st4te;return r.default.createElement("div",{className:n},t(e))}}const f=_},78725:(e,t,n)=>{"use strict";var r,o,i,a,s,l,c,d,h,u,_,f,p,m,g,y;n.d(t,{A:()=>x}),r=n(15299),o=n(79626),i=n(20426),a=n(67520),s=n(91004),l=n(42460),c=n(88104),d=n(96232),h=n(67114),u=n(61428),_=n(39756),f=n(95523),p=n(37532),m=n(86982),g=n(17688),y=n(69205);class b extends r.default.PureComponent{constructor(e){super(e),this.st4te={classes:e.classes,data:e.data,timeAgo:p.A,renderer:e.renderer,nsfw:e.nsfw,size:e.size,visible:e.visible,is_scrolling:e.is_scrolling,selected:e.selected,image_height:e.image_height||0,image_width:e.image_width||0,column_width:e.column_width,key:e.key,id:e.id,rowIndex:e.rowIndex,columnIndex:e.columnIndex,style:e.style||{},_history:m.Vv,_init:!1,_canvas:null,_image:null,_imagePreload:null,_root:void 0,width:0,height:0,_has_been_visible:!1}}componentWillReceiveProps(e){var t=!this.st4te._init,n=e.renderer!==this.st4te.renderer,r=e.id!==this.st4te.id,o=e.is_scrolling!==this.st4te.is_scrolling,i=e.nsfw!==this.st4te.nsfw,a=e.visible!==this.st4te.visible,s=e.column_width!==this.st4te.column_width,l=e.style.top!==this.st4te.style.top||e.style.left!==this.st4te.style.left||s,c=e.selected!==this.st4te.selected,d=e.locales!==this.st4te.locales,h=()=>{(n||t||i||s)&&this._set_size()};(t||n||a||r||o||i||l||c||d)&&this.setSt4te({...e,_has_been_visible:a||this.st4te._has_been_visible,_init:!0},(()=>{if(t||n||i||a||o||c||d)this.forceUpdate(h);else if(l)if(void 0!==this.st4te._root){var r=e.style;this.st4te._root.style.width=r.width+"px",this.st4te._root.style.height=r.height+"px",this.st4te._root.style.left=r.left+"px",this.st4te._root.style.top=r.top+"px",h()}else this.forceUpdate(h)}))}setSt4te=(e,t)=>{this.st4te=Object.assign(this.st4te,e),"function"==typeof t&&t()};_set_root_ref=e=>{null!==e&&this.setSt4te({_root:e})};setCanvasRef=e=>{if(void 0!==e&&null!=e&&void 0!==e.width&&null!=e.width&&"function"==typeof e.getContext){var t=e;t.context=e.getContext("2d",{willReadFrequently:!0}),this.setSt4te({_canvas:t},(()=>{this._set_size()}))}};_set_imgd=e=>{const t=this.st4te._canvas;createImageBitmap(e).then((function(e){t.style.aspectRatio=`${e.width} / ${e.height}`,t.width=e.width,t.height=e.height,t.context.drawImage(e,0,0),e.close()}))};_render_hex=()=>{const e=Math.max(Math.min(12,600/this.st4te.size.width/2),3);(0,f.eu)(this.st4te.size.image_data,e,this._set_imgd,!0,this.st4te.id)};_render_smooth=()=>{const e=Math.max(Math.min(6,600/this.st4te.size.width|0),2);(0,f.px)(this.st4te.size.image_data,e,this._set_imgd,!0,this.st4te.id)};_render_crt=()=>{const e=Math.max(Math.min(6,600/this.st4te.size.width|0),2);(0,f.E6)(this.st4te.size.image_data,e,this._set_imgd,!0,this.st4te.id)};_render_square=()=>{this._set_imgd(this.st4te.size.image_data)};_set_size=()=>{"hexagon"===this.st4te.renderer?this._render_hex():"xbrz"===this.st4te.renderer?this._render_smooth():"crt"===this.st4te.renderer?this._render_crt():this._render_square()};_open_auhtor=e=>{this.st4te._history.push("/@"+e)};_can_not_open_nsfw=()=>{y.Le("Mature content is disabled"),setTimeout((()=>{y.Le("Edit your settings for enabling NSFW content")}),3250)};render(){const{classes:e,width:t,height:n,nsfw:o,renderer:f,style:m,id:y,image_height:b,image_width:x,locales:w,selected:A,is_scrolling:v,_has_been_visible:C}=this.st4te,S=this.st4te.data||{},B=(S.upVotesNumber,S.upVotesNumber,S.downVotesNumber,S.downVotesNumber,parseFloat((S.payout||"").replace("$",""))),E=parseFloat(1*B/3).toFixed(2),R=parseFloat(2*B/3).toFixed(2),k=v?{pointerEvents:"none",touchActions:"pan-y"}:{},D=S.author||{};return r.default.createElement(i.A,{ref:this._set_root_ref,key:y,className:e.card+(A?" Mui-selected":""),style:{...m,...k}},r.default.createElement(a.A,{className:e.cardHeader,avatar:r.default.createElement(s.A,{onClick:e=>{this._open_auhtor(D.username)},src:D.image}),action:r.default.createElement(l.A,{onClick:e=>{this.props.onMenuClick(e,S)}},r.default.createElement(h.A,{style:{color:"#666"}})),title:r.default.createElement("span",{onClick:e=>this.props.onOpen(S)},S.title),subheader:r.default.createElement("span",null,r.default.createElement(d.Ay,{arrow:!0,title:new Date(S.date).toLocaleDateString(w,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},r.default.createElement("span",{className:e.subheaderDate},p.A.format(S.date||Date.now()))),r.default.createElement("span",{className:e.subheaderBy}," by "),r.default.createElement(d.Ay,{title:"@"+(S.author||{}).username},r.default.createElement("span",{className:e.subheaderName,onClick:e=>{this._open_auhtor(D.username)}},(D||{}).name)))}),r.default.createElement(g.A,{style:{width:"100%",borderRadius:"12px"},key:(S.nsfw&&!o?"nsfw":"sfw")+"-"+f},r.default.createElement("canvas",{ref:this.setCanvasRef,className:e.image+("square"===f?" pixelated":""),width:t||x,height:n||b,onClick:e=>{!S.nsfw||o?this.props.onOpen(S):this._can_not_open_nsfw()},style:{filter:S.nsfw&&!o?"blur(24px)":"none",aspectRatio:`${t||x} / ${n||b}`}})),r.default.createElement(c.A,{disableSpacing:!0,style:e.actions},r.default.createElement(l.A,{"aria-label":"Up-Vote"},r.default.createElement(u.A,{style:{transform:"rotate(-90deg)",color:"#999"}})),S.upVotesNumber,r.default.createElement(l.A,{"aria-label":"Down-Vote"},r.default.createElement(u.A,{style:{transform:"rotate(90deg)",color:"#999"}})),S.downVotesNumber,r.default.createElement(d.Ay,{arrow:!0,title:"Curators: "+E+" PS + Author: "+R+" PS"},r.default.createElement("span",{className:e.payout},parseFloat(S.payout).toFixed(2)," ",r.default.createElement(_.A,{style:{width:"24px",height:"24px",verticalAlign:"bottom"}})))))}}const x=(0,o.default)((e=>({card:{width:"100%",borderRadius:"21px",marginTop:"24px",userSelect:"none","&.MuiCard-root":{overflow:"hidden",backgroundColor:"#101010",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 75ms"},"&.MuiCard-root:hover":{backgroundColor:"#000000",contain:"inherit",boxShadow:"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)",transition:"all 150ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},subheaderName:{color:"#fff",cursor:"pointer"},subheaderBy:{color:"#aaa"},subheaderDate:{color:"#ddd"},image:{width:"100%",borderRadius:"12px",cursor:"pointer",userSelect:"none",contain:"style layout"},payout:{marginLeft:"auto",marginRight:12,color:e.palette.primary.actionLighter,fontSize:"16px",marginBottom:"4px",fontWeight:"bold"},actions:{color:"#666"},cardHeader:{"& .MuiCardHeader-title":{fontWeight:"bold",fontFamily:'"Industry Book", "Normative Pro"',color:"#fff",cursor:"pointer"},"& .MuiAvatar-root":{cursor:"pointer",borderRadius:"16px"}}})))(b)},23563:(e,t,n)=>{"use strict";var r,o,i,a,s,l,c,d,h,u,_;n.d(t,{A:()=>p}),r=n(15299),o=n(79626),i=n(84630),a=n(19008),s=n(61466),l=n(77430),c=n(48085),d=n(68048),h=n(82133),u=n(41068),_=n(46577);class f extends r.default.PureComponent{constructor(e){super(e),this.state={classes:e.classes,data:e.data,xy:e.xy||[]}}componentWillReceiveProps(e){this.setState(e,(()=>{this.forceUpdate()}))}render(){const{xy:e,classes:t}=this.state,n=0|e[0],o=0|e[1];return r.default.createElement(c.A,{className:t.menu,PaperProps:{style:{overflowY:"overlay",contain:"paint style layout",scrollBehavior:"smooth",userSelect:"none",pointerEvents:o||n?"all":"none"}},onContextMenu:function(e){e.preventDefault()},MenuListProps:{dense:!0},transitionDuration:{enter:125,exit:250},open:!!o||!!n,onClose:this.props.onClose,disablePortal:!1,keepMounted:!0,anchorReference:"anchorPosition",anchorPosition:{top:0|o,left:0|n}},r.default.createElement(a.A,null,r.default.createElement(i.A,null,r.default.createElement(s.A,null,r.default.createElement(d.A,{fontSize:"small"})),r.default.createElement(l.A,{primary:"Favorite"})),r.default.createElement(i.A,null,r.default.createElement(s.A,null,r.default.createElement(h.A,{fontSize:"small"})),r.default.createElement(l.A,{primary:"Share"})),r.default.createElement(i.A,null,r.default.createElement(s.A,null,r.default.createElement(_.A,{fontSize:"small"})),r.default.createElement(l.A,{primary:"Votes"})),r.default.createElement(i.A,null,r.default.createElement(s.A,null,r.default.createElement(u.A,{fontSize:"small"})),r.default.createElement(l.A,{primary:"Details"}))))}}const p=(0,o.default)((e=>({})))(f)},28379:(e,t,n)=>{"use strict";async function r(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){var e,n,o,i,a=function(e,t){let n;try{if("undefined"==typeof OffscreenCanvas)throw Error("OffscreenCanvas not supported");n=new OffscreenCanvas(e,t)}catch(r){n=document.createElement("canvas"),n.width=e,n.height=t}return n}(r.naturalWidth||r.width,r.naturalHeight||r.height),s=a.getContext("2d");s.drawImage(r,0,0),e=s.getImageData(0,0,a.width,a.height),n=new m.Colors(e.data.buffer).get_deduplicated_sorted_uint32a(),o=new m.Colors(n.buffer).get_hex(),i={imgd:s.getImageData(0,0,a.width,a.height),colors:o,width:a.width,height:a.height},t(i)},r.onabort=n,r.src=e}))}var o,i,a,s,l,c,d,h,u,_,f,p,m,g,y,b,x,w,A,v,C,S,B,E,R,k,D,L,P,z,M,I,T,U,j,N,O,q,W;n.d(t,{A:()=>V}),o=n(15299),i=n(79626),a=n(20426),s=n(53058),l=n(6272),c=n(54392),d=n(73486),h=n(50384),u=n(29514),_=n(77430),f=n(71846),p=n(96232),m=n(4826),g=n(91004),y=n(42460),b=n(73546),x=n(67520),w=n(37532),A=n(47026),v=n(56494),C=n(86074),S=n(42561),B=n(88104),E=n(61428),R=n(39756),k=n(82293),D=n(99537),L=n(95523),P=n(59023),z=n(86809),M=n(16526),I=n(69232),T=n(86982),U=n(33615),j=n(13045),N=n(70100),O=n(47625),q=n(61466),W=n(45152);const F=e=>({backdrop:{zIndex:e.zIndex.drawer+1,backdropFilter:"blur(9px) grayscale(1)"},drawer:{width:384,[e.breakpoints.down("sm")]:{width:"100%"}},drawerPaper:{padding:"16px 16px"},colorBadges:{width:"100%",display:"flex",flexWrap:"wrap",gap:"8px",justifyContent:"flex-start",padding:"0px"},colorBadge:{display:"flex",width:24,height:24,borderRadius:"8px",cursor:"pointer"},cardHeader:{"& .MuiCardHeader-title":{fontWeight:"bold",fontFamily:'"Industry Book", "Normative Pro"',color:"#fff",cursor:"pointer"},"& .MuiAvatar-root":{cursor:"pointer",borderRadius:"16px"}},subheaderName:{color:"#fff",cursor:"pointer"},subheaderBy:{color:"#aaa"},subheaderDate:{color:"#ddd"},image:{width:"100%",cursor:"pointer",userSelect:"none",contain:"style layout"},payout:{marginLeft:"auto",marginRight:12,color:e.palette.primary.actionLighter,fontSize:"16px",marginBottom:"4px",fontWeight:"bold"},actions:{color:"#666"},hidden:{filter:"opacity(0)",transform:"scale(.3)",transition:"transform 25ms cubic-bezier(0.4, 0, 0.2, 1) 5ms",contain:"paint size style layout"},appear:{filter:"opacity(1)",transform:"scale(1)",transition:"transform 275ms cubic-bezier(0.4, 0, 0.2, 1) 10ms",contain:"paint size style layout"},viewLeft:{width:"calc(100% - 416px)",position:"relative",[e.breakpoints.down("sm")]:{width:"100%"}},viewRight:{width:"416px",padding:"16px",[e.breakpoints.down("sm")]:{width:"100%",height:"100%",position:"fixed",top:"0px",transform:"translateY(0px)",transition:"transform 260ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},viewRightHidden:{width:"416px",padding:"16px",[e.breakpoints.down("sm")]:{width:"100%",height:"100%",position:"fixed",bottom:"0px",transform:"translateY(calc(100% - 96px))",transition:"transform 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},infoButton:{position:"absolute",right:16,bottom:16,display:"none",[e.breakpoints.down("sm")]:{display:"inherit"}},closeButton:{position:"absolute",top:16,right:16,display:"none",[e.breakpoints.down("sm")]:{display:"inherit"}},back:{cursor:"pointer",position:"absolute",left:0,top:"calc(50% - 64px)",width:128,height:128,lineHeight:"128px",verticalAlign:"middle",textAlign:"center",[e.breakpoints.down("sm")]:{width:80,height:80,top:"calc(50% - 40px)"}},forward:{cursor:"pointer",position:"absolute",right:0,top:"calc(50% - 64px)",width:128,height:128,lineHeight:"128px",verticalAlign:"middle",textAlign:"center",[e.breakpoints.down("sm")]:{width:80,height:80,top:"calc(50% - 40px)"}},arrowIcon:{color:"#ffffff24",width:72,height:72,margin:"28px",transition:"color 180ms cubic-bezier(0.4, 0, 0.2, 1) 5ms",[e.breakpoints.down("sm")]:{width:48,height:48,margin:"16px"},"&:hover":{color:"#ffffff60"}},card:{width:"100%",height:"100%",minHeight:"calc(100% + 48px)",borderRadius:"32px !important","& .MuiCardHeader-action":{margin:"0px !important"}},chipTags:{lineHeight:"34px",gap:"8px",width:"100%",display:"flex",padding:"0px",flexWrap:"wrap",justifyContent:"flex-start",marginTop:"12px","& .MuiChip-root":{cursor:"pointer",borderRadius:"12px",backgroundColor:"#1b1b1b",color:"#979797",transition:"background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},"& .MuiChip-root:hover":{backgroundColor:"#2a2a2a",color:"#e3e3e3"}}});class G extends o.default.PureComponent{constructor(e){super(e),this.state={classes:e.classes,keepMounted:e.keepMounted||!1,open:e.open,data:e.data,renderer:e.renderer,locales:e.locales,_history:T.Vv,_authors:[],_accordion_expanded:"description",_view_element:{},_view_element_measurement:{},_canvas:null,_size:{},_card_ref:{},_hidden:!0,_zoom_mode:0,_view_mobile_opened:!1,_view_right_mobile_enabled:(window.innerWidth||document.documentElement.clientWidth||(document.body||document.getElementsByTagName("body")[0]).clientWidth)<=960,metadata:{imgd:null,colors:[],width:0,height:0},_card_y_offset:0,_card_y_now:0,_card_y_previous:0,_card_y_moved_at:0}}componentWillReceiveProps(e){var t=e.data.image!==this.state.data.image,n=!1===e.open&&this.state.open;this.setState(e,(()=>{(n||t)&&this.setState({_hidden:!0},(()=>{this.forceUpdate()})),t&&r(e.data.image).then((e=>{setTimeout((()=>{this.setState({metadata:e,_hidden:!1},(()=>{this._computeSize()}))}),90)}))}))}componentDidMount(){(0,I.A)((()=>n.e("src_js_data_authors_js").then(n.bind(n,60209)))).then((e=>{const t=e.default();this.setState({_authors:t},(()=>{this.forceUpdate()}))})),r(this.state.data.image).then((e=>{this.setState({metadata:e},(()=>{this._computeSize()}))})),window.addEventListener("resize",this._computeSize)}componentWillUnmount(){window.removeEventListener("resize",this._computeSize)}_handleAccordion=(e,t)=>{this.setState({_accordion_expanded:this.state._accordion_expanded===t?"":t},(()=>{this.forceUpdate()}))};_votesRenderer=({index:e,key:t,style:n})=>{const r=Object.entries(this.state._authors)[e][1];return o.default.createElement(h.A,{className:F.row,key:t,style:n},o.default.createElement(u.A,null,o.default.createElement(p.Ay,{title:"@"+r.username},o.default.createElement(g.A,{src:r.image,style:{borderRadius:"12px",cursor:"pointer"},className:"pixelated",onClick:e=>{this._open_auhtor(r.username)}}))),o.default.createElement(_.A,{primary:r.name,secondary:"0.1 PS with 100%"}))};_setViewRef=e=>{e&&"function"==typeof e.getBoundingClientRect&&this.setState({_view_element:e},this._computeSize)};_setZoom=()=>{this.setState({_zoom_mode:this.state._zoom_mode+1&3},(()=>{this.forceUpdate()}))};_computeSize=()=>{const e=(window.innerWidth||document.documentElement.clientWidth||(document.body||document.getElementsByTagName("body")[0]).clientWidth)<=960;if(this.state._view_right_mobile_enabled!==e&&this.setState({_view_right_mobile_enabled:e},this.forceUpdate),"function"==typeof this.state._view_element.getBoundingClientRect&&this.state.metadata.width){const e=this.state._view_element.getBoundingClientRect();this.setState({_view_element_measurement:e},(()=>{const{metadata:e,_view_element_measurement:t}=this.state,n=Math.min((t.width-32)/e.width,(t.height-32)/e.height),r={width:e.width*n|0,height:e.height*n|0};this.setState({_size:r},(()=>{this._set_size()}))}))}};setCanvasRef=e=>{if(void 0!==e&&null!=e&&void 0!==e.width&&null!=e.width&&"function"==typeof e.getContext){var t=e;t.context=e.getContext("2d",{willReadFrequently:!0}),this.setState({_canvas:t},(()=>{this._set_size()}))}};_setMenuCardRef=e=>{e&&this.setState({_card_ref:e},(()=>{this.state._card_ref.addEventListener("pointerdown",this._handle_card_pointer_down.bind(this)),this.state._card_ref.addEventListener("pointermove",this._handle_card_pointer_move.bind(this)),this.state._card_ref.addEventListener("pointerup",this._handle_card_pointer_up.bind(this)),this.state._card_ref.addEventListener("pointercancel",this._handle_card_pointer_up.bind(this)),this.state._card_ref.addEventListener("pointerout",this._handle_card_pointer_move.bind(this)),this.state._card_ref.addEventListener("pointerleave",this._handle_card_pointer_move.bind(this))}))};_handle_card_pointer_down=e=>{this.state._view_right_mobile_enabled&&this.setState({_card_y_moved_at:Date.now(),_card_y_previous:e.pageY,_card_y_now:e.pageY,_card_y_offset:this.state._card_y_offset},this.forceUpdate)};_handle_card_pointer_move=e=>{if(!this.state._view_right_mobile_enabled)return;const t=this.state._card_y_offset+(e.pageY-this.state._card_y_now),n=!this.state._view_mobile_opened&&this.state._view_right_mobile_enabled?Math.min(0,t):Math.max(0,t);this.setState({_card_y_moved_at:Date.now(),_card_y_previous:this.state._card_y_now,_card_y_now:e.pageY,_card_y_offset:n},this.forceUpdate)};_handle_card_pointer_up=e=>{if(!this.state._view_right_mobile_enabled)return;const t=!this.state._view_mobile_opened&&this.state._view_right_mobile_enabled;this.setState({_card_y_previous:e.pageY,_card_y_now:e.pageY},(()=>{if(t&&this.state._card_y_offset<-20)this.setState({_view_mobile_opened:!0,_card_y_previous:0,_card_y_now:0,_card_y_offset:0},this.forceUpdate);else if(!t&&this.state._card_y_offset>20)this.setState({_view_mobile_opened:!1,_card_y_previous:0,_card_y_now:0,_card_y_offset:0},this.forceUpdate);else if(0!==this.state._card_y_offset&&(!t&&this.state._card_y_offset<160||t&&this.state._card_y_offset>-160)){const e=()=>{const n=this.state._card_y_offset>=0,r=t?-1:1,o=n?Math.min:Math.max;this.setState({_card_y_offset:o(0,this.state._card_y_offset+r)},(()=>{this.forceUpdate((()=>{0!==this.state._card_y_offset&&requestAnimationFrame(e)}))}))};requestAnimationFrame(e)}}))};_set_imgd=e=>{const t=this.state._canvas;createImageBitmap(e).then((e=>{t.style.aspectRatio=`${e.width} / ${e.height}`,t.width=e.width,t.height=e.height,t.context.drawImage(e,0,0),e.close(),this.setState({_hidden:!1},this.forceUpdate)}))};_render_hex=()=>{const e=Math.max(Math.min(32,this.state._size.width/this.state.metadata.width/2),3);(0,L.eu)(this.state.metadata.imgd,e,(e=>{this._set_imgd(e)}),!0,4294967295*Math.random()|0)};_render_smooth=()=>{const e=Math.max(Math.min(6,this.state._size.width/this.state.metadata.width|0),2);(0,L.px)(this.state.metadata.imgd,e,(e=>{this._set_imgd(e)}),!0,4294967295*Math.random()|0)};_render_crt=()=>{const e=Math.max(Math.min(6,this.state._size.width/this.state.metadata.width|0),2);(0,L.E6)(this.state.metadata.imgd,e,(e=>{this._set_imgd(e)}),!0,4294967295*Math.random()|0)};_render_square=()=>{this._set_imgd(this.state.metadata.imgd)};_set_size=()=>{this.state.metadata.imgd&&("hexagon"===this.state.renderer?this._render_hex():"xbrz"===this.state.renderer?this._render_smooth():"crt"===this.state.renderer?this._render_crt():this._render_square())};_set_menu_open=()=>{this.setState({_view_mobile_opened:!0},this.forceUpdate)};_set_menu_close=()=>{this.state._view_right_mobile_enabled?this.setState({_view_mobile_opened:!1},this.forceUpdate):this.props.onClose()};_onRequestClose=()=>{const{_view_mobile_opened:e,_view_right_mobile_enabled:t}=this.state;e&&t?this._set_menu_close():this.props.onClose()};_open_auhtor=e=>{this.state._history.push("/@"+e)};_set_tag_naviguation=e=>{this.state._history.push("/trending/"+e),this.props.onClose()};render(){const{classes:e,open:t,data:n,metadata:r,locales:i,renderer:u,_hidden:m,_accordion_expanded:L,_view_element_measurement:I,_size:T,_zoom_mode:F,_authors:G,_view_mobile_opened:V,_view_right_mobile_enabled:X,_card_y_offset:H}=this.state,Y=(n.upVotesNumber,n.upVotesNumber,n.downVotesNumber,n.downVotesNumber,parseFloat((n.payout||"0$").replace("$",""))||0),$=parseFloat(1*Y/3).toFixed(2),J=parseFloat(2*Y/3).toFixed(2),Z={left:(I.width-T.width)/2|0,top:(I.height-T.height)/2|0};return o.default.createElement(f.A,null,o.default.createElement(s.A,{open:t,className:e.backdrop},o.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex"}},o.default.createElement("div",{className:e.viewLeft,ref:this._setViewRef},o.default.createElement("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"},onClick:this._onRequestClose}),o.default.createElement("div",{className:e.back,onClick:this.props.onPrevious},o.default.createElement(P.A,{className:e.arrowIcon})),o.default.createElement("div",{className:e.forward,onClick:this.props.onNext},o.default.createElement(z.A,{className:e.arrowIcon})),o.default.createElement("div",{onClick:this._setZoom,style:{transform:"scale(0.62)",animation:"transform 325ms cubic-bezier(0.4, 0, 0.2, 1) 25ms",position:"absolute",left:Z.left,top:Z.top,background:"transparent",display:"relative",margin:0}},o.default.createElement("img",{src:n.image,className:m?e.hidden:e.appear,style:{position:"absolute",width:T.width,height:T.height,filter:"blur(120px) brightness(1.2)"}}),o.default.createElement("img",{src:n.image,className:m?e.hidden:e.appear,style:{position:"absolute",width:T.width,height:T.height,filter:"blur(180px) brightness(1.3)"}}),o.default.createElement("canvas",{className:("square"===u?"pixelated":"")+" "+(m?e.hidden:e.appear),ref:this.setCanvasRef,style:{width:T.width,height:T.height}}))),o.default.createElement("div",{className:V||!X?e.viewRight:e.viewRightHidden},o.default.createElement(a.A,{className:e.card,style:{transform:`translateY(${H}px)`}},o.default.createElement(x.A,{ref:this._setMenuCardRef,className:e.cardHeader,avatar:o.default.createElement(g.A,{src:(n.author||{}).image,onClick:e=>{this._open_auhtor(n.author.username)}}),action:o.default.createElement(y.A,{onClick:e=>{V||!X?this._set_menu_close(e):this._set_menu_open()}},V||!X?o.default.createElement(b.A,{style:{color:"#666"}}):o.default.createElement(M.A,{style:{color:"#666"}})),title:n.title,subheader:o.default.createElement("span",null,o.default.createElement(p.Ay,{arrow:!0,title:new Date(n.date).toLocaleDateString(i,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},o.default.createElement("span",{className:e.subheaderDate},w.A.format(new Date(n.date||Date.now())))),o.default.createElement("span",{className:e.subheaderBy}," by "),o.default.createElement(p.Ay,{title:"@"+(n.author||{}).username},o.default.createElement("span",{className:e.subheaderName,onClick:e=>{this._open_auhtor(n.author.username)}},(n.author||{}).name)))}),o.default.createElement(l.A,null,o.default.createElement(A.A,{expanded:"description"===L,onChange:e=>{this._handleAccordion(e,"description")}},o.default.createElement(C.A,{expandIcon:o.default.createElement(S.A,null),"aria-controls":"description-content",id:"description-header"},o.default.createElement(c.A,{className:e.heading},"Description")),o.default.createElement(v.A,null,o.default.createElement(c.A,{variant:"body2",color:"textSecondary",component:"p"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc auctor nec ante ac aliquam. Nullam auctor commodo ex. In euismod bibendum tellus nec interdum. Nulla mattis quis nibh vel mattis. Vivamus ornare faucibus odio. Mauris sit amet sem posuere, tincidunt eros ac, imperdiet leo. Etiam pharetra suscipit pulvinar. Etiam quis finibus ex, id gravida libero. Duis imperdiet massa sit amet enim posuere porttitor nec eu velit. Proin est magna, pretium et tortor eu, suscipit feugiat leo."),o.default.createElement("div",{className:e.chipTags},["pixa-selfie","lifestyle","hype","demo-tag","be-yourself"].map(((e,t)=>o.default.createElement(U.A,{key:"#".concat(e.concat(t.toString(10))),label:"#".concat(e.toLowerCase()),onClick:()=>this._set_tag_naviguation(e.toLowerCase())})))))),o.default.createElement(A.A,{expanded:"colors"===L,onChange:e=>{this._handleAccordion(e,"colors")}},o.default.createElement(C.A,{expandIcon:o.default.createElement(S.A,null),"aria-controls":"colors-content",id:"colors-header"},o.default.createElement(c.A,{className:e.heading},"Image")),o.default.createElement(v.A,{style:{display:"block"}},o.default.createElement("div",{className:e.colorBadges},r.colors.map(((t,n)=>o.default.createElement(p.Ay,{arrow:!0,title:t},o.default.createElement("div",{key:n,className:e.colorBadge,style:{backgroundColor:t}}))))),o.default.createElement(d.A,null,o.default.createElement(W.A,null,"Metadata"),o.default.createElement(h.A,null,o.default.createElement(q.A,null,o.default.createElement(O.A,null)),o.default.createElement(_.A,null,r.width,"px Width")),o.default.createElement(h.A,null,o.default.createElement(q.A,null,o.default.createElement(N.A,null)),o.default.createElement(_.A,null,r.height,"px Height")),o.default.createElement(h.A,null,o.default.createElement(q.A,null,o.default.createElement(j.A,null)),o.default.createElement(_.A,null,r.colors.length," Colors"))))),o.default.createElement(A.A,{expanded:"nft"===L,onChange:e=>{this._handleAccordion(e,"nft")}},o.default.createElement(C.A,{expandIcon:o.default.createElement(S.A,null),"aria-controls":"nft-content",id:"nft-header"},o.default.createElement(c.A,{className:e.heading},"NFT")),o.default.createElement(v.A,null,o.default.createElement(c.A,{variant:"body2",color:"textSecondary",component:"p"},"Feature available at the launch."))),o.default.createElement(A.A,{expanded:"votes"===L,onChange:e=>{this._handleAccordion(e,"votes")}},o.default.createElement(C.A,{expandIcon:o.default.createElement(S.A,null),"aria-controls":"payout-content",id:"payout-header"},o.default.createElement(c.A,{className:e.heading},"Votes")),o.default.createElement(v.A,null,o.default.createElement(k.A,{disableHeight:!0},(({width:e})=>o.default.createElement(D.Ay,{noRowsRenderer:()=>{},scrollToIndex:()=>{},height:160,overscanRowCount:1,rowCount:Object.keys(G).length,rowHeight:72,rowRenderer:this._votesRenderer,width:e})))))),o.default.createElement(B.A,{disableSpacing:!0,style:e.actions},o.default.createElement(y.A,{"aria-label":"Up-Vote"},o.default.createElement(E.A,{style:{transform:"rotate(-90deg)",color:"#999"}})),n.upVotesNumber,o.default.createElement(y.A,{"aria-label":"Down-Vote"},o.default.createElement(E.A,{style:{transform:"rotate(90deg)",color:"#999"}})),n.downVotesNumber,o.default.createElement(p.Ay,{arrow:!0,title:"Curators: "+$+" PS + Author: "+J+" PS"},o.default.createElement("span",{className:e.payout},parseFloat(n.payout).toFixed(2)," ",o.default.createElement(R.A,{style:{width:"16px",height:"16px"}})))))))))}}const V=(0,i.default)(F)(G)},61428:(e,t,n)=>{"use strict";var r,o,i;n.d(t,{A:()=>s}),r=n(15299),o=n(41728),i=n(32150);class a extends r.default.PureComponent{constructor(e){super(e)}render(){return r.default.createElement(o.A,this.props,r.default.createElement("path",{d:"M22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12M8.6,16.6L13.2,12L8.6,7.4L10,6L16,12L10,18L8.6,16.6Z"}))}}const s=(0,i.A)((e=>({})))(a)},39756:(e,t,n)=>{"use strict";var r,o,i;n.d(t,{A:()=>s}),r=n(15299),o=n(41728),i=n(32150);class a extends r.default.PureComponent{constructor(e){super(e)}render(){return r.default.createElement(o.A,this.props,r.default.createElement("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.604 20.578c-.002.333.176.538.462.542q.287.004 8.23 0a1.824 1.824 0 0 0 1.824-1.824V4.704a1.824 1.824 0 0 0-1.824-1.824H4.704A1.824 1.824 0 0 0 2.88 4.704v14.592c0 1.007.592 1.824 1.598 1.824.344-.022.441-.238.447-.542q.005-.305 0-2.65V6.012c0-.623.446-1.058 1.073-1.058H18.23c.627 0 .893.435.893 1.058V17.69c0 .623-.129 1.366-.756 1.366q-4.524.016-7.301 0c-.318-.001-.465.218-.462.506.005.452.004.438 0 1.016Zm-2.242-4.484q-.375 0-.642-.267-.268-.267-.268-.643v-.909q0-.193.131-.324t.324-.131h8.186q.193 0 .324.131t.131.324v.909q0 .376-.268.643-.267.267-.642.267H8.362ZM12 12.683q-.409 0-.648.228-.239.227-.875.227-.637 0-.864-.227-.228-.228-.637-.228-.318 0-.517.154-.199.153-.54.244-.182.057-.324-.074-.143-.131-.143-.324t.131-.335q.131-.142.313-.233l.42-.222q.228-.119.66-.119.637 0 .864.227.227.227.637.227.409 0 .648-.227.238-.227.875-.227t.875.227q.239.227.648.227.41 0 .637-.227.227-.227.864-.227.409 0 .648.113.239.114.432.216.182.091.313.239t.131.341q0 .193-.137.324-.136.131-.318.074-.33-.091-.517-.244-.188-.154-.506-.154-.41 0-.66.228-.25.227-.887.227-.636 0-.875-.227-.239-.228-.648-.228Zm0-4.775q.841 0 1.654.154.813.153 1.455.477.643.324 1.041.842.398.517.398 1.256 0 .193-.131.324t-.324.131H7.907q-.193 0-.324-.131t-.131-.324q0-.739.398-1.256.398-.518 1.041-.842.642-.324 1.455-.477.813-.154 1.654-.154Z"}))}}const s=(0,i.A)((e=>({})))(a)},4208:(e,t,n)=>{"use strict";var r,o,i,a,s,l,c,d,h,u,_,f,p,m,g,y,b,x,w,A,v,C,S,B,E,R,k,D,L;n.r(t),n.d(t,{default:()=>N}),r=n(15299),o=n(86982),i=n(79626),a=n(69205),s=n(16594),l=n(67264),c=n(79307),d=n(5327),h=n(84138),u=n(57890),_=n(12424),f=n(36936),p=n(54392),m=n(60784),g=n(96746),y=n(13168),b=n(42460),x=n(19549),w=n(20426),A=n(28854),v=n(41728),C=n(32150);class P extends r.default.PureComponent{constructor(e){super(e)}render(){return r.default.createElement(v.A,this.props,r.default.createElement("path",{d:"M14.12,10H19V8.2H15.38L13.38,4.87C13.08,4.37 12.54,4.03 11.92,4.03C11.74,4.03 11.58,4.06 11.42,4.11L6,5.8V11H7.8V7.33L9.91,6.67L6,22H7.8L10.67,13.89L13,17V22H14.8V15.59L12.31,11.05L13.04,8.18M14,3.8C15,3.8 15.8,3 15.8,2C15.8,1 15,0.2 14,0.2C13,0.2 12.2,1 12.2,2C12.2,3 13,3.8 14,3.8Z"}))}}const z=(0,C.A)((e=>({})))(P);class M extends r.default.PureComponent{constructor(e){super(e)}render(){return r.default.createElement(v.A,this.props,r.default.createElement("path",{d:"M10.74,11.72C11.21,12.95 11.16,14.23 9.75,14.74C6.85,15.81 6.2,13 6.16,12.86L10.74,11.72M5.71,10.91L10.03,9.84C9.84,8.79 10.13,7.74 10.13,6.5C10.13,4.82 8.8,1.53 6.68,2.06C4.26,2.66 3.91,5.35 4,6.65C4.12,7.95 5.64,10.73 5.71,10.91M17.85,19.85C17.82,20 17.16,22.8 14.26,21.74C12.86,21.22 12.8,19.94 13.27,18.71L17.85,19.85M20,13.65C20.1,12.35 19.76,9.65 17.33,9.05C15.22,8.5 13.89,11.81 13.89,13.5C13.89,14.73 14.17,15.78 14,16.83L18.3,17.9C18.38,17.72 19.89,14.94 20,13.65Z"}))}}const I=(0,C.A)((e=>({})))(M);S=n(96232),B=n(28379),E=n(69232),R=n(95842),k=n(78725),D=n(23563),L=n(71420);const T=(0,i.default)((e=>({badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px "+e.palette.background.paper,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})))(f.A);class U extends R.a{_getEstimatedTotalHeight(){const{cellCount:e,cellMeasurerCache:t,width:n}=this.props,r=Math.floor(n/(t||{}).defaultWidth||0),o=this._positionCache.estimateTotalHeight(e,r,(t||{}).defaultHeight||0);return isFinite(o)?o:0}}class j extends r.default.PureComponent{constructor(e){super(e),this.st4te={classes:e.classes,_settings:e.settings,_history:o.Vv,_pathname:e.pathname,_image_name_infographics:"",_infographics_fadein_time:300,_infographics_in:!0,_bii3_opacity:1,_join_now_button_update:0,_less_than_960w:!0,_less_than_690h:!0,sorting:0,menuCardXY:[],menuCardData:{},authors:[],_scrolling_reset_time_interval:300,_min_col_width:10,_max_col_width:1e3,_root_width:0,_root_height:0,_root:null,_window_width:0,_window_height:0,_average_img_ratio:1,_gutter_size:16,column_count:4,_column_width:356,_load_more_threshold:2e3,_overscan_by_pixels:6e3,_cell_positioner:null,_cell_positioner_config:null,_masonry:null,_cell_measurer_cache:null,_scroll_top:0,_intervals:[],_y:0,_top_scroll_of_el_by_index:[],_height_of_el_by_index:[],_x_y_of_el_by_index:[],_selected_post_index:0,_post_closed_at:0,data:[],_create_artwork_dialog_open:!1,_artwork_open:!1,_post:{},_account:{},_category:0}}componentWillMount(){window.addEventListener("resize",this._updated_dimensions),a.qf(),a.wn(0),setTimeout((()=>{a.wn(100)}),300);const e=setInterval(this._handle_masonry_scroll,125);this.setSt4te({_intervals:[e]})}setSt4te(e,t){e=e||{},this.st4te=Object.assign(this.st4te,e),"function"==typeof t&&t()}componentDidMount(){(0,E.A)((()=>n.e("src_js_data_authors_js").then(n.bind(n,60209)))).then((e=>{const t=e.default();(0,E.A)((()=>n.e("src_js_data_posts_js").then(n.bind(n,65138)))).then((e=>{const n=e.default(),r=this.st4te._pathname.replaceAll("/","").replaceAll("@","");this.setSt4te({_account:t[r],data:n.filter((e=>e.author===r)).map((e=>(e.author=t[e.author],e)))},(()=>{this.forceUpdate((()=>{this._updated_dimensions()}))}))}))})),this._updated_dimensions(),r.default.findDOMNode(this).addEventListener("keydown",this._handle_keydown)}_updated_dimensions=()=>{let e=document.documentElement,t=document.body||document.getElementsByTagName("body")[0],n=window.innerWidth||e.clientWidth||t.clientWidth,r=window.innerHeight||e.clientHeight||t.clientHeight;const o=!!(n<960),i=!!(r<690),a=this.st4te._less_than_960w!==o||this.st4te._less_than_690h!==i;this.setSt4te({_less_than_960w:o,_less_than_690h:i,_posts:[],_window_width:n,_window_height:r,_load_more_threshold:r*(r/n)*2},(()=>{this.forceUpdate((()=>{const{_root:e,_gutter_size:t,_window_width:n,_window_height:r,data:o}=this.st4te;let{_column_count:i}=this.st4te;if(e){const a=e.getBoundingClientRect(),s=a.width,l=a.height;if(n<100||s<100||l<100||r<100)setTimeout((()=>{this._updated_dimensions()}),50);else{i=n>1920?4:n>1400?3:n>960?2:1;const e=Math.floor((a.width-(i+1)*t-396)/i);this.setSt4te({_overscan_by_pixels:r*(r/n)*8,_posts:o,_column_width:e,_column_count:i,_root_width:s,_root_height:l},(()=>{this._init_cell_measurements()}))}}else setTimeout((()=>{this._updated_dimensions()}),50)}))})),a&&this.setSt4te({_less_than_960w:o,_less_than_690h:i,_window_width:n,_window_height:r},(()=>{this.forceUpdate()}))};componentWillReceiveProps(e){const t=e.settings._renderer!==this.st4te._settings._renderer,n=e.settings._nsfw_enabled!==this.st4te._settings._nsfw_enabled,r=e.pathname!==this.st4te._pathname;this.setSt4te({_pathname:e.pathname,_settings:e.settings},(()=>{(t||n||r)&&this.forceUpdate((()=>{this.st4te._masonry.forceUpdate()}))}))}componentWillUnmount(){this.st4te._intervals.forEach((e=>{clearInterval(e)}));try{window.removeEventListener("resize",this._updated_dimensions)}catch(e){}try{r.default.findDOMNode(this).removeEventListener("keydown",this._handle_keydown)}catch(e){}}_recompute_cell_measurements=(e=()=>{})=>{const{_cell_measurer_cache:t,_masonry:n,_cell_positioner:r,_column_count:o,_gutter_size:i,_column_width:a}=this.st4te;if(null!=t&&null!=n&&null!=r){t.clearAll();let s={cellMeasurerCache:t,columnCount:o,columnWidth:a,spacer:i};r.reset(s),n.clearCellPositions(),this.setSt4te({_cell_positioner:r,_cell_positioner_config:s,_cell_measurer_cache:t},(()=>{n.forceUpdate(e)}))}else this._init_cell_measurements(e)};_set_masonry_ref=e=>{null!==e&&this.setSt4te({_masonry:e},(()=>{this._init_cell_measurements()}))};_set_root_ref=e=>{null!==e&&this.setSt4te({_root:e})};_cell_renderer=e=>{const{index:t,key:n,parent:o,style:i,isScrolling:a}=e,{_root_height:s,_root_width:l,_masonry:c,_column_width:d,_cell_measurer_cache:h,_column_count:u,_settings:_,_selected_post_index:f}=this.st4te;if(void 0===c.props.itemsWithSizes[0|t])return;const{item:p,size:m}=c.props.itemsWithSizes[0|t],g=c._scrollingContainer.scrollTop,y=f===t;if(!m.height)return;const b=t%u,x=(t-b)/u,w=Math.ceil(d*(m.height/m.width))||0;i.width=0+d;let{_top_scroll_of_el_by_index:A,_height_of_el_by_index:v,_x_y_of_el_by_index:C}=this.st4te;const S=0+i.top,B=0+i.height,E=S+B;A[t]=S,v[t]=B,C[t]=[x,b];const D=s*(s/l),L=D+E>g&&S<g+s+D,P=_._selected_locales_code;return this.setSt4te({_top_scroll_of_el_by_index:A,_height_of_el_by_index:v}),r.default.createElement(R.dl,{cache:h,index:t,key:n,parent:o},r.default.createElement(k.A,{onOpen:this._open_artwork,locales:P,nsfw:_._nsfw_enabled,data:p,renderer:_._renderer,onMenuClick:this.openCardMenu,is_scrolling:a,selected:y,size:m,visible:L,column_width:d,image_height:w,image_width:d,id:m.id,key:m.id,rowIndex:x,columnIndex:b,style:i}))};_init_cell_measurements=(e=()=>{})=>{this.forceUpdate((()=>{if(null!=this.st4te._cell_measurer_cache&&null!=this.st4te._cell_positioner_config&&null!=this.st4te._cell_positioner)this._recompute_cell_measurements(e);else{const{_column_count:t,_column_width:n,_gutter_size:r}=this.st4te;let o=new R.jS({defaultHeight:600,defaultWidth:n,fixedWidth:!0}),i={cellMeasurerCache:o,columnCount:t,columnWidth:n,spacer:r},a=(0,R.wT)(i);this.setSt4te({_cell_measurer_cache:o,_cell_positioner:a,_cell_positioner_config:i},(()=>{this.forceUpdate((()=>{const t=(e=()=>{})=>{const{_masonry:n}=this.st4te;n?n.forceUpdate(e):setTimeout((()=>{t(e)}),5)};t(e)}))}))}}))};_next_current_post=()=>{const{_post:e,_posts:t,_masonry:n}=this.st4te,r=t.map((e=>e.id)).indexOf(e.id)+1,o=Math.max(0,Math.min(t.length-1,r)),{item:i,size:a}=n.props.itemsWithSizes[0|o];console.log(i),this.setSt4te({_post:i},(()=>{this.forceUpdate(),this._update_selected_post_index(o)}))};_previous_current_post=()=>{const{_post:e,_posts:t,_masonry:n}=this.st4te,r=t.map((e=>e.id)).indexOf(e.id)-1,o=Math.max(0,Math.min(t.length-1,r)),{item:i,size:a}=n.props.itemsWithSizes[0|o];this.setSt4te({_post:i},(()=>{this.forceUpdate(),this._update_selected_post_index(o)}))};_handle_keydown=e=>{let{_masonry:t,_selected_post_index:n,_post_closed_at:r,_posts:o,_post_author:i,_post_permlink:a,_column_count:s,_x_y_of_el_by_index:l}=this.st4te;if(!i&&!a&&r+300<Date.now()){const t=n%s,r=(n-t)/s;let i=t,a=r;switch(e.keyCode){case 40:a+=1,e.preventDefault();break;case 38:a-=1,e.preventDefault();break;case 37:i-=1;break;case 39:i+=1}a===r&&i===t||l.forEach(((e,t)=>{e[1]===i&&a===e[0]&&(n=t)})),n=Math.max(0,Math.min(o.length-1,n)),13===e.keyCode||this.st4te._selected_post_index!==n&&this._update_selected_post_index(n)}};_update_selected_post_index=(e,t=!1)=>{const{_post:n,_posts:r,_masonry:o}=this.st4te;if(!o)return;const i=o.props.itemsWithSizes,a=void 0!==e?e:n?r.map((e=>(e||{}).title)).indexOf(n.title):this.st4te._selected_post_index;this.setSt4te({_selected_post_index:a,_post:r[a],_post_img:(i[a]||{}).size},(()=>{this.forceUpdate((()=>{t?o.forceUpdate():this._scroll_to_index()}))}))};_scroll_to=e=>{const{_masonry:t}=this.st4te;t&&(void 0===e?(t._scrollingContainer.scrollTop=this.st4te._scroll_top,t.forceUpdate()):this.setSt4te({_scroll_top:e},(()=>{t._scrollingContainer.scrollTop=e,t.forceUpdate()})))};_scroll_to_index=e=>{const{_selected_post_index:t,_top_scroll_of_el_by_index:n,_height_of_el_by_index:r,_root_height:o}=this.st4te;let i=n[e=void 0!==e?e:t]+r[e]/2-o/3;this._scroll_to(i)};_handle_masonry_scroll=e=>{const{_load_more_threshold:t,_loading_posts:n}=this.st4te,{_masonry:r,_scroll_top:o,_y:i}=this.st4te,a=r&&r._scrollingContainer?r._scrollingContainer.scrollTop:0,s=Math.min(Math.max(-64,i-(a-o)),64);o===a&&i===s||this.setSt4te({_scroll_top:a,_y:s},(()=>{i!==s&&this.forceUpdate()}))};openCardMenu=(e,t)=>{this.setSt4te({menuCardXY:Int32Array.of(e.x-24,e.y-24),menuCardData:t},(()=>{this.forceUpdate()}))};closeCardMenu=()=>{this.setSt4te({menuCardXY:Int32Array.of(0,0),menuCardData:{}},(()=>{this.forceUpdate()}))};_open_create_artwork=()=>{this.setSt4te({_create_artwork_dialog_open:!0},(()=>{this.forceUpdate()}))};_create_artwork_dialog_close=()=>{this.setSt4te({_create_artwork_dialog_open:!1},(()=>{this.forceUpdate()}))};_open_artwork=e=>{this.setSt4te({_artwork_open:!0,_post:e},(()=>{this.forceUpdate()}))};_close_artwork=()=>{this.setSt4te({_artwork_open:!1,_post:{}},(()=>{this.forceUpdate()}))};_handle_category_change=(e,t)=>{this.st4te._category!==t?this.setSt4te({_category:t},(()=>{this.forceUpdate((()=>{this._scroll_to(0)}))})):this._scroll_to(0)};render(){const{classes:e,_settings:t}=this.st4te;let{_less_than_960w:n,_less_than_690h:o,sorting:i,menuCardXY:a,menuCardData:v}=this.st4te,{_artwork_open:C,_post:E}=this.st4te;const{_window_width:R,_window_height:k,_cell_positioner:P,_cell_measurer_cache:M,_overscan_by_pixels:j,_y:N,_scroll_top:O,_posts:q,_create_artwork_dialog_open:W,_scrolling_reset_time_interval:F}=this.st4te,G=R>960?R-284-396:R,V=k-(R>960?96:64),X=t._selected_locales_code;let{_pathname:H,_category:Y,_account:$}=this.st4te;const J=r.default.createElement(s.A,{style:{transform:`translateY(${0>N&&O>72?-72:0}px)`},className:e.mainTab,value:Y,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",onChange:this._handle_category_change,fullwidth:!0},r.default.createElement(l.A,{icon:r.default.createElement(c.A,null)}),r.default.createElement(l.A,{icon:r.default.createElement(d.A,null)}),r.default.createElement(l.A,{icon:r.default.createElement(h.A,null)}),r.default.createElement(l.A,{icon:r.default.createElement(u.A,null)}));return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:e.root},r.default.createElement("div",{className:e.viewLeft},J),r.default.createElement("div",{className:e.viewRight},r.default.createElement(w.A,{style:{width:"100%",borderRadius:"32px",height:"calc(100% + 42px)",background:"#101010"}},r.default.createElement("div",{style:{width:"100%",marginTop:"16px"}},r.default.createElement("div",{style:{margin:"16px 16px 0px 16px"}},r.default.createElement(p.A,{style:{fontSize:"32px"},component:"h2",variant:"h3"},$.name),r.default.createElement(p.A,{style:{fontSize:"14px",marginTop:"12px"},component:"p",variant:"body1"},$.description),r.default.createElement("div",{style:{textAlign:"right",margin:"8px 32px 8px 64px"}},r.default.createElement(p.A,{style:{fontSize:"18px",margin:"0px"},component:"h3",variant:"h5"},"@",$.username))),r.default.createElement("div",{style:{width:"100%"}},r.default.createElement("div",{style:{display:"flex",position:"relative"}},r.default.createElement("div",{style:{display:"block",float:"left",margin:"16px 0px 0px 16px"}},r.default.createElement(f.A,{badgeContent:4,color:"primary",className:e.badge},r.default.createElement(b.A,{className:e.menuButton},r.default.createElement(A.A,null))),r.default.createElement(b.A,{className:e.menuButton},r.default.createElement(y.A,null)),r.default.createElement(b.A,{className:e.menuButton},r.default.createElement(x.A,null))),r.default.createElement(T,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},r.default.createElement("div",{className:e.profileImage+" pixelated",style:{backgroundImage:`url(${$.image})`},alt:$.name+" (@"+$.username+")"})))),r.default.createElement("div",{className:e.followButtons},r.default.createElement(m.A,{variant:"outlined",size:"small"},r.default.createElement(S.Ay,{title:"Show all followers"},r.default.createElement(g.A,null,"100 ",r.default.createElement(z,{style:{marginLeft:4}}))),r.default.createElement(S.Ay,{title:"You are following this account"},r.default.createElement(g.A,null,r.default.createElement(_.A,null)))),r.default.createElement(S.Ay,{title:`Show everyone @${$.username} is following`},r.default.createElement(g.A,{variant:"outlined",size:"small"},r.default.createElement(I,{style:{marginRight:4}})," 100"))))))),r.default.createElement("div",{style:{position:"absolute"},ref:this._set_root_ref},r.default.createElement(L.A,{className:e.masonry,items:q,image:e=>e.image,keyMapper:e=>e.id},(e=>r.default.createElement(U,{key:"masonry-extended",scrollTop:O,scrollingResetTimeInterval:F,height:V,cellCount:0|(e||{}).length,itemsWithSizes:e,keyMapper:t=>(e[t]||{size:{id:Math.random()}}).size.id,cellMeasurerCache:M,cellPositioner:P,cellRenderer:this._cell_renderer,overscanByPixels:j,ref:this._set_masonry_ref,width:G})))),r.default.createElement(D.A,{xy:a,data:v,onClose:this.closeCardMenu}),r.default.createElement(B.A,{renderer:t._renderer,nsfw:t._nsfw_enabled,data:E,open:C,locales:X,onClose:this._close_artwork,onPrevious:this._previous_current_post,onNext:this._next_current_post}))}}const N=(0,i.default)((e=>({root:{position:"absolute",width:"100%",height:"100%",display:"flex"},viewLeft:{width:"100%",marginRight:"396px",position:"relative",[e.breakpoints.down("sm")]:{width:"100%"}},viewRight:{zIndex:1,width:"374px",margin:"21px 16px 21px 16px",position:"absolute",right:"0px",top:"0px",height:"100%",boxSizing:"content-box",[e.breakpoints.down("sm")]:{width:"100%",position:"absolute",pointerEvents:"all",transform:"translateY(0)",transition:"transform 260ms cubic-bezier(0.4, 0, 0.2, 1) 5ms"}},profileImage:{display:"block",float:"right",borderRadius:"24px",width:"256px",height:"256px",margin:"16px 32px 16px 16px",backgroundPosition:"50% 50%",backgroundSize:"cover"},mainTab:{backgroundColor:"#101010","& .MuiTab-root":{minWidth:"72px !important"},"& .MuiTab-textColorPrimary.Mui-selected":{backgroundColor:"transparent",color:"#989898"},"& .MuiTab-fullWidth":{backgroundColor:"transparent",color:"#989898",transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",borderRadius:"21px"},"& .MuiTab-fullWidth:hover":{backgroundColor:"rgba(255,255,255,0.06)"},"& span.MuiTabs-indicator":{zIndex:"-1",height:"48px",backgroundColor:"#3b3b3b",borderRadius:"21px"},margin:"21px 16px 16px 16px",width:"calc(100% - 32px)",borderRadius:"21px",position:"absolute",top:0,left:0,zIndex:1,transition:"transform 225ms cubic-bezier(0.4, 0, 0.2, 1) 225ms"},followButtons:{width:"100%",display:"flex",flexWrap:"wrap",gap:"16px",justifyContent:"center",padding:"0px 16px"},masonry:{overflow:"hidden","& > .ReactVirtualized__Masonry":{zIndex:0,position:"absolute",margin:0,scrollBehavior:"smooth",overscrollBehavior:"none",boxSizing:"content-box !important",touchAction:"pan-y",willChange:"scroll-position !important",overflow:"hidden auto",padding:"66px 380px 32px 16px",contain:"style layout size paint","& > .ReactVirtualized__Masonry__innerScrollContainer":{top:"auto !important",left:"auto !important",contain:"layout size style paint"}}}})))(j)},37532:(e,t,n)=>{"use strict";var r,o;n.d(t,{A:()=>i}),r=n(36811),o=n(29411),r.A.addDefaultLocale(o.A);const i=new r.A("en-US")},20793:e=>{e.exports={functionString:"\n  var fu = function(image_data, scale) {\n\n    return new Promise(function (resolve, reject) {\n\n        var CRT = (function () {\n\n            \"use asm\";\n\n            var sqrt = Math.sqrt;\n            var cos = Math.cos;\n            var sin = Math.sin;\n            var min = Math.min;\n            var max = Math.max;\n            var imul = Math.imul;\n\n            function apply(imageData, srcx, srcy, scale, threshold) {\n\n                srcx = srcx | 0;\n                srcy = srcy | 0;\n                scale = scale | 0;\n                threshold = +threshold;\n\n                var Channels = 4;\n                var SizeX = srcx * scale | 0;\n                var SizeY = srcy * scale | 0;\n\n                var ScaledImage = new Uint8ClampedArray(SizeX * SizeY * Channels);\n\n                var total = SizeY | 0;\n                var current = 0;\n\n                var ppx = 0.0;\n                var ppy = 0.0;\n                var posx = 0;\n                var posy = 0;\n                var sub_posx = 0.0;\n                var sub_posy = 0.0;\n                var positionx = 0;\n                var positiony = 0;\n                var center = 0;\n                var left = 0;\n                var right = 0;\n                var midleft = 0;\n                var midright = 0;\n                var ret = 0;\n                var cr = 0;\n                var cg = 0;\n                var cb = 0;\n                var mlb = 0;\n                var mrr = 0;\n                var mrg = 0;\n                var lb = 0;\n                var rr = 0;\n                var rg = 0;\n                var alpha = 0;\n\n                for (var y = 0; y < SizeY; y = y + 1 | 0) {\n\n                    var offset = imul(y, SizeX) | 0;\n                    ppy = +(y / SizeY);\n\n                    for (var x = 0; x < SizeX; x = x + 1 | 0) {\n\n                        ppx = +(x / SizeX);\n                        posx = ~~(ppx * srcx);\n                        posy = ~~(ppy * srcy);\n                        sub_posx = +(ppx * srcx * 6) % 1.0;\n                        sub_posy = +(ppy * srcy * 6) % 1.0;\n                        positionx = posx | 0;\n                        positiony = posy | 0;\n\n                        center = CLR(imageData, srcx, srcy, positionx, positiony, 0, 0);\n                        left = CLR(imageData, srcx, srcy, positionx, positiony, -1, 0);\n                        right = CLR(imageData, srcx, srcy, positionx, positiony, 1, 0);\n\n                        if (sub_posy < 1.0 / 6.0) {\n\n                            center = mix(center, CLR(imageData, srcx, srcy, positionx, positiony, 0, -1), 0.5 - sub_posy / 2.0);\n                            left = mix(left, CLR(imageData, srcx, srcy, positionx, positiony, -1, -1), 0.5 - sub_posy / 2.0);\n                            right = mix(right, CLR(imageData, srcx, srcy, positionx, positiony, 1, -1), 0.5 - sub_posy / 2.0);\n\n                        } else if (sub_posy > 5.0 / 6.0) {\n\n                            center = mix(center, CLR(imageData, srcx, srcy, positionx, positiony, 0, 1), sub_posy / 2.0);\n                            left = mix(left, CLR(imageData, srcx, srcy, positionx, positiony, -1, 1), sub_posy / 2.0);\n                            right = mix(right, CLR(imageData, srcx, srcy, positionx, positiony, 1, 1), sub_posy / 2.0);\n                        }\n\n                        var scanline_multiplier;\n\n                        if (sub_posy < 0.5) {\n\n                            scanline_multiplier = (sub_posy * 2) * 0.3 + 0.7;\n\n                        } else {\n\n                            scanline_multiplier = ((1 - sub_posy) * 2) * 0.3 + 0.7;\n                        }\n\n                        Mul(center, scanline_multiplier);\n                        Mul(left, scanline_multiplier);\n                        Mul(right, scanline_multiplier);\n\n                        var odd = (ppx * srcx) & 1;\n\n                        var gradient_position;\n\n                        if (odd) {\n\n                            posy = +(posy + 0.5);\n                            posy = +(posy % 1.0);\n                        }\n\n                        if (posy < 1.0 / 3.0) {\n\n                            gradient_position = +(posy * 3.0);\n\n                            Mul(center, gradient_position * 0.6 + 0.4);\n                            Mul(left, gradient_position * 0.6 + 0.4);\n                            Mul(right, gradient_position * 0.6 + 0.4);\n\n                        } else if (posy > 2.0 / 3.0) {\n\n                            gradient_position = +(1 - posy) * 3.0;\n\n                            Mul(center, gradient_position * 0.6 + 0.4);\n                            Mul(left, gradient_position * 0.6 + 0.4);\n                            Mul(right, gradient_position * 0.6 + 0.4);\n                        }\n\n                        if (posx < 1.0 / 6.0 || posx > 5.0 / 6.0) {\n\n                            posy = +(posy + 0.5);\n                            posy = +(posy % 1.0);\n\n                            if (posy < 1.0 / 3.0) {\n\n                                gradient_position = +(posy * 3.0);\n\n                                if (posx < 0.5) {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (ppx) * 6.0));\n\n                                } else {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (1 - ppx) * 6.0));\n                                }\n\n                                Mul(center, gradient_position * 0.6 + 0.4);\n                                Mul(left, gradient_position * 0.6 + 0.4);\n                                Mul(right, gradient_position * 0.6 + 0.4);\n\n                            } else if (posy > 2.0 / 3.0) {\n\n                                gradient_position = +(1 - posy) * 3.0;\n\n                                if (posx < 0.5) {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (ppx) * 6.0));\n\n                                } else {\n\n                                    gradient_position = +(1 - (1 - gradient_position) * (1 - (1 - ppx) * 6.0));\n                                }\n\n                                Mul(center, gradient_position * 0.6 + 0.4);\n                                Mul(left, gradient_position * 0.6 + 0.4);\n                                Mul(right, gradient_position * 0.6 + 0.4);\n                            }\n                        }\n\n                        midleft = mix(left, center, 0.5);\n                        midright = mix(right, center, 0.5);\n\n                        cr = Red(center) | 0;\n                        cg = Green(center) | 0;\n                        cb = Blue(center) | 0;\n                        mlb = Blue(midleft) | 0;\n                        mrr = Red(midright) | 0;\n                        mrg = Green(midright) | 0;\n                        lb = Blue(left) | 0;\n                        rr = Red(right) | 0;\n                        rg = Green(right) | 0;\n                        alpha = Alpha(center) | 0;\n\n                        if (ppx < 1.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, cr * 255, cg * 255, lb * 255), ARGBINT(alpha, cr * 255, cg * 255, lb * 255), sub_posx);\n\n                        } else if (ppx < 2.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, cr * 255, cg * 255, lb * 255), ARGBINT(alpha, cr * 255, cg * 255, mlb * 255), sub_posx);\n\n                        } else if (ppx < 3.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, cr * 255, cg * 255, mlb * 255), ARGBINT(alpha, mrr * 255, cg * 255, cb * 255), sub_posx);\n\n                        } else if (ppx < 4.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, mrr * 255, cg * 255, cb * 255), ARGBINT(alpha, rr * 255, cg * 255, cb * 255), sub_posx);\n\n                        } else if (ppx < 5.0 / 6.0) {\n\n                            ret = mix(ARGBINT(alpha, rr * 255, cg * 255, cb * 255), ARGBINT(alpha, rr * 255, mrg * 255, cb * 255), sub_posx);\n\n                        } else {\n\n                            ret = mix(ARGBINT(alpha, rr * 255, mrg * 255, cb * 255), ARGBINT(alpha, rr * 255, rg * 255, cb * 255), sub_posx);\n                        }\n\n                        if (positionx < 1) {\n\n                            Mul(ret, positionx | 0);\n\n                        } else if (positionx > srcx - 1) {\n\n                            Mul(ret, srcx - positionx | 0);\n                        }\n\n                        if (positiony < 1) {\n\n                            Mul(ret, positiony | 0);\n\n                        } else if (positiony > srcy - 1) {\n\n                            Mul(ret, srcy - positiony | 0);\n                        }\n\n                        ScaledImage[offset * Channels] = Red(ret) | 0;\n                        ScaledImage[offset * Channels + 1] = Green(ret) | 0;\n                        ScaledImage[offset * Channels + 2] = Blue(ret) | 0;\n                        ScaledImage[offset * Channels + 3] = Alpha(ret) | 0;\n\n                    }\n\n                    current = current + 1 | 0;\n                }\n\n                return new ImageData(ScaledImage, SizeX, SizeY);\n            }\n\n            function mix(a, b, c) {\n\n                a = a | 0;\n                b = b | 0;\n                c = +c;\n\n                return ((a + ((b - a) * c)) | 0);\n            }\n\n            function Mul(x, y) {\n\n                x = x | 0;\n                y = +y;\n\n                return ((x * y) | 0);\n            }\n\n            function Red(rgb) {\n\n                rgb = rgb | 0;\n\n                return ((rgb >>> 16) & 0xFF) | 0;\n            }\n\n            function Green(rgb) {\n\n                rgb = rgb | 0;\n\n                return ((rgb >>> 8) & 0xFF) | 0;\n            }\n\n            function Blue(rgb) {\n\n                rgb = rgb | 0;\n\n                return (rgb & 0xFF) | 0;\n            }\n\n            function Alpha(rgb) {\n\n                rgb = rgb | 0;\n\n                return (rgb >>> 24) | 0;\n            }\n\n            function ARGBINT(a, r, g, b) {\n\n                a = a | 0;\n                r = r | 0;\n                g = g | 0;\n                b = b | 0;\n\n                return (((((a) << 24) | (r << 16) | (g << 8) | b) >>> 0) | 0);\n            }\n\n            function CLR(Input, srcx, srcy, x, y, dx, dy) {\n\n                Input = Input | 0;\n                srcx = srcx | 0;\n                srcy = srcy | 0;\n                x = x | 0;\n                y = y | 0;\n                dx = dx | 0;\n                dy = dy | 0;\n\n                var Channels = 4;\n\n                var xx = 0;\n                var yy = 0;\n\n                xx = (x + dx) | 0;\n                yy = (y + dy) | 0;\n\n                xx = max(0, min(srcx - 1, xx)) | 0;\n                yy = max(0, min(srcy - 1, yy)) | 0;\n\n                var index = 0;\n\n                index = ((yy * srcx + xx) * Channels) | 0;\n\n                var r = 0;\n                var g = 0;\n                var b = 0;\n                var a = 0;\n\n                r = (Input[index] | 0);\n                g = (Input[index + 1] | 0);\n                b = (Input[index + 2] | 0);\n                a = (Input[index + 3] | 0);\n\n                return ARGBINT(a, r, g, b) | 0;\n            }\n\n            return { Apply: apply };\n        }());\n\n        resolve(CRT.Apply(image_data.data, image_data.width, image_data.height, scale, 0));\n    });\n}\n\nfunction crt(image_data, scale) {\n    return new Promise(function(resolve, reject){\n        fu(image_data, scale).then((result) => {\n            resolve(result);\n        });\n    });\n}\n\n\n    self.onmessage = function onmessage(event) {\n        if (event.data.type === 'imageData') {\n            const result = crt(event.data.imageData, event.data.data.scale).then(function(result){\n                self.postMessage([result, event.data.id, event.data.algorithm]);\n            });\n        }\n    };\n",functionSize:function(e,t,n){return{width:e*n,height:t*n,arrayBufferLength:e*n*t*n*4}}}},95523:(e,t,n)=>{"use strict";function r(e,t,n){const r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw console.error("Shader compilation failed:",e.getShaderInfoLog(r)),e.deleteShader(r),Error("Shader compilation error");return r}function o(e,t,n){void 0===b[n].data[t]&&g.compress(e.data).then((function(r){const o=new Uint8ClampedArray(r.buffer),i=o.byteLength;if(b[n].data[t]={data:o,width:e.width,height:e.height},b[n].timestamp[t]=0|Date.now(),x+=i,x>65536e5){const e=Object.keys(b[n].timestamp),t=Object.values(b[n].timestamp);let r=0|Date.now();for(let n=0,i=t.length;n<i;n++)t[n]<r&&(r=t[n]);const o=e[t.indexOf(r)];if(o){const e=0|b[n].data[o].data.byteLength;delete b[n].data[o],delete b[n].callbacks[o],delete b[n].timestamp[o],x-=e}}})),void 0!==b[n].callbacks[t]&&b[n].callbacks[t](e)}function i(e,t,n,i,a=!1,s){if(function(e){for(const t in b)t!==e&&(y.terminateWorker(t),b[t].callbacks={})}(e),b[e].callbacks[s]=i,void 0!==b[e].data[s]&&void 0!==b[e].callbacks[s]){const t=b[e].data[s];g.decompress(t.data).then((function(n){const r=new Uint8ClampedArray(n.buffer),o=new ImageData(r,t.width,t.height);b[e].callbacks[s](o)}))}else b[e].worker?y.sendDataToWorker(e,{data:t,scale:n},{type:"imageData",onReceive:o},s):"hex"===e&&o(function(e,t){if(!m)throw Error("WebGL not supported in this browser.");const{width:n,height:o}=_(e.width,e.height,t);p.width=n,p.height=o,m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight),function(e,t){const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,t.data)}(m,e);const{hexSizeLocation:i,imageLocation:a}=function(e){const t=r(e,e.VERTEX_SHADER,"\n            attribute vec4 a_position;\n            varying vec2 v_uv;\n            void main() {\n                gl_Position = a_position;\n                v_uv = (a_position.xy + 1.0) / 2.0;\n            }\n        "),n=r(e,e.FRAGMENT_SHADER,"\n        precision mediump float;\n        \n        varying vec2 v_uv; // Interpolated UV coordinates from the vertex shader\n        uniform sampler2D u_image; // Uploaded image texture\n        uniform float u_hexSize; // Size of the hexagons\n        \n        vec2 hexAxialCoords(vec2 uv, float hexSize) {\n            float q = (uv.x * sqrt(3.0) / 3.0 - uv.y / 3.0) / hexSize;\n            float r = uv.y * 2.0 / 3.0 / hexSize;\n            return vec2(q, r);\n        }\n        \n        vec3 roundHex(vec3 hex) {\n            float q = floor(hex.x + 0.5);\n            float r = floor(hex.y + 0.5);\n            float s = floor(hex.z + 0.5);\n        \n            float dq = abs(q - hex.x);\n            float dr = abs(r - hex.y);\n            float ds = abs(s - hex.z);\n        \n            if (dq > dr && dq > ds) q = -r - s;\n            else if (dr > ds) r = -q - s;\n            else s = -q - r;\n        \n            return vec3(q, r, s);\n        }\n        \n        vec2 hexToUV(vec2 hex, float hexSize) {\n            float x = hexSize * sqrt(3.0) * (hex.x + 0.5 * hex.y);\n            float y = hexSize * 1.5 * hex.y;\n            return vec2(x, y);\n        }\n        \n        void main() {\n            // Use the UV coordinates directly, without flipping the Y-axis\n            vec2 flippedUV = v_uv;\n        \n            // Convert UV to hexagonal coordinates\n            vec2 hexCoords = hexAxialCoords(flippedUV, u_hexSize);\n        \n            // Round to the nearest hex center\n            vec3 roundedHex = roundHex(vec3(hexCoords, -hexCoords.x - hexCoords.y));\n        \n            // Convert back to UV coordinates for texture sampling\n            vec2 sampledUV = hexToUV(roundedHex.xy, u_hexSize);\n                 sampledUV = clamp(sampledUV, vec2(0.0), vec2(1.0));\n\n            // Sample the texture and output the color\n            gl_FragColor = texture2D(u_image, sampledUV);\n        }\n\n    "),o=e.createProgram();if(e.attachShader(o,t),e.attachShader(o,n),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))return void console.error("Program failed to link:",e.getProgramInfoLog(o));e.useProgram(o);const i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW);const a=e.getAttribLocation(o,"a_position");return e.enableVertexAttribArray(a),e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0),{program:o,hexSizeLocation:e.getUniformLocation(o,"u_hexSize"),imageLocation:e.getUniformLocation(o,"u_image")}}(m);m.uniform1f(i,t/p.width),m.uniform1i(a,0),m.drawArrays(m.TRIANGLES,0,6);const s=new ImageData(n,o);return m.readPixels(0,0,n,o,m.RGBA,m.UNSIGNED_BYTE,s.data),s}(t,n),s,e)}function a(e,t,n,r,o){i("xbrz",e,t,n,r,o)}function s(e,t,n,r,o){i("hex",e,t,n,r,o)}function l(e,t,n,r,o){i("crt",e,t,n,r,o)}var c,d,h,u;n.d(t,{E6:()=>l,eu:()=>s,px:()=>a}),c=n(92466),d=n.n(c);const _=(e,t,n)=>{const r=e*n,o=r/(e/t);return{width:Math.ceil(r),height:Math.ceil(o)}},f=document.getElementById("webgl-hexagon-renderer");let p=null;f?p=f:(p=document.createElement("canvas"),p.style.display="none",p.id="webgl-hexagon-renderer",document.body.appendChild(p));const m=p.getContext("webgl",{antialias:!1,powerPreference:"high-performance",desynchronized:!0});h=n(20793),u=n.n(h);class g{static async compress(e){const t="string"==typeof e?(new TextEncoder).encode(e):e,n=new CompressionStream("deflate"),r=n.writable.getWriter();return r.write(t),r.close(),await this._streamToUint8Array(n.readable)}static async decompress(e){const t=new DecompressionStream("deflate"),n=t.writable.getWriter();return n.write(e),n.close(),await this._streamToUint8Array(t.readable)}static async _streamToUint8Array(e){const t=e.getReader(),n=[];let r=0;for(;;){const{value:e,done:o}=await t.read();if(o)break;n.push(e),r+=e.length}const o=new Uint8Array(r);let i=0;for(const a of n)o.set(a,i),i+=a.length;return o}}const y=new class{constructor(e){this.workers=new Map,this.workerScripts=e}createWorker(e,t,n=!1){if(this.workers.has(e))return this.workers.get(e).worker;const r=new Blob([t],{type:"application/javascript"}),o=URL.createObjectURL(r);let i;return i=n?new SharedWorker(o):new Worker(o),this.workers.set(e,{worker:i,type:n?"shared":"dedicated"}),i}sendDataToWorker(e,t,n={},r){let o=this.workers.get(e);if(!o){if(void 0===this.workerScripts[e])throw Error(`Worker ${e} not found`);o=this.createWorker(e,this.workerScripts[e],!1)}const{worker:i,type:a}=o,s={type:n.type||"default",data:t,id:r,algorithm:e},l=[];if("canvas"===n.type){const e=n.canvas.transferControlToOffscreen();s.canvas=e,l.push(e)}else"sharedBuffer"===n.type?(s.sharedArrayBuffer=n.sharedArrayBuffer,l.push(n.sharedArrayBuffer)):"imageData"===n.type&&(s.imageData=t.data);"dedicated"===a?i.postMessage(s,l):"shared"===a&&(i.port.postMessage(s,l),i.port.start()),"dedicated"===a?i.onmessage=e=>{n.onReceive&&n.onReceive(e.data[0],e.data[1],e.data[2])}:"shared"===a&&(i.port.onmessage=e=>{n.port.onReceive&&n.port.onReceive(e.data[0],e.data[1],e.data[2])})}terminateWorker(e){const t=this.workers.get(e);t&&("dedicated"===t.type?t.worker.terminate():"shared"===t.type&&t.worker.port.close(),this.workers.delete(e))}}({xbrz:d().functionString,crt:u().functionString});let b={xbrz:{worker:!0,callbacks:{},data:{},timestamp:{}},hex:{worker:!1,callbacks:{},data:{},timestamp:{}},crt:{worker:!0,callbacks:{},data:{},timestamp:{}}},x=0},92466:e=>{"use strict";e.exports={functionString:'\n  \nvar xbrzrender = function xbrzrender(image_data, scale) {\n        "use strict";\n    class PixelData {\n        constructor(obj, width) {\n            if (obj instanceof ImageData) {\n                this.data = new Uint32Array(obj.data.buffer)\n                this.width = obj.width\n                this.height = obj.height\n            } else if (typeof obj === "number") {\n                if (typeof width !== "undefined" && typeof width !== null) {\n                    this.data = new Uint32Array(obj)\n                    this.width = width\n                }\n            }\n        }\n\n        setDistSize(scale) {\n            this.dist = new Uint32Array(this.data.length * scale ** 2)\n            this.targetScale = scale\n        }\n\n        getSourcePoint(x, v, u) {\n            if (\n                x + u < this.width * Math.floor(x / this.width) ||\n                x + u > this.width * Math.floor(x / this.width + 1) - 1\n            ) {\n                // データは横方向に連続なので左右ボーダーを超えるときはuを1つ戻す\n                u += u === 0 ? 0 : u > 0 ? -1 : 1\n            }\n\n            if (\n                x + this.width * v + u < 0 ||\n                x + this.width * v + u >= this.data.length\n            ) {\n                // データ範囲外\n                v += v === 0 ? 0 : v > 0 ? -1 : 1\n                if (u === 0 && v === 0) {\n                    return this.data[x + this.width * v + u]\n                }\n                return this.getSourcePoint(x, v, u)\n                //\n            } else {\n                return this.data[x + this.width * v + u]\n            }\n        }\n\n        setDistPoint(topleft, v, u, value) {\n            this.dist[topleft + this.width * this.targetScale * v + u] = value\n        }\n\n        getDistPoint(trg) {\n            return this.dist[trg]\n        }\n\n        outImageData() {\n            const outData = new Uint8ClampedArray(this.dist.buffer)\n            // console.log(this.targetScale)\n            return new ImageData(outData, this.width * this.targetScale)\n        }\n\n        outImageDataURL() {\n            const id = this.outImageData()\n            const canvas = document.createElement("canvas")\n            const ctx = canvas.getContext("2d")\n            if (ctx) {\n                ctx.canvas.width = id.width\n                ctx.canvas.height = id.height\n                ctx.putImageData(id, 0, 0)\n                return canvas.toDataURL()\n            } else {\n                return ""\n            }\n        }\n\n        // ピクセルXのカラー取得\n        static getR(X) {\n            return X & 0xff\n        }\n        static getG(X) {\n            return (X >> 8) & 0xff\n        }\n        static getB(X) {\n            return (X >> 16) & 0xff\n        }\n        static getA(X) {\n            return X >> 24\n        }\n\n        // ピクセル色補完\n        static Interpolate(A, B, C, D) {\n            const A_a = A >> 24\n            const A_b = (A >> 16) & 0xff\n            const A_g = (A >> 8) & 0xff\n            const A_r = A & 0xff\n            const B_a = B >> 24\n            const B_b = (B >> 16) & 0xff\n            const B_g = (B >> 8) & 0xff\n            const B_r = B & 0xff\n\n            if (C !== undefined && D !== undefined) {\n                const C_a = C >> 24\n                const C_b = (C >> 16) & 0xff\n                const C_g = (C >> 8) & 0xff\n                const C_r = C & 0xff\n                const D_a = D >> 24\n                const D_b = (D >> 16) & 0xff\n                const D_g = (D >> 8) & 0xff\n                const D_r = D & 0xff\n\n                return (\n                    (((A_a + B_a + C_a + D_a) >> 2) << 24) |\n                    (((A_b + B_b + C_b + D_b) >> 2) << 16) |\n                    (((A_g + B_g + C_g + D_g) >> 2) << 8) |\n                    ((A_r + B_r + C_r + D_r) >> 2)\n                )\n                //\n            } else if (C !== undefined && D === undefined) {\n                const C_a = C >> 24\n                const C_b = (C >> 16) & 0xff\n                const C_g = (C >> 8) & 0xff\n                const C_r = C & 0xff\n\n                return (\n                    (Math.floor((A_a + B_a + C_a) / 3) << 24) |\n                    (Math.floor((A_b + B_b + C_b) / 3) << 16) |\n                    (Math.floor((A_g + B_g + C_g) / 3) << 8) |\n                    Math.floor((A_r + B_r + C_r) / 3)\n                )\n                //\n            } else {\n                return (\n                    (((A_a + B_a) >> 1) << 24) |\n                    (((A_b + B_b) >> 1) << 16) |\n                    (((A_g + B_g) >> 1) << 8) |\n                    ((A_r + B_r) >> 1)\n                )\n            }\n        }\n\n        static InterpolateWeighted2(A, B, f1, f2) {\n            let total = f1 + f2\n\n            const A_a = A >> 24\n            const A_b = (A >> 16) & 0xff\n            const A_g = (A >> 8) & 0xff\n            const A_r = A & 0xff\n            const B_a = B >> 24\n            const B_b = (B >> 16) & 0xff\n            const B_g = (B >> 8) & 0xff\n            const B_r = B & 0xff\n\n            return (\n                (Math.floor((A_a * f1 + B_a * f2) / total) << 24) |\n                (Math.floor((A_b * f1 + B_b * f2) / total) << 16) |\n                (Math.floor((A_g * f1 + B_g * f2) / total) << 8) |\n                Math.floor((A_r * f1 + B_r * f2) / total)\n            )\n        }\n\n        static InterpolateWeighted3(A, B, C, f1, f2, f3) {\n            let total = f1 + f2 + f3\n\n            const A_a = A >> 24\n            const A_b = (A >> 16) & 0xff\n            const A_g = (A >> 8) & 0xff\n            const A_r = A & 0xff\n            const B_a = B >> 24\n            const B_b = (B >> 16) & 0xff\n            const B_g = (B >> 8) & 0xff\n            const B_r = B & 0xff\n            const C_a = C >> 24\n            const C_b = (C >> 16) & 0xff\n            const C_g = (C >> 8) & 0xff\n            const C_r = C & 0xff\n\n            return (\n                (Math.floor((A_a * f1 + B_a * f2 + C_a * f3) / total) << 24) |\n                (Math.floor((A_b * f1 + B_b * f2 + C_b * f3) / total) << 16) |\n                (Math.floor((A_g * f1 + B_g * f2 + C_g * f3) / total) << 8) |\n                Math.floor((A_r * f1 + B_r * f2 + C_r * f3) / total)\n            )\n        }\n\n        static InterpolateWeighted4(A, B, C, D, w1, w2, w3, w4) {\n            let total = w1 + w2 + w3 + w4\n\n            const A_a = A >> 24\n            const A_b = (A >> 16) & 0xff\n            const A_g = (A >> 8) & 0xff\n            const A_r = A & 0xff\n            const B_a = B >> 24\n            const B_b = (B >> 16) & 0xff\n            const B_g = (B >> 8) & 0xff\n            const B_r = B & 0xff\n            const C_a = C >> 24\n            const C_b = (C >> 16) & 0xff\n            const C_g = (C >> 8) & 0xff\n            const C_r = C & 0xff\n            const D_a = D >> 24\n            const D_b = (D >> 16) & 0xff\n            const D_g = (D >> 8) & 0xff\n            const D_r = D & 0xff\n\n            return (\n                (Math.floor((A_a * w1 + B_a * w2 + C_a * w3 + D_a * w4) / total) << 24) |\n                (Math.floor((A_b * w1 + B_b * w2 + C_b * w3 + D_b * w4) / total) << 16) |\n                (Math.floor((A_g * w1 + B_g * w2 + C_g * w3 + D_g * w4) / total) << 8) |\n                Math.floor((A_r * w1 + B_r * w2 + C_r * w3 + D_r * w4) / total)\n            )\n        }\n    }\n\n    var BlendType\n\n    ;(function(BlendType) {\n        BlendType[(BlendType["BlendNone"] = 0)] = "BlendNone"\n        BlendType[(BlendType["BlendNormal"] = 1)] = "BlendNormal"\n        BlendType[(BlendType["BlendDominant"] = 2)] = "BlendDominant"\n    })(BlendType || (BlendType = {}))\n\n    class BlendInfo {\n        static GetTopL(b) {\n            return b & 0x3\n        }\n\n        static GetTopR(b) {\n            return (b >> 2) & 0x3\n        }\n\n        static GetBottomR(b) {\n            return (b >> 4) & 0x3\n        }\n\n        static GetBottomL(b) {\n            return (b >> 6) & 0x3\n        }\n\n        static SetTopL(b, bt) {\n            return b | bt\n        }\n\n        static SetTopR(b, bt) {\n            return b | (bt << 2)\n        }\n\n        static SetBottomR(b, bt) {\n            return b | (bt << 4)\n        }\n\n        static SetBottomL(b, bt) {\n            return b | (bt << 6)\n        }\n\n        static Rotate(b, rotDeg) {\n            const l = rotDeg << 1\n            const r = 8 - l\n            return ((b << l) | (b >> r)) & 0xff // eslint-disable-line\n        }\n    }\n\n    var RotationDegree\n\n    ;(function(RotationDegree) {\n        RotationDegree[(RotationDegree["Rot0"] = 0)] = "Rot0"\n        RotationDegree[(RotationDegree["Rot90"] = 1)] = "Rot90"\n        RotationDegree[(RotationDegree["Rot180"] = 2)] = "Rot180"\n        RotationDegree[(RotationDegree["Rot270"] = 3)] = "Rot270"\n    })(RotationDegree || (RotationDegree = {}))\n\n    class Rot {\n        // 回転後の位置にアクセスするために4つの回転それぞれで遷移する先を定義しておく\n        static _ = new Uint32Array(9 * 4)\n\n        static Rot() {\n            const a = 0\n            const b = 1\n            const c = 2\n            const d = 3\n            const e = 4\n            const f = 5\n            const g = 6\n            const h = 7\n            const i = 8\n\n            // eslint-disable-next-line prettier/prettier\n            const deg0 = [a, b, c, d, e, f, g, h, i]\n            // eslint-disable-next-line prettier/prettier\n            const deg90 = [g, d, a, h, e, b, i, f, c]\n            // eslint-disable-next-line prettier/prettier\n            const deg180 = [i, h, g, f, e, d, c, b, a]\n            // eslint-disable-next-line prettier/prettier\n            const deg270 = [c, f, i, b, e, h, a, d, g]\n            // eslint-disable-next-line prettier/prettier\n            const rotation = [deg0, deg90, deg180, deg270]\n\n            for (let rotDeg = 0; rotDeg < 4; rotDeg++) {\n                for (let x = 0; x < 9; x++) {\n                    this._[(x << 2) + rotDeg] = rotation[rotDeg][x]\n                }\n            }\n        }\n    }\n\n    function MatrixRotation(rotDeg, I, J, N) {\n        const struct = {\n            I_old: 0,\n            J_old: 0\n        }\n\n        if (rotDeg === RotationDegree.Rot0) {\n            struct.I_old = I\n            struct.J_old = J\n        } else {\n            const old = MatrixRotation(rotDeg - 1, I, J, N)\n            struct.I_old = N - 1 - old.J_old\n            struct.J_old = old.I_old\n        }\n\n        return struct\n    }\n\n    class OutputSystem {\n        _rotDeg = 0\n        _targetIndex = 0\n\n        constructor(p, scale, outWidth) {\n            this._p = p\n            this._scaleN = scale\n            this._outWidth = outWidth\n        }\n\n        TargetMove(rotDeg, trgi) {\n            this._rotDeg = rotDeg\n            this._targetIndex = trgi\n        }\n\n        Reference(i, j) {\n            const rot = MatrixRotation(this._rotDeg, i, j, this._scaleN)\n            return this._targetIndex + rot.J_old + rot.I_old * this._outWidth\n        }\n\n        getDstPixel(trgi) {\n            return this._p.getDistPoint(trgi)\n        }\n\n        SetDstPixel(trgi, BlendedCol) {\n            this._p.setDistPoint(trgi, 0, 0, BlendedCol)\n        }\n\n        outImage() {\n            return this._p.outImageData()\n        }\n    }\n\n    class XBRz {\n        static luminanceWeight = 1\n        static equalColorTolerance = 30\n        static centerDirectionBias = 4\n        static dominantDirectionThreshold = 3.6\n        static steepDirectionThreshold = 2.2\n\n        static XBRZ(imageData, scale) {\n            const p = new PixelData(imageData)\n            p.setDistSize(scale)\n\n            Rot.Rot() // init static Rot class\n\n            let scaler = new Scale2x()\n            if (scale === 3) {\n                scaler = new Scale3x()\n            } else if (scale === 4) {\n                scaler = new Scale4x()\n            } else if (scale === 5) {\n                scaler = new Scale5x()\n            } else if (scale === 6) {\n                scaler = new Scale6x()\n            }\n\n            const trgWidth = p.width * scale\n            const preProcBuffer = new Uint8Array(p.width)\n            const outputSystem = new OutputSystem(p, scale, trgWidth)\n            // initialize preprocessing buffer for first row:\n            // detect upper left and right corner blending\n            // this cannot be optimized for adjacent processing\n            // stripes; we must not allow for a memory race condition!\n            for (let i = 0; i < p.width; i++) {\n                const l = 0 * p.width + i\n                // center is f\n                // a  b  c  d\n                // e  f  g  h\n                // i  j  k  l\n                // m  n  o  p\n                const ker4 = {\n                    a: p.getSourcePoint(l, -1, -1),\n                    b: p.getSourcePoint(l, -1, 0),\n                    c: p.getSourcePoint(l, -1, 1),\n                    d: p.getSourcePoint(l, -1, 2),\n                    e: p.getSourcePoint(l, 0, -1),\n                    f: p.getSourcePoint(l, 0, 0),\n                    g: p.getSourcePoint(l, 0, 1),\n                    h: p.getSourcePoint(l, 0, 2),\n                    i: p.getSourcePoint(l, 1, -1),\n                    j: p.getSourcePoint(l, 1, 0),\n                    k: p.getSourcePoint(l, 1, 1),\n                    l: p.getSourcePoint(l, 1, 2),\n                    m: p.getSourcePoint(l, 2, -1),\n                    n: p.getSourcePoint(l, 2, 0),\n                    o: p.getSourcePoint(l, 2, 1),\n                    p: p.getSourcePoint(l, 2, 2)\n                }\n\n                const blendResult = {\n                    f: 0,\n                    g: 0,\n                    j: 0,\n                    k: 0\n                }\n\n                this._preProcessCorners(ker4, blendResult)\n                /*\n                preprocessing blend result:\n                ---------\n                | F | G | //evalute corner between F, G, J, K\n                ----|---| //input pixel is at position F\n                | J | K |\n                ---------\n                */\n                preProcBuffer[i] = BlendInfo.SetTopR(preProcBuffer[i], blendResult.j)\n\n                if (i + 1 < p.width) {\n                    // eslint-disable-next-line prettier/prettier\n                    preProcBuffer[i + 1] = BlendInfo.SetTopL(\n                        preProcBuffer[i + 1],\n                        blendResult.k\n                    )\n                }\n            }\n\n            for (let j = 0; j < p.height; j++) {\n                let trgi = scale * j * trgWidth // target Y index\n                let blendXy1 = 0\n\n                for (let i = 0; i < p.width; i++, trgi += scale) {\n                    const l = j * p.width + i\n                    let blendXy = 0\n\n                    const ker4 = {\n                        a: p.getSourcePoint(l, -1, -1),\n                        b: p.getSourcePoint(l, -1, 0),\n                        c: p.getSourcePoint(l, -1, 1),\n                        d: p.getSourcePoint(l, -1, 2),\n                        e: p.getSourcePoint(l, 0, -1),\n                        f: p.getSourcePoint(l, 0, 0),\n                        g: p.getSourcePoint(l, 0, 1),\n                        h: p.getSourcePoint(l, 0, 2),\n                        i: p.getSourcePoint(l, 1, -1),\n                        j: p.getSourcePoint(l, 1, 0),\n                        k: p.getSourcePoint(l, 1, 1),\n                        l: p.getSourcePoint(l, 1, 2),\n                        m: p.getSourcePoint(l, 2, -1),\n                        n: p.getSourcePoint(l, 2, 0),\n                        o: p.getSourcePoint(l, 2, 1),\n                        p: p.getSourcePoint(l, 2, 2)\n                    }\n\n                    const blendResult = {\n                        f: 0,\n                        g: 0,\n                        j: 0,\n                        k: 0\n                    }\n\n                    this._preProcessCorners(ker4, blendResult)\n                    /*\n                    preprocessing blend result:\n                    ---------\n                    | F | G | //evalute corner between F, G, J, K\n                    ----|---| //input pixel is at position F\n                    | J | K |\n                    ---------\n                    */\n\n                    // all four corners of (x, y) have been determined at\n                    // this point due to processing sequence!\n                    blendXy = BlendInfo.SetBottomR(preProcBuffer[i], blendResult.f)\n\n                    // set 2nd known corner for (x, y + 1)\n                    blendXy1 = BlendInfo.SetTopR(blendXy1, blendResult.j)\n                    // store on current buffer position for use on next row\n                    preProcBuffer[i] = blendXy1\n\n                    // set 1st known corner for (x + 1, y + 1) and\n                    // buffer for use on next column\n                    blendXy1 = BlendInfo.SetTopL(0, blendResult.k)\n\n                    if (i + 1 < p.width) {\n                        preProcBuffer[i + 1] = BlendInfo.SetBottomL(\n                            preProcBuffer[i + 1],\n                            blendResult.g\n                        )\n                    }\n\n                    // 現在処理ピクセルからのアウトプット範囲を f に初期化\n                    this._FillBlock(outputSystem, trgi, trgWidth, ker4.f, scale)\n\n                    if (blendXy === 0) continue\n\n                    const ker3 = new Uint32Array(9)\n                    ker3[0] = ker4.a\n                    ker3[1] = ker4.b\n                    ker3[2] = ker4.c\n\n                    ker3[3] = ker4.e\n                    ker3[4] = ker4.f\n                    ker3[5] = ker4.g\n\n                    ker3[6] = ker4.i\n                    ker3[7] = ker4.j\n                    ker3[8] = ker4.k\n\n                    this._BlendPixel(\n                        scaler,\n                        RotationDegree.Rot0,\n                        ker3,\n                        outputSystem,\n                        trgi,\n                        blendXy\n                    )\n                    this._BlendPixel(\n                        scaler,\n                        RotationDegree.Rot90,\n                        ker3,\n                        outputSystem,\n                        trgi,\n                        blendXy\n                    )\n                    this._BlendPixel(\n                        scaler,\n                        RotationDegree.Rot180,\n                        ker3,\n                        outputSystem,\n                        trgi,\n                        blendXy\n                    )\n                    this._BlendPixel(\n                        scaler,\n                        RotationDegree.Rot270,\n                        ker3,\n                        outputSystem,\n                        trgi,\n                        blendXy\n                    )\n                } // end x for\n            } // end y for\n            return outputSystem.outImage()\n        }\n\n        static _BlendPixel(scaler, rotDeg, ker, outputSystem, trgi, blendInfo) {\n            const b = ker[Rot._[(1 << 2) + rotDeg]]\n            const c = ker[Rot._[(2 << 2) + rotDeg]]\n            const d = ker[Rot._[(3 << 2) + rotDeg]]\n            const e = ker[Rot._[(4 << 2) + rotDeg]]\n            const f = ker[Rot._[(5 << 2) + rotDeg]]\n            const g = ker[Rot._[(6 << 2) + rotDeg]]\n            const h = ker[Rot._[(7 << 2) + rotDeg]]\n            const i = ker[Rot._[(8 << 2) + rotDeg]]\n\n            const blend = BlendInfo.Rotate(blendInfo, rotDeg)\n\n            if (BlendInfo.GetBottomR(blend) === BlendType.BlendNone) {\n                return\n            }\n\n            const eq = (pix1, pix2) => {\n                return this._ColorDist(pix1, pix2) < this.equalColorTolerance\n            }\n            const dist = (pix1, pix2) => {\n                return this._ColorDist(pix1, pix2)\n            }\n            let doLineBlend\n\n            if (BlendInfo.GetBottomR(blend) >= BlendType.BlendDominant) {\n                doLineBlend = true\n\n                // make sure there is no second blending in an adjacent\n                // rotation for this pixel: handles insular pixels, mario eyes\n                // but support double-blending for 90? corners\n            } else if (BlendInfo.GetTopR(blend) !== BlendType.BlendNone && !eq(e, g)) {\n                doLineBlend = false\n            } else if (\n                BlendInfo.GetBottomL(blend) !== BlendType.BlendNone &&\n                !eq(e, c)\n            ) {\n                doLineBlend = false\n\n                // no full blending for L-shapes; blend corner only (handles "mario mushroom eyes")\n            } else if (!eq(e, i) && eq(g, h) && eq(h, i) && eq(i, f) && eq(f, c)) {\n                doLineBlend = false\n            } else {\n                doLineBlend = true\n            }\n\n            // 一番近い色を選ぶ\n            const px = dist(e, f) <= dist(e, h) ? f : h\n\n            outputSystem.TargetMove(rotDeg, trgi) // 出力ポイントの移動\n\n            if (doLineBlend) {\n                const fg = dist(f, g)\n                const hc = dist(h, c)\n\n                const haveShallowLine =\n                    this.steepDirectionThreshold * fg <= hc && e !== g && d !== g\n                const haveSteepLine =\n                    this.steepDirectionThreshold * hc <= fg && e !== c && b !== c\n\n                if (haveShallowLine) {\n                    if (haveSteepLine) {\n                        // eslint-disable-next-line prettier/prettier\n                        scaler.BlendLineSteepAndShallow(px, outputSystem)\n                    } else {\n                        // eslint-disable-next-line prettier/prettier\n                        scaler.BlendLineShallow(px, outputSystem)\n                    }\n                } else if (haveSteepLine) {\n                    scaler.BlendLineSteep(px, outputSystem)\n                } else {\n                    scaler.BlendLineDiagonal(px, outputSystem)\n                }\n            } else {\n                scaler.BlendCorner(px, outputSystem)\n            }\n        }\n\n        static _FillBlock(out, trgi, pitch, col, blocksize) {\n            for (let y = 0; y < blocksize; ++y, trgi += pitch) {\n                for (let x = 0; x < blocksize; ++x) {\n                    out.SetDstPixel(trgi + x, col)\n                }\n            }\n        }\n\n        static _Square(x) {\n            return x * x\n        }\n\n        static _DistYCbCr(pix1, pix2) {\n            const rDiff = PixelData.getR(pix1) - PixelData.getR(pix2)\n            const gDiff = PixelData.getG(pix1) - PixelData.getG(pix2)\n            const bDiff = PixelData.getB(pix1) - PixelData.getB(pix2)\n\n            // const kB = 0.0722 // ITU-R BT.709\n            // const kR = 0.2126\n            const kB = 0.0593 // ITU-R BT.2020\n            const kR = 0.2627 //\n            const kG = 1 - kB - kR\n\n            const scaleB = 0.5 / (1 - kB)\n            const scaleR = 0.5 / (1 - kR)\n\n            const y = kR * rDiff + kG * gDiff + kB * bDiff\n            const cB = scaleB * (bDiff - y)\n            const cR = scaleR * (rDiff - y)\n\n            return Math.sqrt(\n                this._Square(this.luminanceWeight * y) +\n                this._Square(cB) +\n                this._Square(cR)\n            )\n            // return this._Square(this.luminanceWeight * y) + this._Square(cB) + this._Square(cR)\n        }\n\n        static _ColorDist(pix1, pix2) {\n            return pix1 === pix2 ? 0 : this._DistYCbCr(pix1, pix2)\n        }\n\n        static _preProcessCorners(ker, blendResult) {\n            if (\n                (ker.f === ker.g && ker.j === ker.k) ||\n                (ker.f === ker.j && ker.g === ker.k)\n            ) {\n                blendResult.f = BlendType.BlendNone\n                blendResult.g = BlendType.BlendNone\n                blendResult.j = BlendType.BlendNone\n                blendResult.k = BlendType.BlendNone\n                return\n            }\n\n            // const dist = this._ColorDist\n            const jg =\n                this._ColorDist(ker.i, ker.f) +\n                this._ColorDist(ker.f, ker.c) +\n                this._ColorDist(ker.n, ker.k) +\n                this._ColorDist(ker.k, ker.h) +\n                this.centerDirectionBias * this._ColorDist(ker.j, ker.g)\n            const fk =\n                this._ColorDist(ker.e, ker.j) +\n                this._ColorDist(ker.j, ker.o) +\n                this._ColorDist(ker.b, ker.g) +\n                this._ColorDist(ker.g, ker.l) +\n                this.centerDirectionBias * this._ColorDist(ker.f, ker.k)\n\n            if (jg < fk) {\n                const dominantGradient = this.dominantDirectionThreshold * jg < fk\n                if (ker.f !== ker.g && ker.f !== ker.j) {\n                    blendResult.f = dominantGradient\n                        ? BlendType.BlendDominant\n                        : BlendType.BlendNormal\n                }\n                if (ker.k !== ker.j && ker.k !== ker.g) {\n                    blendResult.k = dominantGradient\n                        ? BlendType.BlendDominant\n                        : BlendType.BlendNormal\n                }\n            } else if (fk < jg) {\n                const dominantGradient = this.dominantDirectionThreshold * fk < jg\n                if (ker.j !== ker.f && ker.j !== ker.k) {\n                    blendResult.j = dominantGradient\n                        ? BlendType.BlendDominant\n                        : BlendType.BlendNormal\n                }\n                if (ker.g !== ker.f && ker.g !== ker.k) {\n                    blendResult.g = dominantGradient\n                        ? BlendType.BlendDominant\n                        : BlendType.BlendNormal\n                }\n            }\n        }\n    }\n\n/// /////////////////////\n// BLENDING\n/// /////////////////////\n    function _AlphaBlend(n, m, target, out, color) {\n        const ip = PixelData.InterpolateWeighted2(\n            color,\n            out.getDstPixel(target),\n            n,\n            m - n\n        )\n        out.SetDstPixel(target, ip)\n    }\n\n    class Scale2x {\n        _SCALE = 2\n\n        Scale() {\n            return this._SCALE\n        }\n\n        BlendLineShallow(color, out) {\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 1, 0), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 1, 1), out, color)\n        }\n\n        BlendLineSteep(color, out) {\n            _AlphaBlend(1, 4, out.Reference(0, this._SCALE - 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(1, this._SCALE - 1), out, color)\n        }\n\n        BlendLineSteepAndShallow(color, out) {\n            _AlphaBlend(1, 4, out.Reference(1, 0), out, color)\n            _AlphaBlend(1, 4, out.Reference(0, 1), out, color)\n            _AlphaBlend(5, 6, out.Reference(1, 1), out, color)\n        }\n\n        BlendLineDiagonal(color, out) {\n            _AlphaBlend(1, 2, out.Reference(1, 1), out, color)\n        }\n\n        BlendCorner(color, out) {\n            // 角の丸み\n            _AlphaBlend(21, 100, out.Reference(1, 1), out, color) // exact: 1 - pi/4 = 0.2146018366\n        }\n    }\n\n    class Scale3x {\n        _SCALE = 3\n\n        Scale() {\n            return this._SCALE\n        }\n\n        BlendLineShallow(color, out) {\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 1, 0), out, color)\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 2, 2), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 1, 1), out, color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 2), color)\n        }\n\n        BlendLineSteep(color, out) {\n            _AlphaBlend(1, 4, out.Reference(0, this._SCALE - 1), out, color)\n            _AlphaBlend(1, 4, out.Reference(2, this._SCALE - 2), out, color)\n            _AlphaBlend(3, 4, out.Reference(1, this._SCALE - 1), out, color)\n            out.SetDstPixel(out.Reference(2, this._SCALE - 1), color)\n        }\n\n        BlendLineSteepAndShallow(color, out) {\n            _AlphaBlend(1, 4, out.Reference(2, 0), out, color)\n            _AlphaBlend(1, 4, out.Reference(0, 2), out, color)\n            _AlphaBlend(3, 4, out.Reference(2, 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(1, 2), out, color)\n            out.SetDstPixel(out.Reference(2, 2), color)\n        }\n\n        BlendLineDiagonal(color, out) {\n            _AlphaBlend(1, 8, out.Reference(1, 2), out, color)\n            _AlphaBlend(1, 8, out.Reference(2, 1), out, color)\n            _AlphaBlend(7, 8, out.Reference(2, 2), out, color)\n        }\n\n        BlendCorner(color, out) {\n            // 角の丸み\n            _AlphaBlend(45, 100, out.Reference(2, 2), out, color) // exact: 0.4545939598\n            // alphaBlend(14, 1000, out.ref(2, 1), col); //0.01413008627 -> negligable\n            // alphaBlend(14, 1000, out.ref(1, 2), col); //0.01413008627\n        }\n    }\n\n    class Scale4x {\n        _SCALE = 4\n\n        Scale() {\n            return this._SCALE\n        }\n\n        BlendLineShallow(color, out) {\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 1, 0), out, color)\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 2, 2), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 1, 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 2, 3), out, color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 2), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 3), color)\n        }\n\n        BlendLineSteep(color, out) {\n            _AlphaBlend(1, 4, out.Reference(0, this._SCALE - 1), out, color)\n            _AlphaBlend(1, 4, out.Reference(2, this._SCALE - 2), out, color)\n            _AlphaBlend(3, 4, out.Reference(1, this._SCALE - 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(3, this._SCALE - 2), out, color)\n            out.SetDstPixel(out.Reference(2, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(3, this._SCALE - 1), color)\n        }\n\n        BlendLineSteepAndShallow(color, out) {\n            _AlphaBlend(3, 4, out.Reference(3, 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(1, 3), out, color)\n            _AlphaBlend(1, 4, out.Reference(3, 0), out, color)\n            _AlphaBlend(1, 4, out.Reference(0, 3), out, color)\n            _AlphaBlend(1, 3, out.Reference(2, 2), out, color)\n            out.SetDstPixel(out.Reference(3, 3), color)\n            out.SetDstPixel(out.Reference(3, 2), color)\n            out.SetDstPixel(out.Reference(2, 3), color)\n        }\n\n        BlendLineDiagonal(color, out) {\n            // number型が小数になると値が不安定になるため、小数点以下は切り捨てる\n            _AlphaBlend(\n                1,\n                2,\n                out.Reference(this._SCALE - 1, Math.floor(this._SCALE / 2)),\n                out,\n                color\n            )\n            _AlphaBlend(\n                1,\n                2,\n                out.Reference(this._SCALE - 2, Math.floor(this._SCALE / 2) + 1),\n                out,\n                color\n            )\n            out.SetDstPixel(out.Reference(this._SCALE - 1, this._SCALE - 1), color)\n        }\n\n        BlendCorner(color, out) {\n            // 角の丸み\n            _AlphaBlend(68, 100, out.Reference(3, 3), out, color) // exact: 0.6848532563\n            _AlphaBlend(9, 100, out.Reference(3, 2), out, color) // 0.08677704501\n            _AlphaBlend(9, 100, out.Reference(2, 3), out, color) // 0.08677704501\n        }\n    }\n\n    class Scale5x {\n        _SCALE = 5\n\n        Scale() {\n            return this._SCALE\n        }\n\n        BlendLineShallow(color, out) {\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 1, 0), out, color)\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 2, 2), out, color)\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 3, 4), out, color)\n\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 1, 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 2, 3), out, color)\n\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 2), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 3), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 4), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 2, 4), color)\n        }\n\n        BlendLineSteep(color, out) {\n            _AlphaBlend(1, 4, out.Reference(0, this._SCALE - 1), out, color)\n            _AlphaBlend(1, 4, out.Reference(2, this._SCALE - 2), out, color)\n            _AlphaBlend(1, 4, out.Reference(4, this._SCALE - 3), out, color)\n\n            _AlphaBlend(3, 4, out.Reference(1, this._SCALE - 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(3, this._SCALE - 2), out, color)\n\n            out.SetDstPixel(out.Reference(2, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(3, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(4, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(4, this._SCALE - 2), color)\n        }\n\n        BlendLineSteepAndShallow(color, out) {\n            _AlphaBlend(1, 4, out.Reference(0, this._SCALE - 1), out, color)\n            _AlphaBlend(1, 4, out.Reference(2, this._SCALE - 2), out, color)\n            _AlphaBlend(3, 4, out.Reference(1, this._SCALE - 1), out, color)\n\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 1, 0), out, color)\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 2, 2), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 1, 1), out, color)\n\n            _AlphaBlend(2, 3, out.Reference(3, 3), out, color)\n\n            out.SetDstPixel(out.Reference(2, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(3, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(4, this._SCALE - 1), color)\n\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 2), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 3), color)\n        }\n\n        BlendLineDiagonal(color, out) {\n            // number型が小数になると値が不安定になるため、小数点以下は切り捨てる\n            _AlphaBlend(\n                1,\n                8,\n                out.Reference(this._SCALE - 1, Math.floor(this._SCALE / 2)),\n                out,\n                color\n            )\n            _AlphaBlend(\n                1,\n                8,\n                out.Reference(this._SCALE - 2, Math.floor(this._SCALE / 2) + 1),\n                out,\n                color\n            )\n            _AlphaBlend(\n                1,\n                8,\n                out.Reference(this._SCALE - 3, Math.floor(this._SCALE / 2) + 2),\n                out,\n                color\n            )\n\n            _AlphaBlend(7, 8, out.Reference(4, 3), out, color)\n            _AlphaBlend(7, 8, out.Reference(3, 4), out, color)\n\n            out.SetDstPixel(out.Reference(4, 4), color)\n        }\n\n        BlendCorner(color, out) {\n            // 角の丸み\n            _AlphaBlend(86, 100, out.Reference(4, 4), out, color) // exact: 0.8631434088\n            _AlphaBlend(23, 100, out.Reference(4, 3), out, color) // 0.2306749731\n            _AlphaBlend(23, 100, out.Reference(3, 4), out, color) // 0.2306749731\n            // _AlphaBlend(1, 64, out.Reference(4, 2), out, color) // 0.01676812367 -> negligable\n            // _AlphaBlend(1, 64, out.Reference(2, 4), out, color) // 0.01676812367\n        }\n    }\n\n    class Scale6x {\n        _SCALE = 6\n\n        Scale() {\n            return this._SCALE\n        }\n\n        BlendLineShallow(color, out) {\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 1, 0), out, color)\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 2, 2), out, color)\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 3, 4), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 1, 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 2, 3), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 3, 5), out, color)\n\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 2), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 3), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 4), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 5), color)\n\n            out.SetDstPixel(out.Reference(this._SCALE - 2, 4), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 2, 5), color)\n        }\n\n        BlendLineSteep(color, out) {\n            _AlphaBlend(1, 4, out.Reference(0, this._SCALE - 1), out, color)\n            _AlphaBlend(1, 4, out.Reference(2, this._SCALE - 2), out, color)\n            _AlphaBlend(1, 4, out.Reference(4, this._SCALE - 3), out, color)\n            _AlphaBlend(3, 4, out.Reference(1, this._SCALE - 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(3, this._SCALE - 2), out, color)\n            _AlphaBlend(3, 4, out.Reference(5, this._SCALE - 3), out, color)\n\n            out.SetDstPixel(out.Reference(2, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(3, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(4, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(5, this._SCALE - 1), color)\n\n            out.SetDstPixel(out.Reference(4, this._SCALE - 2), color)\n            out.SetDstPixel(out.Reference(5, this._SCALE - 2), color)\n        }\n\n        BlendLineSteepAndShallow(color, out) {\n            _AlphaBlend(1, 4, out.Reference(0, this._SCALE - 1), out, color)\n            _AlphaBlend(1, 4, out.Reference(2, this._SCALE - 2), out, color)\n            _AlphaBlend(3, 4, out.Reference(1, this._SCALE - 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(3, this._SCALE - 2), out, color)\n\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 1, 0), out, color)\n            _AlphaBlend(1, 4, out.Reference(this._SCALE - 2, 2), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 1, 1), out, color)\n            _AlphaBlend(3, 4, out.Reference(this._SCALE - 2, 3), out, color)\n\n            out.SetDstPixel(out.Reference(2, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(3, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(4, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(5, this._SCALE - 1), color)\n\n            out.SetDstPixel(out.Reference(4, this._SCALE - 2), color)\n            out.SetDstPixel(out.Reference(5, this._SCALE - 2), color)\n\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 2), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, 3), color)\n        }\n\n        BlendLineDiagonal(color, out) {\n            // number型が小数になると値が不安定になるため、小数点以下は切り捨てる\n            _AlphaBlend(\n                1,\n                2,\n                out.Reference(this._SCALE - 1, Math.floor(this._SCALE / 2)),\n                out,\n                color\n            )\n            _AlphaBlend(\n                1,\n                2,\n                out.Reference(this._SCALE - 2, Math.floor(this._SCALE / 2) + 1),\n                out,\n                color\n            )\n            _AlphaBlend(\n                1,\n                2,\n                out.Reference(this._SCALE - 3, Math.floor(this._SCALE / 2) + 2),\n                out,\n                color\n            )\n            out.SetDstPixel(out.Reference(this._SCALE - 2, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, this._SCALE - 1), color)\n            out.SetDstPixel(out.Reference(this._SCALE - 1, this._SCALE - 2), color)\n        }\n\n        BlendCorner(color, out) {\n            // 角の丸み\n            _AlphaBlend(97, 100, out.Reference(5, 5), out, color) // exact: 0.9711013910\n            _AlphaBlend(42, 100, out.Reference(4, 5), out, color) // 0.4236372243\n            _AlphaBlend(42, 100, out.Reference(5, 4), out, color) // 0.4236372243\n            _AlphaBlend(6, 100, out.Reference(5, 3), out, color) // 0.05652034508\n            _AlphaBlend(6, 100, out.Reference(3, 5), out, color) // 0.05652034508\n        }\n    }\n\n    return XBRz.XBRZ(image_data, scale);\n};\n    self.onmessage = function onmessage(event) {\n\n        if (event.data.type === \'imageData\') {\n            const result = xbrzrender(event.data.imageData, event.data.data.scale);\n            self.postMessage([result, event.data.id, event.data.algorithm]);\n        }\n    };\n',functionSize:function(e,t,n){return{width:e*n,height:t*n,arrayBufferLength:e*n*t*n*4}}}},4826:(e,t,n)=>{var r,o,i,a,s;({SIMDopeObjectConf:r,SIMDopeCreateConfRemove:o,SIMDopeCreateConfAdd:i}=n(78805)),({SIMDopeCreate:a}=n(80093)),s=a(r),e.exports={Color:s.Color,Colors:s.Colors,SIMDopeColor:s.SIMDopeColor,SIMDopeColors:s.SIMDopeColors,simdops:s.simdops,SIMDopeConfObject:Object.assign({},r),SIMDopeCreateConfRemove:o,SIMDopeCreateConfAdd:i,SIMDopeCreate:a}},78805:e=>{var t={create:{new_zero:!0,new_splat:!0,new_of:!0,new_safe_of:!0,new_from:!0,new_array:!0,new_array_safe:!0,new_uint32:!0,new_uint32b:!0,new_hsla:!0,new_hex:!0,new_hex_name:!0},properties:{tail:!0,pos:!0,hilbert:!0,lebesgue:!0,moore:!0,uint32:!0,uint32b:!0,hex:!0,ycbcra:!0,laba:!0,hsla:!0,rgbaon4bits:!0,rgbaon6bits:!0,rgbaon8bits:!0,rgbaon12bits:!0,rgbaon16bits:!0,skin:!0},methods:{set:!0,set_from_array:!0,simplify:!0,set_from_simdope:!0,set_from_buffer:!0,get_tail_opacity:!0,get_tail_opacity_and_reset:!0,get_tail:!0,get_tail_and_reset:!0,reset_tail:!0,set_tail:!0,normalize:!0,set_out_of:!0,get_subarray:!0,get_slice:!0,get_buffer:!0,is_skin:!0,is_not_skin:!0,sum_rgba:!0,sum_rgb:!0,average_rgb:!0,is_dark:!0,is_fully_transparent:!0,is_fully_opaque:!0,is_not_fully_transparent:!0,is_not_fully_opaque:!0,match_with:!0,euclidean_match_with:!0,manhattan_match_with:!0,cie76_match_with:!0,set_r:!0,set_g:!0,set_b:!0,set_a:!0,to_greyscale:!0,to_greyscale_luma:!0,multiply_a_255:!0,copy:!0,get_difference_with:!0,merge_with_a_fixed:!0,blend_first_with:!0,blend_all:!0,blend_all_with_tails:!0,blend_with:!0,blend_first_with_tails:!0,get_deduplicated_sorted_uint32a:!0,get_element:!0,get_new_element:!0,get_use_element:!0}};e.exports={SIMDopeObjectConf:t,SIMDopeCreateConfRemove:function(e){var n=Object.assign({},t);return"create"in e&&Object.keys(e.create).forEach((function(e){n.create[e]=!1})),"properties"in e&&Object.keys(e.properties).forEach((function(e){n.properties[e]=!1})),"methods"in e&&Object.keys(e.methods).forEach((function(e){n.methods[e]=!1})),n},SIMDopeCreateConfAdd:function(e){var t={create:{},properties:{},methods:{}};return"create"in e&&Object.keys(e.create).forEach((function(e){t.create[e]=!0})),"properties"in e&&Object.keys(e.properties).forEach((function(e){t.properties[e]=!0})),"methods"in e&&Object.keys(e.methods).forEach((function(e){t.methods[e]=!0})),t}}},80093:(e,t,n)=>{"use strict";var r,o;({SIMDopeObjectConf:r}=n(78805)),o=function(e){return function(e){function t(e){return o(e=(0|e)>>>0,53216044)>>>27>>>0}function n(e,t){return((0|(e=(0|e)>>>0))>(0|(t=(0|t)>>>0))?t:0|e)>>>0}var r={},o=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},i={multiply:function(e,t){return(e*t|0)>>>0},multiply_uint:function(e,t){return(0|o(e=(0|e)>>>0,t=(0|t)>>>0))>>>0},multiply_uint_4:function(e){return(e=(0|e)>>>0)<<2>>>0},divide_uint:function(e,t){return((e=(0|e)>>>0)/(t=(0|t)>>>0)|0)>>>0},divide_2_uint:function(e){return(e=(0|e)>>>0)>>1>>>0},divide_4_uint:function(e){return(e=(0|e)>>>0)>>2>>>0},divide_16_uint:function(e){return(e=(0|e)>>>0)>>4>>>0},divide_32_uint:function(e){return(e=(0|e)>>>0)>>5>>>0},divide_64_uint:function(e){return(e=(0|e)>>>0)>>6>>>0},divide_85_uint:t,divide_128_uint:function(e){return(e=(0|e)>>>0)>>7>>>0},abs_int:function(e){return(0|(e|=0))<0?0|-e:0|e},plus_uint:function(e,t){return((e=(0|e)>>>0)+(t=(0|t)>>>0)|0)>>>0},clamp_int:function(e,t,n){return n|=0,0|((e|=0)<(t|=0)?t:e>n?n:e)},clamp_uint8:function(e){return 255&(0|e)>>>0},inverse_255:function(e){return 255-(e=(0|e)>>>0)&255},divide_255:function(e){return 1+(e=(0|e)>>>0)+(e>>>8)>>>8|0},uint_not_equal:function(e,t){return(0|e)>>>0!=(0|t)>>>0},clamp_uint32:function(e){return(0|(e=(0|e)>>>0))>>>0>>>0},boolean_and:function(e,t){return(e|=0)&&0|t},min_num:function(e,t){return 0|((0|(e|=0))<(0|(t|=0))?e:t)},max_num:function(e,t){return 0|((0|(e|=0))>(0|(t|=0))?e:t)},modulo_int:function(e,t){return(e|=0)%(t|=0)|0},modulo_uint:function(e,t){return((e=(0|e)>>>0)%(t=(0|t)>>>0)|0)>>>0},plus_int:function(e,t){return(e|=0)+(t|=0)|0},minus_int:function(e,t){return(e|=0)-(t|=0)|0},minus_uint:function(e,t){return((e=(0|e)>>>0)-(t=(0|t)>>>0)|0)>>>0},multiply_int:function(e,t){return 0|o(0|(e|=0),0|(t|=0))},divide_int:function(e,t){return(e|=0)/(t|=0)|0},multiply_255:function(e){return((e=(0|e)>>>0)<<8)-e|0},max_int:function(e,t){return 0|((0|(e|=0))>(0|(t|=0))?e:t)},min_int:function(e,t){return 0|((0|(e|=0))>(0|(t|=0))?t:e)},max_uint:function(e,t){return((0|(e=(0|e)>>>0))>(0|(t=(0|t)>>>0))?e:0|t)>>>0},min_uint:n,int_equal:function(e,t){return(0|(e|=0))==(0|t)},int_not_equal:function(e,t){return(0|(e|=0))!=(0|t)},int_less:function(e,t){return(0|(e|=0))<(0|t)},int_less_equal:function(e,t){return(0|(e|=0))<=(0|t)},int_greater:function(e,t){return(0|(e|=0))>(0|t)},int_greater_equal:function(e,t){return(0|(e|=0))>=(0|t)},uint_equal:function(e,t){return(0|(e=(0|e)>>>0))>>>0==(0|(t=(0|t)>>>0))>>>0},uint_less:function(e,t){return(0|(e=(0|e)>>>0))>>>0<(0|(t=(0|t)>>>0))>>>0},uint_less_equal:function(e,t){return(0|(e=(0|e)>>>0))>>>0<=(0|(t=(0|t)>>>0))>>>0},uint_greater:function(e,t){return(0|(e=(0|e)>>>0))>>>0>(0|(t=(0|t)>>>0))>>>0},uint_greater_equal:function(e,t){return(0|(e=(0|e)>>>0))>>>0>=(0|(t=(0|t)>>>0))>>>0},format_int:function(e){return 0|e},format_uint:function(e){return(0|e)>>>0}},a=function(e,r){var i,a,s,l,c,d,h,u,_,f,p,m,g,y,b=e.multiply,x=e.multiply_uint,w=e.multiply_uint_4,A=e.divide_uint,v=e.divide_2_uint,C=e.divide_4_uint,S=e.divide_16_uint,B=e.divide_32_uint,E=e.divide_64_uint,R=e.divide_128_uint,k=e.abs_int,D=e.plus_uint,L=e.clamp_int,P=e.clamp_uint8,z=e.inverse_255,M=e.divide_255,I=e.plus_int,T=e.minus_int,U=e.multiply_255,j=e.max_int,N=e.min_int,O=e.uint_equal,q=e.uint_greater,W=e.format_uint,F=Math.round,G=Math.fround,V=function(e){return 0|o(0|(e|=0),0|e)},X=function(e){var t,n;if(!(0|(e=(0|e)>>>0))||1==(0|e))return 0|e;for(t=1,n=1;(0|n)<=(0|e);)n=((t=(t+1|0)>>>0)*t|0)>>>0;return(t-1|0)>>>0},H=G(.8967),Y=G(1.761),$=G(.342),J=new Float32Array(3);if(J.set(Float32Array.of(H,Y,$),0),i=J.subarray(0,3),a=(0|X(255*H*255+255*Y*255+255*$*255|0))>>>0,s=X(V(100)+V(100)+V(100)),l=(255*H+255*Y+255*$|0)>>>0,c=new Uint8Array(new ArrayBuffer(4)),d=function(e,t){return this instanceof d?(t=w(t),T(e.byteLength,t)<4?this._storage_uint8_=new Uint8Array(new ArrayBuffer(4),0,4):this._storage_uint8_=new Uint8Array(e,t,4),this.tail_=void 0,this.tail_o_=new Uint8Array(1),this):new d(e,t)},r.create.new_zero&&(d.new_zero=function(){return new d(new ArrayBuffer(4))}),r.create.new_splat&&(d.new_splat=function(e){return c.fill(P(e)),new d(c.slice(0,4).buffer)}),(r.create.new_of||r.methods.get_difference_with||r.methods.get_deduplicated_sorted_uint32a)&&(d.new_of=function(e,t,n,r){return c[0]=P(e),c[1]=P(t),c[2]=P(n),c[3]=P(r),new d(c.slice(0,4).buffer)}),r.create.new_safe_of&&(d.new_safe_of=function(e,t,n,r){return c[0]=L(e,0,255),c[1]=L(t,0,255),c[2]=L(n,0,255),c[3]=L(r,0,255),new d(c.slice(0,4).buffer)}),r.create.new_from&&(d.new_from=function(e){return new d(e)}),r.create.new_array&&(d.new_array=function(e){return c[0]=P(e[0]),c[1]=P(e[1]),c[2]=P(e[2]),c[3]=P(e[3]),new d(c.slice(0,4).buffer)}),(r.create.new_array_safe||r.methods.get_deduplicated_sorted_uint32a)&&(d.new_array_safe=function(e){return c[0]=P(L(e[0],0,255)),c[1]=P(L(e[1],0,255)),c[2]=P(L(e[2],0,255)),c[3]=P(L(e[3],0,255)),new d(c.slice(0,4).buffer)}),(r.create.new_uint32||r.methods.get_deduplicated_sorted_uint32a)&&(d.new_uint32=function(e){return new d(Uint32Array.of(0|e).buffer)}),(r.create.new_uint32b||r.create.new_hex||r.methods.get_deduplicated_sorted_uint32a||r.create.new_hex_name)&&(d.new_uint32b=function(e){return new d(new Uint8Array(Uint32Array.of(0|e).buffer).reverse().buffer)}),r.create.new_hex_name){function Z(e){var t,n,r,o,i;if(void 0===e)return"#00000000";if(h.hasOwnProperty(e))return h[e]+"ff";switch(t="",n="",r="",o="",i="#12345678",0|e.length){case 9:i=e;break;case 7:i=e.concat("ff");break;case 5:t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),o=e.charAt(4),i="#".concat(t,t,n,n,r,r,o,o);break;case 4:t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),i="#".concat(t,t,n,n,r,r,"ff")}return i}h={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},d.new_hex=function(e){return d.new_uint32b(parseInt(Z(e).slice(1),16))}}else if(r.create.new_hex||r.methods.get_deduplicated_sorted_uint32a){function K(e){var t,n,r,o,i;if(void 0===e)return"#00000000";switch(t="",n="",r="",o="",i="#12345678",0|e.length){case 9:i=e;break;case 7:i=e.concat("ff");break;case 5:t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),o=e.charAt(4),i="#".concat(t,t,n,n,r,r,o,o);break;case 4:t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),i="#".concat(t,t,n,n,r,r,"ff")}return i}d.new_hex=function(e){return d.new_uint32b(parseInt(K(e).slice(1),16))}}return r.create.new_hsla&&(d.new_hsla=function(e,t,n,r){var o,i,a,s,l;if(e/=360,n/=100,r/=100,0==(t/=100))o=i=a=n;else{function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}o=c(l=2*n-(s=n<.5?n*(1+t):n+t-n*t),s,e+1/3),i=c(l,s,e),a=c(l,s,e-1/3)}return d.new_of(W(255*o),W(255*i),W(255*a),W(255*r))}),(r.properties.tail||r.methods.get_tail||r.methods.get_tail_and_reset||r.methods.reset_tail||r.methods.set_tail)&&Object.defineProperty(d.prototype,"tail",{get:function(){return this.tail_}}),Object.defineProperty(d.prototype,"r",{get:function(){return P(this._storage_uint8_[0])}}),Object.defineProperty(d.prototype,"g",{get:function(){return P(this._storage_uint8_[1])}}),Object.defineProperty(d.prototype,"b",{get:function(){return P(this._storage_uint8_[2])}}),Object.defineProperty(d.prototype,"a",{get:function(){return P(this._storage_uint8_[3])}}),r.properties.pos&&Object.defineProperty(d.prototype,"pos",{get:function(){var e=this.hsla;return(32*e[0]+16*e[2]+8*e[1]|0)>>>0}}),r.properties.hilbert&&Object.defineProperty(d.prototype,"hilbert",{get:function(){var e,t=Uint32Array.of(this.r,this.g,this.b),n=new Uint32Array(4);for(e=7;(0|e)>=0;e=e-1|0)n[1]=1<<e,n[2]=(t[0]&n[1])>0|((t[1]&n[1])>0)<<1|((t[2]&n[1])>0)<<2,0==n[2]&&(n[3]=t[0],t[0]=t[1],t[1]=n[3],t[2]=~t[2]),1==n[2]&&(n[3]=t[0],t[0]=t[1],t[1]=n[3],t[2]=~t[2]),n[0]=n[0]<<3|n[2];return n[0]}}),r.properties.lebesgue&&Object.defineProperty(d.prototype,"lebesgue",{get:function(){var e,t=Uint32Array.of(this.r,this.g,this.b),n=new Uint32Array(2);for(e=7;(0|e)>=0;e=e-1|0)n[1]=1<<e,n[0]=n[0]<<3|(t[0]&n[1])>0|((t[1]&n[1])>0)<<1|((t[2]&n[1])>0)<<2;return n[0]}}),r.properties.moore&&Object.defineProperty(d.prototype,"moore",{get:function(){var e,t=Uint32Array.of(this.r,this.g,this.b),n=new Uint32Array(4);for(e=7;(0|e)>=0;e=e-1|0)n[1]=1<<e,n[2]=(t[0]&n[1])>0|((t[1]&n[1])>0)<<1|((t[2]&n[1])>0)<<2,0==n[2]&&(n[3]=t[0],t[0]=t[2],t[2]=n[3]),n[0]=n[0]<<3|n[2];return n[0]}}),(r.properties.uint32||r.methods.match_with||r.methods.paint_uint32a)&&Object.defineProperty(d.prototype,"uint32",{get:function(){return(this._storage_uint8_[3]<<24|this._storage_uint8_[2]<<16|this._storage_uint8_[1]<<8|this._storage_uint8_[0])>>>0}}),(r.properties.uint32b||r.properties.hex)&&Object.defineProperty(d.prototype,"uint32b",{get:function(){return(this._storage_uint8_[0]<<24|this._storage_uint8_[1]<<16|this._storage_uint8_[2]<<8|this._storage_uint8_[3])>>>0}}),r.properties.hex&&Object.defineProperty(d.prototype,"hex",{get:function(){return"#".concat("00000000".concat(this.uint32b.toString(16)).slice(-8))}}),(r.properties.ycbcra||r.properties.skin||r.methods.is_skin||r.methods.is_not_skin)&&Object.defineProperty(d.prototype,"ycbcra",{get:function(){var e=.299*this.r+.587*this.g+.114*this.b+0,t=-.169*this.r+-.331*this.g+.5*this.b+128,n=.5*this.r+-.419*this.g+-.081*this.b+128,r=this.a;return Uint16Array.of(0|e,0|t,0|n,0|r)}}),(r.properties.laba||r.properties.xyzaD65||r.methods.cie76_match_with)&&(u=Float32Array.of(.4123907992659593,.357584339383878,.1804807884018343,.2126390058715102,.715168678767756,.0721923153607337,.0193308187155918,.119194779794626,.9505321522496607),Object.defineProperty(d.prototype,"xyzaD65",{get:function(){return Float32Array.of(u[0]*this.r+u[1]*this.g+u[2]*this.b,u[3]*this.r+u[4]*this.g+u[5]*this.b,u[6]*this.r+u[7]*this.g+u[8]*this.b,this.a/255)}})),(r.properties.laba||r.methods.cie76_match_with)&&(_=24389/27,f=216/24389,p=function(e){return e>f?Math.cbrt(e):(_*e+16)/116},m=Float32Array.of(.3127/.329,1,.3583/.329),Object.defineProperty(d.prototype,"laba",{get:function(){var e=this.xyzaD65,t=Float32Array.of(p(e[0]/m[0]),p(e[1]/m[1]),p(e[2]/m[2]));return Float32Array.of(116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2]),this.a)}})),(r.properties.hsla||r.properties.pos)&&Object.defineProperty(d.prototype,"hsla",{get:function(){var e,t,n,r,o,i,a=P(this.r),s=P(this.g),l=P(this.b),c=P(this.a);if(c=+c/255,o=((e=Math.max(a=+a/255,s=+s/255,l=+l/255))+(t=Math.min(a,s,l)))/2,e==t)n=r=0;else{switch(i=e-t,r=o>.5?i/(2-e-t):i/(e+t),e){case a:n=(s-l)/i+(s<l?6:0);break;case s:n=(l-a)/i+2;break;case l:n=(a-s)/i+4}n/=6}return Array.of(360*n|0,100*r|0,100*o|0,100*c|0)}}),r.properties.rgbaon4bits&&Object.defineProperty(d.prototype,"rgbaon4bits",{get:function(){return(R(this.r)<<3|R(this.g)<<2|R(this.b)<<1|R(this.a))>>>0}}),r.properties.rgbaon6bits&&Object.defineProperty(d.prototype,"rgbaon6bits",{get:function(){return((16^t(this.r))+(8^t(this.g))+(4^t(this.b))+(0^t(this.a))|0)>>>0}}),r.properties.rgbaon8bits&&Object.defineProperty(d.prototype,"rgbaon8bits",{get:function(){return(E(this.r)<<6|E(this.g)<<4|E(this.b)<<2|E(this.a))>>>0}}),r.properties.rgbaon12bits&&Object.defineProperty(d.prototype,"rgbaon12bits",{get:function(){return(B(this.r)<<9|B(this.g)<<6|B(this.b)<<3|B(this.a))>>>0}}),r.properties.rgbaon16bits&&Object.defineProperty(d.prototype,"rgbaon16bits",{get:function(){return(S(this.r)<<12|S(this.g)<<8|S(this.b)<<4|S(this.a))>>>0}}),(r.properties.skin||r.methods.is_skin||r.methods.is_not_skin)&&Object.defineProperty(d.prototype,"skin",{get:function(){var e=this.ycbcra,t=e[1],n=e[2];return 80<=t&&t<=120&&133<=n&&n<=173}}),Object.defineProperty(d.prototype,"offset",{get:function(){return C(this._storage_uint8_.byteOffset)}}),Object.defineProperty(d.prototype,"slice_",{get:function(){return this._storage_uint8_.slice(0,4)}}),Object.defineProperty(d.prototype,"buffer_",{get:function(){return this._storage_uint8_.buffer.slice(this._storage_uint8_.byteOffset,D(this._storage_uint8_.byteOffset,4))}}),Object.defineProperty(d.prototype,"subarray_",{get:function(){return this._storage_uint8_}}),r.methods.set&&Object.defineProperty(d.prototype,"set",{get:function(){return function(e){e instanceof d?this.set_from_simdope(e):this.set_from_array(e)}}}),(r.methods.set||r.methods.set_from_array||r.methods.blend_all||r.methods.blend_with||r.methods.merge_with_a_fixed)&&Object.defineProperty(d.prototype,"set_from_array",{get:function(){return function(e){this._storage_uint8_.set(e.subarray(0,4),0)}}}),(r.methods.set||r.methods.set_from_simdope||r.methods.blend_all_with_tails||r.methods.blend_with||r.methods.blend_first_with||r.methods.blend||r.methods.copy||r.methods.merge_with_a_fixed||r.methods.get_deduplicated_sorted_uint32a)&&Object.defineProperty(d.prototype,"set_from_simdope",{get:function(){return function(e){this._storage_uint8_[0]=e.r,this._storage_uint8_[1]=e.g,this._storage_uint8_[2]=e.b,this._storage_uint8_[3]=e.a}}}),(r.methods.set_from_buffer||r.methods.get_use_element||r.methods.get_element)&&Object.defineProperty(d.prototype,"set_from_buffer",{get:function(){return function(e,t){t=w(t),T(e.byteLength,t)<4?this._storage_uint8_=new Uint8Array(new ArrayBuffer(4),0,4):this._storage_uint8_=new Uint8Array(e,t,4)}}}),r.methods.get_tail_opacity&&Object.defineProperty(d.prototype,"get_tail_opacity",{get:function(){return function(){return this.tail_o_[0]}}}),(r.methods.get_tail_opacity_and_reset||r.methods.blend_first_with_tails||r.methods.blend_all_with_tails||r.methods.blend_all_with_tails)&&Object.defineProperty(d.prototype,"get_tail_opacity_and_reset",{get:function(){return function(){var e=this.tail_o_[0];return this.tail_o_[0]=0,0|e}}}),(r.methods.get_tail||r.methods.blend_all_with_tails)&&Object.defineProperty(d.prototype,"get_tail",{get:function(){return function(){return this.tail_}}}),(r.methods.get_tail_and_reset||r.methods.blend_first_with_tails||r.methods.blend_all_with_tails)&&Object.defineProperty(d.prototype,"get_tail_and_reset",{get:function(){return function(){var e=this.tail_;return this.tail_=void 0,e}}}),r.methods.reset_tail&&Object.defineProperty(d.prototype,"reset_tail",{get:function(){return function(){this.tail_=void 0,this.tail_o_[0]=0}}}),r.methods.set_tail&&Object.defineProperty(d.prototype,"set_tail",{get:function(){return function(e,t){this.tail_=e,this.tail_o_[0]=P(t)}}}),r.methods.simplify&&Object.defineProperty(d.prototype,"simplify",{get:function(){return function(e){e=G(e),this._storage_uint8_[0]=L(b(F(this.r/e),e),0,255),this._storage_uint8_[1]=L(b(F(this.g/e),e),0,255),this._storage_uint8_[2]=L(b(F(this.b/e),e),0,255)}}}),r.methods.normalize&&Object.defineProperty(d.prototype,"normalize",{get:function(){return function(){var e=this.r+this.g+this.b|0;this._storage_uint8_[0]=L(this.r/e*3|0,0,255),this._storage_uint8_[1]=L(this.g/e*3|0,0,255),this._storage_uint8_[2]=L(this.b/e*3|0,0,255)}}}),r.methods.set_out_of&&Object.defineProperty(d.prototype,"set_out_of",{get:function(){return function(e,t,n,r){return this._storage_uint8_[0]=P(e),this._storage_uint8_[1]=P(t),this._storage_uint8_[2]=P(n),this._storage_uint8_[3]=P(r),this}}}),(r.methods.get_subarray||r.methods.merge_with_a_fixed||r.methods.blend_first_with||r.methods.blend||r.methods.set||r.methods.set_from_simdope||r.methods.blend_all_with_tails||r.methods.copy||r.methods.merge_scale_of_255_a_fixed||r.methods.blend_with||r.methods.get_deduplicated_sorted_uint32a)&&(d.prototype.get_subarray=function(){return this.subarray_}),(r.methods.get_slice||r.methods.with_inverse||r.methods.with_r||r.methods.with_g||r.methods.with_b||r.methods.with_a)&&(d.prototype.get_slice=function(){return this.slice_}),r.methods.get_buffer&&(d.prototype.get_buffer=function(){return this.buffer_}),g=new Float32Array(2),y=new Float64Array(4),r.methods.blend_all&&(d.blend_all=function(e,t,r,o){g[0]=1,g[1]=1,y[0]=e.r,y[1]=e.g,y[2]=e.b,y[3]=e.a;var i,a,s=n(t.length,r.length);for(a=0;a<s;a++)i=t[a],g[1]=G(r[a]),g[0]=G(g[0]+g[1]),y[0]+=i.r*g[1],y[1]+=i.g*g[1],y[2]+=i.b*g[1],y[3]+=i.a*g[1];if(c[0]=F(y[0]/g[0]),c[1]=F(y[1]/g[0]),c[2]=F(y[2]/g[0]),c[3]=F(y[3]/g[0]),e.set_from_array(c),!o)for(a=0;a<s;a++)t[a].set_from_array(c)}),r.methods.blend_first_with_tails&&(d.prototype.blend_first_with_tails=function(e){e|=0;var t=0,n=this.get_tail(),r=this.get_tail_opacity();if(0|e)for(;void 0!==n;)r=P(M(x(n.a,r))),t=P(v(D(this.a,r))),d.merge_scale_of_255_a_fixed_light(this,M(x(this.a,A(U(z(r)),t))),n,A(U(r),t),t),r=n.get_tail_opacity(),n=n.get_tail();else for(;void 0!==n;)r=P(M(x(n.a,r))),t=P(z(M(x(z(r),z(this.a))))),d.merge_scale_of_255_a_fixed_light(this,M(x(this.a,A(U(z(r)),t))),n,A(U(r),t),t),r=n.get_tail_opacity(),n=n.get_tail()}),r.methods.blend_all_with_tails&&(d.prototype.blend_all_with_tails=function(e){e|=0;var t=0,n=this.get_tail(),r=this.get_tail_opacity_and_reset();if(0|e)for(;void 0!==n;)r=P(M(x(n.a,r))),t=P(v(D(this.a,r))),d.merge_scale_of_255_a_fixed_light(this,M(x(this.a,A(U(z(r)),t))),n,A(U(r),t),t),r=n.get_tail_opacity_and_reset(),n=n.get_tail();else for(;void 0!==n;)r=P(M(x(n.a,r))),t=P(z(M(x(z(r),z(this.a))))),d.merge_scale_of_255_a_fixed_light(this,M(x(this.a,A(U(z(r)),t))),n,A(U(r),t),t),r=n.get_tail_opacity_and_reset(),n=n.get_tail();for(n=this.get_tail_and_reset();void 0!==n;)n.set_from_simdope(this),n=n.get_tail_and_reset()}),r.methods.blend_with&&(d.prototype.blend_with=function(e,t,n,r){return n|=0,r|=0,t|=0,e.multiply_a_255(0|t),0|n?(this.is_fully_transparent()?e.set_from_simdope(e):e.is_fully_transparent()&&this.set_from_simdope(e),this):(t=P(0|r?v(D(this.a,e.a)):z(M(x(z(e.a),z(this.a))))),d.merge_scale_of_255_a_fixed(this,M(x(this.a,A(U(z(e.a)),t))),e,A(U(e.a),t),t),this)}),(r.methods.blend_first_with||r.methods.blend||r.methods.get_deduplicated_sorted_uint32a)&&(d.prototype.blend_first_with=function(e,t,n,r){n|=0,r|=0,t|=0;var o=M(x(e.a,t));return 0|n?(this.is_fully_transparent()?e.set_from_simdope(this):0|o||this.set_from_simdope(e),this):(t=P(0|r?v(D(this.a,o)):z(M(x(z(o),z(this.a))))),d.merge_scale_of_255_a_fixed_light(this,M(x(this.a,A(U(z(o)),t))),e,M(x(o,A(U(o),t))),t),this)}),r.methods.is_skin&&(d.prototype.is_skin=function(){return this.skin}),r.methods.is_not_skin&&(d.prototype.is_not_skin=function(){return!this.skin}),r.methods.sum_rgba&&(d.prototype.sum_rgba=function(){return D(D(this.r,this.g),D(this.b,this.a))}),(r.methods.sum_rgb||r.methods.average_rgb||r.methods.is_dark||r.methods.to_greyscale)&&(d.prototype.sum_rgb=function(){return D(D(this.r,this.g),this.b)}),(r.methods.average_rgb||r.methods.is_dark||r.methods.to_greyscale)&&(d.prototype.average_rgb=function(){return P(A(this.sum_rgb(),3))}),r.methods.is_dark&&(d.prototype.is_dark=function(){return q(M(x(z(this.average_rgb()),this.a)),128)}),(r.methods.is_fully_transparent||r.methods.is_not_fully_transparent||r.methods.blend_with||r.methods.blend_first_with||r.methods.blend)&&(d.prototype.is_fully_transparent=function(){return O(this.a,0)}),(r.methods.is_fully_opaque||r.methods.is_not_fully_opaque||r.methods.blend_first_with)&&(d.prototype.is_fully_opaque=function(){return O(this.a,255)}),r.methods.is_not_fully_transparent&&(d.prototype.is_not_fully_transparent=function(){return!this.is_fully_transparent()}),r.methods.is_not_fully_opaque&&(d.prototype.is_not_fully_opaque=function(){return!this.is_fully_opaque()}),(r.methods.match_with||r.methods.match)&&(d.prototype.match_with=function(e,t){return 255==(t=(0|t)>>>0)||(0===t?this.uint32==e.uint32:k(this.r-e.r|0)<(0|t)&&k(this.g-e.g|0)<(0|t)&&k(this.b-e.b|0)<(0|t)&&k(this.a-e.a|0)<(0|t))}),r.methods.euclidean_match_with&&(d.prototype.euclidean_match_with=function(e,t){t=G(void 0!==t?t:-1);var n=G(X(i[0]*V(this.r-e.r|0)+i[1]*V(this.g-e.g|0)+i[2]*V(this.b-e.b|0)|0)/a*G(1-k(this.a-e.a)/255));return t<=-1?n:n<t}),r.methods.manhattan_match_with&&(d.prototype.manhattan_match_with=function(e,t){t=G(void 0!==t?t:-1);var n=G(G(i[0]*k(this.r-e.r|0)+i[1]*k(this.g-e.g|0)+i[2]*k(this.b-e.b|0))/l*G(1-k(this.a-e.a)/255));return t<=-1?n:n<t}),r.methods.cie76_match_with&&(d.prototype.cie76_match_with=function(e,t){var n,r,o;return t=G(void 0!==t?t:-1),n=this.laba,r=e.laba,o=G(G(X(V(n[0]-r[0])+V(n[1]-r[1])+V(n[2]-r[2]))/s)*G(1-k(this.a-e.a|0)/255)),t<=-1?o:o<t}),r.methods.set_r&&(d.prototype.set_r=function(e){return this.subarray_[0]=P(e),this}),r.methods.set_g&&(d.prototype.set_g=function(e){return this.subarray_[1]=P(e),this}),r.methods.set_b&&(d.prototype.set_b=function(e){return this.subarray_[2]=P(e),this}),r.methods.set_a&&(d.prototype.set_a=function(e){return this.subarray_[3]=P(e),this}),r.methods.to_greyscale&&(d.prototype.to_greyscale=function(e){var t=this.subarray_;return t[0]=t[1]=t[2]=this.average_rgb(),this}),r.methods.to_greyscale_luma&&(d.prototype.to_greyscale_luma=function(e){var t=this.subarray_;return t[0]=t[1]=t[2]=P((this.r*i[0]+this.g*i[1]+this.b*i[2])/3|0),this}),(r.methods.blend_with||r.methods.multiply_a_255)&&(d.prototype.multiply_a_255=function(e){this.subarray_[3]=P(M(x(0|this.a,0|e)))}),(r.methods.copy||r.methods.blend||r.methods.get_deduplicated_sorted_uint32a)&&(d.prototype.copy=function(e){return void 0!==e&&e instanceof d?(e.set_from_simdope(this),e):new d(this.slice_.buffer)}),r.methods.with_r&&(d.with_r=function(e,t){var n=e.get_slice();return n[0]=P(t),new d(n.buffer)}),r.methods.with_g&&(d.with_g=function(e,t){var n=e.get_slice();return n[1]=P(t),new d(n.buffer)}),r.methods.with_b&&(d.with_b=function(e,t){var n=e.get_slice();return n[2]=P(t),new d(n.buffer)}),r.methods.with_a&&(d.with_a=function(e,t){var n=e.get_slice();return n[3]=P(t),new d(n.buffer)}),r.methods.with_inverse&&(d.with_inverse=function(e){var t=e.get_slice();return t[0]=z(t[0]),t[1]=z(t[1]),t[2]=z(t[2]),t[3]=z(t[3]),new d(t.buffer)}),r.methods.match&&(d.match=function(e,t,n){return e.match_with(t,n)}),r.methods.blend&&(d.blend=function(e,t,n,r,o){return e.copy().blend_first_with(t,n,r,o)}),r.methods.merge_with_a_fixed&&(d.prototype.merge_with_a_fixed=function(e,t){t=P(t);var n=this.subarray_;n[0]=D(this.r,e.r),n[1]=D(this.g,e.g),n[2]=D(this.b,e.b),n[3]=P(t),e.set_from_simdope(this)}),(r.methods.merge_scale_of_255_a_fixed||r.methods.blend_with)&&(d.merge_scale_of_255_a_fixed=function(e,t,n,r,o){var i,a;t=P(t),r=P(r),o=P(o),i=e.get_subarray(),a=n.get_subarray(),i[0]=M(x(e.r,t)),i[1]=M(x(e.g,t)),i[2]=M(x(e.b,t)),a[0]=M(x(n.r,r)),a[1]=M(x(n.g,r)),a[2]=M(x(n.b,r)),i[0]=D(e.r,n.r),i[1]=D(e.g,n.g),i[2]=D(e.b,n.b),i[3]=P(o),a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3]}),(r.methods.merge_scale_of_255_a_fixed_light||r.methods.blend_first_with||r.methods.blend||r.methods.get_deduplicated_sorted_uint32a)&&(d.merge_scale_of_255_a_fixed_light=function(e,t,n,r,o){t=P(t),r=P(r),o=P(o);var i=e.get_subarray();i[0]=D(M(x(e.r,t)),M(x(n.r,r))),i[1]=D(M(x(e.g,t)),M(x(n.g,r))),i[2]=D(M(x(e.b,t)),M(x(n.b,r))),i[3]=P(o)}),r.methods.scale_rgb_of_on_255&&(d.scale_rgb_of_on_255=function(e,t,n,r){var o=e.get_subarray();o[0]=M(x(e.r,t)),o[1]=M(x(e.g,n)),o[2]=M(x(e.b,r))}),r.methods.merge_with_a_fixed&&(d.merge_with_a_fixed=function(e,t,n){var r=e.get_subarray();r[0]=D(e.r,t.r),r[1]=D(e.g,t.g),r[2]=D(e.b,t.b),r[3]=P(n),t.set_from_array(r)}),r.methods.get_difference_with&&(d.prototype.get_difference_with=function(e){return d.new_of(k(this.r,e.r),k(this.g,e.g),k(this.b,e.b),k(this.a,e.a))}),r.methods.plus&&(d.plus=function(e,t){return c[3]=P(N(255,I(e.r,t.r))),c[2]=P(N(255,I(e.g,t.g))),c[1]=P(N(255,I(e.b,t.b))),c[0]=P(N(255,I(e.a,t.a))),new d(c.slice(0,4).buffer)}),r.methods.minus&&(d.minus=function(e,t){return c[3]=P(j(0,T(e.r,t.r))),c[2]=P(j(0,T(e.g,t.g))),c[1]=P(j(0,T(e.b,t.b))),c[0]=P(j(0,T(e.a,t.a))),new d(c.slice(0,4).buffer)}),r.methods.average&&(d.average=function(e,t){return c[3]=P(v(D(e.r,t.r))),c[2]=P(v(D(e.g,t.g))),c[1]=P(v(D(e.b,t.b))),c[0]=P(v(D(e.a,t.a))),new d(c.slice(0,4).buffer)}),d}(i,e),s=function(e,t){var n=e.multiply_uint_4,r=e.divide_4_uint,o=e.plus_uint,i=e.clamp_uint8,s=e.clamp_uint32,l=function(e,t,n){return this instanceof l?(t|=0,void 0!==e?(void 0!==e.data?(n=0|n||0|e.data.buffer.byteLength,this._storage_uint8_array_=new Uint8Array(e.data.buffer,t,n),this._storage_uint32_array_=new Uint32Array(e.data.buffer,t,r(n))):e.buffer instanceof ArrayBuffer?(n=0|n||0|e.buffer.byteLength,this._storage_uint8_array_=new Uint8Array(e.buffer,t,n),this._storage_uint32_array_=new Uint32Array(e.buffer,t,r(n))):e instanceof ArrayBuffer?(n=0|n||0|e.byteLength,this._storage_uint8_array_=new Uint8Array(e,t,n),this._storage_uint32_array_=new Uint32Array(e,t,r(n))):(e=Uint32Array.from(e),n=0|n||0|e.buffer.byteLength,this._storage_uint8_array_=new Uint8Array(e.buffer,t,n),this._storage_uint32_array_=new Uint32Array(e.buffer,t,r(n))),this):null):new l(e)};return Object.defineProperty(l.prototype,"length",{get:function(){return this._storage_uint32_array_.length}}),Object.defineProperty(l.prototype,"buffer_",{get:function(){return this._storage_uint8_array_.buffer}}),Object.defineProperty(l.prototype,"buffer_setUint8",{get:function(){return function(e,t){return this._storage_uint8_array_[0|e]=i(0|t)}}}),Object.defineProperty(l.prototype,"get_deduplicated_uint32a",{get:function(){return function(e){return Uint32Array.from(new Set(this._storage_uint32_array_))}}}),Object.defineProperty(l.prototype,"get_colors_count",{get:function(){return function(e){for(var t=0,n=this._storage_uint32_array_.length,r=new Uint32Array(e.length),i=-1;(0|t)<(0|n);t=o(t,1))-1!=(0|(i=e.indexOf(this._storage_uint32_array_[0|t])))&&(r[i]=(r[i]+1|0)>>>0);return r}}}),t.methods.get_deduplicated_sorted_uint32a&&Object.defineProperty(l.prototype,"get_deduplicated_sorted_uint32a",{get:function(){return function(e,t,n){var r,o,i=this.get_deduplicated_uint32a(),s=0|i.length,l=this.get_colors_count(i),c=Array(s).fill(null).map((function(e,t){return{color:a.new_uint32(i[0|t]),count:l[0|t]}}));return e=0|e||s,t=t instanceof a?t:void 0===t?a.new_of(255,255,255,255):"string"==typeof t?a.new_hex(t):"object"==typeof t?a.new_array_safe(t):a.new_uint32(t),n=void 0===n?"hilbert":"moore"===n?"moore":"lebesgue",r=new a(new ArrayBuffer(4)),new a(new ArrayBuffer(4)),c.sort((function(e,t){return e.count-t.count|0})),(o=(c=c.slice(0,Math.min(0|e,c.length))).map((function(e){var o=t.copy(r).blend_first_with(e.color,255),i=o[n];return{color:o.uint32,index:i,originalColor:e.color.uint32}}))).sort((function(e,t){return e.index-t.index|0})),Uint32Array.from(o.map((function(e){return e.originalColor})))}}}),Object.defineProperty(l.prototype,"buffer_getUint8",{get:function(){return function(e){return this._storage_uint8_array_[0|e]}}}),Object.defineProperty(l.prototype,"buffer_getUint8a",{get:function(){return function(e,t){return t=o(e|=0,n(t=(t|=0)||1)),this._storage_uint8_array_.subarray(e,t)}}}),Object.defineProperty(l.prototype,"buffer_setUint32",{get:function(){return function(e,t){this._storage_uint32_array_[0|e]=s(t)}}}),Object.defineProperty(l.prototype,"buffer_getUint32",{get:function(){return function(e){return this._storage_uint32_array_[0|e]}}}),Object.defineProperty(l.prototype,"subarray_uint32",{get:function(){return function(e,t){return e|=0,t=(t|=0)||this.length,this._storage_uint32_array_.subarray(e,t)}}}),Object.defineProperty(l.prototype,"slice_uint32",{get:function(){return function(e,t){return e|=0,t=(t|=0)||this.length,this._storage_uint32_array_.slice(e,t)}}}),Object.defineProperty(l.prototype,"subarray_uint8",{get:function(){return function(e,t){return e|=0,t|=0,this._storage_uint8_array_.subarray(n(e),n(t))}}}),Object.defineProperty(l.prototype,"slice_uint8",{get:function(){return function(e,t){return e|=0,t|=0,this._storage_uint8_array_.slice(n(e),n(t))}}}),l.prototype.get_image_data=function(){return new Uint8Array(this.slice_uint32(0,this.length).buffer)},l.prototype.get_hex=function(){var e,t=Array(this.length),n=new a(new ArrayBuffer(4));for(e=0;(0|e)<(0|this.length);e=e+1|0)t[e]=this.get_use_element(e,n).hex;return t},l.prototype.get_properties=function(e){var t,n,r;for(e=""+e,t=Array(this.length),n=new a(new ArrayBuffer(4)),r=0;(0|r)<(0|this.length);r=r+1|0)t[r]=this.get_use_element(r,n)[e];return t},t.methods.get_element&&(l.prototype.get_element=function(e,t){return void 0!==t?(t.set_from_buffer(this.buffer_,0|e),t):new a(this.buffer_,0|e)}),l.prototype.get_new_element=function(e){return new a(this.buffer_,0|e)},t.methods.get_use_element&&(l.prototype.get_use_element=function(e,t){return t.set_from_buffer(this.buffer_,0|e),t}),l.prototype.subarray=function(e,t){return this.buffer_getUint8a(0|e,0|t)},l.prototype.set_element=function(e,t){this.buffer_setUint32(0|e,s(t.uint32))},l.prototype.set_uint32_element=function(e,t){this.buffer_setUint32(0|e,s(t))},l.prototype.get_uint32_element=function(e){return e|=0,this.buffer_getUint32(e)},l.prototype.get_sub_uint8a=function(e,t){return e|=0,t|=0,this.buffer_getUint8a(n(e),t)},l.prototype.get_slice_uint8a=function(e,t){return e|=0,t|=0,this.buffer_getUint8a(n(e),t).slice(0,n(t||1))},l.prototype.get_buffer=function(e,t){return e|=0,t|=0,this.buffer_getUint8a(n(e),t).buffer},l}(i,e);return r.simdops=i,r.Color=a,r.SIMDopeColor=a,r.Colors=s,r.SIMDopeColors=s,r}(e=Object.assign({create:{},properties:{},methods:{}},e=void 0===e?r:e))},e.exports={SIMDopeCreate:o}},29134:(e,t,n)=>{e.exports={h32:n(72492),h64:n(47470)}},72492:(e,t,n)=>{function r(){return 2==arguments.length?new r(arguments[1]).update(arguments[0]).digest():this instanceof r?void o.call(this,arguments[0]):new r(arguments[0])}function o(e){return this.seed=e instanceof h?e.clone():h(e),this.v1=this.seed.clone().add(i).add(a),this.v2=this.seed.clone().add(a),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(i),this.total_len=0,this.memsize=0,this.memory=null,this}var i,a,s,l,c,d=n(48287).Buffer,h=n(87898).UINT32;h.prototype.xxh_update=function(e,t){var n,r,o,s=a._low,l=a._high,c=e*s,d=c>>>16;d+=t*s,d&=65535,d+=e*l,r=(n=this._low+(65535&c))>>>16,r=(o=(o=(r+=this._high+(65535&d))<<16|65535&n)<<13|o>>>19)>>>16,d=(c=(n=65535&o)*(s=i._low))>>>16,d+=r*s,d&=65535,d+=n*(l=i._high),this._low=65535&c,this._high=65535&d},i=h("2654435761"),a=h("2246822519"),s=h("3266489917"),l=h("668265263"),c=h("374761393"),r.prototype.init=o,r.prototype.update=function(e){var t,n,r,o,i,a,s="string"==typeof e;if(s&&(e=function(e){var t,n,r,o=[];for(t=0,n=e.length;t<n;t++)(r=e.charCodeAt(t))<128?o.push(r):r<2048?o.push(192|r>>6,128|63&r):r<55296||r>=57344?o.push(224|r>>12,128|r>>6&63,128|63&r):(t++,r=65536+((1023&r)<<10|1023&e.charCodeAt(t)),o.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r));return new Uint8Array(o)}(e),s=!1,t=!0),"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&(t=!0,e=new Uint8Array(e)),o=(n=0)+(r=e.length),0==r)return this;if(this.total_len+=r,0==this.memsize&&(this.memory=s?"":t?new Uint8Array(16):new d(16)),this.memsize+r<16)return s?this.memory+=e:t?this.memory.set(e.subarray(0,r),this.memsize):e.copy(this.memory,this.memsize,0,r),this.memsize+=r,this;if(this.memsize>0&&(s?this.memory+=e.slice(0,16-this.memsize):t?this.memory.set(e.subarray(0,16-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,16-this.memsize),i=0,s?(this.v1.xxh_update(this.memory.charCodeAt(i+1)<<8|this.memory.charCodeAt(i),this.memory.charCodeAt(i+3)<<8|this.memory.charCodeAt(i+2)),i+=4,this.v2.xxh_update(this.memory.charCodeAt(i+1)<<8|this.memory.charCodeAt(i),this.memory.charCodeAt(i+3)<<8|this.memory.charCodeAt(i+2)),i+=4,this.v3.xxh_update(this.memory.charCodeAt(i+1)<<8|this.memory.charCodeAt(i),this.memory.charCodeAt(i+3)<<8|this.memory.charCodeAt(i+2)),i+=4,this.v4.xxh_update(this.memory.charCodeAt(i+1)<<8|this.memory.charCodeAt(i),this.memory.charCodeAt(i+3)<<8|this.memory.charCodeAt(i+2))):(this.v1.xxh_update(this.memory[i+1]<<8|this.memory[i],this.memory[i+3]<<8|this.memory[i+2]),i+=4,this.v2.xxh_update(this.memory[i+1]<<8|this.memory[i],this.memory[i+3]<<8|this.memory[i+2]),i+=4,this.v3.xxh_update(this.memory[i+1]<<8|this.memory[i],this.memory[i+3]<<8|this.memory[i+2]),i+=4,this.v4.xxh_update(this.memory[i+1]<<8|this.memory[i],this.memory[i+3]<<8|this.memory[i+2])),n+=16-this.memsize,this.memsize=0,s&&(this.memory="")),n<=o-16){a=o-16;do{s?(this.v1.xxh_update(e.charCodeAt(n+1)<<8|e.charCodeAt(n),e.charCodeAt(n+3)<<8|e.charCodeAt(n+2)),n+=4,this.v2.xxh_update(e.charCodeAt(n+1)<<8|e.charCodeAt(n),e.charCodeAt(n+3)<<8|e.charCodeAt(n+2)),n+=4,this.v3.xxh_update(e.charCodeAt(n+1)<<8|e.charCodeAt(n),e.charCodeAt(n+3)<<8|e.charCodeAt(n+2)),n+=4,this.v4.xxh_update(e.charCodeAt(n+1)<<8|e.charCodeAt(n),e.charCodeAt(n+3)<<8|e.charCodeAt(n+2))):(this.v1.xxh_update(e[n+1]<<8|e[n],e[n+3]<<8|e[n+2]),n+=4,this.v2.xxh_update(e[n+1]<<8|e[n],e[n+3]<<8|e[n+2]),n+=4,this.v3.xxh_update(e[n+1]<<8|e[n],e[n+3]<<8|e[n+2]),n+=4,this.v4.xxh_update(e[n+1]<<8|e[n],e[n+3]<<8|e[n+2])),n+=4}while(n<=a)}return n<o&&(s?this.memory+=e.slice(n):t?this.memory.set(e.subarray(n,o),this.memsize):e.copy(this.memory,this.memsize,n,o),this.memsize=o-n),this},r.prototype.digest=function(){var e,t,n=this.memory,r="string"==typeof n,o=0,d=this.memsize,u=new h;for((e=this.total_len>=16?this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):this.seed.clone().add(c)).add(u.fromNumber(this.total_len));o<=d-4;)r?u.fromBits(n.charCodeAt(o+1)<<8|n.charCodeAt(o),n.charCodeAt(o+3)<<8|n.charCodeAt(o+2)):u.fromBits(n[o+1]<<8|n[o],n[o+3]<<8|n[o+2]),e.add(u.multiply(s)).rotl(17).multiply(l),o+=4;for(;o<d;)u.fromBits(r?n.charCodeAt(o++):n[o++],0),e.add(u.multiply(c)).rotl(11).multiply(i);return t=e.clone().shiftRight(15),e.xor(t).multiply(a),t=e.clone().shiftRight(13),e.xor(t).multiply(s),t=e.clone().shiftRight(16),e.xor(t),this.init(this.seed),e},e.exports=r},47470:(e,t,n)=>{function r(){return 2==arguments.length?new r(arguments[1]).update(arguments[0]).digest():this instanceof r?void o.call(this,arguments[0]):new r(arguments[0])}function o(e){return this.seed=e instanceof a?e.clone():a(e),this.v1=this.seed.clone().add(s).add(l),this.v2=this.seed.clone().add(l),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(s),this.total_len=0,this.memsize=0,this.memory=null,this}var i=n(48287).Buffer,a=n(87898).UINT64,s=a("11400714785074694791"),l=a("14029467366897019727"),c=a("1609587929392839161"),d=a("9650029242287828579"),h=a("2870177450012600261");r.prototype.init=o,r.prototype.update=function(e){var t,n,r,o,c,d,h,u="string"==typeof e;if(u&&(e=function(e){var t,n,r,o=[];for(t=0,n=e.length;t<n;t++)(r=e.charCodeAt(t))<128?o.push(r):r<2048?o.push(192|r>>6,128|63&r):r<55296||r>=57344?o.push(224|r>>12,128|r>>6&63,128|63&r):(t++,r=65536+((1023&r)<<10|1023&e.charCodeAt(t)),o.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r));return new Uint8Array(o)}(e),u=!1,t=!0),"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&(t=!0,e=new Uint8Array(e)),o=(n=0)+(r=e.length),0==r)return this;if(this.total_len+=r,0==this.memsize&&(this.memory=u?"":t?new Uint8Array(32):new i(32)),this.memsize+r<32)return u?this.memory+=e:t?this.memory.set(e.subarray(0,r),this.memsize):e.copy(this.memory,this.memsize,0,r),this.memsize+=r,this;if(this.memsize>0&&(u?this.memory+=e.slice(0,32-this.memsize):t?this.memory.set(e.subarray(0,32-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,32-this.memsize),c=0,u?(d=a(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2),this.memory.charCodeAt(c+5)<<8|this.memory.charCodeAt(c+4),this.memory.charCodeAt(c+7)<<8|this.memory.charCodeAt(c+6)),this.v1.add(d.multiply(l)).rotl(31).multiply(s),c+=8,d=a(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2),this.memory.charCodeAt(c+5)<<8|this.memory.charCodeAt(c+4),this.memory.charCodeAt(c+7)<<8|this.memory.charCodeAt(c+6)),this.v2.add(d.multiply(l)).rotl(31).multiply(s),c+=8,d=a(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2),this.memory.charCodeAt(c+5)<<8|this.memory.charCodeAt(c+4),this.memory.charCodeAt(c+7)<<8|this.memory.charCodeAt(c+6)),this.v3.add(d.multiply(l)).rotl(31).multiply(s),c+=8,d=a(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2),this.memory.charCodeAt(c+5)<<8|this.memory.charCodeAt(c+4),this.memory.charCodeAt(c+7)<<8|this.memory.charCodeAt(c+6)),this.v4.add(d.multiply(l)).rotl(31).multiply(s)):(d=a(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2],this.memory[c+5]<<8|this.memory[c+4],this.memory[c+7]<<8|this.memory[c+6]),this.v1.add(d.multiply(l)).rotl(31).multiply(s),c+=8,d=a(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2],this.memory[c+5]<<8|this.memory[c+4],this.memory[c+7]<<8|this.memory[c+6]),this.v2.add(d.multiply(l)).rotl(31).multiply(s),c+=8,d=a(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2],this.memory[c+5]<<8|this.memory[c+4],this.memory[c+7]<<8|this.memory[c+6]),this.v3.add(d.multiply(l)).rotl(31).multiply(s),c+=8,d=a(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2],this.memory[c+5]<<8|this.memory[c+4],this.memory[c+7]<<8|this.memory[c+6]),this.v4.add(d.multiply(l)).rotl(31).multiply(s)),n+=32-this.memsize,this.memsize=0,u&&(this.memory="")),n<=o-32){h=o-32;do{u?(d=a(e.charCodeAt(n+1)<<8|e.charCodeAt(n),e.charCodeAt(n+3)<<8|e.charCodeAt(n+2),e.charCodeAt(n+5)<<8|e.charCodeAt(n+4),e.charCodeAt(n+7)<<8|e.charCodeAt(n+6)),this.v1.add(d.multiply(l)).rotl(31).multiply(s),n+=8,d=a(e.charCodeAt(n+1)<<8|e.charCodeAt(n),e.charCodeAt(n+3)<<8|e.charCodeAt(n+2),e.charCodeAt(n+5)<<8|e.charCodeAt(n+4),e.charCodeAt(n+7)<<8|e.charCodeAt(n+6)),this.v2.add(d.multiply(l)).rotl(31).multiply(s),n+=8,d=a(e.charCodeAt(n+1)<<8|e.charCodeAt(n),e.charCodeAt(n+3)<<8|e.charCodeAt(n+2),e.charCodeAt(n+5)<<8|e.charCodeAt(n+4),e.charCodeAt(n+7)<<8|e.charCodeAt(n+6)),this.v3.add(d.multiply(l)).rotl(31).multiply(s),n+=8,d=a(e.charCodeAt(n+1)<<8|e.charCodeAt(n),e.charCodeAt(n+3)<<8|e.charCodeAt(n+2),e.charCodeAt(n+5)<<8|e.charCodeAt(n+4),e.charCodeAt(n+7)<<8|e.charCodeAt(n+6)),this.v4.add(d.multiply(l)).rotl(31).multiply(s)):(d=a(e[n+1]<<8|e[n],e[n+3]<<8|e[n+2],e[n+5]<<8|e[n+4],e[n+7]<<8|e[n+6]),this.v1.add(d.multiply(l)).rotl(31).multiply(s),d=a(e[(n+=8)+1]<<8|e[n],e[n+3]<<8|e[n+2],e[n+5]<<8|e[n+4],e[n+7]<<8|e[n+6]),this.v2.add(d.multiply(l)).rotl(31).multiply(s),d=a(e[(n+=8)+1]<<8|e[n],e[n+3]<<8|e[n+2],e[n+5]<<8|e[n+4],e[n+7]<<8|e[n+6]),this.v3.add(d.multiply(l)).rotl(31).multiply(s),d=a(e[(n+=8)+1]<<8|e[n],e[n+3]<<8|e[n+2],e[n+5]<<8|e[n+4],e[n+7]<<8|e[n+6]),this.v4.add(d.multiply(l)).rotl(31).multiply(s)),n+=8}while(n<=h)}return n<o&&(u?this.memory+=e.slice(n):t?this.memory.set(e.subarray(n,o),this.memsize):e.copy(this.memory,this.memsize,n,o),this.memsize=o-n),this},r.prototype.digest=function(){var e,t,n=this.memory,r="string"==typeof n,o=0,i=this.memsize,u=new a;for(this.total_len>=32?((e=this.v1.clone().rotl(1)).add(this.v2.clone().rotl(7)),e.add(this.v3.clone().rotl(12)),e.add(this.v4.clone().rotl(18)),e.xor(this.v1.multiply(l).rotl(31).multiply(s)),e.multiply(s).add(d),e.xor(this.v2.multiply(l).rotl(31).multiply(s)),e.multiply(s).add(d),e.xor(this.v3.multiply(l).rotl(31).multiply(s)),e.multiply(s).add(d),e.xor(this.v4.multiply(l).rotl(31).multiply(s)),e.multiply(s).add(d)):e=this.seed.clone().add(h),e.add(u.fromNumber(this.total_len));o<=i-8;)r?u.fromBits(n.charCodeAt(o+1)<<8|n.charCodeAt(o),n.charCodeAt(o+3)<<8|n.charCodeAt(o+2),n.charCodeAt(o+5)<<8|n.charCodeAt(o+4),n.charCodeAt(o+7)<<8|n.charCodeAt(o+6)):u.fromBits(n[o+1]<<8|n[o],n[o+3]<<8|n[o+2],n[o+5]<<8|n[o+4],n[o+7]<<8|n[o+6]),u.multiply(l).rotl(31).multiply(s),e.xor(u).rotl(27).multiply(s).add(d),o+=8;for(o+4<=i&&(r?u.fromBits(n.charCodeAt(o+1)<<8|n.charCodeAt(o),n.charCodeAt(o+3)<<8|n.charCodeAt(o+2),0,0):u.fromBits(n[o+1]<<8|n[o],n[o+3]<<8|n[o+2],0,0),e.xor(u.multiply(s)).rotl(23).multiply(l).add(c),o+=4);o<i;)u.fromBits(r?n.charCodeAt(o++):n[o++],0,0,0),e.xor(u.multiply(h)).rotl(11).multiply(s);return t=e.clone().shiftRight(33),e.xor(t).multiply(l),t=e.clone().shiftRight(29),e.xor(t).multiply(c),t=e.clone().shiftRight(32),e.xor(t),this.init(this.seed),e},e.exports=r},58640:(e,t,n)=>{"use strict";async function r(){function e(e,t){if(s.buffer.byteLength<e+t){const n=Math.ceil((e+t-s.buffer.byteLength)/65536);s.grow(n),m=new Uint8Array(s.buffer)}}function t(t,n,r,o,i,a){e(t);const s=new Uint8Array(t);return m.set(s),r(0,n),s.set(m.slice(0,t)),{update(n){let r;return m.set(s),"string"==typeof n?(e(3*n.length,t),r=y.encodeInto(n,m.subarray(t)).written):(e(n.byteLength,t),m.set(n,t),r=n.byteLength),o(0,t,r),s.set(m.slice(0,t)),this},digest:()=>(m.set(s),a(i(0)))}}function n(e){return e>>>0}function r(e){return e&g}function i(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e(3*t.length,0),n(l(0,y.encodeInto(t,m).written,r))}function a(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0n;return e(3*t.length,0),r(c(0,y.encodeInto(t,m).written,n))}const{instance:{exports:{mem:s,xxh32:l,xxh64:c,init32:d,update32:h,digest32:u,init64:_,update64:f,digest64:p}}}=await WebAssembly.instantiate(o);let m=new Uint8Array(s.buffer);const g=2n**64n-1n,y=new TextEncoder;return{h32:i,h32ToString(e){return i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0).toString(16).padStart(8,"0")},h32Raw(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e(t.byteLength,0),m.set(t),n(l(0,t.byteLength,r))},create32(){return t(48,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d,h,u,n)},h64:a,h64ToString(e){return a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0n).toString(16).padStart(16,"0")},h64Raw(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0n;return e(t.byteLength,0),m.set(t),r(c(0,t.byteLength,n))},create64(){return t(88,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0n,_,f,p,r)}}}n.d(t,{A:()=>r});const o=new Uint8Array([0,97,115,109,1,0,0,0,1,48,8,96,3,127,127,127,0,96,3,127,127,127,1,127,96,2,127,127,0,96,2,127,126,0,96,1,127,1,127,96,1,127,1,126,96,3,127,127,126,1,126,96,3,126,127,127,1,126,3,11,10,1,1,2,0,4,6,7,3,0,5,5,3,1,0,1,7,85,9,3,109,101,109,2,0,5,120,120,104,51,50,0,0,6,105,110,105,116,51,50,0,2,8,117,112,100,97,116,101,51,50,0,3,8,100,105,103,101,115,116,51,50,0,4,5,120,120,104,54,52,0,5,6,105,110,105,116,54,52,0,7,8,117,112,100,97,116,101,54,52,0,8,8,100,105,103,101,115,116,54,52,0,9,10,211,23,10,242,1,1,4,127,32,0,32,1,106,33,3,32,1,65,16,79,4,127,32,3,65,16,107,33,6,32,2,65,168,136,141,161,2,106,33,3,32,2,65,247,148,175,175,120,106,33,4,32,2,65,177,243,221,241,121,107,33,5,3,64,32,0,40,2,0,65,247,148,175,175,120,108,32,3,106,65,13,119,65,177,243,221,241,121,108,33,3,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,32,4,106,65,13,119,65,177,243,221,241,121,108,33,4,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,32,2,106,65,13,119,65,177,243,221,241,121,108,33,2,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,32,5,106,65,13,119,65,177,243,221,241,121,108,33,5,32,0,65,4,106,34,0,32,6,77,13,0,11,32,2,65,12,119,32,5,65,18,119,106,32,4,65,7,119,106,32,3,65,1,119,106,5,32,2,65,177,207,217,178,1,106,11,32,1,106,32,0,32,1,65,15,113,16,1,11,146,1,0,32,1,32,2,106,33,2,3,64,32,1,65,4,106,32,2,75,69,4,64,32,1,40,2,0,65,189,220,202,149,124,108,32,0,106,65,17,119,65,175,214,211,190,2,108,33,0,32,1,65,4,106,33,1,12,1,11,11,3,64,32,1,32,2,79,69,4,64,32,1,45,0,0,65,177,207,217,178,1,108,32,0,106,65,11,119,65,177,243,221,241,121,108,33,0,32,1,65,1,106,33,1,12,1,11,11,32,0,65,15,118,32,0,115,65,247,148,175,175,120,108,34,0,32,0,65,13,118,115,65,189,220,202,149,124,108,34,0,32,0,65,16,118,115,11,63,0,32,0,65,8,106,32,1,65,168,136,141,161,2,106,54,2,0,32,0,65,12,106,32,1,65,247,148,175,175,120,106,54,2,0,32,0,65,16,106,32,1,54,2,0,32,0,65,20,106,32,1,65,177,243,221,241,121,107,54,2,0,11,211,4,1,6,127,32,1,32,2,106,33,6,32,0,65,24,106,33,5,32,0,65,40,106,40,2,0,33,3,32,0,32,0,40,2,0,32,2,106,54,2,0,32,0,65,4,106,34,4,32,4,40,2,0,32,2,65,16,79,32,0,40,2,0,65,16,79,114,114,54,2,0,32,2,32,3,106,65,16,73,4,64,32,3,32,5,106,32,1,32,2,252,10,0,0,32,0,65,40,106,32,2,32,3,106,54,2,0,15,11,32,3,4,64,32,3,32,5,106,32,1,65,16,32,3,107,34,2,252,10,0,0,32,0,65,8,106,34,3,40,2,0,32,5,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,4,32,3,32,4,54,2,0,32,0,65,12,106,34,3,40,2,0,32,5,65,4,106,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,4,32,3,32,4,54,2,0,32,0,65,16,106,34,3,40,2,0,32,5,65,8,106,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,4,32,3,32,4,54,2,0,32,0,65,20,106,34,3,40,2,0,32,5,65,12,106,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,4,32,3,32,4,54,2,0,32,0,65,40,106,65,0,54,2,0,32,1,32,2,106,33,1,11,32,1,32,6,65,16,107,77,4,64,32,6,65,16,107,33,8,32,0,65,8,106,40,2,0,33,2,32,0,65,12,106,40,2,0,33,3,32,0,65,16,106,40,2,0,33,4,32,0,65,20,106,40,2,0,33,7,3,64,32,1,40,2,0,65,247,148,175,175,120,108,32,2,106,65,13,119,65,177,243,221,241,121,108,33,2,32,1,65,4,106,34,1,40,2,0,65,247,148,175,175,120,108,32,3,106,65,13,119,65,177,243,221,241,121,108,33,3,32,1,65,4,106,34,1,40,2,0,65,247,148,175,175,120,108,32,4,106,65,13,119,65,177,243,221,241,121,108,33,4,32,1,65,4,106,34,1,40,2,0,65,247,148,175,175,120,108,32,7,106,65,13,119,65,177,243,221,241,121,108,33,7,32,1,65,4,106,34,1,32,8,77,13,0,11,32,0,65,8,106,32,2,54,2,0,32,0,65,12,106,32,3,54,2,0,32,0,65,16,106,32,4,54,2,0,32,0,65,20,106,32,7,54,2,0,11,32,1,32,6,73,4,64,32,5,32,1,32,6,32,1,107,34,1,252,10,0,0,32,0,65,40,106,32,1,54,2,0,11,11,97,1,1,127,32,0,65,16,106,40,2,0,33,1,32,0,65,4,106,40,2,0,4,127,32,1,65,12,119,32,0,65,20,106,40,2,0,65,18,119,106,32,0,65,12,106,40,2,0,65,7,119,106,32,0,65,8,106,40,2,0,65,1,119,106,5,32,1,65,177,207,217,178,1,106,11,32,0,40,2,0,106,32,0,65,24,106,32,0,65,40,106,40,2,0,16,1,11,157,4,2,1,127,3,126,32,0,32,1,106,33,3,32,1,65,32,79,4,126,32,3,65,32,107,33,3,32,2,66,135,149,175,175,152,182,222,155,158,127,124,66,207,214,211,190,210,199,171,217,66,124,33,4,32,2,66,207,214,211,190,210,199,171,217,66,124,33,5,32,2,66,0,124,33,6,32,2,66,135,149,175,175,152,182,222,155,158,127,125,33,2,3,64,32,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,4,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,4,32,0,65,8,106,34,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,5,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,5,32,0,65,8,106,34,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,6,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,0,65,8,106,34,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,2,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,2,32,0,65,8,106,34,0,32,3,77,13,0,11,32,6,66,12,137,32,2,66,18,137,124,32,5,66,7,137,124,32,4,66,1,137,124,32,4,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,5,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,6,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,2,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,5,32,2,66,197,207,217,178,241,229,186,234,39,124,11,32,1,173,124,32,0,32,1,65,31,113,16,6,11,137,2,0,32,1,32,2,106,33,2,3,64,32,1,65,8,106,32,2,77,4,64,32,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,32,0,133,66,27,137,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,33,0,32,1,65,8,106,33,1,12,1,11,11,32,1,65,4,106,32,2,77,4,64,32,1,53,2,0,66,135,149,175,175,152,182,222,155,158,127,126,32,0,133,66,23,137,66,207,214,211,190,210,199,171,217,66,126,66,249,243,221,241,153,246,153,171,22,124,33,0,32,1,65,4,106,33,1,11,3,64,32,1,32,2,73,4,64,32,1,49,0,0,66,197,207,217,178,241,229,186,234,39,126,32,0,133,66,11,137,66,135,149,175,175,152,182,222,155,158,127,126,33,0,32,1,65,1,106,33,1,12,1,11,11,32,0,66,33,136,32,0,133,66,207,214,211,190,210,199,171,217,66,126,34,0,32,0,66,29,136,133,66,249,243,221,241,153,246,153,171,22,126,34,0,32,0,66,32,136,133,11,88,0,32,0,65,8,106,32,1,66,135,149,175,175,152,182,222,155,158,127,124,66,207,214,211,190,210,199,171,217,66,124,55,3,0,32,0,65,16,106,32,1,66,207,214,211,190,210,199,171,217,66,124,55,3,0,32,0,65,24,106,32,1,55,3,0,32,0,65,32,106,32,1,66,135,149,175,175,152,182,222,155,158,127,125,55,3,0,11,132,5,2,3,127,4,126,32,1,32,2,106,33,5,32,0,65,40,106,33,4,32,0,65,200,0,106,40,2,0,33,3,32,0,32,0,41,3,0,32,2,173,124,55,3,0,32,2,32,3,106,65,32,73,4,64,32,3,32,4,106,32,1,32,2,252,10,0,0,32,0,65,200,0,106,32,2,32,3,106,54,2,0,15,11,32,3,4,64,32,3,32,4,106,32,1,65,32,32,3,107,34,2,252,10,0,0,32,0,65,8,106,34,3,41,3,0,32,4,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,3,32,6,55,3,0,32,0,65,16,106,34,3,41,3,0,32,4,65,8,106,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,3,32,6,55,3,0,32,0,65,24,106,34,3,41,3,0,32,4,65,16,106,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,3,32,6,55,3,0,32,0,65,32,106,34,3,41,3,0,32,4,65,24,106,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,3,32,6,55,3,0,32,0,65,200,0,106,65,0,54,2,0,32,1,32,2,106,33,1,11,32,1,65,32,106,32,5,77,4,64,32,5,65,32,107,33,2,32,0,65,8,106,41,3,0,33,6,32,0,65,16,106,41,3,0,33,7,32,0,65,24,106,41,3,0,33,8,32,0,65,32,106,41,3,0,33,9,3,64,32,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,6,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,1,65,8,106,34,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,7,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,7,32,1,65,8,106,34,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,8,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,8,32,1,65,8,106,34,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,9,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,9,32,1,65,8,106,34,1,32,2,77,13,0,11,32,0,65,8,106,32,6,55,3,0,32,0,65,16,106,32,7,55,3,0,32,0,65,24,106,32,8,55,3,0,32,0,65,32,106,32,9,55,3,0,11,32,1,32,5,73,4,64,32,4,32,1,32,5,32,1,107,34,1,252,10,0,0,32,0,65,200,0,106,32,1,54,2,0,11,11,200,2,1,5,126,32,0,65,24,106,41,3,0,33,1,32,0,41,3,0,34,2,66,32,90,4,126,32,0,65,8,106,41,3,0,34,3,66,1,137,32,0,65,16,106,41,3,0,34,4,66,7,137,124,32,1,66,12,137,32,0,65,32,106,41,3,0,34,5,66,18,137,124,124,32,3,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,4,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,1,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,5,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,5,32,1,66,197,207,217,178,241,229,186,234,39,124,11,32,2,124,32,0,65,40,106,32,2,66,31,131,167,16,6,11])}}]);