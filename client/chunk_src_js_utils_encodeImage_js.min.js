"use strict";(self.webpackChunkpixa_pics=self.webpackChunkpixa_pics||[]).push([["src_js_utils_encodeImage_js"],{38420:(e,t,s)=>{function a(e,t,s={}){let a;return t&&(a=(e,s)=>{const a=new WebAssembly.Instance(t,e);return s(a),a.exports}),e({noInitialRun:!0,instantiateWasm:a,...s})}async function n(e,t={}){_||(_=async function(e,t){if(await o()){const n=await s.e("node_modules_jsquash_webp_codec_enc_webp_enc_simd_js").then(s.bind(s,28899));return _=a(n.default,e,t),_}const n=await s.e("node_modules_jsquash_webp_codec_enc_webp_enc_js").then(s.bind(s,49227));return _=a(n.default,e,t),_}());const n={...r,...t},i=(await _).encode(e.data,e.width,e.height,n);if(!i)throw Error("Encoding error.");return i.buffer}async function i(e,t){t="FLIF"===t.toUpperCase()?"FLIF":"WEBP";const s=n.encodeImageData.bind(this),a=await async function(e){if(e instanceof ImageData)return e;const t=document.createElement("img");t.src=e,await new Promise((e=>t.onload=e));const s=document.createElement("canvas");[s.width,s.height]=[t.width,t.height];const a=s.getContext("2d");return a.drawImage(t,0,0),a.getImageData(0,0,t.width,t.height)}(e);let i=await s(a);const r=new Blob([i],{type:"image/"+t.toLowerCase()});return await(o=r,new Promise(((e,t)=>{const s=new FileReader;s.onloadend=()=>e(s.result),s.readAsDataURL(o)})));var o}s.r(t),s.d(t,{encodeIMG:()=>i});const r={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0},o=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));let _;n.encodeImageData=async function(e){return await n(e,{quality:0,target_size:0,target_PSNR:0,method:6,sns_strength:100,filter_strength:0,filter_sharpness:0,filter_type:0,partitions:0,segments:4,pass:6,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:1,exact:1,image_hint:1,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:1,use_sharp_yuv:0})}}}]);